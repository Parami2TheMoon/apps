(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[4505,5613,9728],{55133:function(k){k.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(k){k.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},4155:function(k){k.exports={indexContainer:"indexContainer___1oKuT",left:"left___3h0Sa",right:"right___1o7kr",sideCard:"sideCard___1WisH",topIcon:"topIcon___3HsoF",title:"title___fC196",input:"input___2YdZV",fiatAmount:"fiatAmount___3Fcll",selectAssets:"selectAssets___2QI7M",availableBalance:"availableBalance___1hgnr",token:"token___36NVd",icon:"icon___15HZU",name:"name___1E7m9",balance:"balance___3ic9z",fiat:"fiat___2AQA8",buttons:"buttons___3YNL6",button:"button___12z9a",listBtn:"listBtn___3O45P",field:"field___2anem",value:"value___D7eFr",fromQRCode:"fromQRCode___1dfEK",qrcode:"qrcode___3MC3N",exchanges:"exchanges___30zpx",searchBar:"searchBar___ieTJx",searchInput:"searchInput___3ngcE",assetsList:"assetsList___vjhB1",charge:"charge___sf44S",tabSelector:"tabSelector___2h6RI",tabItem:"tabItem___vWoCN",inactive:"inactive___2BWVU",card:"card___1JX6j"}},46656:function(k,R,e){"use strict";var de=e(71194),F=e(50146),b=e(47673),$=e(32787),S=e(22385),C=e(31097),D=e(17462),Z=e(76772),O=e(57663),B=e(71577),t=e(74379),Me=e(38648),Y=e(3182),ue=e(2824),W=e(402),be=e(3887),X=e(94043),P=e.n(X),V=e(67294),j=e(43581),ce=e(55133),p=e.n(ce),q=e(3548),s=e(68855),me=e(47832),ve=e(55347),fe=e(51625),h=e(85893),_e=be.Z.Title,je=function(z){var U=z.visable,re=z.setVisable,a=z.passphrase,L=z.setPassphrase,H=z.func,G=z.changePassphrase,ee=(0,j.tT)("apiWs"),he=(0,j.tT)("currentUser"),l=he.wallet,De=(0,j.tT)("balance"),Ae=De.balance,Pe=(0,V.useState)(!1),le=(0,ue.Z)(Pe,2),se=le[0],Q=le[1],pe=(0,V.useState)(),ie=(0,ue.Z)(pe,2),K=ie[0],ge=ie[1],T=(0,j.YB)(),xe=function(i){L(i?i.target.value:"")},oe=function(){var E=(0,Y.Z)(P().mark(function i(){var d,o,r,u,_;return P().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(Q(!0),l!=null&&l.passphrase&&L(l==null?void 0:l.passphrase),!((!a||a.length<6)&&!(l!=null&&l.passphrase))){c.next=5;break}return Q(!1),c.abrupt("return");case 5:if(d=(l==null?void 0:l.passphrase)||a,!(d&&l!==null&&l!==void 0&&l.keystore)){c.next=16;break}if(o=(0,me.Gh)(d,l.keystore),o){c.next=13;break}return Me.default.error({key:"passphraseError",message:T.formatMessage({id:"error.passphrase.error"}),duration:null}),L(""),Q(!1),c.abrupt("return");case 13:r=new ve.ZP({type:"sr25519"}),u=r.addFromUri(o),_=u.address,l!=null&&l.account&&l.account!==_&&(localStorage.clear(),sessionStorage.clear(),window.location.href=fe.Z.page.homePage);case 16:if(!H){c.next=19;break}return c.next=19,H();case 19:re(!1),Q(!1);case 21:case"end":return c.stop()}},i)}));return function(){return E.apply(this,arguments)}}(),ye=function(){var E=(0,Y.Z)(P().mark(function i(){var d;return P().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(!!ee&&!!l.account)){r.next=11;break}return r.next=3,H(!0,l.account);case 3:if(d=r.sent,!d){r.next=8;break}ge(d.partialFee),r.next=11;break;case 8:if(G){r.next=11;break}return r.next=11,oe();case 11:case"end":return r.stop()}},i)}));return function(){return E.apply(this,arguments)}}();return(0,V.useEffect)(function(){!!ee&&!!(l!=null&&l.account)&&U&&ye()},[ee,l==null?void 0:l.account,U]),(0,V.useEffect)(function(){!!(l!=null&&l.passphrase)&&U&&!G&&L(l==null?void 0:l.passphrase)},[l==null?void 0:l.passphrase,a,U,G]),(0,h.jsxs)(F.Z,{title:(0,h.jsx)(_e,{level:3,children:T.formatMessage({id:"modal.security.title"})}),closable:!1,className:p().modal,centered:!0,visible:U,width:400,footer:(0,h.jsxs)("div",{className:p().buttons,children:[(0,h.jsx)(B.Z,{type:"text",shape:"round",size:"large",className:p().button,onClick:function(){re(!1),window.location.reload()},loading:se,children:T.formatMessage({id:"common.decline"})}),(0,h.jsx)(B.Z,{type:"primary",shape:"round",size:"large",className:p().button,onClick:function(){oe()},disabled:!a||a.length<6,loading:se,children:T.formatMessage({id:"common.confirm"})})]}),children:[(0,h.jsxs)("div",{className:p().confirmContainer,children:[!!K&&!!(K!=null&&K.toString())>Ae.free&&(0,h.jsx)(Z.Z,{description:T.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:p().alertContainer}),!!K&&(0,h.jsxs)("div",{className:p().field,children:[(0,h.jsxs)("div",{className:p().labal,children:[T.formatMessage({id:"modal.security.gas"}),(0,h.jsxs)("span",{className:p().small,children:["(",T.formatMessage({id:"modal.security.estimated"}),")"]}),(0,h.jsx)(C.Z,{placement:"bottom",title:T.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,h.jsx)(s.Z,{className:p().labalIcon})})]}),(0,h.jsx)("div",{className:p().value,children:(0,h.jsx)(q.Z,{value:K,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(l!=null&&l.passphrase)||G)&&(0,h.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,h.jsxs)("div",{className:p().codeInput,children:[(0,h.jsxs)("div",{className:p().verifyForm,children:[(0,h.jsx)("span",{className:(a==null?void 0:a.slice(0))&&!(a!=null&&a.slice(1,5))&&p().highLight,children:a==null?void 0:a.slice(0,1).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(a==null?void 0:a.slice(1))&&!(a!=null&&a.slice(2,5))&&p().highLight,children:a==null?void 0:a.slice(1,2).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(a==null?void 0:a.slice(2,3))&&!(a!=null&&a.slice(3,5))&&p().highLight,children:a==null?void 0:a.slice(2,3).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(a==null?void 0:a.slice(3,4))&&!(a!=null&&a.slice(4,5))&&p().highLight,children:a==null?void 0:a.slice(3,4).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(a==null?void 0:a.slice(4,5))&&!(a!=null&&a.slice(5))&&p().highLight,children:a==null?void 0:a.slice(4,5).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(a==null?void 0:a.slice(5))&&p().highLight,children:a==null?void 0:a.slice(5).replace(/[^]/,"\u2731")})]}),(0,h.jsx)($.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:p().verifyInput,onChange:xe,value:a,disabled:se,maxLength:6,visibilityToggle:!1})]})})]})};R.Z=je},3548:function(k,R,e){"use strict";var de=e(67294),F=e(31639),b=e.n(F),$=e(96534),S=e(85893),C=function(Z){var O=Z.value,B=Z.style;return(0,S.jsxs)("div",{className:b().ad3,style:B,children:[O?(0,$.MP)(O):"--",(0,S.jsx)("span",{className:b().unit,children:"\xA0$AD3"})]})};R.Z=C},57651:function(k,R,e){"use strict";var de=e(67294),F=e(31639),b=e.n(F),$=e(96534),S=e(85893),C=function(Z){var O=Z.value,B=Z.symbol;return(0,S.jsxs)("div",{className:b().ad3,children:[O?(0,$.MP)(O.replaceAll(",","")):"--",B&&(0,S.jsxs)("span",{className:b().unit,children:["\xA0$",B]})]})};R.Z=C},24152:function(k,R,e){"use strict";e.r(R),e.d(R,{default:function(){return ye}});var de=e(58024),F=e(39144),b=e(2824),$=e(402),S=e(3887),C=e(67294),D=e(43581),Z=e(55909),O=e.n(Z),B=e(4155),t=e.n(B),Me=e(12968),Y=e(62462),ue=e(57663),W=e(71577),be=e(47673),X=e(32787),P=e(3182),V=e(94043),j=e.n(V),ce=e(8812),p=e(59749),q=e(57651),s=e(85893),me=function(i){var d=i.setStep,o=i.number,r=i.setNumber,u=i.token,_=(0,D.tT)("balance"),m=_.balance,c=(0,C.useState)(!1),g=(0,b.Z)(c,2),M=g[0],x=g[1],v=(0,D.YB)(),A=function(){var n=(0,P.Z)(j().mark(function f(){return j().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:x(!0),d("Confirm");case 2:case"end":return N.stop()}},f)}));return function(){return n.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(X.Z,{autoFocus:!0,size:"large",placeholder:"0",bordered:!1,className:"".concat(t().input," bigInput"),onChange:function(f){r(f.target.value)},disabled:M,type:"number",value:o}),(0,s.jsx)(W.Z,{size:"large",type:"primary",shape:"round",onClick:function(){r((0,p.mI)(m==null?void 0:m.free,18))},children:v.formatMessage({id:"stake.all"})}),(0,s.jsxs)("div",{className:t().selectAssets,onClick:function(){return d("SelectAsset")},children:[(0,s.jsx)("div",{className:t().title,children:v.formatMessage({id:"wallet.send.selectAssets"})}),(0,s.jsxs)("div",{className:t().token,children:[(0,s.jsx)(Y.Z,{className:t().icon,src:(u==null?void 0:u.icon)||"/images/logo-round-core.svg",fallback:"/images/logo-round-core.svg",preview:!1}),(0,s.jsx)("span",{className:t().name,children:Object.keys(u).length?u.token:"AD3"}),(0,s.jsx)(ce.Z,{style:{color:"#ff5b00"}})]})]}),(0,s.jsxs)("div",{className:t().availableBalance,children:[(0,s.jsx)("div",{className:t().title,children:v.formatMessage({id:"wallet.send.availableBalance"})}),(0,s.jsx)("div",{className:t().balance,children:(0,s.jsx)("span",{className:t().token,children:(0,s.jsx)(q.Z,{value:Object.keys(u).length?u.balance:m==null?void 0:m.free,symbol:Object.keys(u).length?u.symbol:"AD3"})})})]}),(0,s.jsxs)("div",{className:t().buttons,children:[(0,s.jsx)(W.Z,{block:!0,type:"primary",shape:"round",size:"large",className:t().button,loading:M,disabled:(0,p.HM)(o,18)<=BigInt(0)||(0,p.HM)(o,18)>BigInt(Object.keys(u).length?u.balance:m==null?void 0:m.free),onClick:function(){return A()},children:v.formatMessage({id:"common.continue"})}),(0,s.jsx)(W.Z,{block:!0,type:"text",shape:"round",size:"large",className:t().button,onClick:function(){return D.m8.goBack()},children:v.formatMessage({id:"common.cancel"})})]})]})},ve=me,fe=S.Z.Title,h=function(i){var d=i.setStep,o=i.address,r=i.setAddress,u=(0,C.useState)(!1),_=(0,b.Z)(u,2),m=_[0],c=_[1],g=(0,D.YB)(),M=function(){var x=(0,P.Z)(j().mark(function v(){return j().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:c(!0),d("InputAmount");case 2:case"end":return n.stop()}},v)}));return function(){return x.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(fe,{level:4,children:g.formatMessage({id:"wallet.send.receiverAddress"})}),(0,s.jsx)(X.Z,{autoFocus:!0,placeholder:"did:ad3:\u2026\u2026",size:"large",className:t().input,onChange:function(v){return r(v.target.value)},disabled:m}),(0,s.jsxs)("div",{className:t().buttons,children:[(0,s.jsx)(W.Z,{block:!0,type:"primary",shape:"round",size:"large",className:t().button,loading:m,disabled:!o,onClick:function(){return M()},children:g.formatMessage({id:"common.continue"})}),(0,s.jsx)(W.Z,{block:!0,type:"text",shape:"round",size:"large",className:t().button,onClick:function(){return D.m8.goBack()},children:g.formatMessage({id:"common.cancel"})})]})]})},_e=h,je=e(22385),Ce=e(31097),z=e(74379),U=e(38648),re=e(63667),a=e(96534),L=e(81603),H=e(47832),G=new re.Y({type:"sr25519"}),ee=function(){var E=(0,P.Z)(j().mark(function i(d,o,r,u,_,m){var c,g,M,x,v;return j().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c=r,!/^did:ad3:/.test(r)){n.next=5;break}if(c=(0,a.Zc)(c),c){n.next=5;break}throw new Error("Wrong Did");case 5:if(g=window.apiWs.tx.balances.transfer(c,(0,a.Vm)(d)),!(_&&m)){n.next=11;break}return n.next=9,g.paymentInfo(m);case 9:return M=n.sent,n.abrupt("return",M);case 11:if(x=(0,H.Gh)(u,o),!(x==null||!x)){n.next=14;break}throw new Error("Wrong Password");case 14:return v=G.createFromUri(x),n.next=17,(0,L.Y)(g,v);case 17:return n.abrupt("return",n.sent);case 18:case"end":return n.stop()}},i)}));return function(d,o,r,u,_,m){return E.apply(this,arguments)}}(),he=function(){var E=(0,P.Z)(j().mark(function i(d,o,r,u,_,m,c){var g,M,x,v,A;return j().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(g=u,!/^did:ad3:/.test(u)){f.next=5;break}if(g=(0,a.Zc)(g),g){f.next=5;break}throw new Error("Wrong Did");case 5:if(M=window.apiWs.tx.assets.transfer(d,g,(0,a.Vm)(o)),!(m&&c)){f.next=11;break}return f.next=9,M.paymentInfo(c);case 9:return x=f.sent,f.abrupt("return",x);case 11:if(v=(0,H.Gh)(_,r),!(v==null||!v)){f.next=14;break}throw new Error("Wrong Password");case 14:return A=G.createFromUri(v),f.next=17,(0,L.Y)(M,A);case 17:return f.abrupt("return",f.sent);case 18:case"end":return f.stop()}},i)}));return function(d,o,r,u,_,m,c){return E.apply(this,arguments)}}(),l=null,De=null,Ae=null,Pe=null,le=e(51625),se=e(46656),Q=S.Z.Title,pe=function(i){var d=i.number,o=i.token,r=i.address,u=(0,D.tT)("currentUser"),_=u.wallet,m=(0,C.useState)(!1),c=(0,b.Z)(m,2),g=c[0],M=c[1],x=(0,C.useState)(!1),v=(0,b.Z)(x,2),A=v[0],n=v[1],f=(0,C.useState)(""),I=(0,b.Z)(f,2),N=I[0],J=I[1],w=(0,D.YB)(),ae=r,Ie=function(){var Ee=(0,P.Z)(j().mark(function Se(ne,te){var Oe,Te;return j().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!(!!_&&!!_.keystore)){y.next=30;break}if(M(!0),ae.indexOf("did:ad3:")>-1&&(ae=(0,a.Zc)(ae)),y.prev=4,Object.keys(o).length){y.next=13;break}return y.next=8,ee(d,_==null?void 0:_.keystore,ae,N,ne,te);case 8:if(Oe=y.sent,!(ne&&te)){y.next=11;break}return y.abrupt("return",Oe);case 11:y.next=18;break;case 13:return y.next=15,he(o[Object.keys(o)[0]],d.toString(),_.keystore,ae,N,ne,te);case 15:if(Te=y.sent,!(ne&&te)){y.next=18;break}return y.abrupt("return",Te);case 18:U.default.success({message:w.formatMessage({id:"wallet.send.pending"}),description:(0,s.jsxs)("p",{children:[w.formatMessage({id:"wallet.send.receiverAddress"}),": ",r]})}),D.m8.push(le.Z.page.walletPage),M(!1),y.next=28;break;case 23:y.prev=23,y.t0=y.catch(4),U.default.error({key:"chainError",message:y.t0.message||y.t0,duration:null}),J(""),M(!1);case 28:y.next=31;break;case 30:U.default.error({key:"accessDenied",message:w.formatMessage({id:"error.accessDenied"}),duration:null});case 31:case"end":return y.stop()}},Se,null,[[4,23]])}));return function(ne,te){return Ee.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q,{level:4,children:w.formatMessage({id:"wallet.send.confirm"})}),(0,s.jsxs)("div",{className:t().listBtn,children:[(0,s.jsxs)("div",{className:t().field,children:[(0,s.jsx)("span",{className:t().title,children:w.formatMessage({id:"wallet.send.amount"})}),(0,s.jsx)("span",{className:t().value,children:(0,s.jsx)(q.Z,{value:(0,p.HM)(d,18).toString(),symbol:Object.keys(o).length?o.symbol:"AD3"})})]}),(0,s.jsxs)("div",{className:t().field,children:[(0,s.jsx)("span",{className:t().title,children:w.formatMessage({id:"wallet.send.receiverAddress"})}),(0,s.jsx)(Ce.Z,{placement:"topRight",title:r,children:(0,s.jsx)("span",{className:t().value,children:r})})]})]}),(0,s.jsxs)("div",{className:t().buttons,children:[(0,s.jsx)(W.Z,{block:!0,type:"primary",shape:"round",size:"large",className:t().button,loading:g,disabled:!d||!o||!r,onClick:function(){return n(!0)},children:w.formatMessage({id:"common.submit"})}),(0,s.jsx)(W.Z,{block:!0,type:"text",shape:"round",size:"large",className:t().button,onClick:function(){return D.m8.goBack()},loading:g,children:w.formatMessage({id:"common.cancel"})})]}),(0,s.jsx)(se.Z,{visable:A,setVisable:n,passphrase:N,setPassphrase:J,func:Ie})]})},ie=pe,K=e(3548),ge=function(i){var d=i.setStep,o=i.setToken,r=(0,D.tT)("balance"),u=r.balance,_=(0,D.tT)("assets"),m=_.assetsArr,c=(0,C.useState)(),g=(0,b.Z)(c,2),M=g[0],x=g[1],v=(0,D.YB)(),A=function(){var n=(0,P.Z)(j().mark(function f(I){return j().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:o(I),d("InputAmount");case 2:case"end":return J.stop()}},f)}));return function(I){return n.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:t().searchBar,children:(0,s.jsx)(X.Z,{autoFocus:!0,size:"large",className:t().searchInput,onChange:function(f){return x(f.target.value)},placeholder:v.formatMessage({id:"wallet.send.searchAsset"})})}),(0,s.jsxs)("div",{className:t().assetsList,children:[(0,s.jsxs)("div",{className:t().title,children:[(0,s.jsx)("span",{children:v.formatMessage({id:"wallet.send.name"})}),(0,s.jsx)("span",{children:v.formatMessage({id:"wallet.send.availableBalance"})})]}),(0,s.jsxs)("div",{className:t().field,onClick:function(){return A({})},children:[(0,s.jsxs)("span",{className:t().title,children:[(0,s.jsx)(Y.Z,{className:t().icon,src:"/images/logo-round-core.svg",preview:!1}),(0,s.jsx)("span",{className:t().name,children:"AD3"})]}),(0,s.jsx)("span",{className:t().value,children:(0,s.jsx)(K.Z,{value:u.free})})]},"ad3"),(m!=null?m:[]).map(function(n){return(0,s.jsxs)("div",{className:t().field,onClick:function(){var I={};I[n.symbol]=n==null?void 0:n.id,A(n)},children:[(0,s.jsxs)("span",{className:t().title,children:[(0,s.jsx)(Y.Z,{className:t().icon,src:(n==null?void 0:n.icon)||"/images/logo-round-core.svg",fallback:"/images/logo-round-core.svg",preview:!1}),(0,s.jsx)("span",{className:t().name,children:n==null?void 0:n.token})]}),(0,s.jsx)("span",{className:t().value,children:(0,s.jsx)(q.Z,{value:n==null?void 0:n.balance,symbol:n==null?void 0:n.symbol})})]},n==null?void 0:n.assetsID)})]}),(0,s.jsx)(W.Z,{block:!0,type:"default",shape:"round",size:"large",className:t().button,onClick:function(){return d("InputAmount")},style:{marginTop:20},children:v.formatMessage({id:"common.cancel"})})]})},T=ge,xe=S.Z.Title,oe=function(){var i=(0,C.useState)("InputAddress"),d=(0,b.Z)(i,2),o=d[0],r=d[1],u=(0,C.useState)("0"),_=(0,b.Z)(u,2),m=_[0],c=_[1],g=(0,C.useState)({}),M=(0,b.Z)(g,2),x=M[0],v=M[1],A=(0,C.useState)(),n=(0,b.Z)(A,2),f=n[0],I=n[1],N=(0,D.YB)();return(0,s.jsx)("div",{className:O().mainContainer,children:(0,s.jsx)("div",{className:O().pageContainer,children:(0,s.jsxs)(F.Z,{className:O().card,children:[(0,s.jsx)("img",{src:"/images/icon/send.svg",className:t().topIcon}),(0,s.jsx)(xe,{level:2,style:{fontWeight:"bold"},className:t().title,children:N.formatMessage({id:"wallet.send.title"})}),o==="InputAmount"&&(0,s.jsx)(ve,{setStep:r,number:m,setNumber:c,token:x,setToken:v}),o==="InputAddress"&&(0,s.jsx)(_e,{setStep:r,address:f,setAddress:I}),o==="Confirm"&&(0,s.jsx)(ie,{number:m,token:x,address:f}),o==="SelectAsset"&&(0,s.jsx)(T,{setStep:r,setToken:v})]})})})},ye=oe}}]);

(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[8172],{55133:function(W){W.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},2752:function(W){W.exports={claimInfoContainer:"claimInfoContainer___2QBl-",scoreChange:"scoreChange___21g3Z"}},8556:function(W){W.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(W){W.exports={tag:"tag___sah2p"}},90802:function(W){W.exports={explorerContainer:"explorerContainer___2tn58",dashboard:"dashboard___1yzjn",header:"header___7HFGw",buttons:"buttons____mn0V",button:"button___2bNYM",confirm:"confirm___14R24",topIcon:"topIcon___lcz8T",title:"title___3OHiQ",field:"field___1rYhg",value:"value___VpweH",notUser:"notUser___1H3wh",desc:"desc___3002O",buttonImport:"buttonImport___1UVlX",notSupport:"notSupport___3AII_",icon:"icon___2lOpA",text:"text___2HCAz",loading:"loading___38OsL",loadingTip:"loadingTip___2K2wM",avatar:"avatar___1Itlz",rotate:"rotate___3cdkL",image_blur:"image_blur___1JtdU"}},69764:function(W,J,e){"use strict";var We=e(71194),X=e(50146),pe=e(57663),b=e(71577),Oe=e(402),H=e(3887),_=e(67294),Re=e(55133),R=e.n(Re),p=e(54549),ie=e(85893),v=H.Z.Title,i=function(Q){var ke=Q.visable,Se=Q.title,ge=Q.content,K=Q.footer,oe=Q.close,m=Q.bodyStyle,n=Q.width;return(0,ie.jsx)(X.Z,{title:Se?(0,ie.jsx)(v,{level:5,className:R().title,children:Se}):null,closable:!!oe,closeIcon:(0,ie.jsx)(ie.Fragment,{children:(0,ie.jsx)(b.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,ie.jsx)(p.Z,{onClick:oe})})}),className:R().modal,centered:!0,visible:ke,width:n!=null?n:650,footer:K,bodyStyle:m,children:ge})};J.Z=i},46656:function(W,J,e){"use strict";var We=e(71194),X=e(50146),pe=e(47673),b=e(32787),Oe=e(22385),H=e(31097),_=e(17462),Re=e(76772),R=e(57663),p=e(71577),ie=e(74379),v=e(38648),i=e(3182),Ke=e(2824),Q=e(402),ke=e(3887),Se=e(94043),ge=e.n(Se),K=e(67294),oe=e(43581),m=e(55133),n=e.n(m),Pe=e(3548),Xe=e(68855),Qe=e(47832),Fe=e(55347),ze=e(51625),h=e(85893),qe=ke.Z.Title,ea=function(ye){var de=ye.visable,we=ye.setVisable,s=ye.passphrase,De=ye.setPassphrase,Ie=ye.func,Me=ye.changePassphrase,Ae=(0,oe.tT)("apiWs"),$e=(0,oe.tT)("currentUser"),l=$e.wallet,He=(0,oe.tT)("balance"),xe=He.balance,Ve=(0,K.useState)(!1),Te=(0,Ke.Z)(Ve,2),be=Te[0],a=Te[1],sa=(0,K.useState)(),Ge=(0,Ke.Z)(sa,2),V=Ge[0],ra=Ge[1],q=(0,oe.YB)(),ta=function(ue){De(ue?ue.target.value:"")},A=function(){var ee=(0,i.Z)(ge().mark(function ue(){var ae,Ne,N,Ze,Ye;return ge().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(a(!0),l!=null&&l.passphrase&&De(l==null?void 0:l.passphrase),!((!s||s.length<6)&&!(l!=null&&l.passphrase))){w.next=5;break}return a(!1),w.abrupt("return");case 5:if(ae=(l==null?void 0:l.passphrase)||s,!(ae&&l!==null&&l!==void 0&&l.keystore)){w.next=16;break}if(Ne=(0,Qe.Gh)(ae,l.keystore),Ne){w.next=13;break}return v.default.error({key:"passphraseError",message:q.formatMessage({id:"error.passphrase.error"}),duration:null}),De(""),a(!1),w.abrupt("return");case 13:N=new Fe.ZP({type:"sr25519"}),Ze=N.addFromUri(Ne),Ye=Ze.address,l!=null&&l.account&&l.account!==Ye&&(localStorage.clear(),sessionStorage.clear(),window.location.href=ze.Z.page.homePage);case 16:if(!Ie){w.next=19;break}return w.next=19,Ie();case 19:we(!1),a(!1);case 21:case"end":return w.stop()}},ue)}));return function(){return ee.apply(this,arguments)}}(),na=function(){var ee=(0,i.Z)(ge().mark(function ue(){var ae;return ge().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(!(!!Ae&&!!l.account)){N.next=11;break}return N.next=3,Ie(!0,l.account);case 3:if(ae=N.sent,!ae){N.next=8;break}ra(ae.partialFee),N.next=11;break;case 8:if(Me){N.next=11;break}return N.next=11,A();case 11:case"end":return N.stop()}},ue)}));return function(){return ee.apply(this,arguments)}}();return(0,K.useEffect)(function(){!!Ae&&!!(l!=null&&l.account)&&de&&na()},[Ae,l==null?void 0:l.account,de]),(0,K.useEffect)(function(){!!(l!=null&&l.passphrase)&&de&&!Me&&De(l==null?void 0:l.passphrase)},[l==null?void 0:l.passphrase,s,de,Me]),(0,h.jsxs)(X.Z,{title:(0,h.jsx)(qe,{level:3,children:q.formatMessage({id:"modal.security.title"})}),closable:!1,className:n().modal,centered:!0,visible:de,width:400,footer:(0,h.jsxs)("div",{className:n().buttons,children:[(0,h.jsx)(p.Z,{type:"text",shape:"round",size:"large",className:n().button,onClick:function(){we(!1),window.location.reload()},loading:be,children:q.formatMessage({id:"common.decline"})}),(0,h.jsx)(p.Z,{type:"primary",shape:"round",size:"large",className:n().button,onClick:function(){A()},disabled:!s||s.length<6,loading:be,children:q.formatMessage({id:"common.confirm"})})]}),children:[(0,h.jsxs)("div",{className:n().confirmContainer,children:[!!V&&!!(V!=null&&V.toString())>xe.free&&(0,h.jsx)(Re.Z,{description:q.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:n().alertContainer}),!!V&&(0,h.jsxs)("div",{className:n().field,children:[(0,h.jsxs)("div",{className:n().labal,children:[q.formatMessage({id:"modal.security.gas"}),(0,h.jsxs)("span",{className:n().small,children:["(",q.formatMessage({id:"modal.security.estimated"}),")"]}),(0,h.jsx)(H.Z,{placement:"bottom",title:q.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,h.jsx)(Xe.Z,{className:n().labalIcon})})]}),(0,h.jsx)("div",{className:n().value,children:(0,h.jsx)(Pe.Z,{value:V,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(l!=null&&l.passphrase)||Me)&&(0,h.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,h.jsxs)("div",{className:n().codeInput,children:[(0,h.jsxs)("div",{className:n().verifyForm,children:[(0,h.jsx)("span",{className:(s==null?void 0:s.slice(0))&&!(s!=null&&s.slice(1,5))&&n().highLight,children:s==null?void 0:s.slice(0,1).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(s==null?void 0:s.slice(1))&&!(s!=null&&s.slice(2,5))&&n().highLight,children:s==null?void 0:s.slice(1,2).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(s==null?void 0:s.slice(2,3))&&!(s!=null&&s.slice(3,5))&&n().highLight,children:s==null?void 0:s.slice(2,3).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(s==null?void 0:s.slice(3,4))&&!(s!=null&&s.slice(4,5))&&n().highLight,children:s==null?void 0:s.slice(3,4).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(s==null?void 0:s.slice(4,5))&&!(s!=null&&s.slice(5))&&n().highLight,children:s==null?void 0:s.slice(4,5).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(s==null?void 0:s.slice(5))&&n().highLight,children:s==null?void 0:s.slice(5).replace(/[^]/,"\u2731")})]}),(0,h.jsx)(b.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:n().verifyInput,onChange:ta,value:s,disabled:be,maxLength:6,visibilityToggle:!1})]})})]})};J.Z=ea},96870:function(W,J,e){"use strict";e.r(J),e.d(J,{default:function(){return Ea}});var We=e(48736),X=e(27049),pe=e(57663),b=e(71577),Oe=e(12968),H=e(62462),_=e(3182),Re=e(74379),R=e(38648),p=e(2824),ie=e(94043),v=e.n(ie),i=e(67294),Ke=e(34792),Q=e(48086),ke=e(58024),Se=e(39144),ge=e(55909),K=e.n(ge),oe=e(37550),m=e.n(oe),n=e(43581),Pe=e(28991),Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},Qe=Xe,Fe=e(27029),ze=function(M,B){return i.createElement(Fe.Z,(0,Pe.Z)((0,Pe.Z)({},M),{},{ref:B,icon:Qe}))};ze.displayName="ShareAltOutlined";var h=i.forwardRef(ze),qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M911.5 700.7a8 8 0 00-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 00-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"}}]},name:"money-collect",theme:"outlined"},ea=qe,aa=function(M,B){return i.createElement(Fe.Z,(0,Pe.Z)((0,Pe.Z)({},M),{},{ref:B,icon:ea}))};aa.displayName="MoneyCollectOutlined";var ye=i.forwardRef(aa),de=e(96534),we=e(20640),s=e.n(we),De=e(20228),Ie=e(11382),Me=e(69764),Ae=e(2752),$e=e.n(Ae),l=e(32689),He=e(46656),xe=e(61715),Ve=e(69854),Te=e(11561),be=e(79762),a=e(85893),sa=function(M){var B=M.onClose,C=M.adId,k=M.nftId,ce=M.referrer,j=ce===void 0?null:ce,Ee=M.onClaim,ve=(0,i.useState)(),f=(0,p.Z)(ve,2),u=f[0],se=f[1],Ce=(0,i.useState)(!1),E=(0,p.Z)(Ce,2),re=E[0],_e=E[1],je=(0,i.useState)(""),L=(0,p.Z)(je,2),$=L[0],me=L[1],fe=(0,n.tT)("currentUser"),S=fe.wallet,F=(0,n.YB)(),G=function(){var U=(0,_.Z)(v().mark(function I(){var o,O,P,d,Z;return v().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,Ve.Wv)(C);case 3:o=r.sent,console.log(o),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0);case 10:return r.prev=10,r.next=13,(0,l.Rh)(C,k,S==null?void 0:S.did);case 13:if(O=r.sent,P=O.response,d=O.data,!P.ok){r.next=20;break}se(d),r.next=24;break;case 20:return r.next=22,(0,Ve.Wv)(C);case 22:Z=r.sent,se({scores:(Z!=null?Z:[]).map(function(z){return{tag:z.name,score:-5}})});case 24:r.next=30;break;case 26:r.prev=26,r.t1=r.catch(10),console.log(r.t1),se({});case 30:case"end":return r.stop()}},I,null,[[0,7],[10,26]])}));return function(){return U.apply(this,arguments)}}();(0,i.useEffect)(function(){G()},[]);var he=function(){var U=(0,_.Z)(v().mark(function I(o,O){var P,d,Z;return v().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(S!=null&&S.keystore){r.next=3;break}return R.default.error({key:"accessDenied",message:F.formatMessage({id:"error.accessDenied"}),duration:null}),r.abrupt("return");case 3:if(r.prev=3,Z=((P=u.scores)!==null&&P!==void 0?P:[]).map(function(z){return[z.tag,z.score]}),!(u&&u.signature)){r.next=11;break}return r.next=8,(0,xe.nm)(C,k,S==null?void 0:S.did,Z,u.referer,u.signature,u.signer_account,$,S.keystore,o,O);case 8:d=r.sent,r.next=14;break;case 11:return r.next=13,(0,xe.HS)(C,k,Z,j,$,S.keystore,o,O);case 13:d=r.sent;case 14:if(!(o&&O)){r.next=16;break}return r.abrupt("return",d);case 16:R.default.success({message:"Claim Token Success"}),Ee(),r.next=24;break;case 20:r.prev=20,r.t0=r.catch(3),console.log(r.t0),R.default.error({message:"Claim Ad Token Error",description:"".concat(r.t0)});case 24:case"end":return r.stop()}},I,null,[[3,20]])}));return function(o,O){return U.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Me.Z,{visable:!0,title:"Claim your token",content:(0,a.jsx)("div",{className:$e().claimInfoContainer,children:(0,a.jsx)(Ie.Z,{spinning:!u,children:u&&u.scores&&u.scores.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Claim now and have your score updated:"}),u.scores.map(function(U){return(0,a.jsxs)("div",{className:$e().scoreChange,children:[(0,a.jsx)(Te.Z,{tag:U.tag}),(0,a.jsx)(be.Z,{score:parseInt(U.score,10)})]})}),!u.signature&&(0,a.jsx)("p",{children:"Not happy with the reward? Follow the instructions before claiming."})]})})}),footer:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(b.Z,{block:!0,type:"primary",shape:"round",size:"large",disabled:!u,onClick:function(){return _e(!0)},children:"Claim"})}),close:function(){return B()}}),(0,a.jsx)(He.Z,{visable:re,setVisable:_e,passphrase:$,setPassphrase:me,func:he})]})},Ge=sa,V=e(51625),ra=function(M){var B,C=M.ad,k=M.nftId,ce=M.referrer,j=M.asset,Ee=M.avatar,ve=M.did,f=M.adData,u=M.adImageOnLoad,se=u===void 0?function(){}:u,Ce=(0,n.tT)("currentUser"),E=Ce.wallet,re=(0,i.useState)(!1),_e=(0,p.Z)(re,2),je=_e[0],L=_e[1],$=(0,i.useState)(!1),me=(0,p.Z)($,2),fe=me[0],S=me[1],F=(0,n.tT)("apiWs"),G=(0,n.YB)(),he=E!=null&&E.did?"".concat(window.location.origin,"/").concat(ve,"/").concat(k,"?referrer=").concat(E==null?void 0:E.did):"".concat(window.location.origin,"/").concat(ve,"/").concat(k),U=(0,de.st)(f==null?void 0:f.creator).substring(8),I=function(){var o=(0,_.Z)(v().mark(function O(P,d,Z){var te;return v().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,P.query.ad.payout(d,Z);case 2:te=z.sent,te.isEmpty?S(!1):S(!0);case 4:case"end":return z.stop()}},O)}));return function(P,d,Z){return o.apply(this,arguments)}}();return(0,i.useEffect)(function(){F&&f!==null&&f!==void 0&&f.id&&E!==null&&E!==void 0&&E.did&&I(F,f==null?void 0:f.id,E==null?void 0:E.did)},[F,f,E]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:m().advertisementContainer,children:[(0,a.jsx)("div",{className:m().container,children:(0,a.jsx)("div",{className:m().topBar,children:(0,a.jsxs)("div",{className:m().sponsored,children:[(0,a.jsx)(H.Z,{src:Ee||"/images/logo-round-core.svg",className:m().avatar,preview:!1,id:"avatar",fallback:"/images/logo-round-core.svg"}),(0,a.jsx)("span",{children:G.formatMessage({id:"creator.explorer.advertisement.sponsoredBy"},{did:"".concat(U)})})]})})}),(0,a.jsx)(Se.Z,{className:"".concat(K().card," ").concat(m().adCard),style:{maxWidth:"650px",border:"none",marginBottom:"30px"},bodyStyle:{padding:0,width:"100%"},children:(0,a.jsxs)("div",{className:m().advertisement,children:[(0,a.jsx)("div",{className:m().adMedia,children:(0,a.jsx)(H.Z,{src:C==null?void 0:C.media,placeholder:!0,preview:!1,className:m().adMediaImg,onLoad:se})}),(C==null?void 0:C.instructions)&&(C==null||(B=C.instructions)===null||B===void 0?void 0:B.length)>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:m().instructions,children:[(0,a.jsx)("div",{className:m().instructionTitle,children:"Follow the instructions to improve your parami score"}),C.instructions.map(function(o){return(0,a.jsxs)("div",{className:"".concat(m().instruction," ").concat(o.link?m().withLink:""),onClick:function(){!!o.link&&window.open("".concat(V.Z.main.weeklySite,"?redirect=").concat(o.link,"&nftId=").concat(k,"&did=").concat(E==null?void 0:E.did,"&ad=").concat(f==null?void 0:f.id,"&referrer=").concat(ce,"&tag=").concat(o.tag,"&score=").concat(o.score))},children:[(0,a.jsx)("span",{className:m().instructionText,children:o.text}),!!o.tag&&(0,a.jsx)(Te.Z,{tag:o.tag}),!!o.score&&(0,a.jsx)(be.Z,{score:parseInt(o.score,10)})]})})]})})]})}),(0,a.jsxs)("div",{className:m().buttonContainer,children:[fe&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(b.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,a.jsx)(h,{}),className:m().shareButton,onClick:(0,_.Z)(v().mark(function o(){var O;return v().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(O={title:"Para Metaverse Identity",text:G.formatMessage({id:"creator.explorer.shareMessage"}),url:he},!(navigator.canShare&&navigator.canShare(O))){d.next=12;break}return d.prev=2,d.next=5,navigator.share(O);case 5:d.next=10;break;case 7:d.prev=7,d.t0=d.catch(2),console.log(d.t0);case 10:d.next=14;break;case 12:s()(he+" ".concat(G.formatMessage({id:"creator.explorer.shareMessage"},{token:"$".concat(j==null?void 0:j.symbol)}))),Q.default.success(G.formatMessage({id:"common.copied"}));case 14:case"end":return d.stop()}},o,null,[[2,7]])})),children:G.formatMessage({id:"creator.explorer.advertisement.share"},{token:"$".concat(j==null?void 0:j.symbol)})})}),!fe&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(b.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,a.jsx)(ye,{}),className:m().claimBtn,onClick:function(){return L(!0)},children:"Claim your $".concat(j==null?void 0:j.symbol)})})]}),je&&(0,a.jsx)(Ge,{adId:f==null?void 0:f.id,nftId:k,referrer:ce,onClose:function(){return L(!1)},onClaim:function(){L(!1),S(!0)}})]})})},q=ra,ta=e(90802),A=e.n(ta),na=e(51615),ee=e(28943),ue=e(47673),ae=e(32787),Ne=e(402),N=e(3887),Ze=e(59749),Ye=e(3548),ua=N.Z.Title,w=function(M){var B=M.nft,C=(0,n.tT)("balance"),k=C.balance,ce=(0,n.tT)("currentUser"),j=ce.wallet,Ee=(0,i.useState)(!1),ve=(0,p.Z)(Ee,2),f=ve[0],u=ve[1],se=(0,i.useState)(!1),Ce=(0,p.Z)(se,2),E=Ce[0],re=Ce[1],_e=(0,i.useState)("0"),je=(0,p.Z)(_e,2),L=je[0],$=je[1],me=(0,i.useState)(""),fe=(0,p.Z)(me,2),S=fe[0],F=fe[1],G=(0,i.useState)(!1),he=(0,p.Z)(G,2),U=he[0],I=he[1],o=(0,n.YB)(),O=function(){var P=(0,_.Z)(v().mark(function d(Z,te){var r;return v().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(!!j&&!!(j!=null&&j.keystore))){D.next=18;break}return D.prev=1,D.next=4,(0,ee.MW)(B.tokenAssetId,(0,Ze.HM)(L,18).toString(),S,j==null?void 0:j.keystore,Z,te);case 4:if(r=D.sent,re(!1),u(!1),!(Z&&te)){D.next=9;break}return D.abrupt("return",r);case 9:D.next=16;break;case 11:return D.prev=11,D.t0=D.catch(1),R.default.error({message:D.t0.message||D.t0,duration:null}),u(!1),D.abrupt("return");case 16:D.next=19;break;case 18:R.default.error({key:"accessDenied",message:o.formatMessage({id:"error.accessDenied"}),duration:null});case 19:case"end":return D.stop()}},d,null,[[1,11]])}));return function(Z,te){return P.apply(this,arguments)}}();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(Ie.Z,{tip:o.formatMessage({id:"common.submitting"}),spinning:f,wrapperClassName:K().pageContainer,children:[(0,a.jsx)(Se.Z,{className:K().card,bodyStyle:{width:"100%"},children:(0,a.jsxs)("div",{className:m().trade,children:[(0,a.jsx)(ua,{level:3,style:{fontWeight:"bold",textAlign:"center"},className:K().title,children:o.formatMessage({id:"creator.explorer.support"})}),(0,a.jsx)(ae.Z,{autoFocus:!0,size:"large",placeholder:"0",bordered:!1,className:"".concat(m().input," bigInput"),value:L,onChange:function(d){$(d.target.value)},disabled:f,type:"number"}),(0,a.jsx)(X.Z,{}),(0,a.jsx)(b.Z,{block:!0,shape:"round",type:"primary",size:"large",onClick:function(){re(!0)},children:o.formatMessage({id:"creator.explorer.support"})})]})}),(0,a.jsx)(Me.Z,{visable:E,title:o.formatMessage({id:"creator.explorer.support"}),content:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:m().tradeModal,children:[(0,a.jsx)(ae.Z,{autoFocus:!0,size:"large",placeholder:o.formatMessage({id:"stake.add.number.placeholder"}),bordered:!1,className:"".concat(m().input," bigInput"),value:L,onChange:function(d){$(d.target.value)},disabled:f,type:"number"}),(0,a.jsxs)("div",{className:m().field,children:[(0,a.jsx)("span",{className:m().title,children:o.formatMessage({id:"creator.explorer.availableBalance"})}),(0,a.jsx)("span",{className:m().value,children:(0,a.jsx)(Ye.Z,{value:k.free})})]})]})}),footer:(0,a.jsx)(b.Z,{block:!0,shape:"round",type:"primary",size:"large",loading:f,disabled:(0,Ze.HM)(L,18)<=BigInt(0)||(0,Ze.HM)(L,18)>BigInt(k.free),onClick:function(){u(!0),I(!0)},children:o.formatMessage({id:"common.submit"})}),close:function(){re(!1)}}),(0,a.jsx)(He.Z,{visable:U,setVisable:I,passphrase:S,setPassphrase:F,func:O})]})})},ha=w,pa=e(13580),ga=e(33044),ya=e(29791),Ma=function(){var M,B,C=(0,n.tT)("apiWs"),k=(0,n.tT)("currentUser"),ce=k.wallet,j=(0,n.tT)("bodyChange"),Ee=j.bodyHeight,ve=(0,i.useState)(!0),f=(0,p.Z)(ve,2),u=f[0],se=f[1],Ce=(0,i.useState)(""),E=(0,p.Z)(Ce,2),re=E[0],_e=E[1],je=(0,i.useState)(!0),L=(0,p.Z)(je,2),$=L[0],me=L[1],fe=(0,i.useState)(),S=(0,p.Z)(fe,2),F=S[0],G=S[1],he=(0,i.useState)(),U=(0,p.Z)(he,2),I=U[0],o=U[1],O=(0,i.useState)(),P=(0,p.Z)(O,2),d=P[0],Z=P[1],te=(0,i.useState)(!1),r=(0,p.Z)(te,2),z=r[0],D=r[1],Ca=(0,i.useState)(),ca=(0,p.Z)(Ca,2),la=ca[0],_a=ca[1],ja=(0,i.useState)(),va=(0,p.Z)(ja,2),Le=va[0],Sa=va[1],Oa=(0,i.useState)(null),ma=(0,p.Z)(Oa,2),Pa=ma[0],Da=ma[1],ne=(0,n.YB)(),fa=(0,n.md)(),Ia=(M=document.getElementById("avatar"))===null||M===void 0?void 0:M.offsetTop,ba=(B=document.getElementById("avatar"))===null||B===void 0?void 0:B.offsetLeft,Za=document.body.clientWidth,x=(0,na.UO)(),Aa=n.m8.location.query,xa=Aa,Ta=xa.referrer,Je=x!=null&&x.kol?"did"+(x==null?void 0:x.kol):(0,de.st)(ce.did),ia=(0,de.Zc)(Je),Ue=function(y){R.default.error({message:y.message,duration:null})},Na=function(){var g=(0,_.Z)(v().mark(function y(){var c;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,xe.qX)(x.nftID);case 2:if(c=t.sent,c){t.next=6;break}return n.m8.replace("".concat(window.location.pathname,"/dao")),t.abrupt("return");case 6:_a(c);case 7:case"end":return t.stop()}},y)}));return function(){return g.apply(this,arguments)}}(),Ba=function(){var g=(0,_.Z)(v().mark(function y(c){var T,t,oa,le,da;return v().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!((c==null||(T=c.metadata)===null||T===void 0?void 0:T.indexOf("ipfs://"))<0)){Y.next=2;break}return Y.abrupt("return");case 2:return oa=c==null||(t=c.metadata)===null||t===void 0?void 0:t.substring(7),Y.next=5,fetch(V.Z.ipfs.endpoint+oa);case 5:return le=Y.sent,Y.next=8,le.json();case 8:if(da=Y.sent,da){Y.next=11;break}return Y.abrupt("return");case 11:Da(da);case 12:case"end":return Y.stop()}},y)}));return function(c){return g.apply(this,arguments)}}();(0,i.useEffect)(function(){if(la)try{var g=la.ad;if(!(g!=null&&g.metadata))return;Sa(g),Ba(g)}catch(y){Ue(y)}},[la]);var La=function(){var g=(0,_.Z)(v().mark(function y(){var c;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,ee.JI)(ia);case 3:if(c=t.sent,!c.isEmpty){t.next=7;break}return me(!1),t.abrupt("return");case 7:window.location.href="".concat(window.location.origin,"/").concat(Je,"/").concat(c),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),R.default.error({message:t.t0.message,duration:null}),t.abrupt("return");case 14:case"end":return t.stop()}},y,null,[[0,10]])}));return function(){return g.apply(this,arguments)}}(),Ua=function(){var g=(0,_.Z)(v().mark(function y(){var c;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ga.q5)(ia);case 2:if(c=t.sent,c){t.next=7;break}return R.default.error({message:ne.formatMessage({id:"error.identity.notFound"}),duration:null}),n.m8.goBack(),t.abrupt("return");case 7:G(c);case 9:case"end":return t.stop()}},y)}));return function(){return g.apply(this,arguments)}}(),Wa=function(){var g=(0,_.Z)(v().mark(function y(){return v().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return se(!1),T.abrupt("return");case 2:case"end":return T.stop()}},y)}));return function(){return g.apply(this,arguments)}}();(0,i.useEffect)(function(){F&&(document.title="".concat((F==null?void 0:F.nickname.toString())||Je," - Para Metaverse Identity"),Wa().catch(Ue))},[F]);var Ra=function(){var g=(0,_.Z)(v().mark(function y(){var c;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ee.X6)(x==null?void 0:x.nftID);case 2:if(c=t.sent,c){t.next=7;break}return R.default.error({message:ne.formatMessage({id:"error.nft.notFound"}),duration:null}),n.m8.goBack(),t.abrupt("return");case 7:if((c==null?void 0:c.owner)===ia){t.next=11;break}return R.default.error({message:ne.formatMessage({id:"error.nft.notFound"}),duration:null}),n.m8.goBack(),t.abrupt("return");case 11:o(c);case 12:case"end":return t.stop()}},y)}));return function(){return g.apply(this,arguments)}}();return(0,i.useEffect)(function(){var g=function(){var y=(0,_.Z)(v().mark(function c(){var T,t;return v().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,(0,pa.Ay)(I==null?void 0:I.tokenAssetId);case 2:if(T=le.sent,!T.isEmpty){le.next=6;break}return me(!1),le.abrupt("return");case 6:t=T.toHuman(),Z(t);case 8:case"end":return le.stop()}},c)}));return function(){return y.apply(this,arguments)}}();if(I)try{g()}catch(y){Ue(y)}},[I]),(0,i.useEffect)(function(){d&&Na().catch(Ue)},[d]),(0,i.useEffect)(function(){if(C&&!(x!=null&&x.nftID)&&La(),fa.canWalletUser||(localStorage.setItem("parami:wallet:redirect",window.location.href),D(!0)),C)try{Ra(),Ua()}catch(g){Ue(g)}},[C]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:A().explorerContainer,children:[$&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(H.Z,{src:re||"/images/default-avatar.svg",fallback:"/images/default-avatar.svg",className:A().avatar,style:{top:u?(Ee-400)/2:Ia,left:u?(Za-200)/2:ba,width:u?200:30,height:u?200:30,animation:u?1:0,position:u?"fixed":"absolute",display:u||Le&&Object.keys(Le).length?"flex":"none"},preview:!1}),(0,a.jsx)("div",{className:A().loading,style:{opacity:u?1:0,zIndex:u?15:-1,height:Ee,minHeight:"100vh"},children:(0,a.jsx)("span",{className:A().loadingTip,children:ne.formatMessage({id:"creator.explorer.loading.tip",defaultMessage:"Let's find out more about the NFT.{br} Surprise awaits..."},{br:(0,a.jsx)("br",{})})})})]}),!$&&fa.canWalletUser&&I&&(0,a.jsx)("div",{className:K().pageContainer,style:{paddingTop:50,maxWidth:1920},children:(0,a.jsx)(ha,{nft:I})}),$&&Le&&Object.keys(Le).length>0&&(0,a.jsx)("div",{className:K().pageContainer,style:{paddingTop:50,maxWidth:"100%"},children:(0,a.jsx)(q,{ad:Pa,nftId:x==null?void 0:x.nftID,referrer:Ta,asset:d,avatar:re,did:Je,adData:Le,adImageOnLoad:function(){se(!1)}})}),(0,a.jsx)(ya.Z,{})]}),(0,a.jsx)(Me.Z,{visable:z,title:ne.formatMessage({id:"error.identity.notUser"}),content:(0,a.jsx)("div",{className:A().notUser,children:(0,a.jsxs)("div",{className:A().buttons,children:[(0,a.jsxs)(b.Z,{block:!0,size:"large",type:"primary",shape:"round",className:A().button,onClick:function(){n.m8.push(V.Z.page.createPage)},children:[(0,a.jsx)("div",{className:A().title,children:ne.formatMessage({id:"index.createAccount"})}),(0,a.jsx)("span",{className:A().desc,children:ne.formatMessage({id:"index.createAccount.desc"})})]}),(0,a.jsx)(X.Z,{children:ne.formatMessage({id:"index.or"})}),(0,a.jsxs)(b.Z,{block:!0,ghost:!0,size:"large",type:"link",shape:"round",className:"".concat(A().button," ").concat(A().buttonImport),onClick:function(){n.m8.push(V.Z.page.recoverPage)},children:[(0,a.jsx)("div",{className:A().title,children:ne.formatMessage({id:"index.importAccount"})}),(0,a.jsx)("span",{className:A().desc,children:ne.formatMessage({id:"index.importAccount.desc"})})]})]})}),close:void 0,footer:!1})]})},Ea=Ma},79762:function(W,J,e){"use strict";var We=e(67294),X=e(8556),pe=e.n(X),b=e(85893);function Oe(H){var _=H.score;return(0,b.jsxs)("span",{className:pe().scoreContainer,children:[_>=0&&(0,b.jsxs)("span",{className:pe().positive,children:["+",_]}),_<0&&(0,b.jsxs)("span",{className:pe().negative,children:["-",Math.abs(_)]})]})}J.Z=Oe},11561:function(W,J,e){"use strict";var We=e(67294),X=e(28531),pe=e.n(X),b=e(85893);function Oe(H){var _=H.tag;return(0,b.jsx)("span",{className:pe().tag,children:_})}J.Z=Oe}}]);

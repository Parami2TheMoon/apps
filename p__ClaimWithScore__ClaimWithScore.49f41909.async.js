(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[1174],{55133:function(r){r.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(r){r.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},2752:function(r){r.exports={claimInfoContainer:"claimInfoContainer___2QBl-",scoreChange:"scoreChange___21g3Z"}},8556:function(r){r.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(r){r.exports={tag:"tag___sah2p"}},69764:function(r,u,a){"use strict";var N=a(71194),T=a(50146),h=a(57663),c=a(71577),C=a(402),E=a(3887),i=a(67294),P=a(55133),D=a.n(P),l=a(54549),v=a(85893),g=E.Z.Title,G=function(R){var J=R.visable,b=R.title,U=R.content,K=R.footer,S=R.close,w=R.bodyStyle,n=R.width;return(0,v.jsx)(T.Z,{title:b?(0,v.jsx)(g,{level:5,className:D().title,children:b}):null,closable:!!S,closeIcon:(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(c.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,v.jsx)(l.Z,{onClick:S})})}),className:D().modal,centered:!0,visible:J,width:n!=null?n:650,footer:K,bodyStyle:w,children:U})};u.Z=G},46656:function(r,u,a){"use strict";var N=a(71194),T=a(50146),h=a(47673),c=a(32787),C=a(22385),E=a(31097),i=a(17462),P=a(76772),D=a(57663),l=a(71577),v=a(74379),g=a(38648),G=a(3182),$=a(2824),R=a(402),J=a(3887),b=a(94043),U=a.n(b),K=a(67294),S=a(43581),w=a(55133),n=a.n(w),ta=a(3548),da=a(68855),Z=a(47832),la=a(55347),z=a(51625),t=a(85893),ea=J.Z.Title,ra=function(j){var y=j.visable,m=j.setVisable,e=j.passphrase,x=j.setPassphrase,H=j.func,V=j.changePassphrase,q=j.directSubmit,X=q===void 0?!1:q,Y=(0,S.tT)("apiWs"),aa=(0,S.tT)("currentUser"),s=aa.wallet,ia=(0,S.tT)("balance"),I=ia.balance,sa=(0,K.useState)(!1),na=(0,$.Z)(sa,2),k=na[0],Q=na[1],oa=(0,K.useState)(),A=(0,$.Z)(oa,2),O=A[0],f=A[1],o=(0,S.YB)(),p=function(_){x(_?_.target.value:"")},B=function(){var F=(0,G.Z)(U().mark(function _(){var W,_a,L,ca,Ea;return U().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(Q(!0),s!=null&&s.passphrase&&x(s==null?void 0:s.passphrase),!((!e||e.length<6)&&!(s!=null&&s.passphrase))){M.next=5;break}return Q(!1),M.abrupt("return");case 5:if(W=(s==null?void 0:s.passphrase)||e,!(W&&s!==null&&s!==void 0&&s.keystore)){M.next=16;break}if(_a=(0,Z.Gh)(W,s.keystore),_a){M.next=13;break}return g.default.error({key:"passphraseError",message:o.formatMessage({id:"error.passphrase.error"}),duration:null}),x(""),Q(!1),M.abrupt("return");case 13:L=new la.ZP({type:"sr25519"}),ca=L.addFromUri(_a),Ea=ca.address,s!=null&&s.account&&s.account!==Ea&&(localStorage.clear(),sessionStorage.clear(),window.location.href=z.Z.page.homePage);case 16:if(!H){M.next=25;break}return M.prev=17,M.next=20,H();case 20:M.next=25;break;case 22:M.prev=22,M.t0=M.catch(17),console.log("security modal submit func error fallback",M.t0);case 25:m(!1),Q(!1);case 27:case"end":return M.stop()}},_,null,[[17,22]])}));return function(){return F.apply(this,arguments)}}(),d=function(){var F=(0,G.Z)(U().mark(function _(){var W;return U().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!(!!Y&&!!s.account)){L.next=11;break}return L.next=3,H(!0,s.account);case 3:if(W=L.sent,!W){L.next=8;break}f(W.partialFee),L.next=11;break;case 8:if(V){L.next=11;break}return L.next=11,B();case 11:case"end":return L.stop()}},_)}));return function(){return F.apply(this,arguments)}}();return(0,K.useEffect)(function(){!!Y&&!!(s!=null&&s.account)&&y&&!X&&d()},[Y,s==null?void 0:s.account,y,X]),(0,K.useEffect)(function(){!!(s!=null&&s.passphrase)&&y&&!V&&x(s==null?void 0:s.passphrase)},[s==null?void 0:s.passphrase,e,y,V]),(0,K.useEffect)(function(){e&&y&&X&&B()},[e,y,X]),(0,t.jsxs)(T.Z,{title:(0,t.jsx)(ea,{level:3,children:o.formatMessage({id:"modal.security.title"})}),closable:!1,className:n().modal,centered:!0,visible:y,width:400,footer:(0,t.jsxs)("div",{className:n().buttons,children:[(0,t.jsx)(l.Z,{type:"text",shape:"round",size:"large",className:n().button,onClick:function(){m(!1),window.location.reload()},loading:k,children:o.formatMessage({id:"common.decline"})}),(0,t.jsx)(l.Z,{type:"primary",shape:"round",size:"large",className:n().button,onClick:function(){B()},disabled:!e||e.length<6,loading:k,children:o.formatMessage({id:"common.confirm"})})]}),children:[(0,t.jsxs)("div",{className:n().confirmContainer,children:[!!O&&!!(O!=null&&O.toString())>I.free&&(0,t.jsx)(P.Z,{description:o.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:n().alertContainer}),!!O&&(0,t.jsxs)("div",{className:n().field,children:[(0,t.jsxs)("div",{className:n().labal,children:[o.formatMessage({id:"modal.security.gas"}),(0,t.jsxs)("span",{className:n().small,children:["(",o.formatMessage({id:"modal.security.estimated"}),")"]}),(0,t.jsx)(E.Z,{placement:"bottom",title:o.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,t.jsx)(da.Z,{className:n().labalIcon})})]}),(0,t.jsx)("div",{className:n().value,children:(0,t.jsx)(ta.Z,{value:O,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(s!=null&&s.passphrase)||V)&&(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,t.jsxs)("div",{className:n().codeInput,children:[(0,t.jsxs)("div",{className:n().verifyForm,children:[(0,t.jsx)("span",{className:(e==null?void 0:e.slice(0))&&!(e!=null&&e.slice(1,5))&&n().highLight,children:e==null?void 0:e.slice(0,1).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(e==null?void 0:e.slice(1))&&!(e!=null&&e.slice(2,5))&&n().highLight,children:e==null?void 0:e.slice(1,2).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(e==null?void 0:e.slice(2,3))&&!(e!=null&&e.slice(3,5))&&n().highLight,children:e==null?void 0:e.slice(2,3).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(e==null?void 0:e.slice(3,4))&&!(e!=null&&e.slice(4,5))&&n().highLight,children:e==null?void 0:e.slice(3,4).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(e==null?void 0:e.slice(4,5))&&!(e!=null&&e.slice(5))&&n().highLight,children:e==null?void 0:e.slice(4,5).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(e==null?void 0:e.slice(5))&&n().highLight,children:e==null?void 0:e.slice(5).replace(/[^]/,"\u2731")})]}),(0,t.jsx)(c.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:n().verifyInput,onChange:p,value:e,disabled:k,maxLength:6,visibilityToggle:!1})]})})]})};u.Z=ra},3548:function(r,u,a){"use strict";var N=a(67294),T=a(31639),h=a.n(T),c=a(96534),C=a(85893),E=function(P){var D=P.value,l=P.style;return(0,C.jsxs)("div",{className:h().ad3,style:l,children:[D?(0,c.MP)(D):"--",(0,C.jsx)("span",{className:h().unit,children:"\xA0$AD3"})]})};u.Z=E},28986:function(r,u,a){"use strict";a.d(u,{Pi:function(){return D},TE:function(){return l},vs:function(){return v}});var N="STORE_ACCOUNT_SELECTED",T="STORE_ADDRESSBOOKS",h="STORE_SETTING_LANG",c="STORE_SETTING_ENDPOINT",C="STORE_SETTING_CUSTOM_ENDPOINTS",E="https://polkascan.io/pre/",i="https://polkascan.io/",P={Dana:"dana",Parami:"parami","Dana CC1":"dana-cc1","Dana CC2":"dana-cc2","Dana CC3":"dana-cc3"},D;(function(g){g.POPUP="popup"})(D||(D={}));var l;(function(g){g.AIRDROP="airdrop",g.BIND="bind",g.CLAIM_HNFT="claimHnft"})(l||(l={}));var v;(function(g){g.AD_CLAIMED="AdClaimed"})(v||(v={}))},11430:function(r,u,a){"use strict";a.r(u);var N=a(28986),T=a(67294),h=a(51615),c=a(57641),C=a(85893);function E(){var i=(0,h.UO)(),P=i.adId,D=i.nftId;return(0,C.jsx)(C.Fragment,{children:P&&D&&(0,C.jsx)(c.Z,{adId:P,nftId:D,onClaim:function(){window.opener.postMessage("".concat(N.vs.AD_CLAIMED,":").concat(P),"*"),window.close()},onClose:function(){window.close()}})})}u.default=E},57641:function(r,u,a){"use strict";var N=a(57663),T=a(71577),h=a(20228),c=a(11382),C=a(74379),E=a(38648),i=a(3182),P=a(2824),D=a(94043),l=a.n(D),v=a(67294),g=a(69764),G=a(2752),$=a.n(G),R=a(32689),J=a(46656),b=a(61715),U=a(43581),K=a(69854),S=a(11561),w=a(79762),n=a(85893),ta=function(Z){var la=Z.onClose,z=Z.adId,t=Z.nftId,ea=Z.referrer,ra=ea===void 0?null:ea,ua=Z.onClaim,j=(0,v.useState)(),y=(0,P.Z)(j,2),m=y[0],e=y[1],x=(0,v.useState)(!1),H=(0,P.Z)(x,2),V=H[0],q=H[1],X=(0,v.useState)(""),Y=(0,P.Z)(X,2),aa=Y[0],s=Y[1],ia=(0,U.tT)("currentUser"),I=ia.wallet,sa=(0,U.tT)("apiWs"),na=(0,U.YB)(),k=function(){var A=(0,i.Z)(l().mark(function O(){var f;return l().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,K.Wv)(z);case 2:f=p.sent,e({scores:(f!=null?f:[]).map(function(B){return{tag:B.name,score:-5}})});case 4:case"end":return p.stop()}},O)}));return function(){return A.apply(this,arguments)}}(),Q=function(){var A=(0,i.Z)(l().mark(function O(){var f,o,p;return l().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,(0,R.Rh)(z,t,I==null?void 0:I.did);case 3:f=d.sent,o=f.response,p=f.data,o.ok?e(p):k(),d.next=13;break;case 9:d.prev=9,d.t0=d.catch(0),console.log(d.t0),k();case 13:case"end":return d.stop()}},O,null,[[0,9]])}));return function(){return A.apply(this,arguments)}}();(0,v.useEffect)(function(){sa&&Q()},[sa]);var oa=function(){var A=(0,i.Z)(l().mark(function O(f,o){var p,B,d;return l().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(I!=null&&I.keystore){_.next=3;break}return E.default.error({key:"accessDenied",message:na.formatMessage({id:"error.accessDenied"}),duration:null}),_.abrupt("return");case 3:if(_.prev=3,d=((p=m.scores)!==null&&p!==void 0?p:[]).map(function(W){return[W.tag,W.score]}),!(m&&m.signature)){_.next=11;break}return _.next=8,(0,b.nm)(z,t,I==null?void 0:I.did,d,m.referer,m.signature,m.signer_account,aa,I.keystore,f,o);case 8:B=_.sent,_.next=14;break;case 11:return _.next=13,(0,b.HS)(z,t,d,ra,aa,I.keystore,f,o);case 13:B=_.sent;case 14:if(!(f&&o)){_.next=16;break}return _.abrupt("return",B);case 16:E.default.success({message:"Claim Token Success"}),ua(),_.next=24;break;case 20:_.prev=20,_.t0=_.catch(3),console.log(_.t0),E.default.error({message:"Claim Ad Token Error",description:"".concat(_.t0)});case 24:case"end":return _.stop()}},O,null,[[3,20]])}));return function(f,o){return A.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{visable:!0,title:"Claim your token",content:(0,n.jsx)("div",{className:$().claimInfoContainer,children:(0,n.jsx)(c.Z,{spinning:!m,children:m&&m.scores&&m.scores.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"Claim now and have your score updated:"}),m.scores.map(function(A){return(0,n.jsxs)("div",{className:$().scoreChange,children:[(0,n.jsx)(S.Z,{tag:A.tag}),(0,n.jsx)(w.Z,{score:parseInt(A.score,10)})]})}),!m.signature&&(0,n.jsx)("p",{children:"Not happy with the reward? Follow the instructions before claiming."})]})})}),footer:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(T.Z,{block:!0,type:"primary",shape:"round",size:"large",disabled:!m,onClick:function(){return q(!0)},children:"Claim"})}),close:function(){return la()}}),(0,n.jsx)(J.Z,{visable:V,setVisable:q,passphrase:aa,setPassphrase:s,func:oa})]})};u.Z=ta},79762:function(r,u,a){"use strict";var N=a(67294),T=a(8556),h=a.n(T),c=a(85893);function C(E){var i=E.score;return(0,c.jsxs)("span",{className:h().scoreContainer,children:[i>=0&&(0,c.jsxs)("span",{className:h().positive,children:["+",i]}),i<0&&(0,c.jsxs)("span",{className:h().negative,children:["-",Math.abs(i)]})]})}u.Z=C},11561:function(r,u,a){"use strict";var N=a(67294),T=a(28531),h=a.n(T),c=a(85893);function C(E){var i=E.tag;return(0,c.jsx)("span",{className:h().tag,children:i})}u.Z=C}}]);

(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[8172],{55133:function(R){R.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},2752:function(R){R.exports={claimInfoContainer:"claimInfoContainer___2QBl-",scoreChange:"scoreChange___21g3Z"}},8556:function(R){R.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(R){R.exports={tag:"tag___sah2p"}},90802:function(R){R.exports={explorerContainer:"explorerContainer___2tn58",dashboard:"dashboard___1yzjn",header:"header___7HFGw",buttons:"buttons____mn0V",button:"button___2bNYM",confirm:"confirm___14R24",topIcon:"topIcon___lcz8T",title:"title___3OHiQ",field:"field___1rYhg",value:"value___VpweH",notUser:"notUser___1H3wh",desc:"desc___3002O",buttonImport:"buttonImport___1UVlX",notSupport:"notSupport___3AII_",icon:"icon___2lOpA",text:"text___2HCAz",loading:"loading___38OsL",loadingTip:"loadingTip___2K2wM",avatar:"avatar___1Itlz",rotate:"rotate___3cdkL",image_blur:"image_blur___1JtdU"}},69764:function(R,J,e){"use strict";var Ue=e(71194),X=e(50146),ge=e(57663),Z=e(71577),Se=e(402),V=e(3887),O=e(67294),We=e(55133),K=e.n(We),g=e(54549),le=e(85893),h=V.Z.Title,i=function(Q){var Ke=Q.visable,Oe=Q.title,ye=Q.content,k=Q.footer,ie=Q.close,v=Q.bodyStyle,n=Q.width;return(0,le.jsx)(X.Z,{title:Oe?(0,le.jsx)(h,{level:5,className:K().title,children:Oe}):null,closable:!!ie,closeIcon:(0,le.jsx)(le.Fragment,{children:(0,le.jsx)(Z.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,le.jsx)(g.Z,{onClick:ie})})}),className:K().modal,centered:!0,visible:Ke,width:n!=null?n:650,footer:k,bodyStyle:v,children:ye})};J.Z=i},46656:function(R,J,e){"use strict";var Ue=e(71194),X=e(50146),ge=e(47673),Z=e(32787),Se=e(22385),V=e(31097),O=e(17462),We=e(76772),K=e(57663),g=e(71577),le=e(74379),h=e(38648),i=e(3182),Re=e(2824),Q=e(402),Ke=e(3887),Oe=e(94043),ye=e.n(Oe),k=e(67294),ie=e(43581),v=e(55133),n=e.n(v),Pe=e(3548),Xe=e(68855),Qe=e(47832),ke=e(55347),Fe=e(51625),p=e(85893),qe=Ke.Z.Title,ea=function(Me){var oe=Me.visable,ze=Me.setVisable,s=Me.passphrase,De=Me.setPassphrase,Ie=Me.func,Ee=Me.changePassphrase,xe=(0,ie.tT)("apiWs"),we=(0,ie.tT)("currentUser"),l=we.wallet,$e=(0,ie.tT)("balance"),Ae=$e.balance,He=(0,k.useState)(!1),Te=(0,Re.Z)(He,2),be=Te[0],a=Te[1],sa=(0,k.useState)(),Ve=(0,Re.Z)(sa,2),w=Ve[0],ta=Ve[1],q=(0,ie.YB)(),ra=function(de){De(de?de.target.value:"")},A=function(){var ee=(0,i.Z)(ye().mark(function de(){var ae,Ne,N,Ze,Ge;return ye().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(a(!0),l!=null&&l.passphrase&&De(l==null?void 0:l.passphrase),!((!s||s.length<6)&&!(l!=null&&l.passphrase))){$.next=5;break}return a(!1),$.abrupt("return");case 5:if(ae=(l==null?void 0:l.passphrase)||s,!(ae&&l!==null&&l!==void 0&&l.keystore)){$.next=16;break}if(Ne=(0,Qe.Gh)(ae,l.keystore),Ne){$.next=13;break}return h.default.error({key:"passphraseError",message:q.formatMessage({id:"error.passphrase.error"}),duration:null}),De(""),a(!1),$.abrupt("return");case 13:N=new ke.ZP({type:"sr25519"}),Ze=N.addFromUri(Ne),Ge=Ze.address,l!=null&&l.account&&l.account!==Ge&&(localStorage.clear(),sessionStorage.clear(),window.location.href=Fe.Z.page.homePage);case 16:if(!Ie){$.next=19;break}return $.next=19,Ie();case 19:ze(!1),a(!1);case 21:case"end":return $.stop()}},de)}));return function(){return ee.apply(this,arguments)}}(),na=function(){var ee=(0,i.Z)(ye().mark(function de(){var ae;return ye().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(!(!!xe&&!!l.account)){N.next=11;break}return N.next=3,Ie(!0,l.account);case 3:if(ae=N.sent,!ae){N.next=8;break}ta(ae.partialFee),N.next=11;break;case 8:if(Ee){N.next=11;break}return N.next=11,A();case 11:case"end":return N.stop()}},de)}));return function(){return ee.apply(this,arguments)}}();return(0,k.useEffect)(function(){!!xe&&!!(l!=null&&l.account)&&oe&&na()},[xe,l==null?void 0:l.account,oe]),(0,k.useEffect)(function(){!!(l!=null&&l.passphrase)&&oe&&!Ee&&De(l==null?void 0:l.passphrase)},[l==null?void 0:l.passphrase,s,oe,Ee]),(0,p.jsxs)(X.Z,{title:(0,p.jsx)(qe,{level:3,children:q.formatMessage({id:"modal.security.title"})}),closable:!1,className:n().modal,centered:!0,visible:oe,width:400,footer:(0,p.jsxs)("div",{className:n().buttons,children:[(0,p.jsx)(g.Z,{type:"text",shape:"round",size:"large",className:n().button,onClick:function(){ze(!1),window.location.reload()},loading:be,children:q.formatMessage({id:"common.decline"})}),(0,p.jsx)(g.Z,{type:"primary",shape:"round",size:"large",className:n().button,onClick:function(){A()},disabled:!s||s.length<6,loading:be,children:q.formatMessage({id:"common.confirm"})})]}),children:[(0,p.jsxs)("div",{className:n().confirmContainer,children:[!!w&&!!(w!=null&&w.toString())>Ae.free&&(0,p.jsx)(We.Z,{description:q.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:n().alertContainer}),!!w&&(0,p.jsxs)("div",{className:n().field,children:[(0,p.jsxs)("div",{className:n().labal,children:[q.formatMessage({id:"modal.security.gas"}),(0,p.jsxs)("span",{className:n().small,children:["(",q.formatMessage({id:"modal.security.estimated"}),")"]}),(0,p.jsx)(V.Z,{placement:"bottom",title:q.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,p.jsx)(Xe.Z,{className:n().labalIcon})})]}),(0,p.jsx)("div",{className:n().value,children:(0,p.jsx)(Pe.Z,{value:w,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(l!=null&&l.passphrase)||Ee)&&(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,p.jsxs)("div",{className:n().codeInput,children:[(0,p.jsxs)("div",{className:n().verifyForm,children:[(0,p.jsx)("span",{className:(s==null?void 0:s.slice(0))&&!(s!=null&&s.slice(1,5))&&n().highLight,children:s==null?void 0:s.slice(0,1).replace(/[^]/,"\u2731")}),(0,p.jsx)("span",{className:(s==null?void 0:s.slice(1))&&!(s!=null&&s.slice(2,5))&&n().highLight,children:s==null?void 0:s.slice(1,2).replace(/[^]/,"\u2731")}),(0,p.jsx)("span",{className:(s==null?void 0:s.slice(2,3))&&!(s!=null&&s.slice(3,5))&&n().highLight,children:s==null?void 0:s.slice(2,3).replace(/[^]/,"\u2731")}),(0,p.jsx)("span",{className:(s==null?void 0:s.slice(3,4))&&!(s!=null&&s.slice(4,5))&&n().highLight,children:s==null?void 0:s.slice(3,4).replace(/[^]/,"\u2731")}),(0,p.jsx)("span",{className:(s==null?void 0:s.slice(4,5))&&!(s!=null&&s.slice(5))&&n().highLight,children:s==null?void 0:s.slice(4,5).replace(/[^]/,"\u2731")}),(0,p.jsx)("span",{className:(s==null?void 0:s.slice(5))&&n().highLight,children:s==null?void 0:s.slice(5).replace(/[^]/,"\u2731")})]}),(0,p.jsx)(Z.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:n().verifyInput,onChange:ra,value:s,disabled:be,maxLength:6,visibilityToggle:!1})]})})]})};J.Z=ea},96870:function(R,J,e){"use strict";e.r(J),e.d(J,{default:function(){return Ea}});var Ue=e(48736),X=e(27049),ge=e(57663),Z=e(71577),Se=e(12968),V=e(62462),O=e(3182),We=e(74379),K=e(38648),g=e(2824),le=e(94043),h=e.n(le),i=e(67294),Re=e(34792),Q=e(48086),Ke=e(58024),Oe=e(39144),ye=e(55909),k=e.n(ye),ie=e(37550),v=e.n(ie),n=e(43581),Pe=e(28991),Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},Qe=Xe,ke=e(27029),Fe=function(y,B){return i.createElement(ke.Z,(0,Pe.Z)((0,Pe.Z)({},y),{},{ref:B,icon:Qe}))};Fe.displayName="ShareAltOutlined";var p=i.forwardRef(Fe),qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M911.5 700.7a8 8 0 00-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 00-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"}}]},name:"money-collect",theme:"outlined"},ea=qe,aa=function(y,B){return i.createElement(ke.Z,(0,Pe.Z)((0,Pe.Z)({},y),{},{ref:B,icon:ea}))};aa.displayName="MoneyCollectOutlined";var Me=i.forwardRef(aa),oe=e(96534),ze=e(20640),s=e.n(ze),De=e(20228),Ie=e(11382),Ee=e(69764),xe=e(2752),we=e.n(xe),l=e(32689),$e=e(46656),Ae=e(61715),He=e(69854),Te=e(11561),be=e(79762),a=e(85893),sa=function(y){var B=y.onClose,C=y.adId,F=y.nftId,ue=y.referrer,_=ue===void 0?null:ue,Ce=y.onClaim,ce=(0,i.useState)(),m=(0,g.Z)(ce,2),c=m[0],ve=m[1],_e=(0,i.useState)(!1),M=(0,g.Z)(_e,2),se=M[0],me=M[1],je=(0,i.useState)(""),L=(0,g.Z)(je,2),H=L[0],fe=L[1],he=(0,n.tT)("currentUser"),j=he.wallet,D=(0,n.YB)(),G=function(){var U=(0,O.Z)(h().mark(function b(){var o,S,P,d,x;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,He.Wv)(C);case 3:o=t.sent,console.log(o),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.prev=10,t.next=13,(0,l.Rh)(C,F,j==null?void 0:j.did);case 13:if(S=t.sent,P=S.response,d=S.data,!P.ok){t.next=20;break}ve(d),t.next=24;break;case 20:return t.next=22,(0,He.Wv)(C);case 22:x=t.sent,ve({scores:(x!=null?x:[]).map(function(z){return{tag:z.name,score:-5}})});case 24:t.next=30;break;case 26:t.prev=26,t.t1=t.catch(10),console.log(t.t1),ve({});case 30:case"end":return t.stop()}},b,null,[[0,7],[10,26]])}));return function(){return U.apply(this,arguments)}}();(0,i.useEffect)(function(){G()},[]);var pe=function(){var U=(0,O.Z)(h().mark(function b(o,S){var P,d,x;return h().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(j!=null&&j.keystore){t.next=3;break}return K.default.error({key:"accessDenied",message:D.formatMessage({id:"error.accessDenied"}),duration:null}),t.abrupt("return");case 3:if(t.prev=3,x=((P=c.scores)!==null&&P!==void 0?P:[]).map(function(z){return[z.tag,z.score]}),!(c&&c.signature)){t.next=11;break}return t.next=8,(0,Ae.nm)(C,F,j==null?void 0:j.did,x,c.referer,c.signature,c.signer_account,H,j.keystore,o,S);case 8:d=t.sent,t.next=14;break;case 11:return t.next=13,(0,Ae.HS)(C,F,x,_,H,j.keystore,o,S);case 13:d=t.sent;case 14:if(!(o&&S)){t.next=16;break}return t.abrupt("return",d);case 16:K.default.success({message:"Claim Token Success"}),Ce(),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(3),console.log(t.t0),K.default.error({message:"Claim Ad Token Error",description:"".concat(t.t0)});case 24:case"end":return t.stop()}},b,null,[[3,20]])}));return function(o,S){return U.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ee.Z,{visable:!0,title:"Claim your token",content:(0,a.jsx)("div",{className:we().claimInfoContainer,children:(0,a.jsx)(Ie.Z,{spinning:!c,children:c&&c.scores&&c.scores.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Claim now and have your score updated:"}),c.scores.map(function(U){return(0,a.jsxs)("div",{className:we().scoreChange,children:[(0,a.jsx)(Te.Z,{tag:U.tag}),(0,a.jsx)(be.Z,{score:parseInt(U.score,10)})]})}),!c.signature&&(0,a.jsx)("p",{children:"Not happy with the reward? Follow the instructions before claiming."})]})})}),footer:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Z.Z,{block:!0,type:"primary",shape:"round",size:"large",disabled:!c,onClick:function(){return me(!0)},children:"Claim"})}),close:function(){return B()}}),(0,a.jsx)($e.Z,{visable:se,setVisable:me,passphrase:H,setPassphrase:fe,func:pe})]})},Ve=sa,w=e(51625),ta=function(y){var B,C=y.ad,F=y.nftId,ue=y.referrer,_=y.asset,Ce=y.avatar,ce=y.did,m=y.adData,c=y.adImageOnLoad,ve=c===void 0?function(){}:c,_e=(0,n.tT)("currentUser"),M=_e.wallet,se=(0,i.useState)(!1),me=(0,g.Z)(se,2),je=me[0],L=me[1],H=(0,i.useState)(!1),fe=(0,g.Z)(H,2),he=fe[0],j=fe[1],D=(0,n.tT)("apiWs"),G=(0,n.YB)(),pe=M!=null&&M.did?"".concat(window.location.origin,"/").concat(ce,"/").concat(F,"?referrer=").concat(M==null?void 0:M.did):"".concat(window.location.origin,"/").concat(ce,"/").concat(F),U=(0,oe.st)(m==null?void 0:m.creator).substring(8),b=function(){var o=(0,O.Z)(h().mark(function S(P,d,x){var te;return h().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,P.query.ad.payout(d,x);case 2:te=z.sent,te.isEmpty?j(!1):j(!0);case 4:case"end":return z.stop()}},S)}));return function(P,d,x){return o.apply(this,arguments)}}();return(0,i.useEffect)(function(){D&&m!==null&&m!==void 0&&m.id&&M!==null&&M!==void 0&&M.did&&b(D,m==null?void 0:m.id,M==null?void 0:M.did)},[D,m,M]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:v().advertisementContainer,children:[(0,a.jsx)("div",{className:v().container,children:(0,a.jsx)("div",{className:v().topBar,children:(0,a.jsxs)("div",{className:v().sponsored,children:[(0,a.jsx)(V.Z,{src:Ce||"/images/logo-round-core.svg",className:v().avatar,preview:!1,id:"avatar",fallback:"/images/logo-round-core.svg"}),(0,a.jsx)("span",{children:G.formatMessage({id:"creator.explorer.advertisement.sponsoredBy"},{did:"".concat(U)})})]})})}),(0,a.jsx)(Oe.Z,{className:"".concat(k().card," ").concat(v().adCard),style:{maxWidth:"650px",border:"none",marginBottom:"30px"},bodyStyle:{padding:0,width:"100%"},children:(0,a.jsxs)("div",{className:v().advertisement,children:[(0,a.jsx)("div",{className:v().adMedia,children:(0,a.jsx)(V.Z,{src:C==null?void 0:C.media,placeholder:!0,preview:!1,className:v().adMediaImg,onLoad:ve})}),(C==null?void 0:C.instructions)&&(C==null||(B=C.instructions)===null||B===void 0?void 0:B.length)>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:v().instructions,children:[(0,a.jsx)("div",{className:v().instructionTitle,children:"Follow the instructions to improve your parami score"}),C.instructions.map(function(o){return(0,a.jsxs)("div",{className:"".concat(v().instruction," ").concat(o.link?v().withLink:""),onClick:function(){!!o.link&&window.open("".concat(w.Z.main.weeklySite,"?redirect=").concat(o.link,"&nftId=").concat(F,"&did=").concat(M==null?void 0:M.did,"&ad=").concat(m==null?void 0:m.id,"&referrer=").concat(ue,"&tag=").concat(o.tag,"&score=").concat(o.score))},children:[(0,a.jsx)("span",{className:v().instructionText,children:o.text}),!!o.tag&&(0,a.jsx)(Te.Z,{tag:o.tag}),!!o.score&&(0,a.jsx)(be.Z,{score:parseInt(o.score,10)})]})})]})})]})}),(0,a.jsxs)("div",{className:v().buttonContainer,children:[he&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Z.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,a.jsx)(p,{}),className:v().shareButton,onClick:(0,O.Z)(h().mark(function o(){var S;return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(S={title:"Para Metaverse Identity",text:G.formatMessage({id:"creator.explorer.shareMessage"}),url:pe},!(navigator.canShare&&navigator.canShare(S))){d.next=12;break}return d.prev=2,d.next=5,navigator.share(S);case 5:d.next=10;break;case 7:d.prev=7,d.t0=d.catch(2),console.log(d.t0);case 10:d.next=14;break;case 12:s()(pe+" ".concat(G.formatMessage({id:"creator.explorer.shareMessage"},{token:"$".concat(_==null?void 0:_.symbol)}))),Q.default.success(G.formatMessage({id:"common.copied"}));case 14:case"end":return d.stop()}},o,null,[[2,7]])})),children:G.formatMessage({id:"creator.explorer.advertisement.share"},{token:"$".concat(_==null?void 0:_.symbol)})})}),!he&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(Z.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,a.jsx)(Me,{}),className:v().claimBtn,onClick:function(){return L(!0)},children:"Claim your $".concat(_==null?void 0:_.symbol)})})]}),je&&(0,a.jsx)(Ve,{adId:m==null?void 0:m.id,nftId:F,referrer:ue,onClose:function(){return L(!1)},onClaim:function(){L(!1),j(!0)}})]})})},q=ta,ra=e(90802),A=e.n(ra),na=e(51615),ee=e(28943),de=e(47673),ae=e(32787),Ne=e(402),N=e(3887),Ze=e(59749),Ge=e(3548),ua=N.Z.Title,$=function(y){var B=y.nft,C=(0,n.tT)("balance"),F=C.balance,ue=(0,n.tT)("currentUser"),_=ue.wallet,Ce=(0,i.useState)(!1),ce=(0,g.Z)(Ce,2),m=ce[0],c=ce[1],ve=(0,i.useState)(!1),_e=(0,g.Z)(ve,2),M=_e[0],se=_e[1],me=(0,i.useState)("0"),je=(0,g.Z)(me,2),L=je[0],H=je[1],fe=(0,i.useState)(""),he=(0,g.Z)(fe,2),j=he[0],D=he[1],G=(0,i.useState)(!1),pe=(0,g.Z)(G,2),U=pe[0],b=pe[1],o=(0,n.YB)(),S=function(){var P=(0,O.Z)(h().mark(function d(x,te){var t;return h().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!(!!_&&!!(_!=null&&_.keystore))){I.next=18;break}return I.prev=1,I.next=4,(0,ee.MW)(B.tokenAssetId,(0,Ze.HM)(L,18).toString(),j,_==null?void 0:_.keystore,x,te);case 4:if(t=I.sent,se(!1),c(!1),!(x&&te)){I.next=9;break}return I.abrupt("return",t);case 9:I.next=16;break;case 11:return I.prev=11,I.t0=I.catch(1),K.default.error({message:I.t0.message||I.t0,duration:null}),c(!1),I.abrupt("return");case 16:I.next=19;break;case 18:K.default.error({key:"accessDenied",message:o.formatMessage({id:"error.accessDenied"}),duration:null});case 19:case"end":return I.stop()}},d,null,[[1,11]])}));return function(x,te){return P.apply(this,arguments)}}();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(Ie.Z,{tip:o.formatMessage({id:"common.submitting"}),spinning:m,wrapperClassName:k().pageContainer,children:[(0,a.jsx)(Oe.Z,{className:k().card,bodyStyle:{width:"100%"},children:(0,a.jsxs)("div",{className:v().trade,children:[(0,a.jsx)(ua,{level:3,style:{fontWeight:"bold",textAlign:"center"},className:k().title,children:o.formatMessage({id:"creator.explorer.support"})}),(0,a.jsx)(ae.Z,{autoFocus:!0,size:"large",placeholder:"0",bordered:!1,className:"".concat(v().input," bigInput"),value:L,onChange:function(d){H(d.target.value)},disabled:m,type:"number"}),(0,a.jsx)(X.Z,{}),(0,a.jsx)(Z.Z,{block:!0,shape:"round",type:"primary",size:"large",onClick:function(){se(!0)},children:o.formatMessage({id:"creator.explorer.support"})})]})}),(0,a.jsx)(Ee.Z,{visable:M,title:o.formatMessage({id:"creator.explorer.support"}),content:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:v().tradeModal,children:[(0,a.jsx)(ae.Z,{autoFocus:!0,size:"large",placeholder:o.formatMessage({id:"stake.add.number.placeholder"}),bordered:!1,className:"".concat(v().input," bigInput"),value:L,onChange:function(d){H(d.target.value)},disabled:m,type:"number"}),(0,a.jsxs)("div",{className:v().field,children:[(0,a.jsx)("span",{className:v().title,children:o.formatMessage({id:"creator.explorer.availableBalance"})}),(0,a.jsx)("span",{className:v().value,children:(0,a.jsx)(Ge.Z,{value:F.free})})]})]})}),footer:(0,a.jsx)(Z.Z,{block:!0,shape:"round",type:"primary",size:"large",loading:m,disabled:(0,Ze.HM)(L,18)<=BigInt(0)||(0,Ze.HM)(L,18)>BigInt(F.free),onClick:function(){c(!0),b(!0)},children:o.formatMessage({id:"common.submit"})}),close:function(){se(!1)}}),(0,a.jsx)($e.Z,{visable:U,setVisable:b,passphrase:j,setPassphrase:D,func:S})]})})},ha=$,pa=e(13580),ga=e(33044),ya=e(29791),Ma=function(){var y,B,C=(0,n.tT)("apiWs"),F=(0,n.tT)("currentUser"),ue=F.wallet,_=(0,n.tT)("bodyChange"),Ce=_.bodyHeight,ce=(0,i.useState)(!0),m=(0,g.Z)(ce,2),c=m[0],ve=m[1],_e=(0,i.useState)(""),M=(0,g.Z)(_e,2),se=M[0],me=M[1],je=(0,i.useState)(!0),L=(0,g.Z)(je,2),H=L[0],fe=L[1],he=(0,i.useState)(),j=(0,g.Z)(he,2),D=j[0],G=j[1],pe=(0,i.useState)(),U=(0,g.Z)(pe,2),b=U[0],o=U[1],S=(0,i.useState)(),P=(0,g.Z)(S,2),d=P[0],x=P[1],te=(0,i.useState)(!1),t=(0,g.Z)(te,2),z=t[0],I=t[1],Ca=(0,i.useState)(),ca=(0,g.Z)(Ca,2),la=ca[0],_a=ca[1],ja=(0,i.useState)(),va=(0,g.Z)(ja,2),Le=va[0],Oa=va[1],Sa=(0,i.useState)(null),ma=(0,g.Z)(Sa,2),Pa=ma[0],Da=ma[1],re=(0,n.YB)(),fa=(0,n.md)(),Ia=(y=document.getElementById("avatar"))===null||y===void 0?void 0:y.offsetTop,ba=(B=document.getElementById("avatar"))===null||B===void 0?void 0:B.offsetLeft,Za=document.body.clientWidth,T=(0,na.UO)(),xa=n.m8.location.query,Aa=xa,Ta=Aa.referrer,Ye=T!=null&&T.kol?"did"+(T==null?void 0:T.kol):(0,oe.st)(ue.did),ia=(0,oe.Zc)(Ye),Je=function(E){K.default.error({message:E.message,duration:null})},Na=function(){var f=(0,O.Z)(h().mark(function E(){var u;return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,Ae.qX)(T.nftID);case 2:if(u=r.sent,u){r.next=6;break}return n.m8.replace("".concat(window.location.pathname,"/dao")),r.abrupt("return");case 6:_a(u);case 7:case"end":return r.stop()}},E)}));return function(){return f.apply(this,arguments)}}(),Ba=function(){var f=(0,O.Z)(h().mark(function E(u){var W,r,oa,ne,da;return h().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!((u==null||(W=u.metadata)===null||W===void 0?void 0:W.indexOf("ipfs://"))<0)){Y.next=2;break}return Y.abrupt("return");case 2:return oa=u==null||(r=u.metadata)===null||r===void 0?void 0:r.substring(7),Y.next=5,fetch(w.Z.ipfs.endpoint+oa);case 5:return ne=Y.sent,Y.next=8,ne.json();case 8:if(da=Y.sent,da){Y.next=11;break}return Y.abrupt("return");case 11:Da(da);case 12:case"end":return Y.stop()}},E)}));return function(u){return f.apply(this,arguments)}}();(0,i.useEffect)(function(){if(la)try{var f=la.ad;if(!(f!=null&&f.metadata))return;Oa(f),Ba(f)}catch(E){Je(E)}},[la]);var La=function(){var f=(0,O.Z)(h().mark(function E(){var u;return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,ee.JI)(ia);case 3:if(u=r.sent,!u.isEmpty){r.next=7;break}return fe(!1),r.abrupt("return");case 7:window.location.href="".concat(window.location.origin,"/").concat(Ye,"/").concat(u),r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),K.default.error({message:r.t0.message,duration:null}),r.abrupt("return");case 14:case"end":return r.stop()}},E,null,[[0,10]])}));return function(){return f.apply(this,arguments)}}(),Ua=function(){var f=(0,O.Z)(h().mark(function E(){var u;return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,ga.q5)(ia);case 2:if(u=r.sent,u){r.next=7;break}return K.default.error({message:re.formatMessage({id:"error.identity.notFound"}),duration:null}),n.m8.goBack(),r.abrupt("return");case 7:G(u);case 9:case"end":return r.stop()}},E)}));return function(){return f.apply(this,arguments)}}();(0,i.useEffect)(function(){if(D&&(document.title="".concat((D==null?void 0:D.nickname.toString())||Ye," - Para Metaverse Identity"),(D==null?void 0:D.avatar.indexOf("ipfs://"))>-1)){var f,E=D==null||(f=D.avatar)===null||f===void 0?void 0:f.substring(7);(0,l.nH)(w.Z.ipfs.endpoint+E).then(function(u){var W=u.response,r=u.data;(W==null?void 0:W.status)===200&&me(window.URL.createObjectURL(r))})}},[D]);var Wa=function(){var f=(0,O.Z)(h().mark(function E(){var u;return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,ee.X6)(T==null?void 0:T.nftID);case 2:if(u=r.sent,u){r.next=7;break}return K.default.error({message:re.formatMessage({id:"error.nft.notFound"}),duration:null}),n.m8.goBack(),r.abrupt("return");case 7:if((u==null?void 0:u.owner)===ia){r.next=11;break}return K.default.error({message:re.formatMessage({id:"error.nft.notFound"}),duration:null}),n.m8.goBack(),r.abrupt("return");case 11:o(u);case 12:case"end":return r.stop()}},E)}));return function(){return f.apply(this,arguments)}}();return(0,i.useEffect)(function(){var f=function(){var E=(0,O.Z)(h().mark(function u(){var W,r;return h().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,(0,pa.Ay)(b==null?void 0:b.tokenAssetId);case 2:if(W=ne.sent,!W.isEmpty){ne.next=6;break}return fe(!1),ne.abrupt("return");case 6:r=W.toHuman(),x(r);case 8:case"end":return ne.stop()}},u)}));return function(){return E.apply(this,arguments)}}();if(b)try{f()}catch(E){Je(E)}},[b]),(0,i.useEffect)(function(){d&&Na().catch(Je)},[d]),(0,i.useEffect)(function(){if(C&&!(T!=null&&T.nftID)&&La(),fa.canWalletUser||(localStorage.setItem("parami:wallet:redirect",window.location.href),I(!0)),C)try{Wa(),Ua()}catch(f){Je(f)}},[C]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:A().explorerContainer,children:[H&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(V.Z,{src:se||"/images/default-avatar.svg",fallback:"/images/default-avatar.svg",className:A().avatar,style:{top:c?(Ce-400)/2:Ia,left:c?(Za-200)/2:ba,width:c?200:30,height:c?200:30,animation:c?1:0,position:c?"fixed":"absolute",display:c||Le&&Object.keys(Le).length?"flex":"none"},preview:!1}),(0,a.jsx)("div",{className:A().loading,style:{opacity:c?1:0,zIndex:c?15:-1,height:Ce,minHeight:"100vh"},children:(0,a.jsx)("span",{className:A().loadingTip,children:re.formatMessage({id:"creator.explorer.loading.tip",defaultMessage:"Let's find out more about the NFT.{br} Surprise awaits..."},{br:(0,a.jsx)("br",{})})})})]}),!H&&fa.canWalletUser&&b&&(0,a.jsx)("div",{className:k().pageContainer,style:{paddingTop:50,maxWidth:1920},children:(0,a.jsx)(ha,{nft:b})}),H&&Le&&Object.keys(Le).length>0&&(0,a.jsx)("div",{className:k().pageContainer,style:{paddingTop:50,maxWidth:"100%"},children:(0,a.jsx)(q,{ad:Pa,nftId:T==null?void 0:T.nftID,referrer:Ta,asset:d,avatar:se,did:Ye,adData:Le,adImageOnLoad:function(){ve(!1)}})}),(0,a.jsx)(ya.Z,{})]}),(0,a.jsx)(Ee.Z,{visable:z,title:re.formatMessage({id:"error.identity.notUser"}),content:(0,a.jsx)("div",{className:A().notUser,children:(0,a.jsxs)("div",{className:A().buttons,children:[(0,a.jsxs)(Z.Z,{block:!0,size:"large",type:"primary",shape:"round",className:A().button,onClick:function(){n.m8.push(w.Z.page.createPage)},children:[(0,a.jsx)("div",{className:A().title,children:re.formatMessage({id:"index.createAccount"})}),(0,a.jsx)("span",{className:A().desc,children:re.formatMessage({id:"index.createAccount.desc"})})]}),(0,a.jsx)(X.Z,{children:re.formatMessage({id:"index.or"})}),(0,a.jsxs)(Z.Z,{block:!0,ghost:!0,size:"large",type:"link",shape:"round",className:"".concat(A().button," ").concat(A().buttonImport),onClick:function(){n.m8.push(w.Z.page.recoverPage)},children:[(0,a.jsx)("div",{className:A().title,children:re.formatMessage({id:"index.importAccount"})}),(0,a.jsx)("span",{className:A().desc,children:re.formatMessage({id:"index.importAccount.desc"})})]})]})}),close:void 0,footer:!1})]})},Ea=Ma},79762:function(R,J,e){"use strict";var Ue=e(67294),X=e(8556),ge=e.n(X),Z=e(85893);function Se(V){var O=V.score;return(0,Z.jsxs)("span",{className:ge().scoreContainer,children:[O>=0&&(0,Z.jsxs)("span",{className:ge().positive,children:["+",O]}),O<0&&(0,Z.jsxs)("span",{className:ge().negative,children:["-",Math.abs(O)]})]})}J.Z=Se},11561:function(R,J,e){"use strict";var Ue=e(67294),X=e(28531),ge=e.n(X),Z=e(85893);function Se(V){var O=V.tag;return(0,Z.jsx)("span",{className:ge().tag,children:O})}J.Z=Se}}]);

(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[8172],{55133:function(K){K.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},2752:function(K){K.exports={claimInfoContainer:"claimInfoContainer___2QBl-",scoreChange:"scoreChange___21g3Z"}},8556:function(K){K.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(K){K.exports={tag:"tag___sah2p"}},90802:function(K){K.exports={explorerContainer:"explorerContainer___2tn58",dashboard:"dashboard___1yzjn",header:"header___7HFGw",buttons:"buttons____mn0V",button:"button___2bNYM",confirm:"confirm___14R24",topIcon:"topIcon___lcz8T",title:"title___3OHiQ",field:"field___1rYhg",value:"value___VpweH",notUser:"notUser___1H3wh",desc:"desc___3002O",buttonImport:"buttonImport___1UVlX",notSupport:"notSupport___3AII_",icon:"icon___2lOpA",text:"text___2HCAz",loading:"loading___38OsL",loadingTip:"loadingTip___2K2wM",avatar:"avatar___1Itlz",rotate:"rotate___3cdkL",image_blur:"image_blur___1JtdU"}},69764:function(K,X,e){"use strict";var ze=e(71194),Q=e(50146),pe=e(57663),b=e(71577),Ze=e(402),$=e(3887),P=e(67294),Fe=e(55133),k=e.n(Fe),y=e(54549),le=e(85893),f=$.Z.Title,l=function(q){var He=q.visable,De=q.title,_e=q.content,ge=q.footer,ie=q.close,ee=q.bodyStyle,h=q.width;return(0,le.jsx)(Q.Z,{title:De?(0,le.jsx)(f,{level:5,className:k().title,children:De}):null,closable:!!ie,closeIcon:(0,le.jsx)(le.Fragment,{children:(0,le.jsx)(b.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,le.jsx)(y.Z,{onClick:ie})})}),className:k().modal,centered:!0,visible:He,width:h!=null?h:650,footer:ge,bodyStyle:ee,children:_e})};X.Z=l},46656:function(K,X,e){"use strict";var ze=e(71194),Q=e(50146),pe=e(47673),b=e(32787),Ze=e(22385),$=e(31097),P=e(17462),Fe=e(76772),k=e(57663),y=e(71577),le=e(74379),f=e(38648),l=e(3182),we=e(2824),q=e(402),He=e(3887),De=e(94043),_e=e.n(De),ge=e(67294),ie=e(43581),ee=e(55133),h=e.n(ee),v=e(3548),C=e(68855),ea=e(47832),ye=e(55347),aa=e(51625),p=e(85893),Ne=He.Z.Title,$e=function(Me){var Se=Me.visable,Be=Me.setVisable,s=Me.passphrase,Pe=Me.setPassphrase,Le=Me.func,Ie=Me.changePassphrase,We=(0,ie.tT)("apiWs"),Ue=(0,ie.tT)("currentUser"),n=Ue.wallet,sa=(0,ie.tT)("balance"),ca=sa.balance,Ve=(0,ge.useState)(!1),xe=(0,we.Z)(Ve,2),Re=xe[0],be=xe[1],Ge=(0,ge.useState)(),Ke=(0,we.Z)(Ge,2),ae=Ke[0],Ye=Ke[1],V=(0,ie.YB)(),Je=function(z){Pe(z?z.target.value:"")},a=function(){var Ee=(0,l.Z)(_e().mark(function z(){var oe,Ae,L,T,Xe;return _e().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(be(!0),n!=null&&n.passphrase&&Pe(n==null?void 0:n.passphrase),!((!s||s.length<6)&&!(n!=null&&n.passphrase))){G.next=5;break}return be(!1),G.abrupt("return");case 5:if(oe=(n==null?void 0:n.passphrase)||s,!(oe&&n!==null&&n!==void 0&&n.keystore)){G.next=16;break}if(Ae=(0,ea.Gh)(oe,n.keystore),Ae){G.next=13;break}return f.default.error({key:"passphraseError",message:V.formatMessage({id:"error.passphrase.error"}),duration:null}),Pe(""),be(!1),G.abrupt("return");case 13:L=new ye.ZP({type:"sr25519"}),T=L.addFromUri(Ae),Xe=T.address,n!=null&&n.account&&n.account!==Xe&&(localStorage.clear(),sessionStorage.clear(),window.location.href=aa.Z.page.homePage);case 16:if(!Le){G.next=19;break}return G.next=19,Le();case 19:Be(!1),be(!1);case 21:case"end":return G.stop()}},z)}));return function(){return Ee.apply(this,arguments)}}(),ta=function(){var Ee=(0,l.Z)(_e().mark(function z(){var oe;return _e().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!(!!We&&!!n.account)){L.next=11;break}return L.next=3,Le(!0,n.account);case 3:if(oe=L.sent,!oe){L.next=8;break}Ye(oe.partialFee),L.next=11;break;case 8:if(Ie){L.next=11;break}return L.next=11,a();case 11:case"end":return L.stop()}},z)}));return function(){return Ee.apply(this,arguments)}}();return(0,ge.useEffect)(function(){!!We&&!!(n!=null&&n.account)&&Se&&ta()},[We,n==null?void 0:n.account,Se]),(0,ge.useEffect)(function(){!!(n!=null&&n.passphrase)&&Se&&!Ie&&Pe(n==null?void 0:n.passphrase)},[n==null?void 0:n.passphrase,s,Se,Ie]),(0,p.jsxs)(Q.Z,{title:(0,p.jsx)(Ne,{level:3,children:V.formatMessage({id:"modal.security.title"})}),closable:!1,className:h().modal,centered:!0,visible:Se,width:400,footer:(0,p.jsxs)("div",{className:h().buttons,children:[(0,p.jsx)(y.Z,{type:"text",shape:"round",size:"large",className:h().button,onClick:function(){Be(!1),window.location.reload()},loading:Re,children:V.formatMessage({id:"common.decline"})}),(0,p.jsx)(y.Z,{type:"primary",shape:"round",size:"large",className:h().button,onClick:function(){a()},disabled:!s||s.length<6,loading:Re,children:V.formatMessage({id:"common.confirm"})})]}),children:[(0,p.jsxs)("div",{className:h().confirmContainer,children:[!!ae&&!!(ae!=null&&ae.toString())>ca.free&&(0,p.jsx)(Fe.Z,{description:V.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:h().alertContainer}),!!ae&&(0,p.jsxs)("div",{className:h().field,children:[(0,p.jsxs)("div",{className:h().labal,children:[V.formatMessage({id:"modal.security.gas"}),(0,p.jsxs)("span",{className:h().small,children:["(",V.formatMessage({id:"modal.security.estimated"}),")"]}),(0,p.jsx)($.Z,{placement:"bottom",title:V.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,p.jsx)(C.Z,{className:h().labalIcon})})]}),(0,p.jsx)("div",{className:h().value,children:(0,p.jsx)(v.Z,{value:ae,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(n!=null&&n.passphrase)||Ie)&&(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,p.jsxs)("div",{className:h().codeInput,children:[(0,p.jsxs)("div",{className:h().verifyForm,children:[(0,p.jsx)("span",{className:(s==null?void 0:s.slice(0))&&!(s!=null&&s.slice(1,5))&&h().highLight,children:s==null?void 0:s.slice(0,1).replace(/[^]/,"\u2731")}),(0,p.jsx)("span",{className:(s==null?void 0:s.slice(1))&&!(s!=null&&s.slice(2,5))&&h().highLight,children:s==null?void 0:s.slice(1,2).replace(/[^]/,"\u2731")}),(0,p.jsx)("span",{className:(s==null?void 0:s.slice(2,3))&&!(s!=null&&s.slice(3,5))&&h().highLight,children:s==null?void 0:s.slice(2,3).replace(/[^]/,"\u2731")}),(0,p.jsx)("span",{className:(s==null?void 0:s.slice(3,4))&&!(s!=null&&s.slice(4,5))&&h().highLight,children:s==null?void 0:s.slice(3,4).replace(/[^]/,"\u2731")}),(0,p.jsx)("span",{className:(s==null?void 0:s.slice(4,5))&&!(s!=null&&s.slice(5))&&h().highLight,children:s==null?void 0:s.slice(4,5).replace(/[^]/,"\u2731")}),(0,p.jsx)("span",{className:(s==null?void 0:s.slice(5))&&h().highLight,children:s==null?void 0:s.slice(5).replace(/[^]/,"\u2731")})]}),(0,p.jsx)(b.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:h().verifyInput,onChange:Je,value:s,disabled:Re,maxLength:6,visibilityToggle:!1})]})})]})};X.Z=$e},97985:function(K,X,e){"use strict";e.r(X),e.d(X,{default:function(){return Sa}});var ze=e(48736),Q=e(27049),pe=e(57663),b=e(71577),Ze=e(12968),$=e(62462),P=e(3182),Fe=e(74379),k=e(38648),y=e(2824),le=e(94043),f=e.n(le),l=e(67294),we=e(34792),q=e(48086),He=e(58024),De=e(39144),_e=e(22385),ge=e(31097),ie=e(55909),ee=e.n(ie),h=e(37550),v=e.n(h),C=e(43581),ea=e(57119),ye=e(28991),aa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},p=aa,Ne=e(27029),$e=function(g,x){return l.createElement(Ne.Z,(0,ye.Z)((0,ye.Z)({},g),{},{ref:x,icon:p}))};$e.displayName="ShareAltOutlined";var ua=l.forwardRef($e),Me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 464H528V448h312v128zm0 264H184V184h656v200H496c-17.7 0-32 14.3-32 32v192c0 17.7 14.3 32 32 32h344v200zM580 512a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"wallet",theme:"outlined"},Se=Me,Be=function(g,x){return l.createElement(Ne.Z,(0,ye.Z)((0,ye.Z)({},g),{},{ref:x,icon:Se}))};Be.displayName="WalletOutlined";var s=l.forwardRef(Be),Pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M911.5 700.7a8 8 0 00-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 00-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"}}]},name:"money-collect",theme:"outlined"},Le=Pe,Ie=function(g,x){return l.createElement(Ne.Z,(0,ye.Z)((0,ye.Z)({},g),{},{ref:x,icon:Le}))};Ie.displayName="MoneyCollectOutlined";var We=l.forwardRef(Ie),Ue=e(96534),n=e(20640),sa=e.n(n),ca=e(20228),Ve=e(11382),xe=e(69764),Re=e(2752),be=e.n(Re),Ge=e(32689),Ke=e(46656),ae=e(61715),Ye=e(69854),V=e(11561),Je=e(79762),a=e(85893),ta=function(g){var x=g.onClose,j=g.adId,F=g.nftId,de=g.referrer,O=de===void 0?null:de,Ce=g.onClaim,ue=(0,l.useState)(),m=(0,y.Z)(ue,2),c=m[0],ce=m[1],je=(0,l.useState)(!1),M=(0,y.Z)(je,2),se=M[0],ve=M[1],Oe=(0,l.useState)(""),W=(0,y.Z)(Oe,2),H=W[0],me=W[1],fe=(0,C.tT)("currentUser"),D=fe.wallet,N=(0,C.YB)(),Y=function(){var U=(0,P.Z)(f().mark(function Z(){var i,_,S,o,A;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,Ye.Wv)(j);case 3:i=t.sent,console.log(i),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.prev=10,t.next=13,(0,Ge.Rh)(j,F,D==null?void 0:D.did);case 13:if(_=t.sent,S=_.response,o=_.data,!S.ok){t.next=20;break}ce(o),t.next=24;break;case 20:return t.next=22,(0,Ye.Wv)(j);case 22:A=t.sent,ce({scores:(A!=null?A:[]).map(function(w){return{tag:w.name,score:-5}})});case 24:t.next=30;break;case 26:t.prev=26,t.t1=t.catch(10),console.log(t.t1),ce({});case 30:case"end":return t.stop()}},Z,null,[[0,7],[10,26]])}));return function(){return U.apply(this,arguments)}}();(0,l.useEffect)(function(){Y()},[]);var he=function(){var U=(0,P.Z)(f().mark(function Z(i,_){var S,o,A;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(D!=null&&D.keystore){t.next=3;break}return k.default.error({key:"accessDenied",message:N.formatMessage({id:"error.accessDenied"}),duration:null}),t.abrupt("return");case 3:if(t.prev=3,A=((S=c.scores)!==null&&S!==void 0?S:[]).map(function(w){return[w.tag,w.score]}),!(c&&c.signature)){t.next=11;break}return t.next=8,(0,ae.nm)(j,F,D==null?void 0:D.did,A,c.referer,c.signature,c.signer_account,H,D.keystore,i,_);case 8:o=t.sent,t.next=14;break;case 11:return t.next=13,(0,ae.HS)(j,F,A,O,H,D.keystore,i,_);case 13:o=t.sent;case 14:if(!(i&&_)){t.next=16;break}return t.abrupt("return",o);case 16:k.default.success({message:"Claim Token Success"}),Ce(),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(3),console.log(t.t0),k.default.error({message:"Claim Ad Token Error",description:"".concat(t.t0)});case 24:case"end":return t.stop()}},Z,null,[[3,20]])}));return function(i,_){return U.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(xe.Z,{visable:!0,title:"Claim your token",content:(0,a.jsx)("div",{className:be().claimInfoContainer,children:(0,a.jsx)(Ve.Z,{spinning:!c,children:c&&c.scores&&c.scores.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Claim now and have your score updated:"}),c.scores.map(function(U){return(0,a.jsxs)("div",{className:be().scoreChange,children:[(0,a.jsx)(V.Z,{tag:U.tag}),(0,a.jsx)(Je.Z,{score:parseInt(U.score,10)})]})}),!c.signature&&(0,a.jsx)("p",{children:"Not happy with the reward? Follow the instructions before claiming."})]})})}),footer:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(b.Z,{block:!0,type:"primary",shape:"round",size:"large",disabled:!c,onClick:function(){return ve(!0)},children:"Claim"})}),close:function(){return x()}}),(0,a.jsx)(Ke.Z,{visable:se,setVisable:ve,passphrase:H,setPassphrase:me,func:he})]})},Ee=ta,z=e(51625),oe=function(g){var x,j=g.ad,F=g.nftId,de=g.referrer,O=g.asset,Ce=g.avatar,ue=g.did,m=g.adData,c=g.adImageOnLoad,ce=c===void 0?function(){}:c,je=(0,C.tT)("currentUser"),M=je.wallet,se=(0,l.useState)(!1),ve=(0,y.Z)(se,2),Oe=ve[0],W=ve[1],H=(0,l.useState)(!1),me=(0,y.Z)(H,2),fe=me[0],D=me[1],N=(0,C.tT)("apiWs"),Y=(0,C.YB)(),he=M!=null&&M.did?"".concat(window.location.origin,"/").concat(ue,"/").concat(F,"?referrer=").concat(M==null?void 0:M.did):"".concat(window.location.origin,"/").concat(ue,"/").concat(F),U=(0,Ue.st)(m==null?void 0:m.creator).substring(8),Z=function(){var i=(0,P.Z)(f().mark(function _(S,o,A){var te;return f().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,S.query.ad.payout(o,A);case 2:te=w.sent,te.isEmpty?D(!1):D(!0);case 4:case"end":return w.stop()}},_)}));return function(S,o,A){return i.apply(this,arguments)}}();return(0,l.useEffect)(function(){N&&m!==null&&m!==void 0&&m.id&&M!==null&&M!==void 0&&M.did&&Z(N,m==null?void 0:m.id,M==null?void 0:M.did)},[N,m,M]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:v().advertisementContainer,children:[(0,a.jsx)("div",{className:v().container,children:(0,a.jsx)("div",{className:v().topBar,children:(0,a.jsxs)("div",{className:v().sponsored,children:[(0,a.jsx)($.Z,{src:Ce||"/images/logo-round-core.svg",className:v().avatar,preview:!1,id:"avatar",fallback:"/images/logo-round-core.svg"}),(0,a.jsx)("span",{children:Y.formatMessage({id:"creator.explorer.advertisement.sponsoredBy"},{did:"".concat(U)})})]})})}),(0,a.jsx)(De.Z,{className:"".concat(ee().card," ").concat(v().adCard),style:{maxWidth:"650px",border:"none",marginBottom:"30px"},bodyStyle:{padding:0,width:"100%"},children:(0,a.jsxs)("div",{className:v().advertisement,children:[(0,a.jsx)("div",{className:v().adMedia,children:(0,a.jsx)($.Z,{src:j==null?void 0:j.media,placeholder:!0,preview:!1,className:v().adMediaImg,onLoad:ce})}),(j==null?void 0:j.instructions)&&(j==null||(x=j.instructions)===null||x===void 0?void 0:x.length)>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:v().instructions,children:[(0,a.jsxs)("div",{className:v().instructionTitle,children:["Follow the instructions to improve your DID reputation score",(0,a.jsx)(ge.Z,{placement:"top",title:"Your DID reputation score is a number attached to your DID that can be increased by performing tasks. The higher your DID reputation score, the higher the reward.",children:(0,a.jsx)(ea.Z,{style:{marginLeft:"5px"}})})]}),j.instructions.map(function(i,_){return(0,a.jsxs)("div",{className:"".concat(v().instruction," ").concat(i.link?v().withLink:""),onClick:function(){!!i.link&&window.open("".concat(z.Z.main.weeklySite,"?redirect=").concat(i.link,"&nftId=").concat(F,"&did=").concat(M==null?void 0:M.did,"&ad=").concat(m==null?void 0:m.id,"&referrer=").concat(de,"&tag=").concat(i.tag,"&score=").concat(i.score))},children:[(0,a.jsx)("span",{className:v().instructionText,children:i.text}),!!i.tag&&(0,a.jsx)(V.Z,{tag:i.tag}),!!i.score&&(0,a.jsx)(Je.Z,{score:parseInt(i.score,10)})]},_)})]})})]})}),(0,a.jsxs)("div",{className:v().buttonContainer,children:[fe&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.Z,{block:!0,type:"primary",shape:"round",size:"large",className:v().actionBtn,icon:(0,a.jsx)(ua,{}),onClick:(0,P.Z)(f().mark(function i(){var _;return f().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(_={title:"Para Metaverse Identity",text:Y.formatMessage({id:"creator.explorer.shareMessage"}),url:he},!(navigator.canShare&&navigator.canShare(_))){o.next=12;break}return o.prev=2,o.next=5,navigator.share(_);case 5:o.next=10;break;case 7:o.prev=7,o.t0=o.catch(2),console.log(o.t0);case 10:o.next=14;break;case 12:sa()(he+" ".concat(Y.formatMessage({id:"creator.explorer.shareMessage"},{token:"$".concat(O==null?void 0:O.symbol)}))),q.default.success(Y.formatMessage({id:"common.copied"}));case 14:case"end":return o.stop()}},i,null,[[2,7]])})),children:Y.formatMessage({id:"creator.explorer.advertisement.share"},{token:"$".concat(O==null?void 0:O.symbol)})}),(0,a.jsx)(b.Z,{block:!0,type:"primary",shape:"round",size:"large",className:v().actionBtn,icon:(0,a.jsx)(s,{}),onClick:function(){C.m8.push("/wallet")},children:"Check your reward and score"})]}),!fe&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(b.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,a.jsx)(We,{}),className:v().claimBtn,onClick:function(){return W(!0)},children:"Claim your $".concat(O==null?void 0:O.symbol)})})]}),Oe&&(0,a.jsx)(Ee,{adId:m==null?void 0:m.id,nftId:F,referrer:de,onClose:function(){return W(!1)},onClaim:function(){W(!1),D(!0)}})]})})},Ae=oe,L=e(90802),T=e.n(L),Xe=e(51615),Qe=e(28943),G=e(47673),va=e(32787),Ha=e(402),ga=e(3887),ra=e(59749),ya=e(3548),Ma=ga.Z.Title,Ea=function(g){var x=g.nft,j=(0,C.tT)("balance"),F=j.balance,de=(0,C.tT)("currentUser"),O=de.wallet,Ce=(0,l.useState)(!1),ue=(0,y.Z)(Ce,2),m=ue[0],c=ue[1],ce=(0,l.useState)(!1),je=(0,y.Z)(ce,2),M=je[0],se=je[1],ve=(0,l.useState)("0"),Oe=(0,y.Z)(ve,2),W=Oe[0],H=Oe[1],me=(0,l.useState)(""),fe=(0,y.Z)(me,2),D=fe[0],N=fe[1],Y=(0,l.useState)(!1),he=(0,y.Z)(Y,2),U=he[0],Z=he[1],i=(0,C.YB)(),_=function(){var S=(0,P.Z)(f().mark(function o(A,te){var t;return f().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!(!!O&&!!(O!=null&&O.keystore))){I.next=18;break}return I.prev=1,I.next=4,(0,Qe.MW)(x.tokenAssetId,(0,ra.HM)(W,18).toString(),D,O==null?void 0:O.keystore,A,te);case 4:if(t=I.sent,se(!1),c(!1),!(A&&te)){I.next=9;break}return I.abrupt("return",t);case 9:I.next=16;break;case 11:return I.prev=11,I.t0=I.catch(1),k.default.error({message:I.t0.message||I.t0,duration:null}),c(!1),I.abrupt("return");case 16:I.next=19;break;case 18:k.default.error({key:"accessDenied",message:i.formatMessage({id:"error.accessDenied"}),duration:null});case 19:case"end":return I.stop()}},o,null,[[1,11]])}));return function(A,te){return S.apply(this,arguments)}}();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(Ve.Z,{tip:i.formatMessage({id:"common.submitting"}),spinning:m,wrapperClassName:ee().pageContainer,children:[(0,a.jsx)(De.Z,{className:ee().card,bodyStyle:{width:"100%"},children:(0,a.jsxs)("div",{className:v().trade,children:[(0,a.jsx)(Ma,{level:3,style:{fontWeight:"bold",textAlign:"center"},className:ee().title,children:i.formatMessage({id:"creator.explorer.support"})}),(0,a.jsx)(va.Z,{autoFocus:!0,size:"large",placeholder:"0",bordered:!1,className:"".concat(v().input," bigInput"),value:W,onChange:function(o){H(o.target.value)},disabled:m,type:"number"}),(0,a.jsx)(Q.Z,{}),(0,a.jsx)(b.Z,{block:!0,shape:"round",type:"primary",size:"large",onClick:function(){se(!0)},children:i.formatMessage({id:"creator.explorer.support"})})]})}),(0,a.jsx)(xe.Z,{visable:M,title:i.formatMessage({id:"creator.explorer.support"}),content:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:v().tradeModal,children:[(0,a.jsx)(va.Z,{autoFocus:!0,size:"large",placeholder:i.formatMessage({id:"stake.add.number.placeholder"}),bordered:!1,className:"".concat(v().input," bigInput"),value:W,onChange:function(o){H(o.target.value)},disabled:m,type:"number"}),(0,a.jsxs)("div",{className:v().field,children:[(0,a.jsx)("span",{className:v().title,children:i.formatMessage({id:"creator.explorer.availableBalance"})}),(0,a.jsx)("span",{className:v().value,children:(0,a.jsx)(ya.Z,{value:F.free})})]})]})}),footer:(0,a.jsx)(b.Z,{block:!0,shape:"round",type:"primary",size:"large",loading:m,disabled:(0,ra.HM)(W,18)<=BigInt(0)||(0,ra.HM)(W,18)>BigInt(F.free),onClick:function(){c(!0),Z(!0)},children:i.formatMessage({id:"common.submit"})}),close:function(){se(!1)}}),(0,a.jsx)(Ke.Z,{visable:U,setVisable:Z,passphrase:D,setPassphrase:N,func:_})]})})},Ca=Ea,ja=e(13580),Oa=e(33044),Da=e(29791),_a=function(){var g,x,j=(0,C.tT)("apiWs"),F=(0,C.tT)("currentUser"),de=F.wallet,O=(0,C.tT)("bodyChange"),Ce=O.bodyHeight,ue=(0,l.useState)(!0),m=(0,y.Z)(ue,2),c=m[0],ce=m[1],je=(0,l.useState)(""),M=(0,y.Z)(je,2),se=M[0],ve=M[1],Oe=(0,l.useState)(!0),W=(0,y.Z)(Oe,2),H=W[0],me=W[1],fe=(0,l.useState)(),D=(0,y.Z)(fe,2),N=D[0],Y=D[1],he=(0,l.useState)(),U=(0,y.Z)(he,2),Z=U[0],i=U[1],_=(0,l.useState)(),S=(0,y.Z)(_,2),o=S[0],A=S[1],te=(0,l.useState)(!1),t=(0,y.Z)(te,2),w=t[0],I=t[1],Pa=(0,l.useState)(),ma=(0,y.Z)(Pa,2),na=ma[0],Ia=ma[1],ba=(0,l.useState)(),fa=(0,y.Z)(ba,2),ke=fa[0],Za=fa[1],xa=(0,l.useState)(null),ha=(0,y.Z)(xa,2),Aa=ha[0],Ta=ha[1],re=(0,C.YB)(),pa=(0,C.md)(),Na=(g=document.getElementById("avatar"))===null||g===void 0?void 0:g.offsetTop,Ba=(x=document.getElementById("avatar"))===null||x===void 0?void 0:x.offsetLeft,La=document.body.clientWidth,B=(0,Xe.UO)(),Wa=C.m8.location.query,Ua=Wa,Ra=Ua.referrer,qe=B!=null&&B.kol?"did"+(B==null?void 0:B.kol):(0,Ue.st)(de.did),la=(0,Ue.Zc)(qe),ia=function(E){k.default.error({message:E.message,duration:null})},Ka=function(){var u=(0,P.Z)(f().mark(function E(){var d;return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,ae.qX)(B.nftID);case 2:if(d=r.sent,d){r.next=6;break}return C.m8.replace("".concat(window.location.pathname,"/dao")),r.abrupt("return");case 6:Ia(d);case 7:case"end":return r.stop()}},E)}));return function(){return u.apply(this,arguments)}}(),ka=function(){var u=(0,P.Z)(f().mark(function E(d){var R,r,oa,ne,da;return f().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!((d==null||(R=d.metadata)===null||R===void 0?void 0:R.indexOf("ipfs://"))<0)){J.next=2;break}return J.abrupt("return");case 2:return oa=d==null||(r=d.metadata)===null||r===void 0?void 0:r.substring(7),J.next=5,fetch(z.Z.ipfs.endpoint+oa);case 5:return ne=J.sent,J.next=8,ne.json();case 8:if(da=J.sent,da){J.next=11;break}return J.abrupt("return");case 11:Ta(da);case 12:case"end":return J.stop()}},E)}));return function(d){return u.apply(this,arguments)}}();(0,l.useEffect)(function(){if(na)try{var u=na.ad;if(!(u!=null&&u.metadata))return;Za(u),ka(u)}catch(E){ia(E)}},[na]);var za=function(){var u=(0,P.Z)(f().mark(function E(){var d;return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,Qe.JI)(la);case 3:if(d=r.sent,!d.isEmpty){r.next=7;break}return me(!1),r.abrupt("return");case 7:window.location.href="".concat(window.location.origin,"/").concat(qe,"/").concat(d),r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),k.default.error({message:r.t0.message,duration:null}),r.abrupt("return");case 14:case"end":return r.stop()}},E,null,[[0,10]])}));return function(){return u.apply(this,arguments)}}(),Fa=function(){var u=(0,P.Z)(f().mark(function E(){var d;return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,Oa.q5)(la);case 2:if(d=r.sent,d){r.next=7;break}return k.default.error({message:re.formatMessage({id:"error.identity.notFound"}),duration:null}),C.m8.goBack(),r.abrupt("return");case 7:Y(d);case 9:case"end":return r.stop()}},E)}));return function(){return u.apply(this,arguments)}}();(0,l.useEffect)(function(){var u;document.title="".concat((u=o==null?void 0:o.name)!==null&&u!==void 0?u:qe," - Para Metaverse Identity")},[o]),(0,l.useEffect)(function(){if(N&&(N==null?void 0:N.avatar.indexOf("ipfs://"))>-1){var u,E=N==null||(u=N.avatar)===null||u===void 0?void 0:u.substring(7);(0,Ge.nH)(z.Z.ipfs.endpoint+E).then(function(d){var R=d.response,r=d.data;(R==null?void 0:R.status)===200&&ve(window.URL.createObjectURL(r))})}},[N]);var wa=function(){var u=(0,P.Z)(f().mark(function E(){var d;return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,Qe.X6)(B==null?void 0:B.nftID);case 2:if(d=r.sent,d){r.next=7;break}return k.default.error({message:re.formatMessage({id:"error.nft.notFound"}),duration:null}),C.m8.goBack(),r.abrupt("return");case 7:if((d==null?void 0:d.owner)===la){r.next=11;break}return k.default.error({message:re.formatMessage({id:"error.nft.notFound"}),duration:null}),C.m8.goBack(),r.abrupt("return");case 11:i(d);case 12:case"end":return r.stop()}},E)}));return function(){return u.apply(this,arguments)}}();return(0,l.useEffect)(function(){var u=function(){var E=(0,P.Z)(f().mark(function d(){var R,r;return f().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,(0,ja.Ay)(Z==null?void 0:Z.tokenAssetId);case 2:if(R=ne.sent,!R.isEmpty){ne.next=6;break}return me(!1),ne.abrupt("return");case 6:r=R.toHuman(),A(r);case 8:case"end":return ne.stop()}},d)}));return function(){return E.apply(this,arguments)}}();if(Z)try{u()}catch(E){ia(E)}},[Z]),(0,l.useEffect)(function(){if(j&&!(B!=null&&B.nftID)&&za(),pa.canWalletUser||(localStorage.setItem("parami:wallet:redirect",window.location.href),I(!0)),j)try{Ka(),wa(),Fa()}catch(u){ia(u)}},[j]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:T().explorerContainer,children:[H&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($.Z,{src:se||"/images/default-avatar.svg",fallback:"/images/default-avatar.svg",className:T().avatar,style:{top:c?(Ce-400)/2:Na,left:c?(La-200)/2:Ba,width:c?200:30,height:c?200:30,animation:c?1:0,position:c?"fixed":"absolute",display:c||ke&&Object.keys(ke).length?"flex":"none"},preview:!1}),(0,a.jsx)("div",{className:T().loading,style:{opacity:c?1:0,zIndex:c?15:-1,height:Ce,minHeight:"100vh"},children:(0,a.jsx)("span",{className:T().loadingTip,children:re.formatMessage({id:"creator.explorer.loading.tip",defaultMessage:"Let's find out more about the NFT.{br} Surprise awaits..."},{br:(0,a.jsx)("br",{})})})})]}),!H&&pa.canWalletUser&&Z&&(0,a.jsx)("div",{className:ee().pageContainer,style:{paddingTop:50,maxWidth:1920},children:(0,a.jsx)(Ca,{nft:Z})}),H&&ke&&Object.keys(ke).length>0&&(0,a.jsx)("div",{className:ee().pageContainer,style:{paddingTop:50,maxWidth:"100%"},children:(0,a.jsx)(Ae,{ad:Aa,nftId:B==null?void 0:B.nftID,referrer:Ra,asset:o,avatar:se,did:qe,adData:ke,adImageOnLoad:function(){ce(!1)}})}),(0,a.jsx)(Da.Z,{})]}),(0,a.jsx)(xe.Z,{visable:w,title:re.formatMessage({id:"error.identity.notUser"}),content:(0,a.jsx)("div",{className:T().notUser,children:(0,a.jsxs)("div",{className:T().buttons,children:[(0,a.jsxs)(b.Z,{block:!0,size:"large",type:"primary",shape:"round",className:T().button,onClick:function(){C.m8.push(z.Z.page.createPage)},children:[(0,a.jsx)("div",{className:T().title,children:re.formatMessage({id:"index.createAccount"})}),(0,a.jsx)("span",{className:T().desc,children:re.formatMessage({id:"index.createAccount.desc"})})]}),(0,a.jsx)(Q.Z,{children:re.formatMessage({id:"index.or"})}),(0,a.jsxs)(b.Z,{block:!0,ghost:!0,size:"large",type:"link",shape:"round",className:"".concat(T().button," ").concat(T().buttonImport),onClick:function(){C.m8.push(z.Z.page.recoverPage)},children:[(0,a.jsx)("div",{className:T().title,children:re.formatMessage({id:"index.importAccount"})}),(0,a.jsx)("span",{className:T().desc,children:re.formatMessage({id:"index.importAccount.desc"})})]})]})}),close:void 0,footer:!1})]})},Sa=_a},79762:function(K,X,e){"use strict";var ze=e(67294),Q=e(8556),pe=e.n(Q),b=e(85893);function Ze($){var P=$.score;return(0,b.jsxs)("span",{className:pe().scoreContainer,children:[P>=0&&(0,b.jsxs)("span",{className:pe().positive,children:["+",P]}),P<0&&(0,b.jsxs)("span",{className:pe().negative,children:["-",Math.abs(P)]})]})}X.Z=Ze},11561:function(K,X,e){"use strict";var ze=e(67294),Q=e(28531),pe=e.n(Q),b=e(85893);function Ze($){var P=$.tag;return(0,b.jsx)("span",{className:pe().tag,children:P})}X.Z=Ze}}]);

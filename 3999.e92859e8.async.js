(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[3999],{88379:function(P){P.exports={adBubble:"adBubble___36elO",adBubbleArrow:"adBubbleArrow___27xt-",back:"back___15xYs",front:"front___1DB4A",adContent:"adContent___gBU68",adDescription:"adDescription___1qX2s",descriptionText:"descriptionText___21qe0",tags:"tags___2J0ty",tag:"tag___3dxx1",posterSection:"posterSection___FTwKm",adPosterImg:"adPosterImg___3F4bU",mask:"mask___1VVY7",pinned:"pinned___1IYuf",infoText:"infoText___8FC9c",rewardRow:"rewardRow___3k5Cl",btnContainer:"btnContainer___3KEBm",rewardInfoMark:"rewardInfoMark___1uU9L",rewardInfo:"rewardInfo___1kYxW",kolIcon:"kolIcon___pxoGq",rewardAmount:"rewardAmount___33QEb",rewardNumber:"rewardNumber___3_Q6q",rewardToken:"rewardToken___xmoV-",claimedIcon:"claimedIcon___3oSaW",actionBtn:"actionBtn___1I28G",left:"left___3gepj",right:"right___3WH__",hoverHint:"hoverHint___1VT_2",hintIcon:"hintIcon___1ds5g",posterPlaceHolder:"posterPlaceHolder___JfgPn"}},55133:function(P){P.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(P){P.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},13999:function(P,S,s){"use strict";var oe=s(20228),k=s(11382),X=s(22385),w=s(31097),J=s(74379),b=s(38648),de=s(34792),I=s(48086),j=s(3182),E=s(2824),ce=s(94043),M=s.n(ce),y=s(67294),Q=s(88379),l=s.n(Q),ee=s(20640),ae=s.n(ee),x=s(7085),D=s(43581),U=s(51625),se=s(46656),_=s(2215),Z=s(28986),a=s(85893);function ne(L){var F,t,$,G,i=L.ad,f=L.userDid,h=L.referrer,V=L.preview,e=V===void 0?!1:V,T=(0,D.tT)("currentUser"),A=T.wallet,W=(0,y.useState)(!1),Y=(0,E.Z)(W,2),N=Y[0],p=Y[1],re=(0,y.useState)(!!i.claimed),n=(0,E.Z)(re,2),O=n[0],q=n[1],le=(0,y.useState)(!1),H=(0,E.Z)(le,2),R=H[0],B=H[1],te=(0,y.useState)(""),z=(0,E.Z)(te,2),g=z[0],ie=z[1],v=function(){var u=(0,j.Z)(M().mark(function C(o){var c,m;return M().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(p(!0),o&&i.link&&window.open(decodeURIComponent(i.link)),i.type!==Z.Sg.CLOCK_IN){r.next=5;break}return B(!0),r.abrupt("return");case 5:return r.prev=5,c={adId:i.adId,nftId:i.nftId,did:f,referrer:h,score:{tag:i.tag,score:o?i.score:"-5"}},r.next=9,fetch("".concat(U.Z.main.weeklySite,"api/pay"),{headers:{"content-type":"application/json"},body:JSON.stringify(c),method:"POST"});case 9:m=r.sent,p(!1),m.ok?q(!0):I.default.error({content:"Network Error. Please try again later."}),r.next=19;break;case 14:r.prev=14,r.t0=r.catch(5),console.log("Ad claim error",r.t0),p(!1),I.default.error({content:"Network Error. Please try again later."});case 19:case"end":return r.stop()}},C,null,[[5,14]])}));return function(o){return u.apply(this,arguments)}}(),_e=function(){var u=(0,j.Z)(M().mark(function C(o,c){var m;return M().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,_.iG)(i.nftId,g,A==null?void 0:A.keystore,o,c);case 3:if(m=r.sent,!(o&&c)){r.next=6;break}return r.abrupt("return",m);case 6:q(!0),p(!1),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),b.default.error({message:r.t0.message||r.t0,duration:null}),p(!1);case 14:case"end":return r.stop()}},C,null,[[0,10]])}));return function(o,c){return u.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:l().adBubble,children:[(0,a.jsx)("div",{className:"".concat(l().adBubbleArrow," ").concat(l().front)}),(0,a.jsx)("div",{className:"".concat(l().adBubbleArrow," ").concat(l().back)}),(0,a.jsxs)("div",{className:l().adContent,children:[(0,a.jsxs)("div",{className:l().adDescription,children:[(0,a.jsx)("span",{className:l().descriptionText,children:(F=i.content)!==null&&F!==void 0?F:"View Ads. Get Paid."}),i.tag&&(0,a.jsx)("span",{className:l().tags,children:(0,a.jsxs)("span",{className:"tag",children:["#",i.tag]})})]}),!i.poster&&e&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:l().posterPlaceHolder,children:"Your poster goes here"})}),i.poster&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(k.Z,{spinning:N,indicator:(0,a.jsx)(x.Z,{style:{fontSize:24},spin:!0}),tip:"Claiming...",children:(0,a.jsxs)("div",{className:l().posterSection,children:[(0,a.jsx)("img",{src:i.poster,referrerPolicy:"no-referrer",className:l().adPosterImg}),(0,a.jsx)("div",{className:"".concat(l().mask," ").concat(O?l().pinned:""),children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:l().infoText,children:[O?"You have claimed":"You will be rewarded",(0,a.jsx)(w.Z,{title:"Rewards are calculated based on your DID preference score",children:(0,a.jsx)("span",{className:l().rewardInfoMark,children:(0,a.jsx)("i",{className:"fa-solid fa-circle-exclamation"})})})]}),(0,a.jsxs)("div",{className:"".concat(l().rewardRow),children:[(0,a.jsxs)("div",{className:"".concat(l().rewardInfo),children:[(0,a.jsx)("img",{referrerPolicy:"no-referrer",className:l().kolIcon,src:(t=i.kolIcon)!==null&&t!==void 0?t:"/images/logo-square-core.svg"}),(0,a.jsxs)("span",{className:l().rewardAmount,children:[(0,a.jsx)("span",{className:l().rewardNumber,children:($=i.rewardAmount)!==null&&$!==void 0?$:"300.00"}),(0,a.jsxs)("span",{className:l().rewardToken,children:[(G=i.assetName)!==null&&G!==void 0?G:"XXX"," NFT Power"]})]})]}),O&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:l().claimedIcon,children:(0,a.jsx)("i",{className:"fa-solid fa-circle-check"})})})]}),(0,a.jsx)("div",{className:l().btnContainer,children:(0,a.jsxs)(a.Fragment,{children:[O&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"".concat(l().actionBtn," ").concat(l().left),onClick:function(){D.m8.push("/swap/".concat(i.nftId))},children:"Buy more"}),(0,a.jsx)("div",{className:"".concat(l().actionBtn," ").concat(l().right),onClick:(0,j.Z)(M().mark(function u(){return M().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:ae()("".concat(window.location.origin,"/ad/?nftId=").concat(i.nftId,"&referrer=").concat(f)),b.default.success({message:"Referral link copied!"});case 2:case"end":return o.stop()}},u)})),children:"Share & Earn more"})]}),!O&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(a.Fragment,{children:[i.type===Z.Sg.AD&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"".concat(l().actionBtn," ").concat(l().left),onClick:function(){!e&&v(!1)},children:"Claim"}),(0,a.jsx)("div",{className:"".concat(l().actionBtn," ").concat(l().right),onClick:function(){!e&&v(!0)},children:"Claim & Learn more"})]}),i.type===Z.Sg.CLOCK_IN&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"".concat(l().actionBtn," ").concat(l().left," ").concat(l().right),onClick:function(){!e&&v(!1)},children:"Claim"})})]})})]})})]})}),!O&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:l().hoverHint,children:(0,a.jsx)("div",{className:l().hintIcon,children:(0,a.jsx)("i",{className:"fa-solid fa-arrow-up-right-from-square"})})})})]})})})]})]}),R&&(0,a.jsx)(se.Z,{visable:R,setVisable:B,passphrase:g,setPassphrase:ie,func:_e})]})}S.Z=ne},46656:function(P,S,s){"use strict";var oe=s(71194),k=s(50146),X=s(47673),w=s(32787),J=s(22385),b=s(31097),de=s(17462),I=s(76772),j=s(57663),E=s(71577),ce=s(74379),M=s(38648),y=s(3182),Q=s(2824),l=s(402),ee=s(3887),ae=s(94043),x=s.n(ae),D=s(67294),U=s(43581),se=s(55133),_=s.n(se),Z=s(3548),a=s(68855),ne=s(47832),L=s(43955),F=s(51625),t=s(85893),$=ee.Z.Title,G=function(f){var h=f.visable,V=f.setVisable,e=f.passphrase,T=f.setPassphrase,A=f.func,W=f.changePassphrase,Y=f.directSubmit,N=Y===void 0?!1:Y,p=(0,U.tT)("apiWs"),re=(0,U.tT)("currentUser"),n=re.wallet,O=(0,U.tT)("balance"),q=O.balance,le=(0,D.useState)(!1),H=(0,Q.Z)(le,2),R=H[0],B=H[1],te=(0,D.useState)(),z=(0,Q.Z)(te,2),g=z[0],ie=z[1],v=(0,U.YB)(),_e=function(c){T(c?c.target.value:"")},u=function(){var o=(0,y.Z)(x().mark(function c(){var m,K,r,ue,me;return x().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(B(!0),n!=null&&n.passphrase&&T(n==null?void 0:n.passphrase),!((!e||e.length<6)&&!(n!=null&&n.passphrase))){d.next=5;break}return B(!1),d.abrupt("return");case 5:if(m=(n==null?void 0:n.passphrase)||e,!(m&&n!==null&&n!==void 0&&n.keystore)){d.next=16;break}if(K=(0,ne.Gh)(m,n.keystore),K){d.next=13;break}return M.default.error({key:"passphraseError",message:v.formatMessage({id:"error.passphrase.error"}),duration:null}),T(""),B(!1),d.abrupt("return");case 13:r=new L.ZP({type:"sr25519"}),ue=r.addFromUri(K),me=ue.address,n!=null&&n.account&&n.account!==me&&(localStorage.clear(),sessionStorage.clear(),window.location.href=F.Z.page.homePage);case 16:if(!A){d.next=25;break}return d.prev=17,d.next=20,A();case 20:d.next=25;break;case 22:d.prev=22,d.t0=d.catch(17),console.log("security modal submit func error fallback",d.t0);case 25:V(!1),B(!1);case 27:case"end":return d.stop()}},c,null,[[17,22]])}));return function(){return o.apply(this,arguments)}}(),C=function(){var o=(0,y.Z)(x().mark(function c(){var m;return x().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(!!p&&!!n.account)){r.next=11;break}return r.next=3,A(!0,n.account);case 3:if(m=r.sent,!m){r.next=8;break}ie(m.partialFee),r.next=11;break;case 8:if(W){r.next=11;break}return r.next=11,u();case 11:case"end":return r.stop()}},c)}));return function(){return o.apply(this,arguments)}}();return(0,D.useEffect)(function(){!!p&&!!(n!=null&&n.account)&&h&&!N&&C()},[p,n==null?void 0:n.account,h,N]),(0,D.useEffect)(function(){!!(n!=null&&n.passphrase)&&h&&!W&&T(n==null?void 0:n.passphrase)},[n==null?void 0:n.passphrase,e,h,W]),(0,D.useEffect)(function(){e&&h&&N&&u()},[e,h,N]),(0,t.jsxs)(k.Z,{title:(0,t.jsx)($,{level:3,children:v.formatMessage({id:"modal.security.title"})}),closable:!1,className:_().modal,centered:!0,visible:h,width:400,footer:(0,t.jsxs)("div",{className:_().buttons,children:[(0,t.jsx)(E.Z,{type:"text",shape:"round",size:"large",className:_().button,onClick:function(){V(!1),window.location.reload()},loading:R,children:v.formatMessage({id:"common.decline"})}),(0,t.jsx)(E.Z,{type:"primary",shape:"round",size:"large",className:_().button,onClick:function(){u()},disabled:!e||e.length<6,loading:R,children:v.formatMessage({id:"common.confirm"})})]}),children:[(0,t.jsxs)("div",{className:_().confirmContainer,children:[!!g&&!!(g!=null&&g.toString())>q.free&&(0,t.jsx)(I.Z,{description:v.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:_().alertContainer}),!!g&&(0,t.jsxs)("div",{className:_().field,children:[(0,t.jsxs)("div",{className:_().labal,children:[v.formatMessage({id:"modal.security.gas"}),(0,t.jsxs)("span",{className:_().small,children:["(",v.formatMessage({id:"modal.security.estimated"}),")"]}),(0,t.jsx)(b.Z,{placement:"bottom",title:v.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,t.jsx)(a.Z,{className:_().labalIcon})})]}),(0,t.jsx)("div",{className:_().value,children:(0,t.jsx)(Z.Z,{value:g,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(n!=null&&n.passphrase)||W)&&(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,t.jsxs)("div",{className:_().codeInput,children:[(0,t.jsxs)("div",{className:_().verifyForm,children:[(0,t.jsx)("span",{className:(e==null?void 0:e.slice(0))&&!(e!=null&&e.slice(1,5))&&_().highLight,children:e==null?void 0:e.slice(0,1).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(e==null?void 0:e.slice(1))&&!(e!=null&&e.slice(2,5))&&_().highLight,children:e==null?void 0:e.slice(1,2).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(e==null?void 0:e.slice(2,3))&&!(e!=null&&e.slice(3,5))&&_().highLight,children:e==null?void 0:e.slice(2,3).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(e==null?void 0:e.slice(3,4))&&!(e!=null&&e.slice(4,5))&&_().highLight,children:e==null?void 0:e.slice(3,4).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(e==null?void 0:e.slice(4,5))&&!(e!=null&&e.slice(5))&&_().highLight,children:e==null?void 0:e.slice(4,5).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(e==null?void 0:e.slice(5))&&_().highLight,children:e==null?void 0:e.slice(5).replace(/[^]/,"\u2731")})]}),(0,t.jsx)(w.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:_().verifyInput,onChange:_e,value:e,disabled:R,maxLength:6,visibilityToggle:!1})]})})]})};S.Z=G},3548:function(P,S,s){"use strict";var oe=s(67294),k=s(31639),X=s.n(k),w=s(96534),J=s(85893),b=function(I){var j=I.value,E=I.style;return(0,J.jsxs)("div",{className:X().ad3,style:E,children:[j?(0,w.MP)(j):"--",(0,J.jsx)("span",{className:X().unit,children:"\xA0$AD3"})]})};S.Z=b}}]);

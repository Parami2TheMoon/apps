(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[4662],{20592:function(T){T.exports={skeletonContainer:"skeletonContainer___3qdtO",skeleton:"skeleton___36Byl","skeleton-loading":"skeleton-loading___2Ztrp"}},23683:function(T){T.exports={selectContainer:"selectContainer___2x0Im",selectHeader:"selectHeader___218Wl",selectHeaderSectionTitle:"selectHeaderSectionTitle___1HB7Q",fromNetwork:"fromNetwork___2xTmw",fromNetworkIcon:"fromNetworkIcon___361zv",selectWrapper:"selectWrapper___2awkC",selectItem:"selectItem___F7nwo",itemInfo:"itemInfo___1Gkdn",itemInfoIcon:"itemInfoIcon___3-2ZL",itemNameSymbol:"itemNameSymbol___3hDIh",itemName:"itemName___28Q_Y",itemSymbol:"itemSymbol___3Lq0-",itemBalance:"itemBalance___3aigr"}},66054:function(T){T.exports={tokenAndAmountDetails:"tokenAndAmountDetails___244cv",tokenDetails:"tokenDetails___1Xqhu",chainIcon:"chainIcon___2Yar0",tokenDetailsTokenName:"tokenDetailsTokenName___TIJAK",tokenDetailsArrow:"tokenDetailsArrow___1Pzqi",amountDetails:"amountDetails___316ye",amountDetailsMaxButton:"amountDetailsMaxButton___24P40",inputError:"inputError___1Y98J",inputErrorMsg:"inputErrorMsg___2Rs63"}},35831:function(T){T.exports={tagInput:"tagInput___1Slo7",tag:"tag___3Iw9d",buttons:"buttons___1_Ps-",metaDataImg:"metaDataImg___3w1UR",avatar:"avatar___2zzye",tokenAndAmountDetails:"tokenAndAmountDetails___1qJkU",tokenDetails:"tokenDetails___1lLI5",chainIcon:"chainIcon____aonj",tokenDetailsTokenName:"tokenDetailsTokenName___2HmJf",tokenDetailsArrow:"tokenDetailsArrow___XRwU3",amountDetails:"amountDetails___H2uWg",amountDetailsMaxButton:"amountDetailsMaxButton___1acEK",decodeDIDEntry:"decodeDIDEntry___1TVUc",inputError:"inputError___2fm_c"}},38520:function(T){T.exports={noNFTs:"noNFTs___LOupa",topImage:"topImage___3Oy4k",description:"description___16Jye",buttons:"buttons___iZUHf",buttonRow:"buttonRow___1u8XT",button:"button___2rjSY",nftsList:"nftsList___3Z3HD",nftItem:"nftItem___2pQ10",card:"card___2HHT1",cardWrapper:"cardWrapper___2uj88",cardBox:"cardBox___1Oqh7",cover:"cover___1IYqm",nftID:"nftID___3hu6W",filterImage:"filterImage___3f8gz",cardDetail:"cardDetail___2lyWW",text:"text___2IThF",status:"status___3gpn0",label:"label___3pEL3",value:"value___3P6o9",action:"action___2G7kR",progress:"progress___36kDQ",unmint:"unmint___2rgXb",newItem:"newItem___2DN7A",spinWrapper:"spinWrapper___2j39V",createNFT:"createNFT___1EH5Y",importNFT:"importNFT___1va2f",icon:"icon___XW568",divider:"divider___35eHG"}},58377:function(T){T.exports={registerContainer:"registerContainer___1Hf1Q",field:"field___4GAnR",tip:"tip___-yRgY"}},13500:function(T){T.exports={pageContainer:"pageContainer___3DuRF",createModal:"createModal___28GZ-",becomeButton:"becomeButton___3m8An",minimum:"minimum___1G6B2"}},24787:function(T){T.exports={mainContainer:"mainContainer___VzUCC",mainBgContainer:"mainBgContainer___2Nlq7",mainIndexContainer:"mainIndexContainer___1Mqvq",background:"background___25786",logoMark:"logoMark___153gX",mainTopContainer:"mainTopContainer___2Cw6K",pageContainer:"pageContainer___2ssxe",stepContainer:"stepContainer___LPJXV",contentContainer:"contentContainer___2e-al",badge:"badge___3vf4B",dashboardCard:"dashboardCard___3oOcj",windowCard:"windowCard___3FjX2",windowCardBody:"windowCardBody___2zSRs",field:"field___3q5d2",title:"title___1BPSo",value:"value___1TvCY",rowField:"rowField___1vUg5",switchButton:"switchButton___3EjXy",statistic:"statistic___2TWER",modalBody:"modalBody___3SJQA",dividerTitle:"dividerTitle___1UTj3",table:"table___1zfPw",withAfterInput:"withAfterInput___3UZxJ",tabSelector:"tabSelector___2tj32",tabItem:"tabItem___3ymbk",inactive:"inactive___12iuZ",noAssets:"noAssets___FcwbD",topImage:"topImage___mHPfd"}},62543:function(T,Ze,a){"use strict";var Qe=a(67294),De=a(20592),Pe=a.n(De),fe=a(85893),Fe=function(be){var oe=be.children,We=be.loading,k=be.height,z=be.styles;return(0,fe.jsx)("div",{className:Pe().skeletonContainer,style:z,children:We?(0,fe.jsx)("div",{className:Pe().skeleton,style:{height:k||"10vh"}}):oe})};Ze.Z=Fe},56027:function(T,Ze,a){"use strict";a.r(Ze),a.d(Ze,{default:function(){return js}});var Qe=a(58024),De=a(39144),Pe=a(10322),fe=a(66453),Fe=a(95300),we=a(7277),be=a(57663),oe=a(71577),We=a(74379),k=a(38648),z=a(3182),ja=a(49111),qe=a(19650),ze=a(20136),ea=a(55241),Te=a(22385),K=a(31097),r=a(2824),ue=a(94043),c=a.n(ue),t=a(67294),xe=a(24787),s=a.n(xe),He=a(13500),ae=a.n(He),E=a(43581),aa=a(28991),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},Wa=Y,za=a(27029),Sa=function(p,M){return t.createElement(za.Z,(0,aa.Z)((0,aa.Z)({},p),{},{ref:M,icon:Wa}))};Sa.displayName="PlusCircleOutlined";var Ha=t.forwardRef(Sa),$a=a(79720),xa=a(62543),ke=a(69764),ks=a(17462),ya=a(76772),Va=a(58377),$e=a.n(Va),he=a(59749),Ne=a(96534),Ce=a(61715),e=a(85893),Ka=function(p){var M=p.setIsAdvertisers,S=p.setBecomeModal,j=(0,E.tT)("dashboard.balance"),b=j.balance,ee=(0,E.tT)("currentUser"),f=ee.dashboard,u=(0,t.useState)(!1),F=(0,r.Z)(u,2),te=F[0],H=F[1],w=(0,E.YB)(),re=function(){var o=(0,z.Z)(c().mark(function N(){return c().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(!!f&&!!(f!=null&&f.accountMeta))){h.next=17;break}return H(!0),h.prev=2,h.next=5,(0,Ce.zW)((0,Ne.Vm)("1000"),JSON.parse(f==null?void 0:f.accountMeta));case 5:M(!0),H(!1),S(!1),h.next=14;break;case 10:h.prev=10,h.t0=h.catch(2),k.default.error({message:h.t0.message,duration:null}),H(!1);case 14:h.next=18;break;case 17:k.default.error({key:"accessDenied",message:w.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return h.stop()}},N,null,[[2,10]])}));return function(){return o.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:$e().registerContainer,children:[(0,e.jsx)("div",{className:$e().field,children:(0,e.jsx)("div",{className:$e().tip,children:(0,e.jsx)(ya.Z,{message:w.formatMessage({id:"dashboard.ads.register.description"}),type:"warning",showIcon:!0})})}),(0,e.jsx)("div",{className:$e().field,children:(0,e.jsx)(oe.Z,{block:!0,type:"primary",size:"large",shape:"round",loading:te,disabled:(b==null?void 0:b.free)<(0,he.HM)("1000",18),onClick:function(){re()},children:w.formatMessage({id:"common.submit"})})})]})},Ya=Ka,Es=a(43185),Ma=a(35372),As=a(71153),ba=a(60331),Bs=a(34792),sa=a(48086),ta=a(86582),Ps=a(43358),Na=a(90927),_s=a(47673),J=a(32787),Ja=a(35831),_e=a.n(Ja),ra=a(49101),Ca=a(69854),Xa=function(p){var M=p.title,S=p.required;return(0,e.jsxs)(e.Fragment,{children:[!!S&&(0,e.jsx)("span",{style:{color:"#ff5b00",paddingRight:"0.2em"},children:"*"}),M||""]})},_=Xa,Ga=function(p){var M=p.msg;return(0,e.jsx)("span",{style:{color:"#ff5b00"},children:M})},Oe=Ga,na=a(51625),Qa=a(84986),qa=a(48764).Buffer,ia=24*60*60/12,es=function(p){var M=p.setCreateModal,S=(0,E.tT)("currentUser"),j=S.dashboard,b=(0,t.useState)(!1),ee=(0,r.Z)(b,2),f=ee[0],u=ee[1],F=(0,t.useState)(0),te=(0,r.Z)(F,2),H=te[0],w=te[1],re=(0,t.useState)(0),o=(0,r.Z)(re,2),N=o[0],O=o[1],h=(0,t.useState)(0),ce=(0,r.Z)(h,2),P=ce[0],ne=ce[1],ie=(0,t.useState)(""),pe=(0,r.Z)(ie,2),y=pe[0],m=pe[1],me=(0,t.useState)(""),je=(0,r.Z)(me,2),le=je[0],n=je[1],Ee=(0,t.useState)([]),C=(0,r.Z)(Ee,2),L=C[0],X=C[1],$=(0,t.useState)(),R=(0,r.Z)($,2),de=R[0],Ie=R[1],D=(0,t.useState)("https://weekly.parami.io/"),Ve=(0,r.Z)(D,2),Le=Ve[0],oa=Ve[1],Ke=(0,t.useState)(),Ye=(0,r.Z)(Ke,2),Je=Ye[0],Re=Ye[1],ua=(0,t.useState)(),Xe=(0,r.Z)(ua,2),Ae=Xe[0],Ge=Xe[1],ca=(0,t.useState)(),V=(0,r.Z)(ca,2),Me=V[0],ma=V[1],G=(0,t.useState)(0),v=(0,r.Z)(G,2),Se=v[0],g=v[1],Q=(0,t.useState)(),Be=(0,r.Z)(Q,2),W=Be[0],Ue=Be[1],Ta=(0,t.useState)(!1),x=(0,r.Z)(Ta,2),ka=x[0],va=x[1],Ss=(0,t.useState)(""),Ea=(0,r.Z)(Ss,2),ve=Ea[0],fa=Ea[1],xs=(0,t.useState)(-1),Aa=(0,r.Z)(xs,2),Ba=Aa[0],Pa=Aa[1],ys=(0,t.useState)(""),_a=(0,r.Z)(ys,2),Oa=_a[0],ha=_a[1],Ms=(0,t.useState)(!1),La=(0,r.Z)(Ms,2),bs=La[0],ga=La[1],Ra=(0,t.useRef)(null),A=(0,E.YB)(),Ua=J.Z.Search,pa=Na.Z.Option,Ns=function(){var d=(0,z.Z)(c().mark(function i(I){var Z;return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,Ca.Em)(I);case 3:if(Z=l.sent,Z.toHuman()){l.next=6;break}return l.abrupt("return",!1);case 6:return l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(0),k.default.error({message:l.t0.message||l.t0,duration:null}),l.abrupt("return",!1);case 13:case"end":return l.stop()}},i,null,[[0,9]])}));return function(I){return d.apply(this,arguments)}}(),Cs=function(){var d=(0,z.Z)(c().mark(function i(I){var Z;return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(!!j&&!!(j!=null&&j.accountMeta))){l.next=19;break}return u(!0),l.prev=2,l.next=5,(0,Ca.Xn)(I,JSON.parse(j==null?void 0:j.accountMeta));case 5:Z=L,ve&&L.indexOf(ve)===-1&&(Z=[].concat((0,ta.Z)(L),[ve])),X(Z),va(!1),fa(""),u(!1),l.next=17;break;case 13:l.prev=13,l.t0=l.catch(2),k.default.error({message:A.formatMessage({id:l.t0.message||l.t0}),duration:null}),u(!1);case 17:l.next=20;break;case 19:k.default.error({key:"accessDenied",message:A.formatMessage({id:"error.accessDenied"}),duration:null});case 20:case"end":return l.stop()}},i,null,[[2,13]])}));return function(I){return d.apply(this,arguments)}}(),Is=function(){var d=(0,z.Z)(c().mark(function i(){var I,Z;return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Ns(ve);case 2:if(I=l.sent,I){l.next=6;break}return ga(!0),l.abrupt("return");case 6:Z=L,ve&&L.indexOf(ve)===-1&&(Z=[].concat((0,ta.Z)(L),[ve])),X(Z),va(!1),fa("");case 11:case"end":return l.stop()}},i)}));return function(){return d.apply(this,arguments)}}(),Zs=function(){var i=(0,ta.Z)(L);i[Ba]=Oa,X(i),Pa(0),ha("")},Ds=function(i){var I=L.filter(function(Z){return Z!==i});X(I)},Ts=function(){var d=(0,z.Z)(c().mark(function i(){var I,Z,q,l,wa;return c().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!(!!j&&!!(j!=null&&j.accountMeta))){B.next=27;break}return u(!0),B.prev=2,I={title:de,link:Le,desc:Je,media:Ae,poster:Me},B.next=6,qa.from(JSON.stringify(I));case 6:return Z=B.sent,B.next=9,(0,Qa.U)(Z);case 9:if(q=B.sent,l=q.response,wa=q.data,l.ok){B.next=14;break}throw"Create Metadata Error";case 14:return B.next=16,(0,Ce.Wh)(L,"ipfs://".concat(wa.Hash),Se.toString(),W,(0,Ne.Vm)(H.toString()),(0,Ne.Vm)(N.toString()),(0,Ne.Vm)(P.toString()),JSON.parse(j==null?void 0:j.accountMeta));case 16:u(!1),M(!1),window.location.reload(),B.next=25;break;case 21:B.prev=21,B.t0=B.catch(2),k.default.error({message:B.t0.message||B.t0,duration:null}),u(!1);case 25:B.next=28;break;case 27:k.default.error({key:"accessDenied",message:A.formatMessage({id:"error.accessDenied"}),duration:null});case 28:case"end":return B.stop()}},i,null,[[2,21]])}));return function(){return d.apply(this,arguments)}}();(0,t.useEffect)(function(){n(""),m(""),P<N&&n("Payout Max cannot be less than Payout Min")},[P]),(0,t.useEffect)(function(){n(""),m(""),N>P&&m("Payout Min cannot be more than Payout Max")},[N]);var Fa=function(i){return function(I){if(I.file.status==="done"){var Z=I.file.response.Hash,q=na.Z.ipfs.endpoint+Z;i==="media"?Ge(q):ma(q);return}I.file.status==="error"&&sa.default.error("Upload Image Error")}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:s().modalBody,children:[(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:A.formatMessage({id:"dashboard.ads.create.tag"}),required:!0})}),(0,e.jsxs)("div",{className:s().value,children:[L.map(function(d,i){if(Ba===i)return(0,e.jsx)(Ua,{size:"large",className:"tag-input",enterButton:A.formatMessage({id:"common.confirm"}),loading:f,onChange:function(l){ha(l.target.value)},onSearch:function(){if(!Oa){sa.default.error("Please Input Tag");return}Zs()}},d);var I=d.length>20,Z=(0,e.jsx)(ba.Z,{className:_e().tag,color:"volcano",closable:!0,onClose:function(){return Ds(d)},children:(0,e.jsx)("span",{onDoubleClick:function(){Pa(i),ha(d),focus()},children:I?"".concat(d.slice(0,20),"..."):d})},d);return I?(0,e.jsx)(K.Z,{title:d,children:Z},d):Z}),ka&&(0,e.jsx)(Ua,{ref:Ra,type:"text",size:"large",enterButton:A.formatMessage({id:"common.confirm"}),className:_e().tagInput,loading:f,onChange:function(i){fa(i.target.value)},onSearch:function(){if(!ve){sa.default.error("Please Input Tag");return}Is()}}),!ka&&(0,e.jsxs)(ba.Z,{className:_e().tag,color:"volcano",onClick:function(){var i;va(!0),(i=Ra.current)===null||i===void 0||i.focus()},children:[(0,e.jsx)(ra.Z,{}),A.formatMessage({id:"dashboard.ads.create.tag.new"})]})]})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:"Title",required:!0})}),(0,e.jsx)("div",{className:s().value,children:(0,e.jsx)(J.Z,{size:"large",onChange:function(i){return Ie(i.target.value)},placeholder:"Advertisement Title"})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:"Link",required:!0})}),(0,e.jsx)("div",{className:s().value,children:(0,e.jsx)(J.Z,{size:"large",value:Le,onChange:function(i){return oa(i.target.value)},placeholder:"https://weekly.parami.io/"})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:"Description",required:!0})}),(0,e.jsx)("div",{className:s().value,children:(0,e.jsx)(J.Z,{size:"large",onChange:function(i){return Re(i.target.value)},placeholder:"Advertisement Description"})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:"Media",required:!0})}),(0,e.jsx)("div",{className:s().value,children:(0,e.jsx)(Ma.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:na.Z.ipfs.upload,onChange:Fa("media"),children:Ae?(0,e.jsx)("img",{src:Ae,style:{width:"100%"}}):(0,e.jsxs)("div",{children:[(0,e.jsx)(ra.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:"Poster",required:!0})}),(0,e.jsx)("div",{className:s().value,children:(0,e.jsx)(Ma.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:na.Z.ipfs.upload,onChange:Fa("poster"),children:Me?(0,e.jsx)("img",{src:Me,style:{width:"100%"}}):(0,e.jsxs)("div",{children:[(0,e.jsx)(ra.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:A.formatMessage({id:"dashboard.ads.create.rewardRate"}),required:!0})}),(0,e.jsx)("div",{className:s().value,children:(0,e.jsx)(J.Z,{className:s().withAfterInput,placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,onChange:function(i){return g(Number(i.target.value))}})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:A.formatMessage({id:"dashboard.ads.create.lifetime"}),required:!0})}),(0,e.jsx)("div",{className:s().value,children:(0,e.jsxs)(Na.Z,{size:"large",style:{width:"100%"},placeholder:"Please select a lifetime",onChange:function(i){Ue(Number(i))},children:[(0,e.jsx)(pa,{value:3*ia,children:A.formatMessage({id:"dashboard.ads.create.lifetime.3days"})}),(0,e.jsx)(pa,{value:7*ia,children:A.formatMessage({id:"dashboard.ads.create.lifetime.7days"})}),(0,e.jsx)(pa,{value:15*ia,children:A.formatMessage({id:"dashboard.ads.create.lifetime.15days"})})]})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:A.formatMessage({id:"dashboard.ads.create.payoutBase"}),required:!0})}),(0,e.jsx)("div",{className:s().value,children:(0,e.jsx)(J.Z,{className:s().withAfterInput,placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,onChange:function(i){return w(Number(i.target.value))}})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:A.formatMessage({id:"dashboard.ads.create.payoutMin"}),required:!0})}),(0,e.jsxs)("div",{className:s().value,children:[(0,e.jsx)(J.Z,{className:"".concat(s().withAfterInput," ").concat(y?_e().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,max:P,onChange:function(i){return O(Number(i.target.value))}}),y&&(0,e.jsx)(Oe,{msg:y})]})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:A.formatMessage({id:"dashboard.ads.create.payoutMax"}),required:!0})}),(0,e.jsxs)("div",{className:s().value,children:[(0,e.jsx)(J.Z,{className:"".concat(s().withAfterInput," ").concat(le?_e().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,min:N,onChange:function(i){return ne(Number(i.target.value))}}),le&&(0,e.jsx)(Oe,{msg:le})]})]}),(0,e.jsx)("div",{className:s().field,style:{marginTop:50},children:(0,e.jsx)(oe.Z,{block:!0,size:"large",shape:"round",type:"primary",disabled:!L||!W||!Se||!H||!!le||!!y,loading:f,onClick:function(){Ts()},children:A.formatMessage({id:"common.submit"})})})]}),(0,e.jsx)(ke.Z,{visable:bs,title:ve,content:A.formatMessage({id:"dashboard.ads.create.tag.create"}),footer:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{block:!0,shape:"round",type:"primary",size:"large",onClick:function(){Cs(ve),ga(!1)},children:A.formatMessage({id:"common.submit"})})}),close:function(){ga(!1)}})]})},as=es,Os=a(12968),Ia=a(62462),Ls=a(48736),Za=a(27049),ss=a(66054),ge=a.n(ss),ts=a(22629),rs=a(97005),la=a(28943),da=a(13580),ns=a(57254),is=a(23683),se=a.n(is),ls=function(p){var M=p.selectModal,S=p.setSelectModal,j=p.setTokenSelect,b=(0,E.YB)(),ee=(0,E.tT)("dashboard.assets"),f=ee.assetsArr;return(0,e.jsx)(ke.Z,{title:void 0,visable:M,content:(0,e.jsxs)("div",{className:se().selectContainer,children:[(0,e.jsx)("div",{className:se().selectHeader,children:(0,e.jsx)("div",{className:se().selectHeaderSectionTitle,children:b.formatMessage({id:"dashboard.ads.selectToken",defaultMessage:"Select a token"})})}),(0,e.jsx)("div",{className:se().selectWrapper,children:!!f&&f.map(function(u){return(0,e.jsxs)("div",{className:se().selectItem,onClick:function(){j(u),S(!1)},children:[(0,e.jsxs)("div",{className:se().itemInfo,children:[(0,e.jsx)(Ia.Z,{src:u==null?void 0:u.icon,preview:!1,className:se().itemInfoIcon}),(0,e.jsxs)("div",{className:se().itemNameSymbol,children:[(0,e.jsx)("div",{className:se().itemName,children:u==null?void 0:u.symbol}),(0,e.jsx)("div",{className:se().itemSymbol,children:u==null?void 0:u.token})]})]}),(0,e.jsx)("div",{className:se().itemBalance,children:u==null?void 0:u.balance})]})})})]}),footer:!1,close:function(){S(!1)},bodyStyle:{padding:0}})},ds=ls,os=function(p){var M=p.adItem,S=p.setBidModal,j=(0,E.tT)("currentUser"),b=j.dashboard,ee=(0,t.useState)(!1),f=(0,r.Z)(ee,2),u=f[0],F=f[1],te=(0,t.useState)(),H=(0,r.Z)(te,2),w=H[0],re=H[1],o=(0,t.useState)(""),N=(0,r.Z)(o,2),O=N[0],h=N[1],ce=(0,t.useState)(""),P=(0,r.Z)(ce,2),ne=P[0],ie=P[1],pe=(0,t.useState)(""),y=(0,r.Z)(pe,2),m=y[0],me=y[1],je=(0,t.useState)(""),le=(0,r.Z)(je,2),n=le[0],Ee=le[1],C=(0,t.useState)(),L=(0,r.Z)(C,2),X=L[0],$=L[1],R=(0,t.useState)(),de=(0,r.Z)(R,2),Ie=de[0],D=de[1],Ve=(0,t.useState)(!1),Le=(0,r.Z)(Ve,2),oa=Le[0],Ke=Le[1],Ye=(0,t.useState)(""),Je=(0,r.Z)(Ye,2),Re=Je[0],ua=Je[1],Xe=(0,t.useState)(),Ae=(0,r.Z)(Xe,2),Ge=Ae[0],ca=Ae[1],V=(0,E.YB)(),Me=Math.max(Number((0,he.mI)((0,he.At)(ne),18))*1.2,1),ma=function(){var G=(0,z.Z)(c().mark(function v(){return c().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(!!b&&!!(b!=null&&b.accountMeta))){g.next=18;break}return F(!0),g.prev=2,console.log("submit",Ge,Re),g.next=6,(0,Ce.hB)(M.id,m,(0,Ne.Vm)(X.toString()),Ge,(0,Ne.Vm)(Re),JSON.parse(b==null?void 0:b.accountMeta));case 6:S(!1),F(!1),window.location.reload(),g.next=16;break;case 11:return g.prev=11,g.t0=g.catch(2),k.default.error({message:g.t0.message||g.t0,duration:null}),F(!1),g.abrupt("return");case 16:g.next=19;break;case 18:k.default.error({key:"accessDenied",message:V.formatMessage({id:"error.accessDenied"}),duration:null});case 19:case"end":return g.stop()}},v,null,[[2,11]])}));return function(){return G.apply(this,arguments)}}();return(0,t.useEffect)(function(){var G=function(){var v=(0,z.Z)(c().mark(function Se(){var g,Q;return c().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return g=(0,Ne.Zc)(w),W.next=3,(0,la.JI)(g);case 3:if(Q=W.sent,!Q.isEmpty){W.next=8;break}return h(V.formatMessage({id:"error.identity.notFound"})),me(""),W.abrupt("return");case 8:me(Q.toString());case 10:case"end":return W.stop()}},Se)}));return function(){return v.apply(this,arguments)}}();h(""),w&&G().catch(function(v){k.default.error({message:v.message||v,duration:null})})},[w]),(0,t.useEffect)(function(){var G=function(){var v=(0,z.Z)(c().mark(function Se(){var g,Q,Be,W,Ue;return c().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,la.X6)(m);case 2:if(g=x.sent,Q=g==null?void 0:g.toHuman(),!(g.isEmpty||!(Q!=null&&Q.minted))){x.next=6;break}return x.abrupt("return");case 6:return x.next=9,(0,da.Ay)(Q==null?void 0:Q.tokenAssetId);case 9:if(Be=x.sent,!Be.isEmpty){x.next=12;break}return x.abrupt("return");case 12:return x.next=14,(0,Ce.Li)(m);case 14:if(W=x.sent,W){x.next=17;break}return x.abrupt("return","0");case 17:return x.next=19,(0,da.L7)(W.budgetPot,W.fractionId);case 19:if(Ue=x.sent,Ue){x.next=22;break}return x.abrupt("return");case 22:return x.abrupt("return",Ue.balance);case 23:case"end":return x.stop()}},Se)}));return function(){return v.apply(this,arguments)}}();h(""),ie(""),m&&G().then(function(v){if(v===void 0){Ee(V.formatMessage({id:"error.nft.invalid"}));return}Ee(""),ie(v)}).catch(function(v){k.default.error({message:v.message||v,duration:null})})},[m]),(0,t.useEffect)(function(){D(""),X!==void 0&&X<Me&&D("price too low")},[X]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:s().modalBody,children:[(0,e.jsx)(Za.Z,{children:"Find NFT ID from DID"}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:V.formatMessage({id:"dashboard.ads.launch.did"}),required:!0})}),(0,e.jsxs)("div",{className:s().value,children:[(0,e.jsx)(J.Z,{size:"large",className:"".concat(O?ge().inputError:""),onChange:function(v){re(v.target.value)},placeholder:"did:ad3:......",value:w}),O&&(0,e.jsx)(Oe,{msg:O})]})]}),(0,e.jsx)(Za.Z,{}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:V.formatMessage({id:"dashboard.ads.launch.nftID"}),required:!0})}),(0,e.jsxs)("div",{className:s().value,children:[(0,e.jsx)(J.Z,{size:"large",className:"".concat(n?ge().inputError:""),onChange:function(v){me(v.target.value)},value:m}),n&&(0,e.jsx)(Oe,{msg:n})]})]}),!!ne.length&&(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("div",{className:s().title,children:(0,e.jsx)(_,{title:V.formatMessage({id:"dashboard.ads.launch.currentPrice"}),required:!0})}),(0,e.jsx)("div",{className:s().value,children:(0,e.jsx)(J.Z,{readOnly:!0,disabled:!0,size:"large",value:"".concat((0,ts.a)((0,he.At)(ne),{decimals:18}))})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsxs)("div",{className:s().title,children:[(0,e.jsx)(_,{title:V.formatMessage({id:"dashboard.ads.launch.offer"}),required:!0}),(0,e.jsx)("br",{}),(0,e.jsx)("small",{children:"The bid must be higher than ".concat(Me," (20% higher than the current price)")})]}),(0,e.jsxs)("div",{className:s().value,children:[(0,e.jsx)(J.Z,{value:X,className:"".concat(s().withAfterInput," ").concat(Ie?ge().inputError:""),size:"large",type:"number",min:Me||0,onChange:function(v){$(Number(v.target.value))}}),Ie&&(0,e.jsx)(Oe,{msg:Ie})]})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsxs)("div",{className:s().title,children:[(0,e.jsx)(_,{title:V.formatMessage({id:"dashboard.ads.launch.token"})}),(0,e.jsx)("br",{}),(0,e.jsx)("small",{children:V.formatMessage({id:"dashboard.ads.launch.token.tip"})})]}),(0,e.jsx)("div",{className:s().value,children:(0,e.jsxs)("div",{className:ge().tokenAndAmountDetails,children:[(0,e.jsxs)("div",{className:ge().tokenDetails,onClick:function(){Ke(!0)},children:[(0,e.jsx)(Ia.Z,{src:"/images/logo-round-core.svg",preview:!1,className:ge().chainIcon}),(0,e.jsx)("span",{className:ge().tokenDetailsTokenName,children:"AD3"}),(0,e.jsx)(ns.Z,{className:ge().tokenDetailsArrow})]}),(0,e.jsx)("div",{className:ge().amountDetails,children:(0,e.jsx)(J.Z,{placeholder:"0.00",type:"number",size:"large",value:Re,onChange:function(v){ua(v.target.value)}})})]})})]}),(0,e.jsx)("div",{className:s().field,children:(0,e.jsx)(ya.Z,{banner:!0,message:(0,e.jsx)(rs.Z,{pauseOnHover:!0,gradient:!1,children:V.formatMessage({id:"dashboard.ads.launch.tip"})})})}),(0,e.jsx)("div",{className:s().field,children:(0,e.jsx)(oe.Z,{block:!0,type:"primary",shape:"round",size:"large",className:s().button,disabled:!m||!ne.length||!X||!!n||!!Ie,loading:u,onClick:function(){ma()},children:V.formatMessage({id:"common.submit"})})})]}),(0,e.jsx)(ds,{selectModal:oa,setSelectModal:Ke,setTokenSelect:ca})]})},us=os,Rs=a(34669),cs=a(32074),Da=a(8870),ms=a(91220),vs=a(38520),U=a.n(vs),fs=a(3548),hs=function(p){var M=p.adItem,S=(0,E.tT)("apiWs"),j=(0,t.useState)(!1),b=(0,r.Z)(j,2),ee=b[0],f=b[1],u=(0,t.useState)([]),F=(0,r.Z)(u,2),te=F[0],H=F[1],w=(0,E.YB)(),re=function(){var o=(0,z.Z)(c().mark(function N(){var O,h,ce,P,ne,ie,pe,y,m,me,je;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(S){n.next=2;break}return n.abrupt("return");case 2:if(f(!0),n.prev=4,O=[],!Object.keys(M).length){n.next=44;break}return n.next=9,(0,Ce.kw)(M==null?void 0:M.id);case 9:if(h=n.sent,ce=h.toHuman(),!ce){n.next=43;break}P=(0,ms.Z)(ce),n.prev=13,P.s();case 15:if((ne=P.n()).done){n.next=31;break}return ie=ne.value,n.next=19,(0,la.X6)(ie);case 19:return pe=n.sent,y=pe.toHuman(),n.next=23,(0,Ce.IP)(y==null?void 0:y.tokenAssetId);case 23:return m=n.sent,n.next=26,(0,da.Ay)(y==null?void 0:y.tokenAssetId);case 26:me=n.sent,je=me.toHuman(),O.push((0,Da.Z)((0,Da.Z)({},y),{},{ad:m==null?void 0:m.ad,budget:m==null?void 0:m.budget,created:m==null?void 0:m.created,remain:m==null?void 0:m.remain,tokens:y==null?void 0:y.tokens,asset:je}));case 29:n.next=15;break;case 31:n.next=36;break;case 33:n.prev=33,n.t0=n.catch(13),P.e(n.t0);case 36:return n.prev=36,P.f(),n.finish(36);case 39:H(O),f(!1),n.next=44;break;case 43:f(!1);case 44:n.next=52;break;case 47:return n.prev=47,n.t1=n.catch(4),k.default.error({message:n.t1.message||n.t1,duration:null}),f(!1),n.abrupt("return");case 52:case"end":return n.stop()}},N,null,[[4,47],[13,33,36,39]])}));return function(){return o.apply(this,arguments)}}();return(0,t.useEffect)(function(){S&&re()},[S,M]),(0,e.jsx)("div",{className:s().modalBody,children:(0,e.jsx)(xa.Z,{loading:!S||ee,height:200,children:te.length?(0,e.jsx)("div",{className:U().nftsList,children:te.map(function(o){var N,O;return(0,e.jsx)("div",{className:U().nftItem,children:(0,e.jsx)("div",{className:U().card,children:(0,e.jsx)("div",{className:U().cardWrapper,children:(0,e.jsx)("div",{className:U().cardBox,children:(0,e.jsxs)("div",{className:U().cardDetail,children:[(0,e.jsxs)("h3",{className:U().text,children:[o==null||(N=o.asset)===null||N===void 0?void 0:N.name," (",o==null||(O=o.asset)===null||O===void 0?void 0:O.symbol,") #",o==null?void 0:o.tokenAssetId]}),(0,e.jsxs)("div",{className:U().status,children:[(0,e.jsx)("div",{className:U().label,children:w.formatMessage({id:"dashboard.ads.remain",defaultMessage:"Remain"})}),(0,e.jsx)("div",{className:U().value,children:(0,e.jsx)(fs.Z,{value:(0,he.At)(o==null?void 0:o.remain)})})]}),(0,e.jsx)("div",{className:U().action,children:(0,e.jsx)(cs.Z,{percent:Number((0,he.mI)((0,he.At)(o==null?void 0:o.remain),18))/Number((0,he.mI)((0,he.At)(o==null?void 0:o.budget),18)),strokeColor:"#ff5b00",className:U().progress})})]})})})})})})}):(0,e.jsxs)("div",{className:U().noNFTs,children:[(0,e.jsx)("img",{src:"/images/icon/query.svg",className:U().topImage}),(0,e.jsx)("div",{className:U().description,children:w.formatMessage({id:"dashboard.ads.nfts.empty"})})]})})})},gs=hs,ps=function(){var p=(0,E.tT)("apiWs"),M=(0,E.tT)("currentUser"),S=M.dashboard,j=(0,E.tT)("dashboard.advertisement"),b=j.AdList,ee=(0,t.useState)(!1),f=(0,r.Z)(ee,2),u=f[0],F=f[1],te=(0,t.useState)(!1),H=(0,r.Z)(te,2),w=H[0],re=H[1],o=(0,t.useState)(!1),N=(0,r.Z)(o,2),O=N[0],h=N[1],ce=(0,t.useState)(!1),P=(0,r.Z)(ce,2),ne=P[0],ie=P[1],pe=(0,t.useState)(!1),y=(0,r.Z)(pe,2),m=y[0],me=y[1],je=(0,t.useState)({}),le=(0,r.Z)(je,2),n=le[0],Ee=le[1],C=(0,E.YB)(),L=[{title:C.formatMessage({id:"dashboard.ads.item.id"}),dataIndex:"id",key:"id",render:function(R){return(0,e.jsx)(K.Z,{placement:"topLeft",title:R,children:R})},ellipsis:!0},{title:C.formatMessage({id:"dashboard.ads.item.tag"}),dataIndex:"tag",key:"tag"},{title:C.formatMessage({id:"dashboard.ads.item.metadata"}),key:"metadata",render:function(R){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ea.Z,{content:(0,e.jsx)(e.Fragment,{children:Object.keys(R.metadata).map(function(de){return(0,e.jsxs)("p",{children:[(0,e.jsx)("b",{children:de}),": ",R.metadata[de].toString()]})})}),children:R.metadataIpfs})})},ellipsis:!0},{title:C.formatMessage({id:"dashboard.ads.item.rewardRate"}),dataIndex:"rewardRate",key:"rewardRate"},{title:C.formatMessage({id:"dashboard.ads.item.endtime"}),dataIndex:"endtime",key:"endtime"},{title:C.formatMessage({id:"dashboard.ads.item.action"}),key:"option",render:function(R){return(0,e.jsxs)(qe.Z,{children:[(0,e.jsx)("a",{onClick:function(){Ee(R),ie(!0)},children:"Bid"},"bid"),(0,e.jsx)(K.Z,{placement:"topLeft",title:"comming soon",children:"View"})]})}}],X=function(){var $=(0,z.Z)(c().mark(function R(){var de;return c().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(!!S&&!!(S!=null&&S.account))){D.next=13;break}return D.prev=1,D.next=4,(0,Ce.Du)(S==null?void 0:S.account);case 4:de=D.sent,F(de),D.next=11;break;case 8:D.prev=8,D.t0=D.catch(1),k.default.error({key:"unknownError",message:D.t0.message||D.t0,duration:null});case 11:D.next=14;break;case 13:k.default.error({key:"accessDenied",message:C.formatMessage({id:"error.accessDenied"}),duration:null});case 14:case"end":return D.stop()}},R,null,[[1,8]])}));return function(){return $.apply(this,arguments)}}();return(0,t.useEffect)(function(){p&&X()},[p]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:s().mainBgContainer,children:(0,e.jsx)("div",{className:s().contentContainer,children:(0,e.jsx)(xa.Z,{loading:!p,height:400,children:(0,e.jsxs)(De.Z,{className:s().dashboardCard,bodyStyle:{width:"100%"},children:[!u&&(0,e.jsxs)("div",{className:ae().createModal,children:[(0,e.jsx)(oe.Z,{type:"primary",shape:"round",size:"large",className:ae().becomeButton,onClick:function(){re(!0)},children:C.formatMessage({id:"dashboard.ads.becomeAdvertisers"})}),(0,e.jsx)("div",{className:ae().minimum,children:"The minimum is 1,000 $AD3"})]}),(0,e.jsx)($a.ZP,{className:ae().pageContainer,ghost:!0,title:C.formatMessage({id:"dashboard.ads.title"}),content:(0,e.jsx)(we.Z,{title:C.formatMessage({id:"dashboard.ads.control.total"}),value:b.length}),breadcrumb:void 0,extra:[(0,e.jsx)(oe.Z,{type:"primary",size:"large",shape:"round",icon:(0,e.jsx)(Ha,{}),onClick:function(){h(!0)},children:C.formatMessage({id:"dashboard.ads.control.create"})})],children:(0,e.jsx)(fe.Z,{className:ae().table,dataSource:b,columns:L})})]})})})}),(0,e.jsx)(ke.Z,{visable:w,title:C.formatMessage({id:"dashboard.ads.becomeAdvertisers"}),content:(0,e.jsx)(Ya,{setIsAdvertisers:F,setBecomeModal:re}),footer:!1,close:function(){re(!1)}}),O&&(0,e.jsx)(ke.Z,{visable:!0,title:C.formatMessage({id:"dashboard.ads.create"}),content:(0,e.jsx)(as,{setCreateModal:h}),footer:!1,close:function(){h(!1)}}),ne&&(0,e.jsx)(ke.Z,{visable:!0,title:C.formatMessage({id:"dashboard.ads.bid"}),content:(0,e.jsx)(us,{adItem:n,setBidModal:ie}),footer:!1,close:function(){ie(!1)}}),(0,e.jsx)(ke.Z,{visable:m,title:C.formatMessage({id:"dashboard.ads.list"}),content:(0,e.jsx)(gs,{adItem:n}),footer:!1,close:function(){me(!1)}})]})},js=ps},84986:function(T,Ze,a){"use strict";a.d(Ze,{U:function(){return qe},g:function(){return ea}});var Qe=a(8870),De=a(3182),Pe=a(94043),fe=a.n(Pe),Fe=a(51625),we=a(55347),be=a(11238),oe=a(47832),We=a(81603),k=function(K){var r=K.response,ue=r===void 0?{}:r,c=K.message,t=c===void 0?"":c,xe=K.data,s=xe===void 0?{}:xe;if(t==="http error")return{response:ue,data:s}},z=(0,be.l7)({errorHandler:k,credentials:"omit"}),ja=new we.ZP({type:"sr25519"});function qe(Te,K){return ze.apply(this,arguments)}function ze(){return ze=(0,De.Z)(fe().mark(function Te(K,r){var ue;return fe().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ue=new FormData,ue.append("file",K),t.abrupt("return",z(Fe.Z.ipfs.upload,(0,Qe.Z)({method:"POST",body:ue,requestType:"form",getResponse:!0},r||{})));case 3:case"end":return t.stop()}},Te)})),ze.apply(this,arguments)}var ea=function(){var Te=(0,De.Z)(fe().mark(function K(r,ue,c,t,xe){var s,He,ae,E;return fe().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(s=window.apiWs.tx.did.setMetadata("pic",r),!(t&&xe)){Y.next=6;break}return Y.next=4,s.paymentInfo(xe);case 4:return He=Y.sent,Y.abrupt("return",He);case 6:if(ae=(0,oe.Gh)(ue,c),!(ae==null||!ae)){Y.next=9;break}throw new Error("Wrong password");case 9:return E=ja.createFromUri(ae),Y.next=12,(0,We.Y)(s,E);case 12:return Y.abrupt("return",Y.sent);case 13:case"end":return Y.stop()}},K)}));return function(r,ue,c,t,xe){return Te.apply(this,arguments)}}()}}]);

(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[5808],{55133:function(C){C.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(C){C.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},76705:function(C){C.exports={loginCard:"loginCard___29ISC",title:"title___1Nywl",appList:"appList___3WcLg",appItem:"appItem___3n4xF",appIcon:"appIcon___3I5gJ",info:"info___AECmK",name:"name___1p-lf",icon:"icon___3Ijcm",desc:"desc___1DhqV",rightArrow:"rightArrow___Np2km",getWallet:"getWallet___3Nr1f",modalContainer:"modalContainer___2uiYJ",logo:"logo___3P-qd"}},28633:function(C){C.exports={selectContainer:"selectContainer___1_GbB",selectHeader:"selectHeader___9PjRk",selectHeaderSectionTitle:"selectHeaderSectionTitle___2UWhg",fromNetwork:"fromNetwork___3jU-L",fromNetworkIcon:"fromNetworkIcon___39QEQ",selectWrapper:"selectWrapper___3-vMT",selectItem:"selectItem___3K2bP",itemInfo:"itemInfo___5kjKy",itemInfoIcon:"itemInfoIcon___1gcUp",itemNameSymbol:"itemNameSymbol___1Vl81",itemName:"itemName___2dXQJ",itemSymbol:"itemSymbol___3oD6j",itemBalance:"itemBalance___36hic"}},76824:function(C){C.exports={modal:"modal___2kgj1",spinContainer:"spinContainer___1KYK8",alertContainer:"alertContainer___3owY0",buttons:"buttons___En-Xg",button:"button___SXVEF",fieldsContainer:"fieldsContainer___XT086",field:"field___22Tmv",label:"label___2u_4k",small:"small___1wJL4",labelIcon:"labelIcon___2JQT2",value:"value___1L63r"}},57129:function(C){C.exports={bridgeContainer:"bridgeContainer___KUa_y",leftContainer:"leftContainer___BhZ7T",innerWrapper:"innerWrapper___bZZx8",description:"description___3-8tl",points:"points___35dws",bottomSection:"bottomSection___3tOew",background:"background___8FvqH",rightContainer:"rightContainer___SWVmp",bridgeTabs:"bridgeTabs___1q5d5",bridgeTabsItem:"bridgeTabsItem___2dz-9",active:"active___1gpqP",bridgeBody:"bridgeBody___K06_-",fromLabel:"fromLabel___36_v-",toLabel:"toLabel___nk7uU",destinationLabel:"destinationLabel___2BpNo",formSection:"formSection___38r3Z",chainAndBalanceDetails:"chainAndBalanceDetails___2tWhw",tokenAndAmountDetails:"tokenAndAmountDetails___2QCCc",tokenDetails:"tokenDetails___5YGpq",chainIcon:"chainIcon___1kqp4",tokenDetailsTokenName:"tokenDetailsTokenName___2ZJGy",tokenDetailsArrow:"tokenDetailsArrow___1MP8-",amountDetails:"amountDetails___1ebLK",amountDetailsMaxButton:"amountDetailsMaxButton___1FzoW",downArrowSection:"downArrowSection___2uyH-",toChainAndBalanceDetails:"toChainAndBalanceDetails___16F2K",chainDetails:"chainDetails___1CxCG",chainDetailsChainName:"chainDetailsChainName___25YMo",balanceDetails:"balanceDetails___3lQpW",balanceDetailsLabel:"balanceDetailsLabel___39XMY",balanceDetailsBalance:"balanceDetailsBalance___1gKPg",transferButton:"transferButton___1hXV4",destinationDetails:"destinationDetails___Ut9dq",destinationMyAddressButton:"destinationMyAddressButton___5f5Zy",processContainer:"processContainer___3kyyc",title:"title___32jxA",cardContainer:"cardContainer___2qpms",listHash:"listHash___3ya_j",field:"field___vgM6V",value:"value___1DSzY"}},24787:function(C){C.exports={mainContainer:"mainContainer___VzUCC",mainBgContainer:"mainBgContainer___2Nlq7",mainIndexContainer:"mainIndexContainer___1Mqvq",background:"background___25786",logoMark:"logoMark___153gX",mainTopContainer:"mainTopContainer___2Cw6K",pageContainer:"pageContainer___2ssxe",stepContainer:"stepContainer___LPJXV",contentContainer:"contentContainer___2e-al",badge:"badge___3vf4B",dashboardCard:"dashboardCard___3oOcj",windowCard:"windowCard___3FjX2",windowCardBody:"windowCardBody___2zSRs",field:"field___3q5d2",title:"title___1BPSo",value:"value___1TvCY",rowField:"rowField___1vUg5",switchButton:"switchButton___3EjXy",statistic:"statistic___2TWER",modalBody:"modalBody___3SJQA",dividerTitle:"dividerTitle___1UTj3",table:"table___1zfPw",withAfterInput:"withAfterInput___3UZxJ",tabSelector:"tabSelector___2tj32",tabItem:"tabItem___3ymbk",inactive:"inactive___12iuZ",noAssets:"noAssets___FcwbD",topImage:"topImage___mHPfd"}},97409:function(C,$,a){"use strict";var Ae=a(71153),x=a(60331),he=a(12968),h=a(62462),fe=a(67294),Y=a(43581),r=a(85893);function i(d){var w=d.theme,S=(0,Y.tT)("web3"),oe=S.Account,s=S.ChainName,ce=S.ChainId;return(0,r.jsx)(r.Fragment,{children:oe&&(0,r.jsxs)("div",{className:"addressContainer ".concat(w!=null?w:"wallet"),children:[(0,r.jsxs)("div",{className:"ethLogo",children:[(0,r.jsx)(h.Z,{src:"/images/crypto/eth-circle.svg",preview:!1,className:"ethLogoImg"}),"ETH Address"]}),!!ce&&ce!==1&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(x.Z,{color:"orange",children:s})}),(0,r.jsxs)("div",{className:"currentAddress",children:[(0,r.jsx)("span",{className:"prefix",children:"Current Address:"}),(0,r.jsx)("span",{className:"address",children:oe})]})]})})}$.Z=i},69764:function(C,$,a){"use strict";var Ae=a(71194),x=a(50146),he=a(57663),h=a(71577),fe=a(402),Y=a(3887),r=a(67294),i=a(55133),d=a.n(i),w=a(54549),S=a(85893),oe=Y.Z.Title,s=function(O){var Be=O.visable,_=O.title,ye=O.content,le=O.footer,D=O.close,W=O.bodyStyle,ge=O.width;return(0,S.jsx)(x.Z,{title:_?(0,S.jsx)(oe,{level:5,className:d().title,children:_}):null,closable:!!D,closeIcon:(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(h.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,S.jsx)(w.Z,{onClick:D})})}),className:d().modal,centered:!0,visible:Be,width:ge!=null?ge:650,footer:le,bodyStyle:W,children:ye})};$.Z=s},3548:function(C,$,a){"use strict";var Ae=a(67294),x=a(31639),he=a.n(x),h=a(96534),fe=a(85893),Y=function(i){var d=i.value,w=i.style;return(0,fe.jsxs)("div",{className:he().ad3,style:w,children:[d?(0,h.MP)(d):"--",(0,fe.jsx)("span",{className:he().unit,children:"\xA0$AD3"})]})};$.Z=Y},38655:function(C,$,a){"use strict";var Ae=a(58024),x=a(39144),he=a(57663),h=a(71577),fe=a(48736),Y=a(27049),r=a(3182),i=a(402),d=a(3887),w=a(94043),S=a.n(w),oe=a(67294),s=a(43581),ce=a(24787),O=a.n(ce),Be=a(76705),_=a.n(Be),ye=a(8812),le=a(89583),D=a(85893),W=function(){var ee=(0,s.tT)("web3"),Ue=ee.connect,b=(0,s.YB)(),Pe=d.Z.Title;return(0,D.jsx)("div",{className:O().mainContainer,children:(0,D.jsx)("div",{className:O().contentContainer,children:(0,D.jsxs)(x.Z,{className:_().loginCard,bodyStyle:{padding:32,width:"100%"},children:[(0,D.jsx)(Pe,{level:4,className:_().title,children:b.formatMessage({id:"dashboard.bridge.login",defaultMessage:"Login"})}),(0,D.jsx)("div",{className:_().appList,children:(0,D.jsxs)("div",{className:_().appItem,onClick:(0,r.Z)(S().mark(function Ie(){return S().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,Ue();case 2:case"end":return ae.stop()}},Ie)})),children:[(0,D.jsx)("div",{className:_().info,children:(0,D.jsxs)("span",{className:_().name,children:[(0,D.jsx)(le.OZg,{className:_().icon}),"Connect Wallet"]})}),(0,D.jsx)(ye.Z,{className:_().rightArrow})]})}),(0,D.jsx)(Y.Z,{}),(0,D.jsxs)("div",{className:_().getWallet,children:[b.formatMessage({id:"dashboard.bridge.dontHaveWallet",defaultMessage:"Don't have wallet?"}),(0,D.jsx)(h.Z,{type:"link",size:"middle",children:b.formatMessage({id:"dashboard.bridge.downloadHere",defaultMessage:"Download here"})})]})]})})})};$.Z=W},79245:function(C,$,a){"use strict";a.r($),a.d($,{default:function(){return Pa}});var Ae=a(12968),x=a(62462),he=a(74379),h=a(38648),fe=a(402),Y=a(3887),r=a(2824),i=a(67294),d=a(43581),w=a(24787),S=a.n(w),oe=a(57129),s=a.n(oe),ce=a(94184),O=a.n(ce),Be=a(57663),_=a(71577),ye=a(47673),le=a(32787),D=a(22385),W=a(31097),ge=a(91220),ee=a(3182),Ue=a(94043),b=a.n(Ue),Pe=a(57254),Ie=a(21059),we=a(49101),ae=a(2593),Ke=a(7290),Ve=a(77616),Re={bridge:{destId:0,destinationChainId:233,address:"0xDb59E0cA1644D1F93D1b85261c0D414656bA98F9"},resource:{id:"0x000000000000000000000000000000a56889c89dddcbb363cbd6a8d11de9e100"},ERC20HandlerContract:{address:"0x4A00CC0DA9333658CAC63Ddc074681BfF218aeFD"}},ue=a(3548),H=a(59749),ta=a(96534),na=a(75397),ia=a(28633),N=a.n(ia),Ge=a(69764),e=a(85893),ra=function(n){var m=n.selectModal,v=n.setSelectModal,t=n.chain,f=(0,d.tT)("web3"),M=f.ChainName,u=(0,d.YB)();return(0,e.jsx)(Ge.Z,{title:void 0,visable:m,content:(0,e.jsxs)("div",{className:N().selectContainer,children:[(0,e.jsx)("div",{className:N().selectHeader,children:(0,e.jsx)("div",{className:N().selectHeaderSectionTitle,children:u.formatMessage({id:"dashboard.bridge.selectToken",defaultMessage:"Select a token from {chain}"},{chain:t==="ethereum"?(0,e.jsxs)("div",{className:N().fromNetwork,children:[(0,e.jsx)(x.Z,{src:"/images/crypto/ethereum-eth-logo.svg",preview:!1,className:N().fromNetworkIcon}),(0,e.jsx)("span",{className:N().chainDetailsChainName,children:M})]}):(0,e.jsxs)("div",{className:N().fromNetwork,children:[(0,e.jsx)(x.Z,{src:"/images/logo-core-colored-fit-into-round.svg",preview:!1,className:N().fromNetworkIcon}),(0,e.jsx)("span",{className:N().chainDetailsChainName,children:"Parami chain"})]})})})}),(0,e.jsx)("div",{className:N().selectWrapper,children:(0,e.jsxs)("div",{className:N().selectItem,children:[(0,e.jsxs)("div",{className:N().itemInfo,children:[(0,e.jsx)(x.Z,{src:"/images/crypto/usdt-circle.svg",preview:!1,className:N().itemInfoIcon}),(0,e.jsxs)("div",{className:N().itemNameSymbol,children:[(0,e.jsx)("div",{className:N().itemName,children:"USDT"}),(0,e.jsx)("div",{className:N().itemSymbol,children:"Tether USD"})]})]}),(0,e.jsx)("div",{className:N().itemBalance,children:"0"})]})})]}),footer:!1,close:function(){v(!1)},bodyStyle:{padding:0}})},qe=ra,la=a(6221),da=a(48352),oa=a(48764).Buffer,ca=function(n){var m=n.setLoading,v=n.setStep,t=n.setETHHash,f=n.setParamiHash,M=(0,d.tT)("apiWs"),u=(0,d.tT)("currentUser"),c=u.dashboard,L=(0,d.tT)("web3"),B=L.Account,K=L.ChainName,R=L.Provider,se=L.Signer,F=L.ChainId,X=(0,d.tT)("paramiEvents"),k=X.Events,p=X.SubParamiEvents,_e=(0,i.useState)(),E=(0,r.Z)(_e,2),J=E[0],te=E[1],Q=(0,d.tT)("dashboard.balance"),V=Q.balance,ne=(0,d.tT)("contracts"),j=ne.Ad3Contract,me=ne.BridgeContract,pe=(0,i.useState)(""),be=(0,r.Z)(pe,2),je=be[0],Ze=be[1],ze=(0,i.useState)(BigInt(0)),Me=(0,r.Z)(ze,2),ie=Me[0],Oe=Me[1],$e=(0,i.useState)(""),De=(0,r.Z)($e,2),G=De[0],Ne=De[1],Ye=(0,i.useState)(!1),Ee=(0,r.Z)(Ye,2),Le=Ee[0],Te=Ee[1],Xe=(0,i.useState)(""),Se=(0,r.Z)(Xe,2),ve=Se[0],Ce=Se[1],q=(0,i.useState)(!1),We=(0,r.Z)(q,2),Je=We[0],He=We[1],g=(0,d.YB)(),I,re=function(y,P){return"".concat(y.event.section,":").concat(y.event.method)==="chainBridge:ProposalSucceeded"&&BigInt(y.event.data[1].toString())===P},z=function(){var Z=(0,ee.Z)(b().mark(function y(){var P;return b().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(!R||!se)){T.next=2;break}return T.abrupt("return");case 2:return T.prev=2,T.next=5,j==null?void 0:j.balanceOf(B);case 5:P=T.sent,Ze(ae.O$.from(P).toString()),T.next=12;break;case 9:T.prev=9,T.t0=T.catch(2),h.default.error({message:T.t0.message||T.t0,duration:null});case 12:case"end":return T.stop()}},y,null,[[2,9]])}));return function(){return Z.apply(this,arguments)}}(),o=function(){var Z=(0,ee.Z)(b().mark(function y(){var P,xe,T,Qe,sa;return b().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(!R||!se)){l.next=2;break}return l.abrupt("return");case 2:if(P=ve,!(ve.indexOf("did:ad3")>-1)){l.next=15;break}return l.prev=4,l.next=7,(0,na.Ob)(ve);case 7:xe=l.sent,xe||h.default.error({message:"Invalid DID",duration:null}),P=xe.account,l.next=15;break;case 12:l.prev=12,l.t0=l.catch(4),h.default.error({message:l.t0.message||l.t0,duration:null});case 15:return P="0x".concat(oa.from((0,la.m)(P)).toString("hex")),T="0x"+Ke.$m(ae.O$.from(Ve.vz(G,18)).toHexString(),32).substring(2)+Ke.$m(Ke.Dv((P.length-2)/2),32).substring(2)+P.substring(2),l.prev=17,m(!0),h.default.info({message:"Approve Token Access"}),l.next=22,j==null?void 0:j.approve(da.q7.erc20handler[F],ae.O$.from(Ve.vz(G.toString(),18)));case 22:return l.next=24,l.sent.wait();case 24:return h.default.info({message:"Deposit Token"}),l.next=27,me==null?void 0:me.deposit(Re.bridge.destinationChainId,Re.resource.id,T);case 27:return l.next=29,l.sent.wait();case 29:return Qe=l.sent,sa=BigInt(Qe.logs[2].topics[3]),Oe(sa),t(Qe.transactionHash),v(2),Te(!0),l.next=37,p();case 37:I=l.sent,te(function(){return I}),l.next=45;break;case 41:l.prev=41,l.t1=l.catch(17),h.default.error({message:l.t1.message||l.t1,duration:null}),m(!1);case 45:case"end":return l.stop()}},y,null,[[4,12],[17,41]])}));return function(){return Z.apply(this,arguments)}}();return(0,i.useEffect)(function(){if(Le){var Z=(0,ge.Z)(k),y;try{for(Z.s();!(y=Z.n()).done;){var P=y.value;console.log("event","".concat(P.event.section,":").concat(P.event.method)),re(P,ie)&&(Te(!1),v(3),J&&J(),h.default.success({message:"Deposit Success"}),f(P.blockHash))}}catch(xe){Z.e(xe)}finally{Z.f()}}},[k,ie,Le,J]),(0,i.useEffect)(function(){!B||!j||M&&z()},[se,R,j,B,M]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:s().fromLabel,children:g.formatMessage({id:"dashboard.bridge.from",defaultMessage:"From"})}),(0,e.jsxs)("div",{className:s().formSection,children:[(0,e.jsxs)("div",{className:s().chainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(x.Z,{src:"/images/crypto/ethereum-eth-logo.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:K})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[g.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(W.Z,{placement:"top",title:(0,H.mI)(je,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(ue.Z,{value:je})})})]})]}),(0,e.jsxs)("div",{className:s().tokenAndAmountDetails,children:[(0,e.jsxs)("div",{className:s().tokenDetails,onClick:function(){He(!0)},children:[(0,e.jsx)(x.Z,{src:"/images/logo-round-core.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().tokenDetailsTokenName,children:"AD3"}),(0,e.jsx)(Pe.Z,{className:s().tokenDetailsArrow})]}),(0,e.jsxs)("div",{className:s().amountDetails,children:[(0,e.jsx)(le.Z,{placeholder:"0.00",type:"number",size:"large",value:G,onChange:function(y){Ne(y.target.value)}}),(0,e.jsx)(_.Z,{className:s().amountDetailsMaxButton,type:"link",size:"small",onClick:function(){Ne((0,H.mI)(je,18))},children:g.formatMessage({id:"dashboard.bridge.max",defaultMessage:"MAX"})})]})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(Ie.Z,{})}),(0,e.jsx)("div",{className:s().toLabel,children:g.formatMessage({id:"dashboard.bridge.to",defaultMessage:"To"})}),(0,e.jsxs)("div",{className:s().toChainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(x.Z,{src:"/images/logo-core-colored-fit-into-round.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:"Parami chain"})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[g.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(W.Z,{placement:"top",title:(0,H.mI)(V==null?void 0:V.total,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(ue.Z,{value:V==null?void 0:V.total})})})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(we.Z,{})}),(0,e.jsx)("div",{className:s().destinationLabel,children:g.formatMessage({id:"dashboard.bridge.destinationAddress",defaultMessage:"Destination Address"})}),(0,e.jsxs)("div",{className:s().destinationDetails,children:[(0,e.jsx)(le.Z,{placeholder:"did:ad3:......",type:"text",size:"large",value:ve,onChange:function(y){Ce(y.target.value)}}),(0,e.jsx)(_.Z,{className:s().destinationMyAddressButton,type:"default",size:"small",onClick:function(){Ce((0,ta.st)(c.did))},children:g.formatMessage({id:"dashboard.bridge.me",defaultMessage:"ME"})})]}),(0,e.jsx)(_.Z,{block:!0,type:"primary",size:"large",shape:"round",className:s().transferButton,onClick:function(){o()},disabled:!G||!ve||(0,H.HM)(G,18)<=BigInt(0),children:g.formatMessage({id:"dashboard.bridge.transfer",defaultMessage:"Transfer"})}),(0,e.jsx)(qe,{selectModal:Je,setSelectModal:He,chain:"ethereum"})]})},ua=ca,Ia=a(34792),ma=a(48086),va=a(81773),ha=a(81603),fa=function(){var U=(0,ee.Z)(b().mark(function n(m,v,t){var f,M;return b().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,va.R0)(m.meta.source);case 2:return f=c.sent,M=window.apiWs.tx.xAssets.transferNative(v,t,Re.bridge.destId),c.next=6,(0,ha.u)(M,f,m);case 6:return c.abrupt("return",c.sent);case 7:case"end":return c.stop()}},n)}));return function(m,v,t){return U.apply(this,arguments)}}(),ga=function(){var U=(0,ee.Z)(b().mark(function n(){var m;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.apiWs.query.xAssets.nativeFee();case 3:if(m=t.sent,!m.isEmpty){t.next=7;break}return h.default.error({message:"Query nativeFee Error",description:"result is empty"}),t.abrupt("return");case 7:return t.abrupt("return",{fee:m.toHuman()});case 10:return t.prev=10,t.t0=t.catch(0),h.default.error({message:"Query nativeFee Error",description:JSON.stringify(t.t0)}),t.abrupt("return");case 14:case"end":return t.stop()}},n,null,[[0,10]])}));return function(){return U.apply(this,arguments)}}(),_a=function(n){return/^0x[a-fA-F0-9]{40}$/.test(n)},Za=function(n){return/^(bc1|[13])[a-zA-HJ-NP-Z0-9]{25,39}$/.test(n)},Oa=function(n){try{return encodeAddress(isHex(n)?hexToU8a(n):decodeAddress(n)),!0}catch(m){return!1}},La=a(71194),pa=a(50146),Wa=a(17462),ja=a(76772),Ha=a(20228),Fe=a(11382),Ca=a(76824),A=a.n(Ca),xa=Y.Z.Title,ba=function(n){var m=n.onCancel,v=n.onConfirm,t=n.amount,f=(0,i.useState)(),M=(0,r.Z)(f,2),u=M[0],c=M[1],L=(0,i.useState)(),B=(0,r.Z)(L,2),K=B[0],R=B[1],se=(0,i.useState)(!1),F=(0,r.Z)(se,2),X=F[0],k=F[1];return(0,i.useEffect)(function(){ga().then(function(p){c(p)})},[t]),(0,i.useEffect)(function(){if(u){var p=((0,H.HM)(t,18)-BigInt(u.fee.replaceAll(",",""))).toString();R(p),k(!!p&&BigInt(p)<=0)}},[u]),(0,e.jsxs)(pa.Z,{title:(0,e.jsx)(xa,{level:3,style:{marginBottom:0},children:"Confirm Transaction"}),closable:!1,className:A().modal,centered:!0,visible:!0,width:400,footer:(0,e.jsxs)("div",{className:A().buttons,children:[(0,e.jsx)(_.Z,{type:"text",shape:"round",size:"large",className:A().button,onClick:m,children:"Decline"}),(0,e.jsx)(_.Z,{type:"primary",shape:"round",size:"large",className:A().button,onClick:v,disabled:!u||X,children:"Confirm"})]}),children:[!u&&(0,e.jsx)("div",{className:A().spinContainer,children:(0,e.jsx)(Fe.Z,{})}),u&&(0,e.jsxs)(e.Fragment,{children:[X&&(0,e.jsx)(ja.Z,{description:"Insufficient Amount",type:"error",showIcon:!0,banner:!0,className:A().alertContainer}),(0,e.jsxs)("div",{className:A().fieldsContainer,children:[(0,e.jsxs)("div",{className:A().field,children:[(0,e.jsx)("div",{className:A().label,children:"Transfer Amount:"}),(0,e.jsx)("div",{className:A().value,children:(0,e.jsx)(ue.Z,{value:(0,H.HM)(t,18).toString(),style:{fontSize:"0.8rem",fontWeight:900}})})]}),(0,e.jsxs)("div",{className:A().field,children:[(0,e.jsx)("div",{className:A().label,children:"Fee:"}),(0,e.jsx)("div",{className:A().value,children:(0,e.jsx)(ue.Z,{value:u.fee.replaceAll(",",""),style:{fontSize:"0.8rem",fontWeight:900}})})]}),(0,e.jsxs)("div",{className:A().field,children:[(0,e.jsx)("div",{className:A().label,children:"Will Receive:"}),(0,e.jsx)("div",{className:A().value,children:(0,e.jsx)(ue.Z,{value:K!=null?K:"",style:{fontSize:"0.8rem",fontWeight:900,color:X?"red":""}})})]})]})]})]})},Ma=ba,Da=function(n){var m=n.setLoading,v=n.setStep,t=n.setETHHash,f=n.setParamiHash,M=(0,d.tT)("apiWs"),u=(0,d.tT)("web3"),c=u.Account,L=u.ChainName,B=u.Provider,K=u.Signer,R=(0,d.tT)("currentUser"),se=R.dashboard,F=(0,d.tT)("dashboard.bridgeEvents"),X=F.SubBridgeEvents,k=F.UnsubBridgeEvents,p=F.ProposalEvent,_e=(0,d.tT)("dashboard.balance"),E=_e.balance,J=(0,d.tT)("contracts"),te=J.Ad3Contract,Q=J.BridgeContract,V=(0,i.useState)(""),ne=(0,r.Z)(V,2),j=ne[0],me=ne[1],pe=(0,i.useState)(BigInt(0)),be=(0,r.Z)(pe,2),je=be[0],Ze=be[1],ze=(0,i.useState)(""),Me=(0,r.Z)(ze,2),ie=Me[0],Oe=Me[1],$e=(0,i.useState)(),De=(0,r.Z)($e,2),G=De[0],Ne=De[1],Ye=(0,i.useState)(!1),Ee=(0,r.Z)(Ye,2),Le=Ee[0],Te=Ee[1],Xe=(0,i.useState)(!1),Se=(0,r.Z)(Xe,2),ve=Se[0],Ce=Se[1],q=(0,d.YB)(),We=function(){var g=(0,ee.Z)(b().mark(function I(){var re;return b().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(!B||!K)){o.next=2;break}return o.abrupt("return");case 2:return o.prev=2,o.next=5,te==null?void 0:te.balanceOf(c);case 5:re=o.sent,me(ae.O$.from(re).toString()),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(2),h.default.error({message:o.t0.message||o.t0,duration:null});case 12:case"end":return o.stop()}},I,null,[[2,9]])}));return function(){return g.apply(this,arguments)}}(),Je=function(){var g=(0,ee.Z)(b().mark(function I(){return b().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!(!B||!K)){z.next=2;break}return z.abrupt("return");case 2:if(_a(G)){z.next=6;break}return ma.default.error("Please input ETH Address!"),m(!1),z.abrupt("return");case 6:Ce(!0);case 7:case"end":return z.stop()}},I)}));return function(){return g.apply(this,arguments)}}(),He=function(){var g=(0,ee.Z)(b().mark(function I(){var re;return b().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,m(!0),o.next=4,fa(JSON.parse(se.accountMeta),(0,H.HM)(ie,18).toString(),G);case 4:re=o.sent,Ze(BigInt(re.chainBridge.FungibleTransfer[0][1])),f(re.blockHash),v(2),Q?X(Q):h.default.error({message:"No bridge contract"}),o.next=16;break;case 12:o.prev=12,o.t0=o.catch(0),h.default.error({message:o.t0.message||o.t0,duration:null}),m(!1);case 16:case"end":return o.stop()}},I,null,[[0,12]])}));return function(){return g.apply(this,arguments)}}();return(0,i.useEffect)(function(){(p==null?void 0:p.depositNonce)===je&&(p==null?void 0:p.status)==="Executed"&&(v(3),Ze(BigInt(0)),h.default.success({message:"Withdraw Success"}),p.txHash&&t(p.txHash),Q&&k(Q))},[Q,p,k,je]),(0,i.useEffect)(function(){!c||!te||M&&We()},[K,B,te,c,M]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:s().fromLabel,children:q.formatMessage({id:"dashboard.bridge.from",defaultMessage:"From"})}),(0,e.jsxs)("div",{className:s().formSection,children:[(0,e.jsxs)("div",{className:s().chainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(x.Z,{src:"/images/logo-core-colored-fit-into-round.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:"Parami chain"})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[q.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance Available"}),":"]}),(0,e.jsx)(W.Z,{placement:"top",title:(0,H.mI)(E==null?void 0:E.free,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(ue.Z,{value:E==null?void 0:E.free})})})]})]}),(0,e.jsxs)("div",{className:s().tokenAndAmountDetails,children:[(0,e.jsxs)("div",{className:s().tokenDetails,onClick:function(){Te(!0)},children:[(0,e.jsx)(x.Z,{src:"/images/logo-round-core.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().tokenDetailsTokenName,children:"AD3"}),(0,e.jsx)(Pe.Z,{className:s().tokenDetailsArrow})]}),(0,e.jsxs)("div",{className:s().amountDetails,children:[(0,e.jsx)(le.Z,{placeholder:"0.00",type:"number",size:"large",value:ie,onChange:function(I){Oe(I.target.value)}}),(0,e.jsx)(_.Z,{className:s().amountDetailsMaxButton,type:"link",size:"small",onClick:function(){Oe((0,H.mI)(E==null?void 0:E.free,18))},children:q.formatMessage({id:"dashboard.bridge.max",defaultMessage:"MAX"})})]})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(Ie.Z,{})}),(0,e.jsx)("div",{className:s().toLabel,children:q.formatMessage({id:"dashboard.bridge.to",defaultMessage:"To"})}),(0,e.jsxs)("div",{className:s().toChainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(x.Z,{src:"/images/crypto/ethereum-eth-logo.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:L})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[q.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(W.Z,{placement:"top",title:(0,H.mI)(j,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(ue.Z,{value:j})})})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(we.Z,{})}),(0,e.jsx)("div",{className:s().destinationLabel,children:q.formatMessage({id:"dashboard.bridge.destinationAddress",defaultMessage:"Destination Address"})}),(0,e.jsxs)("div",{className:s().destinationDetails,children:[(0,e.jsx)(le.Z,{placeholder:"0x......",type:"text",size:"large",value:G,onChange:function(I){Ne(I.target.value)}}),(0,e.jsx)(_.Z,{className:s().destinationMyAddressButton,type:"default",size:"small",onClick:function(){Ne(c)},children:q.formatMessage({id:"dashboard.bridge.me",defaultMessage:"ME"})})]}),(0,e.jsx)(_.Z,{block:!0,type:"primary",size:"large",shape:"round",className:s().transferButton,onClick:function(){Je()},disabled:!ie||!G||(0,H.HM)(ie,18)<=BigInt(0)||(0,H.HM)(ie,18)>BigInt(E==null?void 0:E.free),children:q.formatMessage({id:"dashboard.bridge.transfer",defaultMessage:"Transfer"})}),(0,e.jsx)(qe,{selectModal:Le,setSelectModal:Te,chain:"parami"}),ve&&(0,e.jsx)(Ma,{onCancel:function(){return Ce(!1)},onConfirm:function(){Ce(!1),He()},amount:ie})]})},Na=Da,Ea=a(38655),Ua=a(35556),ke=a(97880),ea=a(51625),aa=a(7085),Ta=a(72643),de=ke.Z.Step,Sa=function(n){var m=n.tab,v=n.step,t=n.ethHash,f=n.paramiHash,M=n.onClose,u=(0,d.tT)("web3"),c=u.ChainId,L=(0,i.useCallback)(function(){window.open("".concat(Ta.E[c!=null?c:1]).concat(t),"_blank")},[c,t]);return(0,e.jsx)(Ge.Z,{visable:!0,content:(0,e.jsxs)("div",{className:s().processContainer,children:[m==="deposit"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(ke.Z,{progressDot:!0,size:"small",current:v,children:[(0,e.jsx)(de,{title:"Enter information"}),(0,e.jsx)(de,{title:"Ethereum chain"}),(0,e.jsx)(de,{title:"Parami chain"}),(0,e.jsx)(de,{title:"Tokens transferred"})]}),(0,e.jsxs)("div",{className:s().title,children:[v===1&&(0,e.jsx)("span",{children:"Ethereum chain"}),v===2&&(0,e.jsx)("span",{children:"Parami chain"}),v===3&&(0,e.jsx)("span",{children:"Tokens transferred"})]}),(0,e.jsx)("div",{className:s().cardContainer,children:t&&f?(0,e.jsxs)("div",{className:s().listHash,children:[(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"Parami chain"}),(0,e.jsx)("span",{className:s().value,onClick:function(){window.open("".concat(ea.Z.explorer.block,"/").concat(f),"_blank")},children:(0,e.jsx)(W.Z,{placement:"topLeft",title:f,children:f})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"ETH chain"}),(0,e.jsx)("span",{className:s().value,onClick:L,children:(0,e.jsx)(W.Z,{placement:"topLeft",title:t,children:t})})]})]}):(0,e.jsx)(Fe.Z,{indicator:(0,e.jsx)(aa.Z,{style:{fontSize:24},spin:!0}),tip:"Transfering..."})})]}),m==="withdraw"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(ke.Z,{progressDot:!0,size:"small",current:v,children:[(0,e.jsx)(de,{title:"Enter information"}),(0,e.jsx)(de,{title:"Parami chain"}),(0,e.jsx)(de,{title:"Ethereum chain"}),(0,e.jsx)(de,{title:"Tokens transferred"})]}),(0,e.jsxs)("div",{className:s().title,children:[v===1&&(0,e.jsx)("span",{children:"Parami chain"}),v===2&&(0,e.jsx)("span",{children:"Ethereum chain"}),v===3&&(0,e.jsx)("span",{children:"Tokens transferred"})]}),(0,e.jsx)("div",{className:s().cardContainer,children:t&&f?(0,e.jsxs)("div",{className:s().listHash,children:[(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"Parami chain"}),(0,e.jsx)("span",{className:s().value,onClick:function(){window.open("".concat(ea.Z.explorer.block,"/").concat(f),"_blank")},children:(0,e.jsx)(W.Z,{placement:"topLeft",title:f,children:f})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"ETH chain"}),(0,e.jsx)("span",{className:s().value,onClick:function(){window.open("https://etherscan.io/tx/".concat(t),"_blank")},children:(0,e.jsx)(W.Z,{placement:"topLeft",title:t,children:t})})]})]}):(0,e.jsx)(Fe.Z,{indicator:(0,e.jsx)(aa.Z,{style:{fontSize:24},spin:!0}),tip:"Transfering..."})})]})]}),footer:!1,close:t&&f?M:void 0})},Aa=Sa,Ba=a(97409),ya=function(){var n=(0,d.tT)("web3"),m=n.Account,v=n.connect,t=n.ChainId,f=(0,i.useState)("deposit"),M=(0,r.Z)(f,2),u=M[0],c=M[1],L=(0,i.useState)(!1),B=(0,r.Z)(L,2),K=B[0],R=B[1],se=(0,i.useState)(1),F=(0,r.Z)(se,2),X=F[0],k=F[1],p=(0,i.useState)(),_e=(0,r.Z)(p,2),E=_e[0],J=_e[1],te=(0,i.useState)(),Q=(0,r.Z)(te,2),V=Q[0],ne=Q[1],j=(0,d.YB)(),me=Y.Z.Title;return(0,i.useEffect)(function(){v()},[]),(0,i.useEffect)(function(){t&&t!==3&&h.default.warning({message:"Parami Bridge currently only supports Ropsten Testnet",description:"Please switch network in your wallet"})},[t]),(0,e.jsxs)(e.Fragment,{children:[m?(0,e.jsx)("div",{className:S().mainBgContainer,children:(0,e.jsxs)("div",{className:S().contentContainer,children:[(0,e.jsx)(Ba.Z,{theme:"dashboard"}),(0,e.jsxs)("div",{className:s().bridgeContainer,children:[(0,e.jsxs)("div",{className:s().leftContainer,children:[(0,e.jsxs)("div",{className:s().innerWrapper,children:[(0,e.jsx)(me,{level:2,children:j.formatMessage({id:"dashboard.bridge.title",defaultMessage:"Parami Bridge"})}),(0,e.jsx)("span",{className:s().description,children:j.formatMessage({id:"dashboard.bridge.description",defaultMessage:"The safe, fast and most secure way to bring cross-chain assets to Parami chain."})}),(0,e.jsxs)("div",{className:s().points,children:[(0,e.jsx)("a",{children:j.formatMessage({id:"dashboard.bridge.howItWorks",defaultMessage:"How it works?"})}),(0,e.jsx)("a",{children:j.formatMessage({id:"dashboard.bridge.faq",defaultMessage:"FAQ"})}),(0,e.jsx)("a",{children:j.formatMessage({id:"dashboard.bridge.userGuide",defaultMessage:"User guide"})})]})]}),(0,e.jsx)("div",{className:s().bottomSection,children:(0,e.jsx)(x.Z,{src:"/images/background/chainbridge.svg",preview:!1,className:s().background})})]}),(0,e.jsxs)("div",{className:s().rightContainer,children:[(0,e.jsxs)("div",{className:s().bridgeTabs,children:[(0,e.jsx)("div",{className:O()(s().bridgeTabsItem,u==="deposit"?s().active:""),onClick:function(){return c("deposit")},children:j.formatMessage({id:"dashboard.bridge.deposit",defaultMessage:"Deposit"})}),(0,e.jsx)("div",{className:O()(s().bridgeTabsItem,u==="withdraw"?s().active:""),onClick:function(){return c("withdraw")},children:j.formatMessage({id:"dashboard.bridge.withdraw",defaultMessage:"Withdraw"})})]}),(0,e.jsxs)("div",{className:s().bridgeBody,children:[u==="deposit"&&(0,e.jsx)(ua,{setLoading:R,setStep:k,setETHHash:J,setParamiHash:ne}),u==="withdraw"&&(0,e.jsx)(Na,{setLoading:R,setStep:k,setETHHash:J,setParamiHash:ne})]})]})]})]})}):(0,e.jsx)(Ea.Z,{}),K&&(0,e.jsx)(Aa,{tab:u,step:X,ethHash:E,paramiHash:V,onClose:function(){R(!1),k(1),J(""),ne("")}})]})},Pa=ya}}]);

(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[7317],{78256:function(R){R.exports={field:"field___21P8B",topIcon:"topIcon___2feHU",title:"title___2lv3m",listBtn:"listBtn___ZklYc",value:"value___2tC7P",description:"description___1Zm7_",recoveryLinkContainer:"recoveryLinkContainer___1gf4v",seedPhrase:"seedPhrase___6WKE4",singlePhrase:"singlePhrase___1Wsek",singlePhraseIndex:"singlePhraseIndex___MB3DK",singlePhraseWord:"singlePhraseWord___2ZcCQ",copyButton:"copyButton___1L3lB",recoveryLinkSpinWrapper:"recoveryLinkSpinWrapper___10d5q",buttons:"buttons___1Iocf",button:"button___139kU",link:"link___ONM3m",codeInput:"codeInput___1qEMw",verifyForm:"verifyForm___2rtdl",highLight:"highLight___cDLIk",verifyInput:"verifyInput___3Kj9u",exchanges:"exchanges___2CaMl",socialButtons:"socialButtons___KyyfR",stepContainer:"stepContainer___UdUnF"}},54014:function(R,L,e){"use strict";var f=e(58024),i=e(39144),u=e(57106),Y=e(99683),E=e(12968),U=e(62462),ae=e(67294),K=e(43581),V=e(55909),$=e.n(V),P=e(85893),B=window.navigator.userAgent.toLowerCase(),J=/iphone|ipod|ipad/.test(B),w=/android|adr/.test(B),X=function(){var k=(0,K.YB)();return(0,P.jsx)(i.Z,{className:$().card,children:(0,P.jsx)(Y.ZP,{icon:(0,P.jsxs)(P.Fragment,{children:[J&&(0,P.jsx)(U.Z,{src:"/images/icon/safari_logo.svg",preview:!1,style:{width:120,height:120}}),w&&(0,P.jsx)(U.Z,{src:"/images/icon/chrome_logo.svg",preview:!1,style:{width:120,height:120}})]}),title:"Not Supported",subTitle:k.formatMessage({id:"error.broswer.notSupport"})})})};L.Z=X},81351:function(R,L,e){"use strict";e.r(L),e.d(L,{default:function(){return pe}});var f=e(2824),i=e(67294),u=e(43581),Y=e(55909),E=e.n(Y),U=e(54014),ae=e(58024),K=e(39144),V=e(20228),$=e(11382),P=e(57663),B=e(71577),J=e(47673),w=e(32787),X=e(48736),G=e(27049),k=e(74379),F=e(38648),H=e(3182),fe=e(402),b=e(3887),se=e(94043),N=e.n(se),ne=e(78256),l=e.n(ne),Q=e(75397),t=e(85893),re=function(d){var j=d.mnemonic,y=d.setStep,M=d.setAccount,x=d.setDID,D=d.setMnemonic,g=(0,u.tT)("apiWs"),T=(0,i.useState)(!0),S=(0,f.Z)(T,2),Z=S[0],p=S[1],C=b.Z.Title,m=(0,u.YB)(),v=u.m8.location.hash,o=v==null?void 0:v.substring(1),h="";if(o)if(o.indexOf(";")>-1){var A,W=o.split(";");h=(A=W[1])===null||A===void 0?void 0:A.replace(/%20/g," "),D(h)}else h=o==null?void 0:o.replace(/%20/g," "),D(h);var O=function(){var I=(0,H.Z)(N().mark(function c(){var s,n,z,r;return N().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return p(!0),a.prev=1,a.next=4,(0,Q.qy)(j);case 4:return s=a.sent,n=s.address,M(n),a.next=9,(0,Q.Lu)(n);case 9:if(z=a.sent,z){a.next=13;break}return p(!1),a.abrupt("return");case 13:return a.next=16,(0,Q.RA)(n);case 16:if(r=a.sent,r!==null){a.next=21;break}return F.default.error({key:"identitynotFound",message:m.formatMessage({id:"error.identity.notFound"}),duration:null}),p(!1),a.abrupt("return");case 21:return x(r),localStorage.setItem("parami:wallet:account",n),localStorage.setItem("parami:wallet:did",r),y(2),p(!1),a.abrupt("return");case 29:return a.prev=29,a.t0=a.catch(1),F.default.error({key:"identitynotFound",message:m.formatMessage({id:"error.identity.notFound"}),duration:null}),p(!1),a.abrupt("return");case 34:case"end":return a.stop()}},c,null,[[1,29]])}));return function(){return I.apply(this,arguments)}}();return(0,i.useEffect)(function(){if(!!g){if(p(!1),!!v&&!o){F.default.error({key:"recoveryLinkError",message:m.formatMessage({id:"error.identity.incorrectRecoveryLink"}),duration:null});return}v&&O()}},[g,v,j]),(0,t.jsx)(K.Z,{className:E().card,children:(0,t.jsxs)($.Z,{size:"large",tip:m.formatMessage({id:"common.loading"}),spinning:Z||!g,style:{display:"flex",maxHeight:"100%"},children:[(0,t.jsx)("img",{src:"/images/icon/mnemonic.svg",className:l().topIcon}),(0,t.jsx)(C,{className:l().title,children:m.formatMessage({id:"identity.inputMnemonic.title"})}),(0,t.jsx)("p",{className:l().description,children:m.formatMessage({id:"identity.inputMnemonic.description"})}),(0,t.jsx)(G.Z,{}),(0,t.jsxs)("div",{className:l().field,children:[(0,t.jsx)(C,{level:4,children:m.formatMessage({id:"identity.inputMnemonic.inputURL"})}),(0,t.jsx)(w.Z,{size:"large",bordered:!0,onChange:function(c){var s=c.target.value.indexOf(" ")>-1?c.target.value:null;s&&(h=s,D(s))},disabled:Z,placeholder:"Enter your mnemonic likes apple banana orange..."})]}),(0,t.jsx)("div",{className:l().buttons,children:(0,t.jsx)(B.Z,{type:"primary",shape:"round",size:"large",className:l().button,loading:Z,onClick:function(){O()},children:m.formatMessage({id:"common.confirm"})})})]})})},ie=re,_=e(96534),oe=e(47832),q=e(51625),le=function(d){var j=d.mnemonic,y=d.passphrase,M=d.account,x=d.did,D=d.setPassphrase,g=(0,u.tT)("apiWs"),T=(0,u.tT)("@@initialState"),S=T.initialState,Z=T.refresh,p=(0,i.useState)(!1),C=(0,f.Z)(p,2),m=C[0],v=C[1],o=(0,u.YB)(),h=b.Z.Title,A=w.Z.TextArea,W=function(){Z(),setTimeout(function(){var s,n;window.location.href=(S==null||(s=S.currentInfo)===null||s===void 0||(n=s.wallet)===null||n===void 0?void 0:n.redirect)||q.Z.page.walletPage,localStorage.removeItem("parami:wallet:inProcess"),localStorage.removeItem("parami:wallet:redirect")},10)},O=function(){var c=(0,H.Z)(N().mark(function s(){var n;return N().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n=(0,_.M8)().substring(0,6),D(n),localStorage.setItem("parami:wallet:passphrase",n);case 3:case"end":return r.stop()}},s)}));return function(){return c.apply(this,arguments)}}(),I=function(){var c=(0,H.Z)(N().mark(function s(){var n;return N().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return v(!0),r.next=3,(0,oe.QM)(y,j);case 3:if(n=r.sent,!n){r.next=10;break}localStorage.setItem("parami:wallet:account",M),localStorage.setItem("parami:wallet:keystore",n),v(!0),r.next=13;break;case 10:return F.default.error({key:"passwordIncorrect",message:"The password is incorrect."}),v(!1),r.abrupt("return");case 13:W();case 14:case"end":return r.stop()}},s)}));return function(){return c.apply(this,arguments)}}();return(0,i.useEffect)(function(){!g||y||O()},[g,y,j]),(0,t.jsxs)(K.Z,{className:E().card,children:[(0,t.jsx)("img",{src:"/images/icon/idcard.svg",className:l().topIcon}),(0,t.jsx)(h,{className:l().title,children:o.formatMessage({id:"identity.selectMode.title"})}),(0,t.jsx)("p",{className:l().description,children:o.formatMessage({id:"identity.selectMode.description"})}),(0,t.jsx)(G.Z,{}),(0,t.jsx)("div",{className:l().listBtn,children:(0,t.jsxs)("div",{className:l().field,style:{flexDirection:"column"},children:[(0,t.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:10},children:(0,t.jsx)("span",{className:l().title,children:o.formatMessage({id:"identity.selectMode.did"})})}),(0,t.jsx)(A,{size:"small",style:{backgroundColor:"#fff"},readOnly:!0,value:(0,_.st)(x),autoSize:{minRows:1,maxRows:4}})]})}),(0,t.jsx)("div",{className:l().buttons,children:(0,t.jsx)(B.Z,{block:!0,type:"primary",shape:"round",size:"large",className:l().button,loading:m,onClick:function(){I()},children:o.formatMessage({id:"common.confirm"})})})]})},de=le,ce=e(22930),ue=e(95216),me=e.n(ue),ee=new(me())(navigator.userAgent||navigator.vendor||window.opera),ve=function(){var d=(0,u.tT)("apiWs"),j=(0,i.useState)(1),y=(0,f.Z)(j,2),M=y[0],x=y[1],D=(0,i.useState)(""),g=(0,f.Z)(D,2),T=g[0],S=g[1],Z=(0,i.useState)(""),p=(0,f.Z)(Z,2),C=p[0],m=p[1],v=(0,i.useState)(""),o=(0,f.Z)(v,2),h=o[0],A=o[1],W=(0,i.useState)(""),O=(0,f.Z)(W,2),I=O[0],c=O[1],s=(0,u.md)();return(0,i.useEffect)(function(){if(!!d){if(s.canWalletUser){localStorage.removeItem("parami:wallet:inProcess"),u.m8.push(q.Z.page.walletPage);return}localStorage.setItem("parami:wallet:inProcess","recoverAccount")}},[d]),(0,i.useEffect)(function(){if(ee.isInApp){x(-1);return}if(ee.browser==="safari"&&!ce.Z){x(-1);return}},[M]),(0,t.jsxs)("div",{className:E().mainContainer,children:[(0,t.jsx)("div",{className:E().background}),(0,t.jsx)("div",{className:E().logoMark}),(0,t.jsxs)("div",{className:E().pageContainer,children:[M===-1&&(0,t.jsx)(U.Z,{}),M===1&&(0,t.jsx)(ie,{mnemonic:I,setStep:x,setAccount:m,setDID:A,setMnemonic:c}),M===2&&(0,t.jsx)(de,{passphrase:T,mnemonic:I,account:C,did:h,setPassphrase:S})]})]})},pe=ve},22930:function(R,L){"use strict";var e=[320/454,375/553,375/548,414/622,414/617,375/634,375/635,414/718,414/719,414/714,414/715,375/628,375/629,390/663,390/664,428/745,428/746,390/844].some(function(u){return u===document.documentElement.clientWidth/document.documentElement.clientHeight}),f=/Safari/.test(navigator.userAgent),i=f&&e;L.Z=i}}]);

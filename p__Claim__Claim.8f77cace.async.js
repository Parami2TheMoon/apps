(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[2627],{19273:function(d,u,e){"use strict";e.d(u,{Z:function(){return R}});function R(v){if(v==null)throw new TypeError("Cannot destructure undefined")}},55133:function(d){d.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(d){d.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},2752:function(d){d.exports={claimInfoContainer:"claimInfoContainer___2QBl-",scoreChange:"scoreChange___21g3Z"}},8556:function(d){d.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(d){d.exports={tag:"tag___sah2p"}},69764:function(d,u,e){"use strict";var R=e(71194),v=e(50146),C=e(57663),m=e(71577),I=e(402),c=e(3887),M=e(67294),g=e(55133),O=e.n(g),t=e(54549),o=e(85893),f=c.Z.Title,z=function(U){var Y=U.visable,N=U.title,W=U.content,K=U.footer,S=U.close,Q=U.bodyStyle,n=U.width;return(0,o.jsx)(v.Z,{title:N?(0,o.jsx)(f,{level:5,className:O().title,children:N}):null,closable:!!S,closeIcon:(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(m.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,o.jsx)(t.Z,{onClick:S})})}),className:O().modal,centered:!0,visible:Y,width:n!=null?n:650,footer:K,bodyStyle:Q,children:W})};u.Z=z},46656:function(d,u,e){"use strict";var R=e(71194),v=e(50146),C=e(47673),m=e(32787),I=e(22385),c=e(31097),M=e(17462),g=e(76772),O=e(57663),t=e(71577),o=e(74379),f=e(38648),z=e(3182),k=e(2824),U=e(402),Y=e(3887),N=e(94043),W=e.n(N),K=e(67294),S=e(43581),Q=e(55133),n=e.n(Q),ae=e(3548),ie=e(68855),Z=e(47832),se=e(55347),x=e(51625),l=e(85893),q=Y.Z.Title,ne=function(j){var b=j.visable,D=j.setVisable,a=j.passphrase,F=j.setPassphrase,H=j.func,V=j.changePassphrase,X=(0,S.tT)("apiWs"),_e=(0,S.tT)("currentUser"),s=_e.wallet,J=(0,S.tT)("balance"),le=J.balance,re=(0,K.useState)(!1),h=(0,k.Z)(re,2),w=h[0],G=h[1],te=(0,K.useState)(),ee=(0,k.Z)(te,2),E=ee[0],y=ee[1],i=(0,S.YB)(),A=function(_){F(_?_.target.value:"")},p=function(){var L=(0,z.Z)(W().mark(function _(){var r,$,T,de,ue;return W().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(G(!0),s!=null&&s.passphrase&&F(s==null?void 0:s.passphrase),!((!a||a.length<6)&&!(s!=null&&s.passphrase))){P.next=5;break}return G(!1),P.abrupt("return");case 5:if(r=(s==null?void 0:s.passphrase)||a,!(r&&s!==null&&s!==void 0&&s.keystore)){P.next=16;break}if($=(0,Z.Gh)(r,s.keystore),$){P.next=13;break}return f.default.error({key:"passphraseError",message:i.formatMessage({id:"error.passphrase.error"}),duration:null}),F(""),G(!1),P.abrupt("return");case 13:T=new se.ZP({type:"sr25519"}),de=T.addFromUri($),ue=de.address,s!=null&&s.account&&s.account!==ue&&(localStorage.clear(),sessionStorage.clear(),window.location.href=x.Z.page.homePage);case 16:if(!H){P.next=25;break}return P.prev=17,P.next=20,H();case 20:P.next=25;break;case 22:P.prev=22,P.t0=P.catch(17),console.log("security modal submit func error fallback",P.t0);case 25:D(!1),G(!1);case 27:case"end":return P.stop()}},_,null,[[17,22]])}));return function(){return L.apply(this,arguments)}}(),B=function(){var L=(0,z.Z)(W().mark(function _(){var r;return W().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(!!X&&!!s.account)){T.next=11;break}return T.next=3,H(!0,s.account);case 3:if(r=T.sent,!r){T.next=8;break}y(r.partialFee),T.next=11;break;case 8:if(V){T.next=11;break}return T.next=11,p();case 11:case"end":return T.stop()}},_)}));return function(){return L.apply(this,arguments)}}();return(0,K.useEffect)(function(){!!X&&!!(s!=null&&s.account)&&b&&B()},[X,s==null?void 0:s.account,b]),(0,K.useEffect)(function(){!!(s!=null&&s.passphrase)&&b&&!V&&F(s==null?void 0:s.passphrase)},[s==null?void 0:s.passphrase,a,b,V]),(0,l.jsxs)(v.Z,{title:(0,l.jsx)(q,{level:3,children:i.formatMessage({id:"modal.security.title"})}),closable:!1,className:n().modal,centered:!0,visible:b,width:400,footer:(0,l.jsxs)("div",{className:n().buttons,children:[(0,l.jsx)(t.Z,{type:"text",shape:"round",size:"large",className:n().button,onClick:function(){D(!1),window.location.reload()},loading:w,children:i.formatMessage({id:"common.decline"})}),(0,l.jsx)(t.Z,{type:"primary",shape:"round",size:"large",className:n().button,onClick:function(){p()},disabled:!a||a.length<6,loading:w,children:i.formatMessage({id:"common.confirm"})})]}),children:[(0,l.jsxs)("div",{className:n().confirmContainer,children:[!!E&&!!(E!=null&&E.toString())>le.free&&(0,l.jsx)(g.Z,{description:i.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:n().alertContainer}),!!E&&(0,l.jsxs)("div",{className:n().field,children:[(0,l.jsxs)("div",{className:n().labal,children:[i.formatMessage({id:"modal.security.gas"}),(0,l.jsxs)("span",{className:n().small,children:["(",i.formatMessage({id:"modal.security.estimated"}),")"]}),(0,l.jsx)(c.Z,{placement:"bottom",title:i.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,l.jsx)(ie.Z,{className:n().labalIcon})})]}),(0,l.jsx)("div",{className:n().value,children:(0,l.jsx)(ae.Z,{value:E,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(s!=null&&s.passphrase)||V)&&(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,l.jsxs)("div",{className:n().codeInput,children:[(0,l.jsxs)("div",{className:n().verifyForm,children:[(0,l.jsx)("span",{className:(a==null?void 0:a.slice(0))&&!(a!=null&&a.slice(1,5))&&n().highLight,children:a==null?void 0:a.slice(0,1).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(a==null?void 0:a.slice(1))&&!(a!=null&&a.slice(2,5))&&n().highLight,children:a==null?void 0:a.slice(1,2).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(a==null?void 0:a.slice(2,3))&&!(a!=null&&a.slice(3,5))&&n().highLight,children:a==null?void 0:a.slice(2,3).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(a==null?void 0:a.slice(3,4))&&!(a!=null&&a.slice(4,5))&&n().highLight,children:a==null?void 0:a.slice(3,4).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(a==null?void 0:a.slice(4,5))&&!(a!=null&&a.slice(5))&&n().highLight,children:a==null?void 0:a.slice(4,5).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(a==null?void 0:a.slice(5))&&n().highLight,children:a==null?void 0:a.slice(5).replace(/[^]/,"\u2731")})]}),(0,l.jsx)(m.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:n().verifyInput,onChange:A,value:a,disabled:w,maxLength:6,visibilityToggle:!1})]})})]})};u.Z=ne},3548:function(d,u,e){"use strict";var R=e(67294),v=e(31639),C=e.n(v),m=e(96534),I=e(85893),c=function(g){var O=g.value,t=g.style;return(0,I.jsxs)("div",{className:C().ad3,style:t,children:[O?(0,m.MP)(O):"--",(0,I.jsx)("span",{className:C().unit,children:"\xA0$AD3"})]})};u.Z=c},28986:function(d,u,e){"use strict";e.d(u,{Pi:function(){return O},TE:function(){return t},vs:function(){return o}});var R="STORE_ACCOUNT_SELECTED",v="STORE_ADDRESSBOOKS",C="STORE_SETTING_LANG",m="STORE_SETTING_ENDPOINT",I="STORE_SETTING_CUSTOM_ENDPOINTS",c="https://polkascan.io/pre/",M="https://polkascan.io/",g={Dana:"dana",Parami:"parami","Dana CC1":"dana-cc1","Dana CC2":"dana-cc2","Dana CC3":"dana-cc3"},O;(function(f){f.POPUP="popup"})(O||(O={}));var t;(function(f){f.AIRDROP="airdrop",f.BIND="bind",f.CLAIM_HNFT="claimHnft"})(t||(t={}));var o;(function(f){f.AD_CLAIMED="AdClaimed"})(o||(o={}))},70279:function(d,u,e){"use strict";e.r(u);var R=e(19273),v=e(28986),C=e(67294),m=e(51615),I=e(57641),c=e(85893);function M(g){(0,R.Z)(g);var O=(0,m.UO)(),t=O.adId,o=O.nftId;return(0,c.jsx)(c.Fragment,{children:t&&o&&(0,c.jsx)(I.Z,{adId:t,nftId:o,onClaim:function(){window.opener.postMessage("".concat(v.vs.AD_CLAIMED,":").concat(t),"*"),window.close()},onClose:function(){window.close()}})})}u.default=M},57641:function(d,u,e){"use strict";var R=e(57663),v=e(71577),C=e(20228),m=e(11382),I=e(74379),c=e(38648),M=e(3182),g=e(2824),O=e(94043),t=e.n(O),o=e(67294),f=e(69764),z=e(2752),k=e.n(z),U=e(32689),Y=e(46656),N=e(61715),W=e(43581),K=e(69854),S=e(11561),Q=e(79762),n=e(85893),ae=function(Z){var se=Z.onClose,x=Z.adId,l=Z.nftId,q=Z.referrer,ne=q===void 0?null:q,oe=Z.onClaim,j=(0,o.useState)(),b=(0,g.Z)(j,2),D=b[0],a=b[1],F=(0,o.useState)(!1),H=(0,g.Z)(F,2),V=H[0],X=H[1],_e=(0,o.useState)(""),s=(0,g.Z)(_e,2),J=s[0],le=s[1],re=(0,W.tT)("currentUser"),h=re.wallet,w=(0,W.YB)(),G=function(){var E=(0,M.Z)(t().mark(function y(){var i;return t().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,K.Wv)(x);case 2:i=p.sent,a({scores:(i!=null?i:[]).map(function(B){return{tag:B.name,score:-5}})});case 4:case"end":return p.stop()}},y)}));return function(){return E.apply(this,arguments)}}(),te=function(){var E=(0,M.Z)(t().mark(function y(){var i,A,p,B;return t().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,_.next=3,(0,K.Wv)(x);case 3:i=_.sent,console.log(i),_.next=10;break;case 7:_.prev=7,_.t0=_.catch(0),console.log(_.t0);case 10:return _.prev=10,_.next=13,(0,U.Rh)(x,l,h==null?void 0:h.did);case 13:A=_.sent,p=A.response,B=A.data,p.ok?a(B):G(),_.next=23;break;case 19:_.prev=19,_.t1=_.catch(10),console.log(_.t1),G();case 23:case"end":return _.stop()}},y,null,[[0,7],[10,19]])}));return function(){return E.apply(this,arguments)}}();(0,o.useEffect)(function(){te()},[]);var ee=function(){var E=(0,M.Z)(t().mark(function y(i,A){var p,B,L;return t().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(h!=null&&h.keystore){r.next=3;break}return c.default.error({key:"accessDenied",message:w.formatMessage({id:"error.accessDenied"}),duration:null}),r.abrupt("return");case 3:if(r.prev=3,L=((p=D.scores)!==null&&p!==void 0?p:[]).map(function($){return[$.tag,$.score]}),!(D&&D.signature)){r.next=11;break}return r.next=8,(0,N.nm)(x,l,h==null?void 0:h.did,L,D.referer,D.signature,D.signer_account,J,h.keystore,i,A);case 8:B=r.sent,r.next=14;break;case 11:return r.next=13,(0,N.HS)(x,l,L,ne,J,h.keystore,i,A);case 13:B=r.sent;case 14:if(!(i&&A)){r.next=16;break}return r.abrupt("return",B);case 16:c.default.success({message:"Claim Token Success"}),oe(),r.next=24;break;case 20:r.prev=20,r.t0=r.catch(3),console.log(r.t0),c.default.error({message:"Claim Ad Token Error",description:"".concat(r.t0)});case 24:case"end":return r.stop()}},y,null,[[3,20]])}));return function(i,A){return E.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Z,{visable:!0,title:"Claim your token",content:(0,n.jsx)("div",{className:k().claimInfoContainer,children:(0,n.jsx)(m.Z,{spinning:!D,children:D&&D.scores&&D.scores.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"Claim now and have your score updated:"}),D.scores.map(function(E){return(0,n.jsxs)("div",{className:k().scoreChange,children:[(0,n.jsx)(S.Z,{tag:E.tag}),(0,n.jsx)(Q.Z,{score:parseInt(E.score,10)})]})}),!D.signature&&(0,n.jsx)("p",{children:"Not happy with the reward? Follow the instructions before claiming."})]})})}),footer:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(v.Z,{block:!0,type:"primary",shape:"round",size:"large",disabled:!D,onClick:function(){return X(!0)},children:"Claim"})}),close:function(){return se()}}),(0,n.jsx)(Y.Z,{visable:V,setVisable:X,passphrase:J,setPassphrase:le,func:ee})]})};u.Z=ae},79762:function(d,u,e){"use strict";var R=e(67294),v=e(8556),C=e.n(v),m=e(85893);function I(c){var M=c.score;return(0,m.jsxs)("span",{className:C().scoreContainer,children:[M>=0&&(0,m.jsxs)("span",{className:C().positive,children:["+",M]}),M<0&&(0,m.jsxs)("span",{className:C().negative,children:["-",Math.abs(M)]})]})}u.Z=I},11561:function(d,u,e){"use strict";var R=e(67294),v=e(28531),C=e.n(v),m=e(85893);function I(c){var M=c.tag;return(0,m.jsx)("span",{className:C().tag,children:M})}u.Z=I}}]);

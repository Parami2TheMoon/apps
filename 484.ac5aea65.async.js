(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[484],{55133:function(g){g.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(g){g.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},15126:function(g){g.exports={assetsContainer:"assetsContainer___1wFua",noAssets:"noAssets___2Gid1",title:"title___swkHP",field:"field___3Hj7T",icon:"icon___39vsT",name:"name___3pUYc",value:"value___1rjpK"}},69764:function(g,A,e){"use strict";var S=e(71194),y=e(50146),p=e(57663),C=e(71577),d=e(402),T=e(3887),R=e(67294),E=e(55133),f=e.n(E),M=e(54549),t=e(85893),r=T.Z.Title,i=function(c){var _=c.visable,L=c.title,u=c.content,v=c.footer,U=c.close,j=c.bodyStyle,a=c.width;return(0,t.jsx)(y.Z,{title:L?(0,t.jsx)(r,{level:5,className:f().title,children:L}):null,closable:!!U,closeIcon:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(C.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,t.jsx)(M.Z,{onClick:U})})}),className:f().modal,centered:!0,visible:_,width:a!=null?a:650,footer:v,bodyStyle:j,children:u})};A.Z=i},46656:function(g,A,e){"use strict";var S=e(71194),y=e(50146),p=e(47673),C=e(32787),d=e(22385),T=e(31097),R=e(17462),E=e(76772),f=e(57663),M=e(71577),t=e(74379),r=e(38648),i=e(3182),o=e(2824),c=e(402),_=e(3887),L=e(94043),u=e.n(L),v=e(67294),U=e(43581),j=e(55133),a=e.n(j),_e=e(3548),oe=e(68855),Q=e(47832),X=e(55347),le=e(51625),l=e(85893),H=_.Z.Title,te=function(K){var Z=K.visable,I=K.setVisable,s=K.passphrase,G=K.setPassphrase,P=K.func,x=K.changePassphrase,z=(0,U.tT)("apiWs"),q=(0,U.tT)("currentUser"),n=q.wallet,B=(0,U.tT)("balance"),re=B.balance,ee=(0,v.useState)(!1),Y=(0,o.Z)(ee,2),F=Y[0],$=Y[1],se=(0,v.useState)(),V=(0,o.Z)(se,2),b=V[0],O=V[1],h=(0,U.YB)(),ae=function(N){G(N?N.target.value:"")},ie=function(){var w=(0,i.Z)(u().mark(function N(){var k,ne,D,ue,de;return u().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if($(!0),n!=null&&n.passphrase&&G(n==null?void 0:n.passphrase),!((!s||s.length<6)&&!(n!=null&&n.passphrase))){W.next=5;break}return $(!1),W.abrupt("return");case 5:if(k=(n==null?void 0:n.passphrase)||s,!(k&&n!==null&&n!==void 0&&n.keystore)){W.next=16;break}if(ne=(0,Q.Gh)(k,n.keystore),ne){W.next=13;break}return r.default.error({key:"passphraseError",message:h.formatMessage({id:"error.passphrase.error"}),duration:null}),G(""),$(!1),W.abrupt("return");case 13:D=new X.ZP({type:"sr25519"}),ue=D.addFromUri(ne),de=ue.address,n!=null&&n.account&&n.account!==de&&(localStorage.clear(),sessionStorage.clear(),window.location.href=le.Z.page.homePage);case 16:if(!P){W.next=19;break}return W.next=19,P();case 19:I(!1),$(!1);case 21:case"end":return W.stop()}},N)}));return function(){return w.apply(this,arguments)}}(),m=function(){var w=(0,i.Z)(u().mark(function N(){var k;return u().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(!!z&&!!n.account)){D.next=11;break}return D.next=3,P(!0,n.account);case 3:if(k=D.sent,!k){D.next=8;break}O(k.partialFee),D.next=11;break;case 8:if(x){D.next=11;break}return D.next=11,ie();case 11:case"end":return D.stop()}},N)}));return function(){return w.apply(this,arguments)}}();return(0,v.useEffect)(function(){!!z&&!!(n!=null&&n.account)&&Z&&m()},[z,n==null?void 0:n.account,Z]),(0,v.useEffect)(function(){!!(n!=null&&n.passphrase)&&Z&&!x&&G(n==null?void 0:n.passphrase)},[n==null?void 0:n.passphrase,s,Z,x]),(0,l.jsxs)(y.Z,{title:(0,l.jsx)(H,{level:3,children:h.formatMessage({id:"modal.security.title"})}),closable:!1,className:a().modal,centered:!0,visible:Z,width:400,footer:(0,l.jsxs)("div",{className:a().buttons,children:[(0,l.jsx)(M.Z,{type:"text",shape:"round",size:"large",className:a().button,onClick:function(){I(!1),window.location.reload()},loading:F,children:h.formatMessage({id:"common.decline"})}),(0,l.jsx)(M.Z,{type:"primary",shape:"round",size:"large",className:a().button,onClick:function(){ie()},disabled:!s||s.length<6,loading:F,children:h.formatMessage({id:"common.confirm"})})]}),children:[(0,l.jsxs)("div",{className:a().confirmContainer,children:[!!b&&!!(b!=null&&b.toString())>re.free&&(0,l.jsx)(E.Z,{description:h.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:a().alertContainer}),!!b&&(0,l.jsxs)("div",{className:a().field,children:[(0,l.jsxs)("div",{className:a().labal,children:[h.formatMessage({id:"modal.security.gas"}),(0,l.jsxs)("span",{className:a().small,children:["(",h.formatMessage({id:"modal.security.estimated"}),")"]}),(0,l.jsx)(T.Z,{placement:"bottom",title:h.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,l.jsx)(oe.Z,{className:a().labalIcon})})]}),(0,l.jsx)("div",{className:a().value,children:(0,l.jsx)(_e.Z,{value:b,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(n!=null&&n.passphrase)||x)&&(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,l.jsxs)("div",{className:a().codeInput,children:[(0,l.jsxs)("div",{className:a().verifyForm,children:[(0,l.jsx)("span",{className:(s==null?void 0:s.slice(0))&&!(s!=null&&s.slice(1,5))&&a().highLight,children:s==null?void 0:s.slice(0,1).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(s==null?void 0:s.slice(1))&&!(s!=null&&s.slice(2,5))&&a().highLight,children:s==null?void 0:s.slice(1,2).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(s==null?void 0:s.slice(2,3))&&!(s!=null&&s.slice(3,5))&&a().highLight,children:s==null?void 0:s.slice(2,3).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(s==null?void 0:s.slice(3,4))&&!(s!=null&&s.slice(4,5))&&a().highLight,children:s==null?void 0:s.slice(3,4).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(s==null?void 0:s.slice(4,5))&&!(s!=null&&s.slice(5))&&a().highLight,children:s==null?void 0:s.slice(4,5).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(s==null?void 0:s.slice(5))&&a().highLight,children:s==null?void 0:s.slice(5).replace(/[^]/,"\u2731")})]}),(0,l.jsx)(C.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:a().verifyInput,onChange:ae,value:s,disabled:F,maxLength:6,visibilityToggle:!1})]})})]})};A.Z=te},3548:function(g,A,e){"use strict";var S=e(67294),y=e(31639),p=e.n(y),C=e(96534),d=e(85893),T=function(E){var f=E.value,M=E.style;return(0,d.jsxs)("div",{className:p().ad3,style:M,children:[f?(0,C.MP)(f):"--",(0,d.jsx)("span",{className:p().unit,children:"\xA0$AD3"})]})};A.Z=T},57651:function(g,A,e){"use strict";var S=e(67294),y=e(31639),p=e.n(y),C=e(96534),d=e(85893),T=function(E){var f=E.value,M=E.symbol,t=E.decimals,r=t===void 0?18:t;return(0,d.jsxs)("div",{className:p().ad3,children:[f?(0,C.MP)(f.replaceAll(",",""),r):"--",M&&(0,d.jsxs)("span",{className:p().unit,children:["\xA0$",M]})]})};A.Z=T},1115:function(g,A,e){"use strict";var S=e(57663),y=e(71577),p=e(12968),C=e(62462),d=e(20228),T=e(11382),R=e(11849),E=e(3182),f=e(2824),M=e(94043),t=e.n(M),r=e(67294),i=e(69764),o=e(43581),c=e(43002),_=e(33044),L=e(51625),u=e(15126),v=e.n(u),U=e(57651),j=e(13580),a=e(85893),_e=function(Q){var X=Q.onClose,le=Q.onSelectAsset,l=(0,o.YB)(),H=(0,o.tT)("apiWs"),te=(0,o.tT)("currentUser"),J=te.wallet,K=(0,r.useState)(),Z=(0,f.Z)(K,2),I=Z[0],s=Z[1],G=function(){var P=(0,E.Z)(t().mark(function x(){var z,q;return t().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!H){B.next=8;break}return B.next=3,(0,j.jd)();case 3:return z=B.sent,B.next=6,Promise.all(z.map(function(){var re=(0,E.Z)(t().mark(function ee(Y){var F,$,se,V,b,O,h,ae;return t().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,H.query.assets.account(Number(Y.id),J==null?void 0:J.account);case 2:return $=m.sent,se=(F=$.toHuman())!==null&&F!==void 0?F:{balance:""},V=se.balance,V.replaceAll(",",""),m.prev=5,m.next=8,(0,c.yI)(Y.id);case 8:return b=m.sent,m.next=11,(0,_.CC)(b);case 11:return O=m.sent,h="",!!(O!=null&&O.avatar)&&(O==null?void 0:O.avatar.indexOf("ipfs://"))>-1&&(ae=O==null?void 0:O.avatar.substring(7),h=L.Z.ipfs.endpoint+ae),m.abrupt("return",(0,R.Z)((0,R.Z)({},Y),{},{icon:h,balance:V.replaceAll(",","")}));case 17:return m.prev=17,m.t0=m.catch(5),m.abrupt("return",null);case 20:case"end":return m.stop()}},ee,null,[[5,17]])}));return function(ee){return re.apply(this,arguments)}}()));case 6:q=B.sent,s(q.filter(Boolean));case 8:case"end":return B.stop()}},x)}));return function(){return P.apply(this,arguments)}}();return(0,r.useEffect)(function(){H&&G()},[H]),(0,a.jsx)(i.Z,{visable:!0,title:"Select Asset",content:(0,a.jsxs)("div",{className:v().assetsContainer,children:[!I&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(T.Z,{tip:"Loading Assets"})}),I&&I.length===0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:v().noAssets,children:"Could not find any assets."})}),I&&I.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:v().title,children:[(0,a.jsx)("span",{children:"Token"}),(0,a.jsx)("span",{children:"Available Balance"})]}),I==null?void 0:I.map(function(P){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:v().field,onClick:function(){return le(P)},children:[(0,a.jsxs)("span",{className:v().title,children:[(0,a.jsx)(C.Z,{className:v().icon,src:P.icon||"/images/logo-round-core.svg",fallback:"/images/logo-round-core.svg",preview:!1}),(0,a.jsx)("span",{className:v().name,children:P.symbol})]}),(0,a.jsx)("span",{className:v().value,children:(0,a.jsx)(U.Z,{value:P.balance,symbol:P.symbol})})]},P.id)})})]})]}),close:X,footer:(0,a.jsx)(y.Z,{block:!0,type:"primary",shape:"round",size:"large",onClick:X,children:l.formatMessage({id:"common.close"})})})};A.Z=_e},13580:function(g,A,e){"use strict";e.d(A,{Ay:function(){return T},f5:function(){return R},r7:function(){return E},L7:function(){return f},jd:function(){return M}});var S=e(11849),y=e(2824),p=e(3182),C=e(94043),d=e.n(C),T=function(){var t=(0,p.Z)(d().mark(function r(i){var o;return d().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,window.apiWs.query.assets.metadata(Number(i));case 2:return o=_.sent,_.abrupt("return",o);case 4:case"end":return _.stop()}},r)}));return function(i){return t.apply(this,arguments)}}(),R=function(){var t=(0,p.Z)(d().mark(function r(i){var o;return d().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,window.apiWs.query.assets.asset(Number(i));case 2:return o=_.sent,_.abrupt("return",o);case 4:case"end":return _.stop()}},r)}));return function(i){return t.apply(this,arguments)}}(),E=function(){var t=(0,p.Z)(d().mark(function r(i){var o;return d().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,window.apiWs.query.assets.account.entries(i);case 2:return o=_.sent,_.abrupt("return",o);case 4:case"end":return _.stop()}},r)}));return function(i){return t.apply(this,arguments)}}(),f=function(){var t=(0,p.Z)(d().mark(function r(i,o){var c,_;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,window.apiWs.query.assets.account(Number(o),i);case 2:if(c=u.sent,!c.isEmpty){u.next=5;break}return u.abrupt("return",null);case 5:return _=c.toHuman(),u.abrupt("return",_);case 7:case"end":return u.stop()}},r)}));return function(i,o){return t.apply(this,arguments)}}(),M=function(){var t=(0,p.Z)(d().mark(function r(){var i,o;return d().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,window.apiWs.query.assets.metadata.entries();case 2:return i=_.sent,o=(i!=null?i:[]).map(function(L){var u=(0,y.Z)(L,2),v=u[0],U=u[1],j=v.toHuman();return j?(0,S.Z)((0,S.Z)({},U.toHuman()),{},{id:j[0].replaceAll(",","")}):null}).filter(Boolean),_.abrupt("return",o);case 5:case"end":return _.stop()}},r)}));return function(){return t.apply(this,arguments)}}()}}]);

(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[484],{55133:function(A){A.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(A){A.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},15126:function(A){A.exports={assetsContainer:"assetsContainer___1wFua",noAssets:"noAssets___2Gid1",title:"title___swkHP",field:"field___3Hj7T",icon:"icon___39vsT",name:"name___3pUYc",value:"value___1rjpK"}},69764:function(A,y,e){"use strict";var S=e(71194),C=e(50146),f=e(57663),T=e(71577),d=e(402),U=e(3887),R=e(67294),p=e(55133),M=e.n(p),D=e(54549),t=e(85893),r=U.Z.Title,i=function(c){var l=c.visable,L=c.title,u=c.content,v=c.footer,I=c.close,j=c.bodyStyle,a=c.width;return(0,t.jsx)(C.Z,{title:L?(0,t.jsx)(r,{level:5,className:M().title,children:L}):null,closable:!!I,closeIcon:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(T.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,t.jsx)(D.Z,{onClick:I})})}),className:M().modal,centered:!0,visible:l,width:a!=null?a:650,footer:v,bodyStyle:j,children:u})};y.Z=i},46656:function(A,y,e){"use strict";var S=e(71194),C=e(50146),f=e(47673),T=e(32787),d=e(22385),U=e(31097),R=e(17462),p=e(76772),M=e(57663),D=e(71577),t=e(74379),r=e(38648),i=e(3182),o=e(2824),c=e(402),l=e(3887),L=e(94043),u=e.n(L),v=e(67294),I=e(43581),j=e(55133),a=e.n(j),le=e(3548),oe=e(68855),Q=e(47832),X=e(55347),_e=e(51625),_=e(85893),H=l.Z.Title,te=function(K){var Z=K.visable,B=K.setVisable,s=K.passphrase,G=K.setPassphrase,O=K.func,N=K.changePassphrase,z=(0,I.tT)("apiWs"),q=(0,I.tT)("currentUser"),n=q.wallet,W=(0,I.tT)("balance"),re=W.balance,ee=(0,v.useState)(!1),Y=(0,o.Z)(ee,2),F=Y[0],k=Y[1],se=(0,v.useState)(),V=(0,o.Z)(se,2),b=V[0],h=V[1],g=(0,I.YB)(),ae=function(x){G(x?x.target.value:"")},ie=function(){var w=(0,i.Z)(u().mark(function x(){var $,ne,P,ue,de;return u().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(k(!0),n!=null&&n.passphrase&&G(n==null?void 0:n.passphrase),!((!s||s.length<6)&&!(n!=null&&n.passphrase))){E.next=5;break}return k(!1),E.abrupt("return");case 5:if($=(n==null?void 0:n.passphrase)||s,!($&&n!==null&&n!==void 0&&n.keystore)){E.next=16;break}if(ne=(0,Q.Gh)($,n.keystore),ne){E.next=13;break}return r.default.error({key:"passphraseError",message:g.formatMessage({id:"error.passphrase.error"}),duration:null}),G(""),k(!1),E.abrupt("return");case 13:P=new X.ZP({type:"sr25519"}),ue=P.addFromUri(ne),de=ue.address,n!=null&&n.account&&n.account!==de&&(localStorage.clear(),sessionStorage.clear(),window.location.href=_e.Z.page.homePage);case 16:if(!O){E.next=25;break}return E.prev=17,E.next=20,O();case 20:E.next=25;break;case 22:E.prev=22,E.t0=E.catch(17),console.log("security modal submit func error fallback",E.t0);case 25:B(!1),k(!1);case 27:case"end":return E.stop()}},x,null,[[17,22]])}));return function(){return w.apply(this,arguments)}}(),m=function(){var w=(0,i.Z)(u().mark(function x(){var $;return u().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!(!!z&&!!n.account)){P.next=11;break}return P.next=3,O(!0,n.account);case 3:if($=P.sent,!$){P.next=8;break}h($.partialFee),P.next=11;break;case 8:if(N){P.next=11;break}return P.next=11,ie();case 11:case"end":return P.stop()}},x)}));return function(){return w.apply(this,arguments)}}();return(0,v.useEffect)(function(){!!z&&!!(n!=null&&n.account)&&Z&&m()},[z,n==null?void 0:n.account,Z]),(0,v.useEffect)(function(){!!(n!=null&&n.passphrase)&&Z&&!N&&G(n==null?void 0:n.passphrase)},[n==null?void 0:n.passphrase,s,Z,N]),(0,_.jsxs)(C.Z,{title:(0,_.jsx)(H,{level:3,children:g.formatMessage({id:"modal.security.title"})}),closable:!1,className:a().modal,centered:!0,visible:Z,width:400,footer:(0,_.jsxs)("div",{className:a().buttons,children:[(0,_.jsx)(D.Z,{type:"text",shape:"round",size:"large",className:a().button,onClick:function(){B(!1),window.location.reload()},loading:F,children:g.formatMessage({id:"common.decline"})}),(0,_.jsx)(D.Z,{type:"primary",shape:"round",size:"large",className:a().button,onClick:function(){ie()},disabled:!s||s.length<6,loading:F,children:g.formatMessage({id:"common.confirm"})})]}),children:[(0,_.jsxs)("div",{className:a().confirmContainer,children:[!!b&&!!(b!=null&&b.toString())>re.free&&(0,_.jsx)(p.Z,{description:g.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:a().alertContainer}),!!b&&(0,_.jsxs)("div",{className:a().field,children:[(0,_.jsxs)("div",{className:a().labal,children:[g.formatMessage({id:"modal.security.gas"}),(0,_.jsxs)("span",{className:a().small,children:["(",g.formatMessage({id:"modal.security.estimated"}),")"]}),(0,_.jsx)(U.Z,{placement:"bottom",title:g.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,_.jsx)(oe.Z,{className:a().labalIcon})})]}),(0,_.jsx)("div",{className:a().value,children:(0,_.jsx)(le.Z,{value:b,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(n!=null&&n.passphrase)||N)&&(0,_.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,_.jsxs)("div",{className:a().codeInput,children:[(0,_.jsxs)("div",{className:a().verifyForm,children:[(0,_.jsx)("span",{className:(s==null?void 0:s.slice(0))&&!(s!=null&&s.slice(1,5))&&a().highLight,children:s==null?void 0:s.slice(0,1).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(s==null?void 0:s.slice(1))&&!(s!=null&&s.slice(2,5))&&a().highLight,children:s==null?void 0:s.slice(1,2).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(s==null?void 0:s.slice(2,3))&&!(s!=null&&s.slice(3,5))&&a().highLight,children:s==null?void 0:s.slice(2,3).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(s==null?void 0:s.slice(3,4))&&!(s!=null&&s.slice(4,5))&&a().highLight,children:s==null?void 0:s.slice(3,4).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(s==null?void 0:s.slice(4,5))&&!(s!=null&&s.slice(5))&&a().highLight,children:s==null?void 0:s.slice(4,5).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(s==null?void 0:s.slice(5))&&a().highLight,children:s==null?void 0:s.slice(5).replace(/[^]/,"\u2731")})]}),(0,_.jsx)(T.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:a().verifyInput,onChange:ae,value:s,disabled:F,maxLength:6,visibilityToggle:!1})]})})]})};y.Z=te},3548:function(A,y,e){"use strict";var S=e(67294),C=e(31639),f=e.n(C),T=e(96534),d=e(85893),U=function(p){var M=p.value,D=p.style;return(0,d.jsxs)("div",{className:f().ad3,style:D,children:[M?(0,T.MP)(M):"--",(0,d.jsx)("span",{className:f().unit,children:"\xA0$AD3"})]})};y.Z=U},57651:function(A,y,e){"use strict";var S=e(67294),C=e(31639),f=e.n(C),T=e(96534),d=e(85893),U=function(p){var M=p.value,D=p.symbol,t=p.decimals,r=t===void 0?18:t;return(0,d.jsxs)("div",{className:f().ad3,children:[M?(0,T.MP)(M.replaceAll(",",""),r):"--",D&&(0,d.jsxs)("span",{className:f().unit,children:["\xA0$",D]})]})};y.Z=U},1115:function(A,y,e){"use strict";var S=e(57663),C=e(71577),f=e(12968),T=e(62462),d=e(20228),U=e(11382),R=e(11849),p=e(3182),M=e(2824),D=e(94043),t=e.n(D),r=e(67294),i=e(69764),o=e(43581),c=e(43002),l=e(33044),L=e(51625),u=e(15126),v=e.n(u),I=e(57651),j=e(13580),a=e(85893),le=function(Q){var X=Q.onClose,_e=Q.onSelectAsset,_=(0,o.YB)(),H=(0,o.tT)("apiWs"),te=(0,o.tT)("currentUser"),J=te.wallet,K=(0,r.useState)(),Z=(0,M.Z)(K,2),B=Z[0],s=Z[1],G=function(){var O=(0,p.Z)(t().mark(function N(){var z,q;return t().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!H){W.next=8;break}return W.next=3,(0,j.jd)();case 3:return z=W.sent,W.next=6,Promise.all(z.map(function(){var re=(0,p.Z)(t().mark(function ee(Y){var F,k,se,V,b,h,g,ae;return t().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,H.query.assets.account(Number(Y.id),J==null?void 0:J.account);case 2:return k=m.sent,se=(F=k.toHuman())!==null&&F!==void 0?F:{balance:""},V=se.balance,V.replaceAll(",",""),m.prev=5,m.next=8,(0,c.yI)(Y.id);case 8:return b=m.sent,m.next=11,(0,l.CC)(b);case 11:return h=m.sent,g="",!!(h!=null&&h.avatar)&&(h==null?void 0:h.avatar.indexOf("ipfs://"))>-1&&(ae=h==null?void 0:h.avatar.substring(7),g=L.Z.ipfs.endpoint+ae),m.abrupt("return",(0,R.Z)((0,R.Z)({},Y),{},{icon:g,balance:V.replaceAll(",","")}));case 17:return m.prev=17,m.t0=m.catch(5),m.abrupt("return",null);case 20:case"end":return m.stop()}},ee,null,[[5,17]])}));return function(ee){return re.apply(this,arguments)}}()));case 6:q=W.sent,s(q.filter(Boolean));case 8:case"end":return W.stop()}},N)}));return function(){return O.apply(this,arguments)}}();return(0,r.useEffect)(function(){H&&G()},[H]),(0,a.jsx)(i.Z,{visable:!0,title:"Select Asset",content:(0,a.jsxs)("div",{className:v().assetsContainer,children:[!B&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(U.Z,{tip:"Loading Assets"})}),B&&B.length===0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:v().noAssets,children:"Could not find any assets."})}),B&&B.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:v().title,children:[(0,a.jsx)("span",{children:"Token"}),(0,a.jsx)("span",{children:"Available Balance"})]}),B==null?void 0:B.map(function(O){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:v().field,onClick:function(){return _e(O)},children:[(0,a.jsxs)("span",{className:v().title,children:[(0,a.jsx)(T.Z,{className:v().icon,src:O.icon||"/images/logo-round-core.svg",fallback:"/images/logo-round-core.svg",preview:!1}),(0,a.jsx)("span",{className:v().name,children:O.symbol})]}),(0,a.jsx)("span",{className:v().value,children:(0,a.jsx)(I.Z,{value:O.balance,symbol:O.symbol})})]},O.id)})})]})]}),close:X,footer:(0,a.jsx)(C.Z,{block:!0,type:"primary",shape:"round",size:"large",onClick:X,children:_.formatMessage({id:"common.close"})})})};y.Z=le},13580:function(A,y,e){"use strict";e.d(y,{Ay:function(){return U},f5:function(){return R},r7:function(){return p},L7:function(){return M},jd:function(){return D}});var S=e(11849),C=e(2824),f=e(3182),T=e(94043),d=e.n(T),U=function(){var t=(0,f.Z)(d().mark(function r(i){var o;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,window.apiWs.query.assets.metadata(Number(i));case 2:return o=l.sent,l.abrupt("return",o);case 4:case"end":return l.stop()}},r)}));return function(i){return t.apply(this,arguments)}}(),R=function(){var t=(0,f.Z)(d().mark(function r(i){var o;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,window.apiWs.query.assets.asset(Number(i));case 2:return o=l.sent,l.abrupt("return",o);case 4:case"end":return l.stop()}},r)}));return function(i){return t.apply(this,arguments)}}(),p=function(){var t=(0,f.Z)(d().mark(function r(i){var o;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,window.apiWs.query.assets.account.entries(i);case 2:return o=l.sent,l.abrupt("return",o);case 4:case"end":return l.stop()}},r)}));return function(i){return t.apply(this,arguments)}}(),M=function(){var t=(0,f.Z)(d().mark(function r(i,o){var c,l;return d().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,window.apiWs.query.assets.account(Number(o),i);case 2:if(c=u.sent,!c.isEmpty){u.next=5;break}return u.abrupt("return",null);case 5:return l=c.toHuman(),u.abrupt("return",l);case 7:case"end":return u.stop()}},r)}));return function(i,o){return t.apply(this,arguments)}}(),D=function(){var t=(0,f.Z)(d().mark(function r(){var i,o;return d().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,window.apiWs.query.assets.metadata.entries();case 2:return i=l.sent,o=(i!=null?i:[]).map(function(L){var u=(0,C.Z)(L,2),v=u[0],I=u[1],j=v.toHuman();return j?(0,S.Z)((0,S.Z)({},I.toHuman()),{},{id:j[0].replaceAll(",","")}):null}).filter(Boolean),l.abrupt("return",o);case 5:case"end":return l.stop()}},r)}));return function(){return t.apply(this,arguments)}}()}}]);

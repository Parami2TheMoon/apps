var xa=Object.prototype.hasOwnProperty;var Di=Object.getOwnPropertySymbols,ka=Object.prototype.propertyIsEnumerable,Be=Math.pow,Fe=Object.assign;var zi=(ke,w)=>{var T={};for(var M in ke)xa.call(ke,M)&&w.indexOf(M)<0&&(T[M]=ke[M]);if(ke!=null&&Di)for(var M of Di(ke))w.indexOf(M)<0&&ka.call(ke,M)&&(T[M]=ke[M]);return T};var ie=(ke,w,T)=>new Promise((M,V)=>{var J=N=>{try{B(T.next(N))}catch(S){V(S)}},U=N=>{try{B(T.throw(N))}catch(S){V(S)}},B=N=>N.done?M(N.value):Promise.resolve(N.value).then(J,U);B((T=T.apply(ke,w)).next())});(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[1515],{85008:function(ke,w,T){"use strict";T.d(w,{Z:function(){return S}});var M=T(28991),V=T(67294),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"}}]},name:"camera",theme:"outlined"},U=J,B=T(27029),N=function(ne,Se){return V.createElement(B.Z,(0,M.Z)((0,M.Z)({},ne),{},{ref:Se,icon:U}))};N.displayName="CameraOutlined";var S=V.forwardRef(N)},62298:function(ke,w,T){"use strict";T.d(w,{Z:function(){return S}});var M=T(28991),V=T(67294),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},U=J,B=T(27029),N=function(ne,Se){return V.createElement(B.Z,(0,M.Z)((0,M.Z)({},ne),{},{ref:Se,icon:U}))};N.displayName="CloudUploadOutlined";var S=V.forwardRef(N)},57254:function(ke,w,T){"use strict";T.d(w,{Z:function(){return S}});var M=T(28991),V=T(67294),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},U=J,B=T(27029),N=function(ne,Se){return V.createElement(B.Z,(0,M.Z)((0,M.Z)({},ne),{},{ref:Se,icon:U}))};N.displayName="DownOutlined";var S=V.forwardRef(N)},54977:function(ke,w,T){"use strict";T.d(w,{Z:function(){return S}});var M=T(28991),V=T(67294),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},U=J,B=T(27029),N=function(ne,Se){return V.createElement(B.Z,(0,M.Z)((0,M.Z)({},ne),{},{ref:Se,icon:U}))};N.displayName="FormOutlined";var S=V.forwardRef(N)},48926:function(ke){function w(M,V,J,U,B,N,S){try{var E=M[N](S),ne=E.value}catch(Se){J(Se);return}E.done?V(ne):Promise.resolve(ne).then(U,B)}function T(M){return function(){var V=this,J=arguments;return new Promise(function(U,B){var N=M.apply(V,J);function S(ne){w(N,U,B,S,E,"next",ne)}function E(ne){w(N,U,B,S,E,"throw",ne)}S(void 0)})}}ke.exports=T,ke.exports.default=ke.exports,ke.exports.__esModule=!0},60821:function(ke,w,T){"use strict";T.d(w,{Z:function(){return wa}});var M=T(26729),V=T.n(M),J=T(50780),U=T.n(J),B=T(64285),N=T(13550),S=T.n(N),E=T(77191),ne=T.n(E),Se=T(25532),x=T(39386);class Re extends TypeError{constructor(e,r){let o;const{message:s}=e,c=zi(e,["message"]),{path:g}=e,I=g.length===0?s:"At path: "+g.join(".")+" -- "+s;super(I);Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>{var R;return(R=o)!=null?R:o=[e,...r()]}}}function Pe(a){return de(a)&&typeof a[Symbol.iterator]=="function"}function de(a){return typeof a=="object"&&a!=null}function H(a){if(Object.prototype.toString.call(a)!=="[object Object]")return!1;const e=Object.getPrototypeOf(a);return e===null||e===Object.prototype}function W(a){return typeof a=="string"?JSON.stringify(a):""+a}function j(a){const{done:e,value:r}=a.next();return e?void 0:r}function G(a,e,r,o){if(a===!0)return;a===!1?a={}:typeof a=="string"&&(a={message:a});const{path:s,branch:c}=e,{type:g}=r,{refinement:I,message:R="Expected a value of type `"+g+"`"+(I?" with refinement `"+I+"`":"")+", but received: `"+W(o)+"`"}=a;return Fe(Fe({value:o,type:g,refinement:I,key:s[s.length-1],path:s,branch:c},a),{message:R})}function*ee(a,e,r,o){Pe(a)||(a=[a]);for(const s of a){const c=G(s,e,r,o);c&&(yield c)}}function*Z(a,e,r={}){const{path:o=[],branch:s=[a],coerce:c=!1,mask:g=!1}=r,I={path:o,branch:s};if(c&&(a=e.coercer(a,I),g&&e.type!=="type"&&de(e.schema)&&de(a)&&!Array.isArray(a)))for(const L in a)e.schema[L]===void 0&&delete a[L];let R=!0;for(const L of e.validator(a,I))R=!1,yield[L,void 0];for(let[L,q,te]of e.entries(a,I)){const fe=Z(q,te,{path:L===void 0?o:[...o,L],branch:L===void 0?s:[...s,q],coerce:c,mask:g});for(const le of fe)le[0]?(R=!1,yield[le[0],void 0]):c&&(q=le[1],L===void 0?a=q:a instanceof Map?a.set(L,q):a instanceof Set?a.add(q):de(a)&&(a[L]=q))}if(R)for(const L of e.refiner(a,I))R=!1,yield[L,void 0];R&&(yield[void 0,a])}class z{constructor(e){const{type:r,schema:o,validator:s,refiner:c,coercer:g=R=>R,entries:I=function*(){}}=e;this.type=r,this.schema=o,this.entries=I,this.coercer=g,s?this.validator=(R,L)=>{const q=s(R,L);return ee(q,L,this,R)}:this.validator=()=>[],c?this.refiner=(R,L)=>{const q=c(R,L);return ee(q,L,this,R)}:this.refiner=()=>[]}assert(e){return pe(e,this)}create(e){return X(e,this)}is(e){return ge(e,this)}mask(e){return ce(e,this)}validate(e,r={}){return Ie(e,this,r)}}function pe(a,e){const r=Ie(a,e);if(r[0])throw r[0]}function X(a,e){const r=Ie(a,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function ce(a,e){const r=Ie(a,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function ge(a,e){return!Ie(a,e)[0]}function Ie(a,e,r={}){const o=Z(a,e,r),s=j(o);if(s[0])return[new Re(s[0],function*(){for(const g of o)g[0]&&(yield g[0])}),void 0];{const c=s[1];return[void 0,c]}}function Q(...a){const e=a.map(o=>o.schema),r=Object.assign({},...e);return Le(r)}function D(a,e){return new z({type:a,schema:null,validator:e})}function se(a,e){return new z(Fe(Fe({},a),{refiner:(r,o)=>r===void 0||a.refiner(r,o),validator(r,o){return r===void 0?!0:(e(r,o),a.validator(r,o))}}))}function he(a){return new z({type:"dynamic",schema:null,*entries(e,r){yield*a(e,r).entries(e,r)},validator(e,r){return a(e,r).validator(e,r)},coercer(e,r){return a(e,r).coercer(e,r)}})}function Ae(a){let e;return new z({type:"lazy",schema:null,*entries(r,o){var s;(s=e)!=null||(e=a()),yield*e.entries(r,o)},validator(r,o){var s;return(s=e)!=null||(e=a()),e.validator(r,o)},coercer(r,o){var s;return(s=e)!=null||(e=a()),e.coercer(r,o)}})}function Ue(a,e){const{schema:r}=a,o=Fe({},r);for(const s of e)delete o[s];return Le(o)}function qe(a){const e=a instanceof z?Fe({},a.schema):Fe({},a);for(const r in e)e[r]=Te(e[r]);return Le(e)}function it(a,e){const{schema:r}=a,o={};for(const s of e)o[s]=r[s];return Le(o)}function tr(a,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),D(a,e)}function jt(){return D("any",()=>!0)}function ye(a){return new z({type:"array",schema:a,*entries(e){if(a&&Array.isArray(e))for(const[r,o]of e.entries())yield[r,o,a]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+W(e)}})}function Ce(){return D("boolean",a=>typeof a=="boolean")}function Ye(){return D("date",a=>a instanceof Date&&!isNaN(a.getTime())||"Expected a valid `Date` object, but received: "+W(a))}function _(a){const e={},r=a.map(o=>W(o)).join();for(const o of a)e[o]=o;return new z({type:"enums",schema:e,validator(o){return a.includes(o)||"Expected one of `"+r+"`, but received: "+W(o)}})}function k(){return D("func",a=>typeof a=="function"||"Expected a function, but received: "+W(a))}function p(a){return D("instance",e=>e instanceof a||"Expected a `"+a.name+"` instance, but received: "+W(e))}function m(){return D("integer",a=>typeof a=="number"&&!isNaN(a)&&Number.isInteger(a)||"Expected an integer, but received: "+W(a))}function b(a){return new z({type:"intersection",schema:null,*entries(e,r){for(const o of a)yield*o.entries(e,r)},*validator(e,r){for(const o of a)yield*o.validator(e,r)},*refiner(e,r){for(const o of a)yield*o.refiner(e,r)}})}function C(a){const e=W(a),r=typeof a;return new z({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?a:null,validator(o){return o===a||"Expected the literal `"+e+"`, but received: "+W(o)}})}function K(a,e){return new z({type:"map",schema:null,*entries(r){if(a&&e&&r instanceof Map)for(const[o,s]of r.entries())yield[o,o,a],yield[o,s,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||"Expected a `Map` object, but received: "+W(r)}})}function we(){return D("never",()=>!1)}function ae(a){return new z(Fe(Fe({},a),{validator:(e,r)=>e===null||a.validator(e,r),refiner:(e,r)=>e===null||a.refiner(e,r)}))}function O(){return D("number",a=>typeof a=="number"&&!isNaN(a)||"Expected a number, but received: "+W(a))}function Le(a){const e=a?Object.keys(a):[],r=we();return new z({type:"object",schema:a||null,*entries(o){if(a&&de(o)){const s=new Set(Object.keys(o));for(const c of e)s.delete(c),yield[c,o[c],a[c]];for(const c of s)yield[c,o[c],r]}},validator(o){return de(o)||"Expected an object, but received: "+W(o)},coercer(o){return de(o)?Fe({},o):o}})}function Te(a){return new z(Fe(Fe({},a),{validator:(e,r)=>e===void 0||a.validator(e,r),refiner:(e,r)=>e===void 0||a.refiner(e,r)}))}function $t(a,e){return new z({type:"record",schema:null,*entries(r){if(de(r))for(const o in r){const s=r[o];yield[o,o,a],yield[o,s,e]}},validator(r){return de(r)||"Expected an object, but received: "+W(r)}})}function dr(){return D("regexp",a=>a instanceof RegExp)}function pr(a){return new z({type:"set",schema:null,*entries(e){if(a&&e instanceof Set)for(const r of e)yield[r,r,a]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||"Expected a `Set` object, but received: "+W(e)}})}function me(){return D("string",a=>typeof a=="string"||"Expected a string, but received: "+W(a))}function rr(a){const e=we();return new z({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const o=Math.max(a.length,r.length);for(let s=0;s<o;s++)yield[s,r[s],a[s]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+W(r)}})}function Y(a){const e=Object.keys(a);return new z({type:"type",schema:a,*entries(r){if(de(r))for(const o of e)yield[o,r[o],a[o]]},validator(r){return de(r)||"Expected an object, but received: "+W(r)}})}function Me(a){const e=a.map(r=>r.type).join(" | ");return new z({type:"union",schema:null,validator(r,o){const s=[];for(const c of a){const[...g]=Z(r,c,o),[I]=g;if(I[0])for(const[R]of g)R&&s.push(R);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+W(r),...s]}})}function Xe(){return D("unknown",()=>!0)}function ot(a,e,r){return new z(Fe(Fe({},a),{coercer:(o,s)=>ge(o,e)?a.coercer(r(o,s),s):a.coercer(o,s)}))}function St(a,e,r={}){return ot(a,Xe(),o=>{const s=typeof e=="function"?e():e;if(o===void 0)return s;if(!r.strict&&H(o)&&H(s)){const c=Fe({},o);let g=!1;for(const I in s)c[I]===void 0&&(c[I]=s[I],g=!0);if(g)return c}return o})}function pt(a){return ot(a,me(),e=>e.trim())}function f(a){const e="Expected an empty "+a.type;return d(a,"empty",r=>{if(r instanceof Map||r instanceof Set){const{size:o}=r;return o===0||e+" but received one with a size of `"+o+"`"}else{const{length:o}=r;return o===0||e+" but received one with a length of `"+o+"`"}})}function n(a,e,r={}){const{exclusive:o}=r;return d(a,"max",s=>o?s<e:s<=e||"Expected a "+a.type+" greater than "+(o?"":"or equal to ")+e+" but received `"+s+"`")}function t(a,e,r={}){const{exclusive:o}=r;return d(a,"min",s=>o?s>e:s>=e||"Expected a "+a.type+" greater than "+(o?"":"or equal to ")+e+" but received `"+s+"`")}function i(a,e){return d(a,"pattern",r=>e.test(r)||"Expected a "+a.type+" matching `/"+e.source+'/` but received "'+r+'"')}function u(a,e,r=e){const o="Expected a "+a.type,s=e===r?"of `"+e+"`":"between `"+e+"` and `"+r+"`";return d(a,"size",c=>{if(typeof c=="number"||c instanceof Date)return e<=c&&c<=r||o+" "+s+" but received `"+c+"`";if(c instanceof Map||c instanceof Set){const{size:g}=c;return e<=g&&g<=r||o+" with a size "+s+" but received one with a size of `"+g+"`"}else{const{length:g}=c;return e<=g&&g<=r||o+" with a length "+s+" but received one with a length of `"+g+"`"}})}function d(a,e,r){return new z(Fe(Fe({},a),{*refiner(o,s){yield*a.refiner(o,s);const c=r(o,s),g=ee(c,s,a,o);for(const I of g)yield Fe(Fe({},I),{refinement:e})}}))}var l=T(83937),y=T(31198),h=T(17221),v=T.n(h),P=T(91094),A=T.n(P);const F=a=>B.lW.isBuffer(a)?a:a instanceof Uint8Array?B.lW.from(a.buffer,a.byteOffset,a.byteLength):B.lW.from(a);var oe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof T.g!="undefined"?T.g:typeof self!="undefined"?self:{};function ve(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var be={},re={},$e=De;function De(a,e){if(!a)throw new Error(e||"Assertion failed")}De.equal=function(e,r,o){if(e!=r)throw new Error(o||"Assertion failed: "+e+" != "+r)};var st={exports:{}};typeof Object.create=="function"?st.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:st.exports=function(e,r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e};var Ft=$e,xt=st.exports;re.inherits=xt;function nr(a,e){return(a.charCodeAt(e)&64512)!=55296||e<0||e+1>=a.length?!1:(a.charCodeAt(e+1)&64512)==56320}function ir(a,e){if(Array.isArray(a))return a.slice();if(!a)return[];var r=[];if(typeof a=="string")if(e){if(e==="hex")for(a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!=0&&(a="0"+a),s=0;s<a.length;s+=2)r.push(parseInt(a[s]+a[s+1],16))}else for(var o=0,s=0;s<a.length;s++){var c=a.charCodeAt(s);c<128?r[o++]=c:c<2048?(r[o++]=c>>6|192,r[o++]=c&63|128):nr(a,s)?(c=65536+((c&1023)<<10)+(a.charCodeAt(++s)&1023),r[o++]=c>>18|240,r[o++]=c>>12&63|128,r[o++]=c>>6&63|128,r[o++]=c&63|128):(r[o++]=c>>12|224,r[o++]=c>>6&63|128,r[o++]=c&63|128)}else for(s=0;s<a.length;s++)r[s]=a[s]|0;return r}re.toArray=ir;function Nt(a){for(var e="",r=0;r<a.length;r++)e+=or(a[r].toString(16));return e}re.toHex=Nt;function Kt(a){var e=a>>>24|a>>>8&65280|a<<8&16711680|(a&255)<<24;return e>>>0}re.htonl=Kt;function Lt(a,e){for(var r="",o=0;o<a.length;o++){var s=a[o];e==="little"&&(s=Kt(s)),r+=Vt(s.toString(16))}return r}re.toHex32=Lt;function or(a){return a.length===1?"0"+a:a}re.zero2=or;function Vt(a){return a.length===7?"0"+a:a.length===6?"00"+a:a.length===5?"000"+a:a.length===4?"0000"+a:a.length===3?"00000"+a:a.length===2?"000000"+a:a.length===1?"0000000"+a:a}re.zero8=Vt;function kt(a,e,r,o){var s=r-e;Ft(s%4==0);for(var c=new Array(s/4),g=0,I=e;g<c.length;g++,I+=4){var R;o==="big"?R=a[I]<<24|a[I+1]<<16|a[I+2]<<8|a[I+3]:R=a[I+3]<<24|a[I+2]<<16|a[I+1]<<8|a[I],c[g]=R>>>0}return c}re.join32=kt;function yt(a,e){for(var r=new Array(a.length*4),o=0,s=0;o<a.length;o++,s+=4){var c=a[o];e==="big"?(r[s]=c>>>24,r[s+1]=c>>>16&255,r[s+2]=c>>>8&255,r[s+3]=c&255):(r[s+3]=c>>>24,r[s+2]=c>>>16&255,r[s+1]=c>>>8&255,r[s]=c&255)}return r}re.split32=yt;function ht(a,e){return a>>>e|a<<32-e}re.rotr32=ht;function yr(a,e){return a<<e|a>>>32-e}re.rotl32=yr;function Bt(a,e){return a+e>>>0}re.sum32=Bt;function sr(a,e,r){return a+e+r>>>0}re.sum32_3=sr;function Rt(a,e,r,o){return a+e+r+o>>>0}re.sum32_4=Rt;function Ht(a,e,r,o,s){return a+e+r+o+s>>>0}re.sum32_5=Ht;function vr(a,e,r,o){var s=a[e],c=a[e+1],g=o+c>>>0,I=(g<o?1:0)+r+s;a[e]=I>>>0,a[e+1]=g}re.sum64=vr;function Sr(a,e,r,o){var s=e+o>>>0,c=(s<e?1:0)+a+r;return c>>>0}re.sum64_hi=Sr;function mn(a,e,r,o){var s=e+o;return s>>>0}re.sum64_lo=mn;function Pr(a,e,r,o,s,c,g,I){var R=0,L=e;L=L+o>>>0,R+=L<e?1:0,L=L+c>>>0,R+=L<c?1:0,L=L+I>>>0,R+=L<I?1:0;var q=a+r+s+g+R;return q>>>0}re.sum64_4_hi=Pr;function bn(a,e,r,o,s,c,g,I){var R=e+o+c+I;return R>>>0}re.sum64_4_lo=bn;function wn(a,e,r,o,s,c,g,I,R,L){var q=0,te=e;te=te+o>>>0,q+=te<e?1:0,te=te+c>>>0,q+=te<c?1:0,te=te+I>>>0,q+=te<I?1:0,te=te+L>>>0,q+=te<L?1:0;var fe=a+r+s+g+R+q;return fe>>>0}re.sum64_5_hi=wn;function Gr(a,e,r,o,s,c,g,I,R,L){var q=e+o+c+I+L;return q>>>0}re.sum64_5_lo=Gr;function Pt(a,e,r){var o=e<<32-r|a>>>r;return o>>>0}re.rotr64_hi=Pt;function ft(a,e,r){var o=a<<32-r|e>>>r;return o>>>0}re.rotr64_lo=ft;function ar(a,e,r){return a>>>r}re.shr64_hi=ar;function Ct(a,e,r){var o=a<<32-r|e>>>r;return o>>>0}re.shr64_lo=Ct;var dt={},cr=re,Dt=$e;function Et(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}dt.BlockHash=Et,Et.prototype.update=function(e,r){if(e=cr.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var o=e.length%this._delta8;this.pending=e.slice(e.length-o,e.length),this.pending.length===0&&(this.pending=null),e=cr.join32(e,0,e.length-o,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this},Et.prototype.digest=function(e){return this.update(this._pad()),Dt(this.pending===null),this._digest(e)},Et.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,o=r-(e+this.padLength)%r,s=new Array(o+this.padLength);s[0]=128;for(var c=1;c<o;c++)s[c]=0;if(e<<=3,this.endian==="big"){for(var g=8;g<this.padLength;g++)s[c++]=0;s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=e>>>24&255,s[c++]=e>>>16&255,s[c++]=e>>>8&255,s[c++]=e&255}else for(s[c++]=e&255,s[c++]=e>>>8&255,s[c++]=e>>>16&255,s[c++]=e>>>24&255,s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=0,g=8;g<this.padLength;g++)s[c++]=0;return s};var Je={},ct={},Gt=re,Ke=Gt.rotr32;function zt(a,e,r,o){if(a===0)return gr(e,r,o);if(a===1||a===3)return It(e,r,o);if(a===2)return Qe(e,r,o)}ct.ft_1=zt;function gr(a,e,r){return a&e^~a&r}ct.ch32=gr;function Qe(a,e,r){return a&e^a&r^e&r}ct.maj32=Qe;function It(a,e,r){return a^e^r}ct.p32=It;function Lr(a){return Ke(a,2)^Ke(a,13)^Ke(a,22)}ct.s0_256=Lr;function Dr(a){return Ke(a,6)^Ke(a,11)^Ke(a,25)}ct.s1_256=Dr;function qr(a){return Ke(a,7)^Ke(a,18)^a>>>3}ct.g0_256=qr;function Cr(a){return Ke(a,17)^Ke(a,19)^a>>>10}ct.g1_256=Cr;var qt=re,Zr=dt,Yr=ct,Xr=qt.rotl32,ur=qt.sum32,En=qt.sum32_5,Jr=Yr.ft_1,Qr=Zr.BlockHash,Zt=[1518500249,1859775393,2400959708,3395469782];function ut(){if(!(this instanceof ut))return new ut;Qr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}qt.inherits(ut,Qr);var zr=ut;ut.blockSize=512,ut.outSize=160,ut.hmacStrength=80,ut.padLength=64,ut.prototype._update=function(e,r){for(var o=this.W,s=0;s<16;s++)o[s]=e[r+s];for(;s<o.length;s++)o[s]=Xr(o[s-3]^o[s-8]^o[s-14]^o[s-16],1);var c=this.h[0],g=this.h[1],I=this.h[2],R=this.h[3],L=this.h[4];for(s=0;s<o.length;s++){var q=~~(s/20),te=En(Xr(c,5),Jr(q,g,I,R),L,o[s],Zt[q]);L=R,R=I,I=Xr(g,30),g=c,c=te}this.h[0]=ur(this.h[0],c),this.h[1]=ur(this.h[1],g),this.h[2]=ur(this.h[2],I),this.h[3]=ur(this.h[3],R),this.h[4]=ur(this.h[4],L)},ut.prototype._digest=function(e){return e==="hex"?qt.toHex32(this.h,"big"):qt.split32(this.h,"big")};var Yt=re,Gn=dt,Ve=ct,Wi=$e,Wt=Yt.sum32,Mi=Yt.sum32_4,ji=Yt.sum32_5,$i=Ve.ch32,Ki=Ve.maj32,Vi=Ve.s0_256,Hi=Ve.s1_256,Gi=Ve.g0_256,qi=Ve.g1_256,qn=Gn.BlockHash,Zi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Xt(){if(!(this instanceof Xt))return new Xt;qn.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Zi,this.W=new Array(64)}Yt.inherits(Xt,qn);var Zn=Xt;Xt.blockSize=512,Xt.outSize=256,Xt.hmacStrength=192,Xt.padLength=64,Xt.prototype._update=function(e,r){for(var o=this.W,s=0;s<16;s++)o[s]=e[r+s];for(;s<o.length;s++)o[s]=Mi(qi(o[s-2]),o[s-7],Gi(o[s-15]),o[s-16]);var c=this.h[0],g=this.h[1],I=this.h[2],R=this.h[3],L=this.h[4],q=this.h[5],te=this.h[6],fe=this.h[7];for(Wi(this.k.length===o.length),s=0;s<o.length;s++){var le=ji(fe,Hi(L),$i(L,q,te),this.k[s],o[s]),xe=Wt(Vi(c),Ki(c,g,I));fe=te,te=q,q=L,L=Wt(R,le),R=I,I=g,g=c,c=Wt(le,xe)}this.h[0]=Wt(this.h[0],c),this.h[1]=Wt(this.h[1],g),this.h[2]=Wt(this.h[2],I),this.h[3]=Wt(this.h[3],R),this.h[4]=Wt(this.h[4],L),this.h[5]=Wt(this.h[5],q),this.h[6]=Wt(this.h[6],te),this.h[7]=Wt(this.h[7],fe)},Xt.prototype._digest=function(e){return e==="hex"?Yt.toHex32(this.h,"big"):Yt.split32(this.h,"big")};var vn=re,Yn=Zn;function lr(){if(!(this instanceof lr))return new lr;Yn.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}vn.inherits(lr,Yn);var Yi=lr;lr.blockSize=512,lr.outSize=224,lr.hmacStrength=192,lr.padLength=64,lr.prototype._digest=function(e){return e==="hex"?vn.toHex32(this.h.slice(0,7),"big"):vn.split32(this.h.slice(0,7),"big")};var _t=re,Xi=dt,Ji=$e,Jt=_t.rotr64_hi,Qt=_t.rotr64_lo,Xn=_t.shr64_hi,Jn=_t.shr64_lo,mr=_t.sum64,Sn=_t.sum64_hi,xn=_t.sum64_lo,Qi=_t.sum64_4_hi,eo=_t.sum64_4_lo,to=_t.sum64_5_hi,ro=_t.sum64_5_lo,Qn=Xi.BlockHash,no=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Mt(){if(!(this instanceof Mt))return new Mt;Qn.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=no,this.W=new Array(160)}_t.inherits(Mt,Qn);var ei=Mt;Mt.blockSize=1024,Mt.outSize=512,Mt.hmacStrength=192,Mt.padLength=128,Mt.prototype._prepareBlock=function(e,r){for(var o=this.W,s=0;s<32;s++)o[s]=e[r+s];for(;s<o.length;s+=2){var c=yo(o[s-4],o[s-3]),g=go(o[s-4],o[s-3]),I=o[s-14],R=o[s-13],L=fo(o[s-30],o[s-29]),q=po(o[s-30],o[s-29]),te=o[s-32],fe=o[s-31];o[s]=Qi(c,g,I,R,L,q,te,fe),o[s+1]=eo(c,g,I,R,L,q,te,fe)}},Mt.prototype._update=function(e,r){this._prepareBlock(e,r);var o=this.W,s=this.h[0],c=this.h[1],g=this.h[2],I=this.h[3],R=this.h[4],L=this.h[5],q=this.h[6],te=this.h[7],fe=this.h[8],le=this.h[9],xe=this.h[10],_e=this.h[11],ze=this.h[12],nt=this.h[13],Tt=this.h[14],Ar=this.h[15];Ji(this.k.length===o.length);for(var fr=0;fr<o.length;fr+=2){var Er=Tt,Br=Ar,Rr=lo(fe,le),Ut=ho(fe,le),dn=io(fe,le,xe,_e,ze),pn=oo(fe,le,xe,_e,ze,nt),Ot=this.k[fr],yn=this.k[fr+1],Nr=o[fr],$=o[fr+1],ue=to(Er,Br,Rr,Ut,dn,pn,Ot,yn,Nr,$),Oe=ro(Er,Br,Rr,Ut,dn,pn,Ot,yn,Nr,$);Er=co(s,c),Br=uo(s,c),Rr=so(s,c,g,I,R),Ut=ao(s,c,g,I,R,L);var lt=Sn(Er,Br,Rr,Ut),at=xn(Er,Br,Rr,Ut);Tt=ze,Ar=nt,ze=xe,nt=_e,xe=fe,_e=le,fe=Sn(q,te,ue,Oe),le=xn(te,te,ue,Oe),q=R,te=L,R=g,L=I,g=s,I=c,s=Sn(ue,Oe,lt,at),c=xn(ue,Oe,lt,at)}mr(this.h,0,s,c),mr(this.h,2,g,I),mr(this.h,4,R,L),mr(this.h,6,q,te),mr(this.h,8,fe,le),mr(this.h,10,xe,_e),mr(this.h,12,ze,nt),mr(this.h,14,Tt,Ar)},Mt.prototype._digest=function(e){return e==="hex"?_t.toHex32(this.h,"big"):_t.split32(this.h,"big")};function io(a,e,r,o,s){var c=a&r^~a&s;return c<0&&(c+=4294967296),c}function oo(a,e,r,o,s,c){var g=e&o^~e&c;return g<0&&(g+=4294967296),g}function so(a,e,r,o,s){var c=a&r^a&s^r&s;return c<0&&(c+=4294967296),c}function ao(a,e,r,o,s,c){var g=e&o^e&c^o&c;return g<0&&(g+=4294967296),g}function co(a,e){var r=Jt(a,e,28),o=Jt(e,a,2),s=Jt(e,a,7),c=r^o^s;return c<0&&(c+=4294967296),c}function uo(a,e){var r=Qt(a,e,28),o=Qt(e,a,2),s=Qt(e,a,7),c=r^o^s;return c<0&&(c+=4294967296),c}function lo(a,e){var r=Jt(a,e,14),o=Jt(a,e,18),s=Jt(e,a,9),c=r^o^s;return c<0&&(c+=4294967296),c}function ho(a,e){var r=Qt(a,e,14),o=Qt(a,e,18),s=Qt(e,a,9),c=r^o^s;return c<0&&(c+=4294967296),c}function fo(a,e){var r=Jt(a,e,1),o=Jt(a,e,8),s=Xn(a,e,7),c=r^o^s;return c<0&&(c+=4294967296),c}function po(a,e){var r=Qt(a,e,1),o=Qt(a,e,8),s=Jn(a,e,7),c=r^o^s;return c<0&&(c+=4294967296),c}function yo(a,e){var r=Jt(a,e,19),o=Jt(e,a,29),s=Xn(a,e,6),c=r^o^s;return c<0&&(c+=4294967296),c}function go(a,e){var r=Qt(a,e,19),o=Qt(e,a,29),s=Jn(a,e,6),c=r^o^s;return c<0&&(c+=4294967296),c}var kn=re,ti=ei;function hr(){if(!(this instanceof hr))return new hr;ti.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}kn.inherits(hr,ti);var mo=hr;hr.blockSize=1024,hr.outSize=384,hr.hmacStrength=192,hr.padLength=128,hr.prototype._digest=function(e){return e==="hex"?kn.toHex32(this.h.slice(0,12),"big"):kn.split32(this.h.slice(0,12),"big")},Je.sha1=zr,Je.sha224=Yi,Je.sha256=Zn,Je.sha384=mo,Je.sha512=ei;var ri={},xr=re,bo=dt,en=xr.rotl32,ni=xr.sum32,Wr=xr.sum32_3,ii=xr.sum32_4,oi=bo.BlockHash;function er(){if(!(this instanceof er))return new er;oi.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}xr.inherits(er,oi),ri.ripemd160=er,er.blockSize=512,er.outSize=160,er.hmacStrength=192,er.padLength=64,er.prototype._update=function(e,r){for(var o=this.h[0],s=this.h[1],c=this.h[2],g=this.h[3],I=this.h[4],R=o,L=s,q=c,te=g,fe=I,le=0;le<80;le++){var xe=ni(en(ii(o,si(le,s,c,g),e[vo[le]+r],wo(le)),xo[le]),I);o=I,I=g,g=en(c,10),c=s,s=xe,xe=ni(en(ii(R,si(79-le,L,q,te),e[So[le]+r],Eo(le)),ko[le]),fe),R=fe,fe=te,te=en(q,10),q=L,L=xe}xe=Wr(this.h[1],c,te),this.h[1]=Wr(this.h[2],g,fe),this.h[2]=Wr(this.h[3],I,R),this.h[3]=Wr(this.h[4],o,L),this.h[4]=Wr(this.h[0],s,q),this.h[0]=xe},er.prototype._digest=function(e){return e==="hex"?xr.toHex32(this.h,"little"):xr.split32(this.h,"little")};function si(a,e,r,o){return a<=15?e^r^o:a<=31?e&r|~e&o:a<=47?(e|~r)^o:a<=63?e&o|r&~o:e^(r|~o)}function wo(a){return a<=15?0:a<=31?1518500249:a<=47?1859775393:a<=63?2400959708:2840853838}function Eo(a){return a<=15?1352829926:a<=31?1548603684:a<=47?1836072691:a<=63?2053994217:0}var vo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],So=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],xo=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ko=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Io=re,_o=$e;function Tr(a,e,r){if(!(this instanceof Tr))return new Tr(a,e,r);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(Io.toArray(e,r))}var Ao=Tr;Tr.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),_o(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)},Tr.prototype.update=function(e,r){return this.inner.update(e,r),this},Tr.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(a){var e=a;e.utils=re,e.common=dt,e.sha=Je,e.ripemd=ri,e.hmac=Ao,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(be);var Bo=be;const Ro="logger/5.5.0";let ai=!1,ci=!1;const tn={debug:1,default:2,info:2,warning:3,error:4,off:5};let ui=tn.default,In=null;function Po(){try{const a=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch(r){a.push(e)}}),a.length)throw new Error("missing "+a.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(a){return a.message}return null}const li=Po();var _n;(function(a){a.DEBUG="DEBUG",a.INFO="INFO",a.WARNING="WARNING",a.ERROR="ERROR",a.OFF="OFF"})(_n||(_n={}));var An;(function(a){a.UNKNOWN_ERROR="UNKNOWN_ERROR",a.NOT_IMPLEMENTED="NOT_IMPLEMENTED",a.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",a.NETWORK_ERROR="NETWORK_ERROR",a.SERVER_ERROR="SERVER_ERROR",a.TIMEOUT="TIMEOUT",a.BUFFER_OVERRUN="BUFFER_OVERRUN",a.NUMERIC_FAULT="NUMERIC_FAULT",a.MISSING_NEW="MISSING_NEW",a.INVALID_ARGUMENT="INVALID_ARGUMENT",a.MISSING_ARGUMENT="MISSING_ARGUMENT",a.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",a.CALL_EXCEPTION="CALL_EXCEPTION",a.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",a.NONCE_EXPIRED="NONCE_EXPIRED",a.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",a.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",a.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(An||(An={}));const hi="0123456789abcdef";class et{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const o=e.toLowerCase();tn[o]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(ui>tn[o])&&console.log.apply(console,r)}debug(...e){this._log(et.levels.DEBUG,e)}info(...e){this._log(et.levels.INFO,e)}warn(...e){this._log(et.levels.WARNING,e)}makeError(e,r,o){if(ci)return this.makeError("censored error",r,{});r||(r=et.errors.UNKNOWN_ERROR),o||(o={});const s=[];Object.keys(o).forEach(I=>{const R=o[I];try{if(R instanceof Uint8Array){let L="";for(let q=0;q<R.length;q++)L+=hi[R[q]>>4],L+=hi[R[q]&15];s.push(I+"=Uint8Array(0x"+L+")")}else s.push(I+"="+JSON.stringify(R))}catch(L){s.push(I+"="+JSON.stringify(o[I].toString()))}}),s.push(`code=${r}`),s.push(`version=${this.version}`);const c=e;s.length&&(e+=" ("+s.join(", ")+")");const g=new Error(e);return g.reason=c,g.code=r,Object.keys(o).forEach(function(I){g[I]=o[I]}),g}throwError(e,r,o){throw this.makeError(e,r,o)}throwArgumentError(e,r,o){return this.throwError(e,et.errors.INVALID_ARGUMENT,{argument:r,value:o})}assert(e,r,o,s){e||this.throwError(r,o,s)}assertArgument(e,r,o,s){e||this.throwArgumentError(r,o,s)}checkNormalize(e){li&&this.throwError("platform missing String.prototype.normalize",et.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:li})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,et.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,et.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,o){o?o=": "+o:o="",e<r&&this.throwError("missing argument"+o,et.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+o,et.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",et.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",et.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",et.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return In||(In=new et(Ro)),In}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",et.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ai){if(!e)return;this.globalLogger().throwError("error censorship permanent",et.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ci=!!e,ai=!!r}static setLogLevel(e){const r=tn[e.toLowerCase()];if(r==null){et.globalLogger().warn("invalid log level - "+e);return}ui=r}static from(e){return new et(e)}}et.errors=An,et.levels=_n;const Co="bytes/5.5.0",Bn=new et(Co);function To(a){return!!a.toHexString}function rn(a){return a.slice||(a.slice=function(){const e=Array.prototype.slice.call(arguments);return rn(new Uint8Array(Array.prototype.slice.apply(a,e)))}),a}function fi(a){return typeof a=="number"&&a==a&&a%1==0}function Uo(a){if(a==null)return!1;if(a.constructor===Uint8Array)return!0;if(typeof a=="string"||!fi(a.length)||a.length<0)return!1;for(let e=0;e<a.length;e++){const r=a[e];if(!fi(r)||r<0||r>=256)return!1}return!0}function Oo(a,e){if(e||(e={}),typeof a=="number"){Bn.checkSafeUint53(a,"invalid arrayify value");const r=[];for(;a;)r.unshift(a&255),a=parseInt(String(a/256));return r.length===0&&r.push(0),rn(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof a=="string"&&a.substring(0,2)!=="0x"&&(a="0x"+a),To(a)&&(a=a.toHexString()),Fo(a)){let r=a.substring(2);r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Bn.throwArgumentError("hex data is odd-length","value",a));const o=[];for(let s=0;s<r.length;s+=2)o.push(parseInt(r.substring(s,s+2),16));return rn(new Uint8Array(o))}return Uo(a)?rn(new Uint8Array(a)):Bn.throwArgumentError("invalid arrayify value","value",a)}function Fo(a,e){return!(typeof a!="string"||!a.match(/^0x[0-9A-Fa-f]*$/)||e&&a.length!==2+2*e)}const No="sha2/5.5.0";new et(No);function di(a){return"0x"+Bo.sha256().update(Oo(a)).digest("hex")}class Lo{constructor(e){Object.assign(this,e)}encode(){return B.lW.from((0,Se.serialize)(nn,this))}static decode(e){return(0,Se.deserialize)(nn,this,e)}static decodeUnchecked(e){return(0,Se.deserializeUnchecked)(nn,this,e)}}class Ia extends null{constructor(e){super(e);if(this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const nn=new Map,Do=32;function zo(a){return a._bn!==void 0}class Ee extends Lo{constructor(e){super({});if(this._bn=void 0,zo(e))this._bn=e._bn;else{if(typeof e=="string"){const r=ne().decode(e);if(r.length!=32)throw new Error("Invalid public key input");this._bn=new(S())(r)}else this._bn=new(S())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return ne().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(B.lW);if(e.length===32)return e;const r=B.lW.alloc(32);return e.copy(r,32-e.length),r}toString(){return this.toBase58()}static createWithSeed(e,r,o){return ie(this,null,function*(){const s=B.lW.concat([e.toBuffer(),B.lW.from(r),o.toBuffer()]),c=di(new Uint8Array(s)).slice(2);return new Ee(B.lW.from(c,"hex"))})}static createProgramAddress(e,r){return ie(this,null,function*(){let o=B.lW.alloc(0);e.forEach(function(g){if(g.length>Do)throw new TypeError("Max seed length exceeded");o=B.lW.concat([o,F(g)])}),o=B.lW.concat([o,r.toBuffer(),B.lW.from("ProgramDerivedAddress")]);let s=di(new Uint8Array(o)).slice(2),c=new(S())(s,16).toArray(void 0,32);if(pi(c))throw new Error("Invalid seeds, address must fall off the curve");return new Ee(c)})}static findProgramAddress(e,r){return ie(this,null,function*(){let o=255,s;for(;o!=0;){try{const c=e.concat(B.lW.from([o]));s=yield this.createProgramAddress(c,r)}catch(c){if(c instanceof TypeError)throw c;o--;continue}return[s,o]}throw new Error("Unable to find a viable program address nonce")})}static isOnCurve(e){return pi(e)==1}}Ee.default=new Ee("11111111111111111111111111111111"),nn.set(Ee,{kind:"struct",fields:[["_bn","u256"]]});let Ne=U().lowlevel;function pi(a){var e=[Ne.gf(),Ne.gf(),Ne.gf(),Ne.gf()],r=Ne.gf(),o=Ne.gf(),s=Ne.gf(),c=Ne.gf(),g=Ne.gf(),I=Ne.gf(),R=Ne.gf();return Ne.set25519(e[2],Wo),Ne.unpack25519(e[1],a),Ne.S(s,e[1]),Ne.M(c,s,Ne.D),Ne.Z(s,s,e[2]),Ne.A(c,e[2],c),Ne.S(g,c),Ne.S(I,g),Ne.M(R,I,g),Ne.M(r,R,s),Ne.M(r,r,c),Ne.pow2523(r,r),Ne.M(r,r,s),Ne.M(r,r,c),Ne.M(r,r,c),Ne.M(e[0],r,c),Ne.S(o,e[0]),Ne.M(o,o,c),yi(o,s)&&Ne.M(e[0],e[0],Mo),Ne.S(o,e[0]),Ne.M(o,o,c),yi(o,s)?0:1}let Wo=Ne.gf([1]),Mo=Ne.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function yi(a,e){var r=new Uint8Array(32),o=new Uint8Array(32);return Ne.pack25519(r,a),Ne.pack25519(o,e),Ne.crypto_verify_32(r,0,o,0)}class _a{constructor(e){this._keypair=void 0,e?this._keypair=nacl.sign.keyPair.fromSecretKey(F(e)):this._keypair=nacl.sign.keyPair()}get publicKey(){return new Ee(this._keypair.publicKey)}get secretKey(){return F(this._keypair.secretKey)}}const Aa=new Ee("BPFLoader1111111111111111111111111111111111"),je=(a="publicKey")=>x.blob(32,a),Ur=(a="string")=>{const e=x.struct([x.u32("length"),x.u32("lengthPadding"),x.blob(x.offset(x.u32(),-8),"chars")],a),r=e.decode.bind(e),o=e.encode.bind(e);return e.decode=(s,c)=>r(s,c).chars.toString("utf8"),e.encode=(s,c,g)=>{const I={chars:B.lW.from(s,"utf8")};return o(I,c,g)},e.alloc=s=>x.u32().span+x.u32().span+B.lW.from(s,"utf8").length,e},jo=(a="authorized")=>x.struct([je("staker"),je("withdrawer")],a),$o=(a="lockup")=>x.struct([x.ns64("unixTimestamp"),x.ns64("epoch"),je("custodian")],a),Ko=(a="voteInit")=>x.struct([je("nodePubkey"),je("authorizedVoter"),je("authorizedWithdrawer"),x.u8("commission")],a);function Vo(a,e){let r=0;return a.layout.fields.forEach(o=>{o.span>=0?r+=o.span:typeof o.alloc=="function"&&(r+=o.alloc(e[o.property]))}),r}function Or(a){let e=0,r=0;for(;;){let o=a.shift();if(e|=(o&127)<<r*7,r+=1,(o&128)==0)break}return e}function Mr(a,e){let r=e;for(;;){let o=r&127;if(r>>=7,r==0){a.push(o);break}else o|=128,a.push(o)}}const on=32;class br{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new Ee(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];Mr(r,e);const o=this.instructions.map(te=>{const{accounts:fe,programIdIndex:le}=te,xe=ne().decode(te.data);let _e=[];Mr(_e,fe.length);let ze=[];return Mr(ze,xe.length),{programIdIndex:le,keyIndicesCount:B.lW.from(_e),keyIndices:B.lW.from(fe),dataLength:B.lW.from(ze),data:xe}});let s=[];Mr(s,o.length);let c=B.lW.alloc(sn);B.lW.from(s).copy(c);let g=s.length;o.forEach(te=>{g+=x.struct([x.u8("programIdIndex"),x.blob(te.keyIndicesCount.length,"keyIndicesCount"),x.seq(x.u8("keyIndex"),te.keyIndices.length,"keyIndices"),x.blob(te.dataLength.length,"dataLength"),x.seq(x.u8("userdatum"),te.data.length,"data")]).encode(te,c,g)}),c=c.slice(0,g);const I=x.struct([x.blob(1,"numRequiredSignatures"),x.blob(1,"numReadonlySignedAccounts"),x.blob(1,"numReadonlyUnsignedAccounts"),x.blob(r.length,"keyCount"),x.seq(je("key"),e,"keys"),je("recentBlockhash")]),R={numRequiredSignatures:B.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:B.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:B.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:B.lW.from(r),keys:this.accountKeys.map(te=>F(te.toBytes())),recentBlockhash:ne().decode(this.recentBlockhash)};let L=B.lW.alloc(2048);const q=I.encode(R,L);return c.copy(L,q),L.slice(0,q+c.length)}static from(e){let r=[...e];const o=r.shift(),s=r.shift(),c=r.shift(),g=Or(r);let I=[];for(let fe=0;fe<g;fe++){const le=r.slice(0,on);r=r.slice(on),I.push(ne().encode(B.lW.from(le)))}const R=r.slice(0,on);r=r.slice(on);const L=Or(r);let q=[];for(let fe=0;fe<L;fe++){const le=r.shift(),xe=Or(r),_e=r.slice(0,xe);r=r.slice(xe);const ze=Or(r),nt=r.slice(0,ze),Tt=ne().encode(B.lW.from(nt));r=r.slice(ze),q.push({programIdIndex:le,accounts:_e,data:Tt})}const te={header:{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:c},recentBlockhash:ne().encode(B.lW.from(R)),accountKeys:I,instructions:q};return new br(te)}}function gt(a,e){if(!a)throw new Error(e||"Assertion failed")}const Ho=B.lW.alloc(64).fill(0),sn=1280-40-8,gi=64;class vt{constructor(e){this.keys=void 0,this.programId=void 0,this.data=B.lW.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}}class He{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,e&&Object.assign(this,e)}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new vt(r))}),this}compileMessage(){const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:r}=this;if(!r)throw new Error("Transaction recentBlockhash required");this.instructions.length<1&&console.warn("No instructions provided");let o;if(this.feePayer)o=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)o=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let _e=0;_e<this.instructions.length;_e++)if(this.instructions[_e].programId===void 0)throw new Error(`Transaction instruction index ${_e} has undefined program id`);const s=[],c=[];this.instructions.forEach(_e=>{_e.keys.forEach(nt=>{c.push(Fe({},nt))});const ze=_e.programId.toString();s.includes(ze)||s.push(ze)}),s.forEach(_e=>{c.push({pubkey:new Ee(_e),isSigner:!1,isWritable:!1})}),c.sort(function(_e,ze){const nt=_e.pubkey.toBase58().localeCompare(ze.pubkey.toBase58()),Tt=_e.isSigner===ze.isSigner?0:_e.isSigner?-1:1,Ar=_e.isWritable===ze.isWritable?nt:_e.isWritable?-1:1;return Tt||Ar});const g=[];c.forEach(_e=>{const ze=_e.pubkey.toString(),nt=g.findIndex(Tt=>Tt.pubkey.toString()===ze);nt>-1?g[nt].isWritable=g[nt].isWritable||_e.isWritable:g.push(_e)});const I=g.findIndex(_e=>_e.pubkey.equals(o));if(I>-1){const[_e]=g.splice(I,1);_e.isSigner=!0,_e.isWritable=!0,g.unshift(_e)}else g.unshift({pubkey:o,isSigner:!0,isWritable:!0});for(const _e of this.signatures){const ze=g.findIndex(nt=>nt.pubkey.equals(_e.publicKey));if(ze>-1)g[ze].isSigner||(g[ze].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${_e.publicKey.toString()}`)}let R=0,L=0,q=0;const te=[],fe=[];g.forEach(({pubkey:_e,isSigner:ze,isWritable:nt})=>{ze?(te.push(_e.toString()),R+=1,nt||(L+=1)):(fe.push(_e.toString()),nt||(q+=1))});const le=te.concat(fe),xe=this.instructions.map(_e=>{const{data:ze,programId:nt}=_e;return{programIdIndex:le.indexOf(nt.toString()),accounts:_e.keys.map(Tt=>le.indexOf(Tt.pubkey.toString())),data:ne().encode(ze)}});return xe.forEach(_e=>{gt(_e.programIdIndex>=0),_e.accounts.forEach(ze=>gt(ze>=0))}),new br({header:{numRequiredSignatures:R,numReadonlySignedAccounts:L,numReadonlyUnsignedAccounts:q},accountKeys:le,recentBlockhash:r,instructions:xe})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((s,c)=>r[c].equals(s.publicKey))||(this.signatures=r.map(o=>({signature:null,publicKey:o}))),e}serializeMessage(){return this._compile().serialize()}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(o=>{const s=o.toString();return r.has(s)?!1:(r.add(s),!0)}).map(o=>({signature:null,publicKey:o}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,o=[];for(const c of e){const g=c.publicKey.toString();r.has(g)||(r.add(g),o.push(c))}this.signatures=o.map(c=>({signature:null,publicKey:c.publicKey}));const s=this._compile();this._partialSign(s,...o),this._verifySignatures(s.serialize(),!0)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,o=[];for(const c of e){const g=c.publicKey.toString();r.has(g)||(r.add(g),o.push(c))}const s=this._compile();this._partialSign(s,...o)}_partialSign(e,...r){const o=e.serialize();r.forEach(s=>{const c=U().sign.detached(o,s.secretKey);this._addSignature(s.publicKey,F(c))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){gt(r.length===64);const o=this.signatures.findIndex(s=>e.equals(s.publicKey));if(o<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[o].signature=B.lW.from(r)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,r){for(const{signature:o,publicKey:s}of this.signatures)if(o===null){if(r)return!1}else if(!U().sign.detached.verify(e,o,s.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:r,verifySignatures:o}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(o&&!this._verifySignatures(s,r))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(e){const{signatures:r}=this,o=[];Mr(o,r.length);const s=o.length+r.length*64+e.length,c=B.lW.alloc(s);return gt(r.length<256),B.lW.from(o).copy(c,0),r.forEach(({signature:g},I)=>{g!==null&&(gt(g.length===64,"signature has invalid length"),B.lW.from(g).copy(c,o.length+I*64))}),e.copy(c,o.length+r.length*64),gt(c.length<=sn,`Transaction too large: ${c.length} > ${sn}`),c}get keys(){return gt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return gt(this.instructions.length===1),this.instructions[0].programId}get data(){return gt(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const o=Or(r);let s=[];for(let c=0;c<o;c++){const g=r.slice(0,gi);r=r.slice(gi),s.push(ne().encode(B.lW.from(g)))}return He.populate(br.from(r),s)}static populate(e,r=[]){const o=new He;return o.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(o.feePayer=e.accountKeys[0]),r.forEach((s,c)=>{const g={signature:s==ne().encode(Ho)?null:ne().decode(s),publicKey:e.accountKeys[c]};o.signatures.push(g)}),e.instructions.forEach(s=>{const c=s.accounts.map(g=>{const I=e.accountKeys[g];return{pubkey:I,isSigner:o.signatures.some(R=>R.publicKey.toString()===I.toString())||e.isAccountSigner(g),isWritable:e.isAccountWritable(g)}});o.instructions.push(new vt({keys:c,programId:e.accountKeys[s.programIdIndex],data:ne().decode(s.data)}))}),o}}const wr=new Ee("SysvarC1ock11111111111111111111111111111111"),Ba=new Ee("SysvarEpochSchedu1e111111111111111111111111"),Ra=new Ee("Sysvar1nstructions1111111111111111111111111"),Rn=new Ee("SysvarRecentB1ockHashes11111111111111111111"),jr=new Ee("SysvarRent111111111111111111111111111111111"),Pa=new Ee("SysvarRewards111111111111111111111111111111"),Ca=new Ee("SysvarS1otHashes111111111111111111111111111"),Ta=new Ee("SysvarS1otHistory11111111111111111111111111"),Pn=new Ee("SysvarStakeHistory1111111111111111111111111");function Cn(a,e,r,o){return ie(this,null,function*(){const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,maxRetries:o.maxRetries},c=yield a.sendTransaction(e,r,s),g=(yield a.confirmTransaction(c,o&&o.commitment)).value;if(g.err)throw new Error(`Transaction ${c} failed (${JSON.stringify(g)})`);return c})}function an(a){return new Promise(e=>setTimeout(e,a))}function tt(a,e){const r=a.layout.span>=0?a.layout.span:Vo(a,e),o=B.lW.alloc(r),s=Object.assign({instruction:a.index},e);return a.layout.encode(s,o),o}function rt(a,e){let r;try{r=a.layout.decode(e)}catch(o){throw new Error("invalid instruction; "+o)}if(r.instruction!==a.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${a.index}`);return r}const Go=x.nu64("lamportsPerSignature"),mi=x.struct([x.u32("version"),x.u32("state"),je("authorizedPubkey"),je("nonce"),x.struct([Go],"feeCalculator")]),bi=mi.span;class Tn{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=mi.decode(F(e),0);return new Tn({authorizedPubkey:new Ee(r.authorizedPubkey),nonce:new Ee(r.nonce).toString(),feeCalculator:r.feeCalculator})}}class Ua{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const o=BufferLayout.u32("instruction").decode(e.data);let s;for(const[c,g]of Object.entries(Ze))if(g.index==o){s=c;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:o,programId:s}=rt(Ze.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:o,programId:new Ee(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=rt(Ze.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:o,programId:s}=rt(Ze.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:o,programId:new Ee(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=rt(Ze.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:o,space:s,programId:c}=rt(Ze.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ee(r),seed:o,space:s,programId:new Ee(c)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=rt(Ze.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ee(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:o,programId:s}=rt(Ze.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ee(r),seed:o,programId:new Ee(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:o,lamports:s,space:c,programId:g}=rt(Ze.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ee(r),seed:o,lamports:s,space:c,programId:new Ee(g)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=rt(Ze.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ee(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rt(Ze.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=rt(Ze.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=rt(Ze.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ee(r)}}static checkProgramId(e){if(!e.equals(At.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Ze=Object.freeze({Create:{index:0,layout:x.struct([x.u32("instruction"),x.ns64("lamports"),x.ns64("space"),je("programId")])},Assign:{index:1,layout:x.struct([x.u32("instruction"),je("programId")])},Transfer:{index:2,layout:x.struct([x.u32("instruction"),x.ns64("lamports")])},CreateWithSeed:{index:3,layout:x.struct([x.u32("instruction"),je("base"),Ur("seed"),x.ns64("lamports"),x.ns64("space"),je("programId")])},AdvanceNonceAccount:{index:4,layout:x.struct([x.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:x.struct([x.u32("instruction"),x.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:x.struct([x.u32("instruction"),je("authorized")])},AuthorizeNonceAccount:{index:7,layout:x.struct([x.u32("instruction"),je("authorized")])},Allocate:{index:8,layout:x.struct([x.u32("instruction"),x.ns64("space")])},AllocateWithSeed:{index:9,layout:x.struct([x.u32("instruction"),je("base"),Ur("seed"),x.ns64("space"),je("programId")])},AssignWithSeed:{index:10,layout:x.struct([x.u32("instruction"),je("base"),Ur("seed"),je("programId")])},TransferWithSeed:{index:11,layout:x.struct([x.u32("instruction"),x.ns64("lamports"),Ur("seed"),je("programId")])}});class At{constructor(){}static createAccount(e){const r=Ze.Create,o=tt(r,{lamports:e.lamports,space:e.space,programId:F(e.programId.toBuffer())});return new vt({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:o})}static transfer(e){let r,o;if("basePubkey"in e){const s=Ze.TransferWithSeed;r=tt(s,{lamports:e.lamports,seed:e.seed,programId:F(e.programId.toBuffer())}),o=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ze.Transfer;r=tt(s,{lamports:e.lamports}),o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new vt({keys:o,programId:this.programId,data:r})}static assign(e){let r,o;if("basePubkey"in e){const s=Ze.AssignWithSeed;r=tt(s,{base:F(e.basePubkey.toBuffer()),seed:e.seed,programId:F(e.programId.toBuffer())}),o=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ze.Assign;r=tt(s,{programId:F(e.programId.toBuffer())}),o=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new vt({keys:o,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=Ze.CreateWithSeed,o=tt(r,{base:F(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:F(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new vt({keys:s,programId:this.programId,data:o})}static createNonceAccount(e){const r=new He;"basePubkey"in e&&"seed"in e?r.add(At.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:bi,programId:this.programId})):r.add(At.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:bi,programId:this.programId}));const o={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(o)),r}static nonceInitialize(e){const r=Ze.InitializeNonceAccount,o=tt(r,{authorized:F(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:jr,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new vt(s)}static nonceAdvance(e){const r=Ze.AdvanceNonceAccount,o=tt(r),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new vt(s)}static nonceWithdraw(e){const r=Ze.WithdrawNonceAccount,o=tt(r,{lamports:e.lamports});return new vt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:jr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static nonceAuthorize(e){const r=Ze.AuthorizeNonceAccount,o=tt(r,{authorized:F(e.newAuthorizedPubkey.toBuffer())});return new vt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static allocate(e){let r,o;if("basePubkey"in e){const s=Ze.AllocateWithSeed;r=tt(s,{base:F(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:F(e.programId.toBuffer())}),o=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ze.Allocate;r=tt(s,{space:e.space}),o=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new vt({keys:o,programId:this.programId,data:r})}}At.programId=new Ee("11111111111111111111111111111111");const qo=sn-300;class Fr{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Fr.chunkSize)+1+1)}static load(e,r,o,s,c){return ie(this,null,function*(){{const te=yield e.getMinimumBalanceForRentExemption(c.length),fe=yield e.getAccountInfo(o.publicKey,"confirmed");let le=null;if(fe!==null){if(fe.executable)return console.error("Program load failed, account is already executable"),!1;fe.data.length!==c.length&&(le=le||new He,le.add(At.allocate({accountPubkey:o.publicKey,space:c.length}))),fe.owner.equals(s)||(le=le||new He,le.add(At.assign({accountPubkey:o.publicKey,programId:s}))),fe.lamports<te&&(le=le||new He,le.add(At.transfer({fromPubkey:r.publicKey,toPubkey:o.publicKey,lamports:te-fe.lamports})))}else le=new He().add(At.createAccount({fromPubkey:r.publicKey,newAccountPubkey:o.publicKey,lamports:te>0?te:1,space:c.length,programId:s}));le!==null&&(yield Cn(e,le,[r,o],{commitment:"confirmed"}))}const g=x.struct([x.u32("instruction"),x.u32("offset"),x.u32("bytesLength"),x.u32("bytesLengthPadding"),x.seq(x.u8("byte"),x.offset(x.u32(),-8),"bytes")]),I=Fr.chunkSize;let R=0,L=c,q=[];for(;L.length>0;){const te=L.slice(0,I),fe=B.lW.alloc(I+16);g.encode({instruction:0,offset:R,bytes:te},fe);const le=new He().add({keys:[{pubkey:o.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:fe});q.push(Cn(e,le,[r,o],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&(yield an(1e3/4)),R+=I,L=L.slice(I)}yield Promise.all(q);{const te=x.struct([x.u32("instruction")]),fe=B.lW.alloc(te.span);te.encode({instruction:1},fe);const le=new He().add({keys:[{pubkey:o.publicKey,isSigner:!0,isWritable:!0},{pubkey:jr,isSigner:!1,isWritable:!1}],programId:s,data:fe});yield Cn(e,le,[r,o],{commitment:"confirmed"})}return!0})}}Fr.chunkSize=qo;const Oa=new Ee("BPFLoader2111111111111111111111111111111111");class Fa{static getMinNumSignatures(e){return Fr.getMinNumSignatures(e)}static load(e,r,o,s,c){return Fr.load(e,r,o,c,s)}}var Un={exports:{}};(function(a,e){var r=typeof self!="undefined"?self:oe,o=function(){function c(){this.fetch=!1,this.DOMException=r.DOMException}return c.prototype=r,new c}();(function(c){(function(g){var I={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch($){return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function R($){return $&&DataView.prototype.isPrototypeOf($)}if(I.arrayBuffer)var L=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],q=ArrayBuffer.isView||function($){return $&&L.indexOf(Object.prototype.toString.call($))>-1};function te($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test($))throw new TypeError("Invalid character in header field name");return $.toLowerCase()}function fe($){return typeof $!="string"&&($=String($)),$}function le($){var ue={next:function(){var Oe=$.shift();return{done:Oe===void 0,value:Oe}}};return I.iterable&&(ue[Symbol.iterator]=function(){return ue}),ue}function xe($){this.map={},$ instanceof xe?$.forEach(function(ue,Oe){this.append(Oe,ue)},this):Array.isArray($)?$.forEach(function(ue){this.append(ue[0],ue[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(ue){this.append(ue,$[ue])},this)}xe.prototype.append=function($,ue){$=te($),ue=fe(ue);var Oe=this.map[$];this.map[$]=Oe?Oe+", "+ue:ue},xe.prototype.delete=function($){delete this.map[te($)]},xe.prototype.get=function($){return $=te($),this.has($)?this.map[$]:null},xe.prototype.has=function($){return this.map.hasOwnProperty(te($))},xe.prototype.set=function($,ue){this.map[te($)]=fe(ue)},xe.prototype.forEach=function($,ue){for(var Oe in this.map)this.map.hasOwnProperty(Oe)&&$.call(ue,this.map[Oe],Oe,this)},xe.prototype.keys=function(){var $=[];return this.forEach(function(ue,Oe){$.push(Oe)}),le($)},xe.prototype.values=function(){var $=[];return this.forEach(function(ue){$.push(ue)}),le($)},xe.prototype.entries=function(){var $=[];return this.forEach(function(ue,Oe){$.push([Oe,ue])}),le($)},I.iterable&&(xe.prototype[Symbol.iterator]=xe.prototype.entries);function _e($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function ze($){return new Promise(function(ue,Oe){$.onload=function(){ue($.result)},$.onerror=function(){Oe($.error)}})}function nt($){var ue=new FileReader,Oe=ze(ue);return ue.readAsArrayBuffer($),Oe}function Tt($){var ue=new FileReader,Oe=ze(ue);return ue.readAsText($),Oe}function Ar($){for(var ue=new Uint8Array($),Oe=new Array(ue.length),lt=0;lt<ue.length;lt++)Oe[lt]=String.fromCharCode(ue[lt]);return Oe.join("")}function fr($){if($.slice)return $.slice(0);var ue=new Uint8Array($.byteLength);return ue.set(new Uint8Array($)),ue.buffer}function Er(){return this.bodyUsed=!1,this._initBody=function($){this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:I.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:I.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:I.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():I.arrayBuffer&&I.blob&&R($)?(this._bodyArrayBuffer=fr($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):I.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||q($))?this._bodyArrayBuffer=fr($):this._bodyText=$=Object.prototype.toString.call($):this._bodyText="",this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):I.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},I.blob&&(this.blob=function(){var $=_e(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_e(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(nt)}),this.text=function(){var $=_e(this);if($)return $;if(this._bodyBlob)return Tt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ar(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},I.formData&&(this.formData=function(){return this.text().then(dn)}),this.json=function(){return this.text().then(JSON.parse)},this}var Br=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Rr($){var ue=$.toUpperCase();return Br.indexOf(ue)>-1?ue:$}function Ut($,ue){ue=ue||{};var Oe=ue.body;if($ instanceof Ut){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,ue.headers||(this.headers=new xe($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!Oe&&$._bodyInit!=null&&(Oe=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=ue.credentials||this.credentials||"same-origin",(ue.headers||!this.headers)&&(this.headers=new xe(ue.headers)),this.method=Rr(ue.method||this.method||"GET"),this.mode=ue.mode||this.mode||null,this.signal=ue.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Oe)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Oe)}Ut.prototype.clone=function(){return new Ut(this,{body:this._bodyInit})};function dn($){var ue=new FormData;return $.trim().split("&").forEach(function(Oe){if(Oe){var lt=Oe.split("="),at=lt.shift().replace(/\+/g," "),Ge=lt.join("=").replace(/\+/g," ");ue.append(decodeURIComponent(at),decodeURIComponent(Ge))}}),ue}function pn($){var ue=new xe,Oe=$.replace(/\r?\n[\t ]+/g," ");return Oe.split(/\r?\n/).forEach(function(lt){var at=lt.split(":"),Ge=at.shift().trim();if(Ge){var gn=at.join(":").trim();ue.append(Ge,gn)}}),ue}Er.call(Ut.prototype);function Ot($,ue){ue||(ue={}),this.type="default",this.status=ue.status===void 0?200:ue.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in ue?ue.statusText:"OK",this.headers=new xe(ue.headers),this.url=ue.url||"",this._initBody($)}Er.call(Ot.prototype),Ot.prototype.clone=function(){return new Ot(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new xe(this.headers),url:this.url})},Ot.error=function(){var $=new Ot(null,{status:0,statusText:""});return $.type="error",$};var yn=[301,302,303,307,308];Ot.redirect=function($,ue){if(yn.indexOf(ue)===-1)throw new RangeError("Invalid status code");return new Ot(null,{status:ue,headers:{location:$}})},g.DOMException=c.DOMException;try{new g.DOMException}catch($){g.DOMException=function(ue,Oe){this.message=ue,this.name=Oe;var lt=Error(ue);this.stack=lt.stack},g.DOMException.prototype=Object.create(Error.prototype),g.DOMException.prototype.constructor=g.DOMException}function Nr($,ue){return new Promise(function(Oe,lt){var at=new Ut($,ue);if(at.signal&&at.signal.aborted)return lt(new g.DOMException("Aborted","AbortError"));var Ge=new XMLHttpRequest;function gn(){Ge.abort()}Ge.onload=function(){var Hr={status:Ge.status,statusText:Ge.statusText,headers:pn(Ge.getAllResponseHeaders()||"")};Hr.url="responseURL"in Ge?Ge.responseURL:Hr.headers.get("X-Request-URL");var Hn="response"in Ge?Ge.response:Ge.responseText;Oe(new Ot(Hn,Hr))},Ge.onerror=function(){lt(new TypeError("Network request failed"))},Ge.ontimeout=function(){lt(new TypeError("Network request failed"))},Ge.onabort=function(){lt(new g.DOMException("Aborted","AbortError"))},Ge.open(at.method,at.url,!0),at.credentials==="include"?Ge.withCredentials=!0:at.credentials==="omit"&&(Ge.withCredentials=!1),"responseType"in Ge&&I.blob&&(Ge.responseType="blob"),at.headers.forEach(function(Hr,Hn){Ge.setRequestHeader(Hn,Hr)}),at.signal&&(at.signal.addEventListener("abort",gn),Ge.onreadystatechange=function(){Ge.readyState===4&&at.signal.removeEventListener("abort",gn)}),Ge.send(typeof at._bodyInit=="undefined"?null:at._bodyInit)})}return Nr.polyfill=!0,c.fetch||(c.fetch=Nr,c.Headers=xe,c.Request=Ut,c.Response=Ot),g.Headers=xe,g.Request=Ut,g.Response=Ot,g.fetch=Nr,Object.defineProperty(g,"__esModule",{value:!0}),g})({})})(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var s=o;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,a.exports=e})(Un,Un.exports);var wi=ve(Un.exports);const $r=32;function On(a){let e=0;for(;a>1;)a/=2,e++;return e}function Zo(a){return a===0?1:(a--,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,a|=a>>32,a+1)}class Yo{constructor(e,r,o,s,c){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=o,this.firstNormalEpoch=s,this.firstNormalSlot=c}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=On(Zo(e+$r+1))-On($r)-1,o=this.getSlotsInEpoch(r),s=e-(o-$r);return[r,s]}else{const r=e-this.firstNormalSlot,o=Math.floor(r/this.slotsPerEpoch),s=this.firstNormalEpoch+o,c=r%this.slotsPerEpoch;return[s,c]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*$r:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+On($r)):this.slotsPerEpoch}}class Ei extends Error{constructor(e,r){super(e);this.logs=void 0,this.logs=r}}const Xo=160/64,Jo=1e3/Xo;function Qo(a,e){let r;const o=new Promise(s=>{r=setTimeout(()=>s(null),e)});return Promise.race([a,o]).then(s=>(clearTimeout(r),s))}function es(a){let e=new URL(a);const r=e.protocol==="https:";return e.protocol=r?"wss:":"ws:",e.host="",e.port!==""&&(e.port=String(Number(e.port)+1)),e.toString()}const mt=ot(p(Ee),me(),a=>new Ee(a)),vi=rr([me(),C("base64")]),Fn=ot(p(B.lW),vi,a=>B.lW.from(a[0],"base64")),ts=null;function Si(a){return Me([Y({jsonrpc:C("2.0"),id:me(),result:a}),Y({jsonrpc:C("2.0"),id:me(),error:Y({code:Xe(),message:me(),data:Te(jt())})})])}const rs=Si(Xe());function We(a){return ot(Si(a),rs,e=>"error"in e?e:Fe(Fe({},e),{result:X(e.result,a)}))}function bt(a){return We(Y({context:Y({slot:O()}),value:a}))}function cn(a){return Y({context:Y({slot:O()}),value:a})}const ns=Y({foundation:O(),foundationTerm:O(),initial:O(),taper:O(),terminal:O()}),is=We(ye(ae(Y({epoch:O(),effectiveSlot:O(),amount:O(),postBalance:O()})))),os=Y({epoch:O(),slotIndex:O(),slotsInEpoch:O(),absoluteSlot:O(),blockHeight:Te(O()),transactionCount:Te(O())}),ss=Y({slotsPerEpoch:O(),leaderScheduleSlotOffset:O(),warmup:Ce(),firstNormalEpoch:O(),firstNormalSlot:O()}),as=$t(me(),ye(O())),kr=ae(Me([Y({}),me()])),cs=Y({err:kr}),us=C("receivedSignature"),ls=Y({"solana-core":me(),"feature-set":Te(O())}),hs=bt(Y({err:ae(Me([Y({}),me()])),logs:ae(ye(me())),accounts:Te(ae(ye(ae(Y({executable:Ce(),owner:me(),lamports:O(),data:ye(me()),rentEpoch:Te(O())}))))),unitsConsumed:Te(O())}));function fs(a,e,r,o,s){let c;return o&&(c=(I,R)=>ie(this,null,function*(){const L=yield new Promise((q,te)=>{try{o(I,R,(fe,le)=>q([fe,le]))}catch(fe){te(fe)}});return yield wi(...L)})),new RpcClient((I,R)=>ie(this,null,function*(){const q={method:"POST",body:I,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{})};try{let te=5,fe,le=500;for(;c?fe=yield c(a,q):fe=yield wi(a,q),!(fe.status!==429||s===!0||(te-=1,te===0));)console.log(`Server responded with ${fe.status} ${fe.statusText}.  Retrying after ${le}ms delay...`),yield an(le),le*=2;const xe=yield fe.text();fe.ok?R(null,xe):R(new Error(`${fe.status} ${fe.statusText}: ${xe}`))}catch(te){te instanceof Error&&R(te)}finally{}}),{})}function ds(a){return(e,r)=>new Promise((o,s)=>{a.request(e,r,(c,g)=>{if(c){s(c);return}o(g)})})}function ps(a){return e=>new Promise((r,o)=>{e.length===0&&r([]);const s=e.map(c=>a.request(c.methodName,c.args));a.request(s,(c,g)=>{if(c){o(c);return}r(g)})})}const ys=We(ns),gs=We(os),ms=We(ss),bs=We(as),ws=We(O()),Es=bt(Y({total:O(),circulating:O(),nonCirculating:O(),nonCirculatingAccounts:ye(mt)})),Nn=Y({amount:me(),uiAmount:ae(O()),decimals:O(),uiAmountString:Te(me())}),vs=bt(ye(Y({address:mt,amount:me(),uiAmount:ae(O()),decimals:O(),uiAmountString:Te(me())}))),Ss=bt(ye(Y({pubkey:mt,account:Y({executable:Ce(),owner:mt,lamports:O(),data:Fn,rentEpoch:O()})}))),Ln=Y({program:me(),parsed:Xe(),space:O()}),xs=bt(ye(Y({pubkey:mt,account:Y({executable:Ce(),owner:mt,lamports:O(),data:Ln,rentEpoch:O()})}))),ks=bt(ye(Y({lamports:O(),address:mt}))),un=Y({executable:Ce(),owner:mt,lamports:O(),data:Fn,rentEpoch:O()}),Is=Y({pubkey:mt,account:un}),_s=ot(Me([p(B.lW),Ln]),Me([vi,Ln]),a=>Array.isArray(a)?X(a,Fn):a),Dn=Y({executable:Ce(),owner:mt,lamports:O(),data:_s,rentEpoch:O()}),As=Y({pubkey:mt,account:Dn}),Bs=Y({state:Me([C("active"),C("inactive"),C("activating"),C("deactivating")]),active:O(),inactive:O()}),Rs=We(ye(Y({signature:me(),slot:O(),err:kr,memo:ae(me()),blockTime:Te(ae(O()))}))),Ps=We(ye(Y({signature:me(),slot:O(),err:kr,memo:ae(me()),blockTime:Te(ae(O()))}))),Cs=Y({subscription:O(),result:cn(un)}),Ts=Y({pubkey:mt,account:un}),Us=Y({subscription:O(),result:cn(Ts)}),Os=Y({parent:O(),slot:O(),root:O()}),Fs=Y({subscription:O(),result:Os}),Ns=Me([Y({type:Me([C("firstShredReceived"),C("completed"),C("optimisticConfirmation"),C("root")]),slot:O(),timestamp:O()}),Y({type:C("createdBank"),parent:O(),slot:O(),timestamp:O()}),Y({type:C("frozen"),slot:O(),timestamp:O(),stats:Y({numTransactionEntries:O(),numSuccessfulTransactions:O(),numFailedTransactions:O(),maxTransactionsPerEntry:O()})}),Y({type:C("dead"),slot:O(),timestamp:O(),err:me()})]),Ls=Y({subscription:O(),result:Ns}),Ds=Y({subscription:O(),result:cn(Me([cs,us]))}),zs=Y({subscription:O(),result:O()}),Ws=Y({pubkey:me(),gossip:ae(me()),tpu:ae(me()),rpc:ae(me()),version:ae(me())}),xi=Y({votePubkey:me(),nodePubkey:me(),activatedStake:O(),epochVoteAccount:Ce(),epochCredits:ye(rr([O(),O(),O()])),commission:O(),lastVote:O(),rootSlot:ae(O())}),Ms=We(Y({current:ye(xi),delinquent:ye(xi)})),js=Me([C("processed"),C("confirmed"),C("finalized")]),$s=Y({slot:O(),confirmations:ae(O()),err:kr,confirmationStatus:Te(js)}),Ks=bt(ye(ae($s))),Vs=We(O()),zn=Y({signatures:ye(me()),message:Y({accountKeys:ye(me()),header:Y({numRequiredSignatures:O(),numReadonlySignedAccounts:O(),numReadonlyUnsignedAccounts:O()}),instructions:ye(Y({accounts:ye(O()),data:me(),programIdIndex:O()})),recentBlockhash:me()})}),ki=Y({parsed:Xe(),program:me(),programId:mt}),Ii=Y({accounts:ye(mt),data:me(),programId:mt}),Hs=Me([Ii,ki]),Gs=Me([Y({parsed:Xe(),program:me(),programId:me()}),Y({accounts:ye(me()),data:me(),programId:me()})]),_i=ot(Hs,Gs,a=>"accounts"in a?X(a,Ii):X(a,ki)),qs=Y({signatures:ye(me()),message:Y({accountKeys:ye(Y({pubkey:mt,signer:Ce(),writable:Ce()})),instructions:ye(_i),recentBlockhash:me()})}),ln=Y({accountIndex:O(),mint:me(),owner:Te(me()),uiTokenAmount:Nn}),Wn=Y({err:kr,fee:O(),innerInstructions:Te(ae(ye(Y({index:O(),instructions:ye(Y({accounts:ye(O()),data:me(),programIdIndex:O()}))})))),preBalances:ye(O()),postBalances:ye(O()),logMessages:Te(ae(ye(me()))),preTokenBalances:Te(ae(ye(ln))),postTokenBalances:Te(ae(ye(ln)))}),Zs=Y({err:kr,fee:O(),innerInstructions:Te(ae(ye(Y({index:O(),instructions:ye(_i)})))),preBalances:ye(O()),postBalances:ye(O()),logMessages:Te(ae(ye(me()))),preTokenBalances:Te(ae(ye(ln))),postTokenBalances:Te(ae(ye(ln)))}),Ys=We(ae(Y({blockhash:me(),previousBlockhash:me(),parentSlot:O(),transactions:ye(Y({transaction:zn,meta:ae(Wn)})),rewards:Te(ye(Y({pubkey:me(),lamports:O(),postBalance:ae(O()),rewardType:ae(me())}))),blockTime:ae(O()),blockHeight:ae(O())}))),Xs=We(ae(Y({blockhash:me(),previousBlockhash:me(),parentSlot:O(),transactions:ye(Y({transaction:zn,meta:ae(Wn)})),rewards:Te(ye(Y({pubkey:me(),lamports:O(),postBalance:ae(O()),rewardType:ae(me())}))),blockTime:ae(O())}))),Ai=We(ae(Y({blockhash:me(),previousBlockhash:me(),parentSlot:O(),signatures:ye(me()),blockTime:ae(O())}))),Bi=We(ae(Y({slot:O(),meta:Wn,blockTime:Te(ae(O())),transaction:zn}))),hn=We(ae(Y({slot:O(),transaction:qs,meta:ae(Zs),blockTime:Te(ae(O()))}))),Js=bt(Y({blockhash:me(),feeCalculator:Y({lamportsPerSignature:O()})})),Qs=bt(Y({blockhash:me(),lastValidBlockHeight:O()})),ea=Y({slot:O(),numTransactions:O(),numSlots:O(),samplePeriodSecs:O()}),ta=We(ye(ea)),ra=bt(ae(Y({feeCalculator:Y({lamportsPerSignature:O()})}))),na=We(me()),ia=We(me()),oa=Y({err:kr,logs:ye(me()),signature:me()}),sa=Y({result:cn(oa),subscription:O()});class Da{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={recentBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._accountChangeSubscriptionCounter=0,this._accountChangeSubscriptions={},this._programAccountChangeSubscriptionCounter=0,this._programAccountChangeSubscriptions={},this._rootSubscriptionCounter=0,this._rootSubscriptions={},this._signatureSubscriptionCounter=0,this._signatureSubscriptions={},this._slotSubscriptionCounter=0,this._slotSubscriptions={},this._logsSubscriptionCounter=0,this._logsSubscriptions={},this._slotUpdateSubscriptionCounter=0,this._slotUpdateSubscriptions={};let o=new URL(e);const s=o.protocol==="https:";let c,g,I,R;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,c=r.wsEndpoint,g=r.httpHeaders,I=r.fetchMiddleware,R=r.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=c||es(e),this._rpcClient=fs(o.toString(),s,g,I,R),this._rpcRequest=ds(this._rpcClient),this._rpcBatchRequest=ps(this._rpcClient),this._rpcWebSocket=new Client(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:Infinity}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}getBalanceAndContext(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getBalance",o),c=create(s,bt(number()));if("error"in c)throw new Error("failed to get balance for "+e.toBase58()+": "+c.error.message);return c.result})}getBalance(e,r){return ie(this,null,function*(){return yield this.getBalanceAndContext(e,r).then(o=>o.value).catch(o=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+o)})})}getBlockTime(e){return ie(this,null,function*(){const r=yield this._rpcRequest("getBlockTime",[e]),o=create(r,We(nullable(number())));if("error"in o)throw new Error("failed to get block time for slot "+e+": "+o.error.message);return o.result})}getMinimumLedgerSlot(){return ie(this,null,function*(){const e=yield this._rpcRequest("minimumLedgerSlot",[]),r=create(e,We(number()));if("error"in r)throw new Error("failed to get minimum ledger slot: "+r.error.message);return r.result})}getFirstAvailableBlock(){return ie(this,null,function*(){const e=yield this._rpcRequest("getFirstAvailableBlock",[]),r=create(e,ws);if("error"in r)throw new Error("failed to get first available block: "+r.error.message);return r.result})}getSupply(e){return ie(this,null,function*(){let r={};typeof e=="string"?r={commitment:e}:e?r=Fe(Fe({},e),{commitment:e&&e.commitment||this.commitment}):r={commitment:this.commitment};const o=yield this._rpcRequest("getSupply",[r]),s=create(o,Es);if("error"in s)throw new Error("failed to get supply: "+s.error.message);return s.result})}getTokenSupply(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getTokenSupply",o),c=create(s,bt(Nn));if("error"in c)throw new Error("failed to get token supply: "+c.error.message);return c.result})}getTokenAccountBalance(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getTokenAccountBalance",o),c=create(s,bt(Nn));if("error"in c)throw new Error("failed to get token account balance: "+c.error.message);return c.result})}getTokenAccountsByOwner(e,r,o){return ie(this,null,function*(){let s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});const c=this._buildArgs(s,o,"base64"),g=yield this._rpcRequest("getTokenAccountsByOwner",c),I=create(g,Ss);if("error"in I)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+I.error.message);return I.result})}getParsedTokenAccountsByOwner(e,r,o){return ie(this,null,function*(){let s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});const c=this._buildArgs(s,o,"jsonParsed"),g=yield this._rpcRequest("getTokenAccountsByOwner",c),I=create(g,xs);if("error"in I)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+I.error.message);return I.result})}getLargestAccounts(e){return ie(this,null,function*(){const r=Fe(Fe({},e),{commitment:e&&e.commitment||this.commitment}),o=r.filter||r.commitment?[r]:[],s=yield this._rpcRequest("getLargestAccounts",o),c=create(s,ks);if("error"in c)throw new Error("failed to get largest accounts: "+c.error.message);return c.result})}getTokenLargestAccounts(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getTokenLargestAccounts",o),c=create(s,vs);if("error"in c)throw new Error("failed to get token largest accounts: "+c.error.message);return c.result})}getAccountInfoAndContext(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r,"base64"),s=yield this._rpcRequest("getAccountInfo",o),c=create(s,bt(nullable(un)));if("error"in c)throw new Error("failed to get info about account "+e.toBase58()+": "+c.error.message);return c.result})}getParsedAccountInfo(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r,"jsonParsed"),s=yield this._rpcRequest("getAccountInfo",o),c=create(s,bt(nullable(Dn)));if("error"in c)throw new Error("failed to get info about account "+e.toBase58()+": "+c.error.message);return c.result})}getAccountInfo(e,r){return ie(this,null,function*(){try{return(yield this.getAccountInfoAndContext(e,r)).value}catch(o){throw new Error("failed to get info about account "+e.toBase58()+": "+o)}})}getMultipleAccountsInfo(e,r){return ie(this,null,function*(){const o=e.map(L=>L.toBase58());let s,c="base64";r&&(typeof r=="string"?(s=r,c="base64"):(s=r.commitment,c=r.encoding||"base64"));const g=this._buildArgs([o],s,c),I=yield this._rpcRequest("getMultipleAccounts",g),R=create(I,bt(array(nullable(Dn))));if("error"in R)throw new Error("failed to get info for accounts "+o+": "+R.error.message);return R.result.value})}getStakeActivation(e,r,o){return ie(this,null,function*(){const s=this._buildArgs([e.toBase58()],r,void 0,o!==void 0?{epoch:o}:void 0),c=yield this._rpcRequest("getStakeActivation",s),g=create(c,We(Bs));if("error"in g)throw new Error(`failed to get Stake Activation ${e.toBase58()}: ${g.error.message}`);return g.result})}getProgramAccounts(e,r){return ie(this,null,function*(){const o={};let s,c;r&&(typeof r=="string"?s=r:(s=r.commitment,c=r.encoding,r.dataSlice&&(o.dataSlice=r.dataSlice),r.filters&&(o.filters=r.filters)));const g=this._buildArgs([e.toBase58()],s,c||"base64",o),I=yield this._rpcRequest("getProgramAccounts",g),R=create(I,We(array(Is)));if("error"in R)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+R.error.message);return R.result})}getParsedProgramAccounts(e,r){return ie(this,null,function*(){const o={};let s;r&&(typeof r=="string"?s=r:(s=r.commitment,r.filters&&(o.filters=r.filters)));const c=this._buildArgs([e.toBase58()],s,"jsonParsed",o),g=yield this._rpcRequest("getProgramAccounts",c),I=create(g,We(array(As)));if("error"in I)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+I.error.message);return I.result})}confirmTransaction(e,r){return ie(this,null,function*(){let o;try{o=bs58.decode(e)}catch(q){throw new Error("signature must be base58 encoded: "+e)}gt(o.length===64,"signature has invalid length");const s=Date.now(),c=r||this.commitment;let g,I=null;const R=new Promise((q,te)=>{try{g=this.onSignature(e,(fe,le)=>{g=void 0,I={context:le,value:fe},q(null)},c)}catch(fe){te(fe)}});let L=this._confirmTransactionInitialTimeout||60*1e3;switch(c){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{L=this._confirmTransactionInitialTimeout||30*1e3;break}}try{yield Qo(R,L)}finally{g&&this.removeSignatureListener(g)}if(I===null){const q=(Date.now()-s)/1e3;throw new Error(`Transaction was not confirmed in ${q.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`)}return I})}getClusterNodes(){return ie(this,null,function*(){const e=yield this._rpcRequest("getClusterNodes",[]),r=create(e,We(array(Ws)));if("error"in r)throw new Error("failed to get cluster nodes: "+r.error.message);return r.result})}getVoteAccounts(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getVoteAccounts",r),s=create(o,Ms);if("error"in s)throw new Error("failed to get vote accounts: "+s.error.message);return s.result})}getSlot(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getSlot",r),s=create(o,We(number()));if("error"in s)throw new Error("failed to get slot: "+s.error.message);return s.result})}getSlotLeader(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getSlotLeader",r),s=create(o,We(string()));if("error"in s)throw new Error("failed to get slot leader: "+s.error.message);return s.result})}getSlotLeaders(e,r){return ie(this,null,function*(){const o=[e,r],s=yield this._rpcRequest("getSlotLeaders",o),c=create(s,We(array(mt)));if("error"in c)throw new Error("failed to get slot leaders: "+c.error.message);return c.result})}getSignatureStatus(e,r){return ie(this,null,function*(){const{context:o,value:s}=yield this.getSignatureStatuses([e],r);gt(s.length===1);const c=s[0];return{context:o,value:c}})}getSignatureStatuses(e,r){return ie(this,null,function*(){const o=[e];r&&o.push(r);const s=yield this._rpcRequest("getSignatureStatuses",o),c=create(s,Ks);if("error"in c)throw new Error("failed to get signature status: "+c.error.message);return c.result})}getTransactionCount(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getTransactionCount",r),s=create(o,We(number()));if("error"in s)throw new Error("failed to get transaction count: "+s.error.message);return s.result})}getTotalSupply(e){return ie(this,null,function*(){return(yield this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total})}getInflationGovernor(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getInflationGovernor",r),s=create(o,ys);if("error"in s)throw new Error("failed to get inflation: "+s.error.message);return s.result})}getInflationReward(e,r,o){return ie(this,null,function*(){const s=this._buildArgs([e.map(I=>I.toBase58())],o,void 0,{epoch:r}),c=yield this._rpcRequest("getInflationReward",s),g=create(c,is);if("error"in g)throw new Error("failed to get inflation reward: "+g.error.message);return g.result})}getEpochInfo(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getEpochInfo",r),s=create(o,gs);if("error"in s)throw new Error("failed to get epoch info: "+s.error.message);return s.result})}getEpochSchedule(){return ie(this,null,function*(){const e=yield this._rpcRequest("getEpochSchedule",[]),r=create(e,ms);if("error"in r)throw new Error("failed to get epoch schedule: "+r.error.message);const o=r.result;return new Yo(o.slotsPerEpoch,o.leaderScheduleSlotOffset,o.warmup,o.firstNormalEpoch,o.firstNormalSlot)})}getLeaderSchedule(){return ie(this,null,function*(){const e=yield this._rpcRequest("getLeaderSchedule",[]),r=create(e,bs);if("error"in r)throw new Error("failed to get leader schedule: "+r.error.message);return r.result})}getMinimumBalanceForRentExemption(e,r){return ie(this,null,function*(){const o=this._buildArgs([e],r),s=yield this._rpcRequest("getMinimumBalanceForRentExemption",o),c=create(s,Vs);return"error"in c?(console.warn("Unable to fetch minimum balance for rent exemption"),0):c.result})}getRecentBlockhashAndContext(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getRecentBlockhash",r),s=create(o,Js);if("error"in s)throw new Error("failed to get recent blockhash: "+s.error.message);return s.result})}getRecentPerformanceSamples(e){return ie(this,null,function*(){const r=this._buildArgs(e?[e]:[]),o=yield this._rpcRequest("getRecentPerformanceSamples",r),s=create(o,ta);if("error"in s)throw new Error("failed to get recent performance samples: "+s.error.message);return s.result})}getFeeCalculatorForBlockhash(e,r){return ie(this,null,function*(){const o=this._buildArgs([e],r),s=yield this._rpcRequest("getFeeCalculatorForBlockhash",o),c=create(s,ra);if("error"in c)throw new Error("failed to get fee calculator: "+c.error.message);const{context:g,value:I}=c.result;return{context:g,value:I!==null?I.feeCalculator:null}})}getFeeForMessage(e,r){return ie(this,null,function*(){const o=e.serialize().toString("base64"),s=this._buildArgs([o],r),c=yield this._rpcRequest("getFeeForMessage",s),g=create(c,bt(nullable(number())));if("error"in g)throw new Error("failed to get slot: "+g.error.message);if(g.result===null)throw new Error("invalid blockhash");return g.result})}getRecentBlockhash(e){return ie(this,null,function*(){try{return(yield this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}})}getLatestBlockhash(e){return ie(this,null,function*(){try{return(yield this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}})}getLatestBlockhashAndContext(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getLatestBlockhash",r),s=create(o,Qs);if("error"in s)throw new Error("failed to get latest blockhash: "+s.error.message);return s.result})}getVersion(){return ie(this,null,function*(){const e=yield this._rpcRequest("getVersion",[]),r=create(e,We(ls));if("error"in r)throw new Error("failed to get version: "+r.error.message);return r.result})}getGenesisHash(){return ie(this,null,function*(){const e=yield this._rpcRequest("getGenesisHash",[]),r=create(e,We(string()));if("error"in r)throw new Error("failed to get genesis hash: "+r.error.message);return r.result})}getBlock(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r&&r.commitment),s=yield this._rpcRequest("getBlock",o),c=create(s,Ys);if("error"in c)throw new Error("failed to get confirmed block: "+c.error.message);const g=c.result;return g&&Fe(Fe({},g),{transactions:g.transactions.map(({transaction:I,meta:R})=>{const L=new br(I.message);return{meta:R,transaction:Fe(Fe({},I),{message:L})}})})})}getTransaction(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r&&r.commitment),s=yield this._rpcRequest("getTransaction",o),c=create(s,Bi);if("error"in c)throw new Error("failed to get transaction: "+c.error.message);const g=c.result;return g&&Fe(Fe({},g),{transaction:Fe(Fe({},g.transaction),{message:new br(g.transaction.message)})})})}getParsedTransaction(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),s=yield this._rpcRequest("getTransaction",o),c=create(s,hn);if("error"in c)throw new Error("failed to get transaction: "+c.error.message);return c.result})}getParsedTransactions(e,r){return ie(this,null,function*(){const o=e.map(g=>{const I=this._buildArgsAtLeastConfirmed([g],r,"jsonParsed");return{methodName:"getTransaction",args:I}});return(yield this._rpcBatchRequest(o)).map(g=>{const I=create(g,hn);if("error"in I)throw new Error("failed to get transactions: "+I.error.message);return I.result})})}getConfirmedBlock(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r),s=yield this._rpcRequest("getConfirmedBlock",o),c=create(s,Xs);if("error"in c)throw new Error("failed to get confirmed block: "+c.error.message);const g=c.result;if(!g)throw new Error("Confirmed block "+e+" not found");const I=Fe(Fe({},g),{transactions:g.transactions.map(({transaction:R,meta:L})=>{const q=new br(R.message);return{meta:L,transaction:Fe(Fe({},R),{message:q})}})});return Fe(Fe({},I),{transactions:I.transactions.map(({transaction:R,meta:L})=>({meta:L,transaction:He.populate(R.message,R.signatures)}))})})}getBlocks(e,r,o){return ie(this,null,function*(){const s=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],o),c=yield this._rpcRequest("getBlocks",s),g=create(c,We(array(number())));if("error"in g)throw new Error("failed to get blocks: "+g.error.message);return g.result})}getBlockSignatures(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),s=yield this._rpcRequest("getBlock",o),c=create(s,Ai);if("error"in c)throw new Error("failed to get block: "+c.error.message);const g=c.result;if(!g)throw new Error("Block "+e+" not found");return g})}getConfirmedBlockSignatures(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),s=yield this._rpcRequest("getConfirmedBlock",o),c=create(s,Ai);if("error"in c)throw new Error("failed to get confirmed block: "+c.error.message);const g=c.result;if(!g)throw new Error("Confirmed block "+e+" not found");return g})}getConfirmedTransaction(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r),s=yield this._rpcRequest("getConfirmedTransaction",o),c=create(s,Bi);if("error"in c)throw new Error("failed to get transaction: "+c.error.message);const g=c.result;if(!g)return g;const I=new br(g.transaction.message),R=g.transaction.signatures;return Fe(Fe({},g),{transaction:He.populate(I,R)})})}getParsedConfirmedTransaction(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),s=yield this._rpcRequest("getConfirmedTransaction",o),c=create(s,hn);if("error"in c)throw new Error("failed to get confirmed transaction: "+c.error.message);return c.result})}getParsedConfirmedTransactions(e,r){return ie(this,null,function*(){const o=e.map(g=>{const I=this._buildArgsAtLeastConfirmed([g],r,"jsonParsed");return{methodName:"getConfirmedTransaction",args:I}});return(yield this._rpcBatchRequest(o)).map(g=>{const I=create(g,hn);if("error"in I)throw new Error("failed to get confirmed transactions: "+I.error.message);return I.result})})}getConfirmedSignaturesForAddress(e,r,o){return ie(this,null,function*(){let s={},c=yield this.getFirstAvailableBlock();for(;!("until"in s)&&(r--,!(r<=0||r<c));)try{const R=yield this.getConfirmedBlockSignatures(r,"finalized");R.signatures.length>0&&(s.until=R.signatures[R.signatures.length-1].toString())}catch(R){if(R instanceof Error&&R.message.includes("skipped"))continue;throw R}let g=yield this.getSlot("finalized");for(;!("before"in s)&&(o++,!(o>g));)try{const R=yield this.getConfirmedBlockSignatures(o);R.signatures.length>0&&(s.before=R.signatures[R.signatures.length-1].toString())}catch(R){if(R instanceof Error&&R.message.includes("skipped"))continue;throw R}return(yield this.getConfirmedSignaturesForAddress2(e,s)).map(R=>R.signature)})}getConfirmedSignaturesForAddress2(e,r,o){return ie(this,null,function*(){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],o,void 0,r),c=yield this._rpcRequest("getConfirmedSignaturesForAddress2",s),g=create(c,Rs);if("error"in g)throw new Error("failed to get confirmed signatures for address: "+g.error.message);return g.result})}getSignaturesForAddress(e,r,o){return ie(this,null,function*(){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],o,void 0,r),c=yield this._rpcRequest("getSignaturesForAddress",s),g=create(c,Ps);if("error"in g)throw new Error("failed to get signatures for address: "+g.error.message);return g.result})}getNonceAndContext(e,r){return ie(this,null,function*(){const{context:o,value:s}=yield this.getAccountInfoAndContext(e,r);let c=null;return s!==null&&(c=Tn.fromAccountData(s.data)),{context:o,value:c}})}getNonce(e,r){return ie(this,null,function*(){return yield this.getNonceAndContext(e,r).then(o=>o.value).catch(o=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+o)})})}requestAirdrop(e,r){return ie(this,null,function*(){const o=yield this._rpcRequest("requestAirdrop",[e.toBase58(),r]),s=create(o,na);if("error"in s)throw new Error("airdrop to "+e.toBase58()+" failed: "+s.error.message);return s.result})}_recentBlockhash(e){return ie(this,null,function*(){if(!e){for(;this._pollingBlockhash;)yield an(100);const o=Date.now()-this._blockhashInfo.lastFetch>=ts;if(this._blockhashInfo.recentBlockhash!==null&&!o)return this._blockhashInfo.recentBlockhash}return yield this._pollNewBlockhash()})}_pollNewBlockhash(){return ie(this,null,function*(){this._pollingBlockhash=!0;try{const e=Date.now();for(let r=0;r<50;r++){const{blockhash:o}=yield this.getRecentBlockhash("finalized");if(this._blockhashInfo.recentBlockhash!=o)return this._blockhashInfo={recentBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;yield an(Jo/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}})}simulateTransaction(e,r,o){return ie(this,null,function*(){let s;if(e instanceof He?s=e:s=He.populate(e),s.nonceInfo&&r)s.sign(...r);else{let le=this._disableBlockhashCaching;for(;s.recentBlockhash=yield this._recentBlockhash(le),!!r;){if(s.sign(...r),!s.signature)throw new Error("!signature");const xe=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(xe)&&!this._blockhashInfo.transactionSignatures.includes(xe)){this._blockhashInfo.simulatedSignatures.push(xe);break}else le=!0}}const c=s._compile(),g=c.serialize(),R=s._serialize(g).toString("base64"),L={encoding:"base64",commitment:this.commitment};if(o){const le=(Array.isArray(o)?o:c.nonProgramIds()).map(xe=>xe.toBase58());L.accounts={encoding:"base64",addresses:le}}r&&(L.sigVerify=!0);const q=[R,L],te=yield this._rpcRequest("simulateTransaction",q),fe=create(te,hs);if("error"in fe){let le;if("data"in fe.error&&(le=fe.error.data.logs,le&&Array.isArray(le))){const xe=`
    `,_e=xe+le.join(xe);console.error(fe.error.message,_e)}throw new Ei("failed to simulate transaction: "+fe.error.message,le)}return fe.result})}sendTransaction(e,r,o){return ie(this,null,function*(){if(e.nonceInfo)e.sign(...r);else{let c=this._disableBlockhashCaching;for(;;){if(e.recentBlockhash=yield this._recentBlockhash(c),e.sign(...r),!e.signature)throw new Error("!signature");const g=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(g))c=!0;else{this._blockhashInfo.transactionSignatures.push(g);break}}}const s=e.serialize();return yield this.sendRawTransaction(s,o)})}sendRawTransaction(e,r){return ie(this,null,function*(){const o=F(e).toString("base64");return yield this.sendEncodedTransaction(o,r)})}sendEncodedTransaction(e,r){return ie(this,null,function*(){const o={encoding:"base64"},s=r&&r.skipPreflight,c=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries&&(o.maxRetries=r.maxRetries),s&&(o.skipPreflight=s),c&&(o.preflightCommitment=c);const g=[e,o],I=yield this._rpcRequest("sendTransaction",g),R=create(I,ia);if("error"in R){let L;if("data"in R.error&&(L=R.error.data.logs,L&&Array.isArray(L))){const q=`
    `,te=q+L.join(q);console.error(R.error.message,te)}throw new Ei("failed to send transaction: "+R.error.message,L)}return R.result})}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(e){console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._resetSubscriptions()}_subscribe(e,r,o){return ie(this,null,function*(){if(e.subscriptionId==null){e.subscriptionId="subscribing";try{const s=yield this._rpcWebSocket.call(r,o);typeof s=="number"&&e.subscriptionId==="subscribing"&&(e.subscriptionId=s)}catch(s){e.subscriptionId==="subscribing"&&(e.subscriptionId=null),s instanceof Error&&console.error(`${r} error for argument`,o,s.message)}}})}_unsubscribe(e,r){return ie(this,null,function*(){const o=e.subscriptionId;if(o!=null&&typeof o!="string"){const s=o;try{yield this._rpcWebSocket.call(r,[s])}catch(c){c instanceof Error&&console.error(`${r} error:`,c.message)}}})}_resetSubscriptions(){Object.values(this._accountChangeSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._programAccountChangeSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._rootSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._signatureSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._slotSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._slotUpdateSubscriptions).forEach(e=>e.subscriptionId=null)}_updateSubscriptions(){const e=Object.keys(this._accountChangeSubscriptions).map(Number),r=Object.keys(this._programAccountChangeSubscriptions).map(Number),o=Object.keys(this._slotSubscriptions).map(Number),s=Object.keys(this._slotUpdateSubscriptions).map(Number),c=Object.keys(this._signatureSubscriptions).map(Number),g=Object.keys(this._rootSubscriptions).map(Number),I=Object.keys(this._logsSubscriptions).map(Number);if(e.length===0&&r.length===0&&o.length===0&&s.length===0&&c.length===0&&g.length===0&&I.length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(R){R instanceof Error&&console.log(`Error when closing socket connection: ${R.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}for(let R of e){const L=this._accountChangeSubscriptions[R];this._subscribe(L,"accountSubscribe",this._buildArgs([L.publicKey],L.commitment,"base64"))}for(let R of r){const L=this._programAccountChangeSubscriptions[R];this._subscribe(L,"programSubscribe",this._buildArgs([L.programId],L.commitment,"base64",{filters:L.filters}))}for(let R of o){const L=this._slotSubscriptions[R];this._subscribe(L,"slotSubscribe",[])}for(let R of s){const L=this._slotUpdateSubscriptions[R];this._subscribe(L,"slotsUpdatesSubscribe",[])}for(let R of c){const L=this._signatureSubscriptions[R],q=[L.signature];L.options&&q.push(L.options),this._subscribe(L,"signatureSubscribe",q)}for(let R of g){const L=this._rootSubscriptions[R];this._subscribe(L,"rootSubscribe",[])}for(let R of I){const L=this._logsSubscriptions[R];let q;typeof L.filter=="object"?q={mentions:[L.filter.toString()]}:q=L.filter,this._subscribe(L,"logsSubscribe",this._buildArgs([q],L.commitment))}}_wsOnAccountNotification(e){const r=create(e,Cs);for(const o of Object.values(this._accountChangeSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result.value,r.result.context);return}}onAccountChange(e,r,o){const s=++this._accountChangeSubscriptionCounter;return this._accountChangeSubscriptions[s]={publicKey:e.toBase58(),callback:r,commitment:o,subscriptionId:null},this._updateSubscriptions(),s}removeAccountChangeListener(e){return ie(this,null,function*(){if(this._accountChangeSubscriptions[e]){const r=this._accountChangeSubscriptions[e];delete this._accountChangeSubscriptions[e],yield this._unsubscribe(r,"accountUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown account change id: ${e}`)})}_wsOnProgramAccountNotification(e){const r=create(e,Us);for(const o of Object.values(this._programAccountChangeSubscriptions))if(o.subscriptionId===r.subscription){const{value:s,context:c}=r.result;o.callback({accountId:s.pubkey,accountInfo:s.account},c);return}}onProgramAccountChange(e,r,o,s){const c=++this._programAccountChangeSubscriptionCounter;return this._programAccountChangeSubscriptions[c]={programId:e.toBase58(),callback:r,commitment:o,subscriptionId:null,filters:s},this._updateSubscriptions(),c}removeProgramAccountChangeListener(e){return ie(this,null,function*(){if(this._programAccountChangeSubscriptions[e]){const r=this._programAccountChangeSubscriptions[e];delete this._programAccountChangeSubscriptions[e],yield this._unsubscribe(r,"programUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown program account change id: ${e}`)})}onLogs(e,r,o){const s=++this._logsSubscriptionCounter;return this._logsSubscriptions[s]={filter:e,callback:r,commitment:o,subscriptionId:null},this._updateSubscriptions(),s}removeOnLogsListener(e){return ie(this,null,function*(){if(!this._logsSubscriptions[e])throw new Error(`Unknown logs id: ${e}`);const r=this._logsSubscriptions[e];delete this._logsSubscriptions[e],yield this._unsubscribe(r,"logsUnsubscribe"),this._updateSubscriptions()})}_wsOnLogsNotification(e){const r=create(e,sa),o=Object.keys(this._logsSubscriptions).map(Number);for(let s of o){const c=this._logsSubscriptions[s];if(c.subscriptionId===r.subscription){c.callback(r.result.value,r.result.context);return}}}_wsOnSlotNotification(e){const r=create(e,Fs);for(const o of Object.values(this._slotSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result);return}}onSlotChange(e){const r=++this._slotSubscriptionCounter;return this._slotSubscriptions[r]={callback:e,subscriptionId:null},this._updateSubscriptions(),r}removeSlotChangeListener(e){return ie(this,null,function*(){if(this._slotSubscriptions[e]){const r=this._slotSubscriptions[e];delete this._slotSubscriptions[e],yield this._unsubscribe(r,"slotUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown slot change id: ${e}`)})}_wsOnSlotUpdatesNotification(e){const r=create(e,Ls);for(const o of Object.values(this._slotUpdateSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result);return}}onSlotUpdate(e){const r=++this._slotUpdateSubscriptionCounter;return this._slotUpdateSubscriptions[r]={callback:e,subscriptionId:null},this._updateSubscriptions(),r}removeSlotUpdateListener(e){return ie(this,null,function*(){if(this._slotUpdateSubscriptions[e]){const r=this._slotUpdateSubscriptions[e];delete this._slotUpdateSubscriptions[e],yield this._unsubscribe(r,"slotsUpdatesUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown slot update id: ${e}`)})}_buildArgs(e,r,o,s){const c=r||this._commitment;if(c||o||s){let g={};o&&(g.encoding=o),c&&(g.commitment=c),s&&(g=Object.assign(g,s)),e.push(g)}return e}_buildArgsAtLeastConfirmed(e,r,o,s){const c=r||this._commitment;if(c&&!["confirmed","finalized"].includes(c))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,o,s)}_wsOnSignatureNotification(e){const r=create(e,Ds);for(const[o,s]of Object.entries(this._signatureSubscriptions))if(s.subscriptionId===r.subscription){r.result.value==="receivedSignature"?s.callback({type:"received"},r.result.context):(delete this._signatureSubscriptions[Number(o)],this._updateSubscriptions(),s.callback({type:"status",result:r.result.value},r.result.context));return}}onSignature(e,r,o){const s=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[s]={signature:e,callback:(c,g)=>{c.type==="status"&&r(c.result,g)},options:{commitment:o},subscriptionId:null},this._updateSubscriptions(),s}onSignatureWithOptions(e,r,o){const s=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[s]={signature:e,callback:r,options:o,subscriptionId:null},this._updateSubscriptions(),s}removeSignatureListener(e){return ie(this,null,function*(){if(this._signatureSubscriptions[e]){const r=this._signatureSubscriptions[e];delete this._signatureSubscriptions[e],yield this._unsubscribe(r,"signatureUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown signature result id: ${e}`)})}_wsOnRootNotification(e){const r=create(e,zs);for(const o of Object.values(this._rootSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result);return}}onRootChange(e){const r=++this._rootSubscriptionCounter;return this._rootSubscriptions[r]={callback:e,subscriptionId:null},this._updateSubscriptions(),r}removeRootChangeListener(e){return ie(this,null,function*(){if(this._rootSubscriptions[e]){const r=this._rootSubscriptions[e];delete this._rootSubscriptions[e],yield this._unsubscribe(r,"rootUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown root change id: ${e}`)})}}class Kr{constructor(e){this._keypair=void 0,e?this._keypair=e:this._keypair=U().sign.keyPair()}static generate(){return new Kr(U().sign.keyPair())}static fromSecretKey(e,r){const o=U().sign.keyPair.fromSecretKey(e);if(!r||!r.skipValidation){const c=new TextEncoder().encode("@solana/web3.js-validation-v1"),g=U().sign.detached(c,o.secretKey);if(!U().sign.detached.verify(c,g,o.publicKey))throw new Error("provided secretKey is invalid")}return new Kr(o)}static fromSeed(e){return new Kr(U().sign.keyPair.fromSeed(e))}get publicKey(){return new Ee(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const Ri=64,Pi=32,Ci=64,Ti=x.struct([x.u8("numSignatures"),x.u8("padding"),x.u16("signatureOffset"),x.u16("signatureInstructionIndex"),x.u16("publicKeyOffset"),x.u16("publicKeyInstructionIndex"),x.u16("messageDataOffset"),x.u16("messageDataSize"),x.u16("messageInstructionIndex")]);class Mn{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:o,signature:s,instructionIndex:c}=e;gt(r.length===Pi,`Public Key must be ${Pi} bytes but received ${r.length} bytes`),gt(s.length===Ci,`Signature must be ${Ci} bytes but received ${s.length} bytes`);const g=Ti.span,I=g+r.length,R=I+s.length,L=1,q=B.lW.alloc(R+o.length);return Ti.encode({numSignatures:L,padding:0,signatureOffset:I,signatureInstructionIndex:c,publicKeyOffset:g,publicKeyInstructionIndex:c,messageDataOffset:R,messageDataSize:o.length,messageInstructionIndex:c},q),q.fill(r,g),q.fill(s,I),q.fill(o,R),new vt({keys:[],programId:Mn.programId,data:q})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:o,instructionIndex:s}=e;gt(r.length===Ri,`Private key must be ${Ri} bytes but received ${r.length} bytes`);try{const c=Kr.fromSecretKey(r),g=c.publicKey.toBytes(),I=U().sign.detached(o,c.secretKey);return this.createInstructionWithPublicKey({publicKey:g,message:o,signature:I,instructionIndex:s})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}Mn.programId=new Ee("Ed25519SigVerify111111111111111111111111111");const aa=new Ee("StakeConfig11111111111111111111111111111111");class ca{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class fn{constructor(e,r,o){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=o}}fn.default=new fn(0,0,Ee.default);class za{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const o=BufferLayout.u32("instruction").decode(e.data);let s;for(const[c,g]of Object.entries(wt))if(g.index==o){s=c;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:o}=rt(wt.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new ca(new Ee(r.staker),new Ee(r.withdrawer)),lockup:new fn(o.unixTimestamp,o.epoch,new Ee(o.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),rt(wt.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:o}=rt(wt.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ee(r),stakeAuthorizationType:{index:o}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:o,authoritySeed:s,authorityOwner:c}=rt(wt.AuthorizeWithSeed,e.data),g={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new Ee(c),newAuthorizedPubkey:new Ee(r),stakeAuthorizationType:{index:o}};return e.keys.length>3&&(g.custodianPubkey=e.keys[3].pubkey),g}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=rt(wt.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rt(wt.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=rt(wt.Withdraw,e.data),o={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(o.custodianPubkey=e.keys[5].pubkey),o}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rt(wt.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(jn.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const wt=Object.freeze({Initialize:{index:0,layout:x.struct([x.u32("instruction"),jo(),$o()])},Authorize:{index:1,layout:x.struct([x.u32("instruction"),je("newAuthorized"),x.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:x.struct([x.u32("instruction")])},Split:{index:3,layout:x.struct([x.u32("instruction"),x.ns64("lamports")])},Withdraw:{index:4,layout:x.struct([x.u32("instruction"),x.ns64("lamports")])},Deactivate:{index:5,layout:x.struct([x.u32("instruction")])},Merge:{index:7,layout:x.struct([x.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:x.struct([x.u32("instruction"),je("newAuthorized"),x.u32("stakeAuthorizationType"),Ur("authoritySeed"),je("authorityOwner")])}}),Wa=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class jn{constructor(){}static initialize(e){const{stakePubkey:r,authorized:o,lockup:s}=e,c=s||fn.default,g=wt.Initialize,I=tt(g,{authorized:{staker:F(o.staker.toBuffer()),withdrawer:F(o.withdrawer.toBuffer())},lockup:{unixTimestamp:c.unixTimestamp,epoch:c.epoch,custodian:F(c.custodian.toBuffer())}}),R={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:jr,isSigner:!1,isWritable:!1}],programId:this.programId,data:I};return new vt(R)}static createAccountWithSeed(e){const r=new He;r.add(At.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:o,authorized:s,lockup:c}=e;return r.add(this.initialize({stakePubkey:o,authorized:s,lockup:c}))}static createAccount(e){const r=new He;r.add(At.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:o,authorized:s,lockup:c}=e;return r.add(this.initialize({stakePubkey:o,authorized:s,lockup:c}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:o,votePubkey:s}=e,c=wt.Delegate,g=tt(c);return new He().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:aa,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:g})}static authorize(e){const{stakePubkey:r,authorizedPubkey:o,newAuthorizedPubkey:s,stakeAuthorizationType:c,custodianPubkey:g}=e,I=wt.Authorize,R=tt(I,{newAuthorized:F(s.toBuffer()),stakeAuthorizationType:c.index}),L=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];return g&&L.push({pubkey:g,isSigner:!1,isWritable:!1}),new He().add({keys:L,programId:this.programId,data:R})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:o,authoritySeed:s,authorityOwner:c,newAuthorizedPubkey:g,stakeAuthorizationType:I,custodianPubkey:R}=e,L=wt.AuthorizeWithSeed,q=tt(L,{newAuthorized:F(g.toBuffer()),stakeAuthorizationType:I.index,authoritySeed:s,authorityOwner:F(c.toBuffer())}),te=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1}];return R&&te.push({pubkey:R,isSigner:!1,isWritable:!1}),new He().add({keys:te,programId:this.programId,data:q})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:o,splitStakePubkey:s,lamports:c}=e,g=wt.Split,I=tt(g,{lamports:c});return new vt({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:I})}static split(e){const r=new He;return r.add(At.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:r,authorizedPubkey:o,splitStakePubkey:s,basePubkey:c,seed:g,lamports:I}=e,R=new He;return R.add(At.allocate({accountPubkey:s,basePubkey:c,seed:g,space:this.space,programId:this.programId})),R.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:o,splitStakePubkey:s,lamports:I}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:o,authorizedPubkey:s}=e,c=wt.Merge,g=tt(c);return new He().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:g})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:o,toPubkey:s,lamports:c,custodianPubkey:g}=e,I=wt.Withdraw,R=tt(I,{lamports:c}),L=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}];return g&&L.push({pubkey:g,isSigner:!1,isWritable:!1}),new He().add({keys:L,programId:this.programId,data:R})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:o}=e,s=wt.Deactivate,c=tt(s);return new He().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}}jn.programId=new Ee("Stake11111111111111111111111111111111111111"),jn.space=200;const{publicKeyCreate:ua,ecdsaSign:la}=v(),Ui=32,$n=20,Oi=64,ha=11,Kn=x.struct([x.u8("numSignatures"),x.u16("signatureOffset"),x.u8("signatureInstructionIndex"),x.u16("ethAddressOffset"),x.u8("ethAddressInstructionIndex"),x.u16("messageDataOffset"),x.u16("messageDataSize"),x.u8("messageInstructionIndex"),x.blob(20,"ethAddress"),x.blob(64,"signature"),x.u8("recoveryId")]);class Vr{constructor(){}static publicKeyToEthAddress(e){gt(e.length===Oi,`Public key must be ${Oi} bytes but received ${e.length} bytes`);try{return B.lW.from(A().keccak_256.update(F(e)).digest()).slice(-$n)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:o,signature:s,recoveryId:c,instructionIndex:g}=e;return Vr.createInstructionWithEthAddress({ethAddress:Vr.publicKeyToEthAddress(r),message:o,signature:s,recoveryId:c,instructionIndex:g})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:o,signature:s,recoveryId:c,instructionIndex:g=0}=e;let I;typeof r=="string"?r.startsWith("0x")?I=B.lW.from(r.substr(2),"hex"):I=B.lW.from(r,"hex"):I=r,gt(I.length===$n,`Address must be ${$n} bytes but received ${I.length} bytes`);const R=1+ha,L=R,q=R+I.length,te=q+s.length+1,fe=1,le=B.lW.alloc(Kn.span+o.length);return Kn.encode({numSignatures:fe,signatureOffset:q,signatureInstructionIndex:g,ethAddressOffset:L,ethAddressInstructionIndex:g,messageDataOffset:te,messageDataSize:o.length,messageInstructionIndex:g,signature:F(s),ethAddress:F(I),recoveryId:c},le),le.fill(F(o),Kn.span),new vt({keys:[],programId:Vr.programId,data:le})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:o,instructionIndex:s}=e;gt(r.length===Ui,`Private key must be ${Ui} bytes but received ${r.length} bytes`);try{const c=F(r),g=ua(c,!1).slice(1),I=B.lW.from(A().keccak_256.update(F(o)).digest()),{signature:R,recid:L}=la(I,c);return this.createInstructionWithPublicKey({publicKey:g,message:o,signature:R,recoveryId:L,instructionIndex:s})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}Vr.programId=new Ee("KeccakSecp256k11111111111111111111111111111");const fa=new Ee("Va1idator1nfo111111111111111111111111111111"),da=Y({name:me(),website:Te(me()),details:Te(me()),keybaseUsername:Te(me())});class Fi{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){const r=32;let o=[...e];if(Or(o)!==2)return null;const c=[];for(let g=0;g<2;g++){const I=new Ee(o.slice(0,r));o=o.slice(r);const R=o.slice(0,1)[0]===1;o=o.slice(1),c.push({publicKey:I,isSigner:R})}if(c[0].publicKey.equals(fa)&&c[1].isSigner){const g=Ur().decode(Buffer.from(o)),I=JSON.parse(g);return assert$7(I,da),new Fi(c[1].publicKey,I)}return null}}const Ma=new Ee("Vote111111111111111111111111111111111111111"),pa=x.struct([je("nodePubkey"),je("authorizedWithdrawer"),x.u8("commission"),x.nu64(),x.seq(x.struct([x.nu64("slot"),x.u32("confirmationCount")]),x.offset(x.u32(),-8),"votes"),x.u8("rootSlotValid"),x.nu64("rootSlot"),x.nu64(),x.seq(x.struct([x.nu64("epoch"),je("authorizedVoter")]),x.offset(x.u32(),-8),"authorizedVoters"),x.struct([x.seq(x.struct([je("authorizedPubkey"),x.nu64("epochOfLastAuthorizedSwitch"),x.nu64("targetEpoch")]),32,"buf"),x.nu64("idx"),x.u8("isEmpty")],"priorVoters"),x.nu64(),x.seq(x.struct([x.nu64("epoch"),x.nu64("credits"),x.nu64("prevCredits")]),x.offset(x.u32(),-8),"epochCredits"),x.struct([x.nu64("slot"),x.nu64("timestamp")],"lastTimestamp")]);class Ni{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=4,o=pa.decode(F(e),r);let s=o.rootSlot;return o.rootSlotValid||(s=null),new Ni({nodePubkey:new Ee(o.nodePubkey),authorizedWithdrawer:new Ee(o.authorizedWithdrawer),commission:o.commission,votes:o.votes,rootSlot:s,authorizedVoters:o.authorizedVoters.map(ya),priorVoters:ma(o.priorVoters),epochCredits:o.epochCredits,lastTimestamp:o.lastTimestamp})}}function ya({epoch:a,authorizedVoter:e}){return{epoch:a,authorizedVoter:new Ee(e)}}function ga({authorizedPubkey:a,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new Ee(a),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function ma({buf:a,idx:e,isEmpty:r}){return r?[]:[...a.slice(e+1).map(ga),...a.slice(0,e)]}class ba{constructor(e,r,o,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=o,this.commission=s}}class ja{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const o=BufferLayout.u32("instruction").decode(e.data);let s;for(const[c,g]of Object.entries(Ir))if(g.index==o){s=c;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=rt(Ir.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new ba(new Ee(r.nodePubkey),new Ee(r.authorizedVoter),new Ee(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:o}=rt(Ir.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ee(r),voteAuthorizationType:{index:o}}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=rt(Ir.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Vn.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Ir=Object.freeze({InitializeAccount:{index:0,layout:x.struct([x.u32("instruction"),Ko()])},Authorize:{index:1,layout:x.struct([x.u32("instruction"),je("newAuthorized"),x.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:x.struct([x.u32("instruction"),x.ns64("lamports")])}}),$a=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Vn{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:o,voteInit:s}=e,c=Ir.InitializeAccount,g=tt(c,{voteInit:{nodePubkey:F(s.nodePubkey.toBuffer()),authorizedVoter:F(s.authorizedVoter.toBuffer()),authorizedWithdrawer:F(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),I={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:jr,isSigner:!1,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:g};return new vt(I)}static createAccount(e){const r=new He;return r.add(At.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:o,newAuthorizedPubkey:s,voteAuthorizationType:c}=e,g=Ir.Authorize,I=tt(g,{newAuthorized:F(s.toBuffer()),voteAuthorizationType:c.index}),R=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}];return new He().add({keys:R,programId:this.programId,data:I})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:o,lamports:s,toPubkey:c}=e,g=Ir.Withdraw,I=tt(g,{lamports:s}),R=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];return new He().add({keys:R,programId:this.programId,data:I})}}Vn.programId=new Ee("Vote111111111111111111111111111111111111111"),Vn.space=3731;function Ka(a,e,r){return ie(this,null,function*(){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},s=yield a.sendRawTransaction(e,o),c=(yield a.confirmTransaction(s,r&&r.commitment)).value;if(c.err)throw new Error(`Raw transaction ${s} failed (${JSON.stringify(c)})`);return s})}const Li={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Va(a,e){const r=e===!1?"http":"https";if(!a)return Li[r].devnet;const o=Li[r][a];if(!o)throw new Error(`Unknown ${r} cluster: ${a}`);return o}const Ha=1e9;var _r=function(a,e,r,o){function s(c){return c instanceof r?c:new r(function(g){g(c)})}return new(r||(r=Promise))(function(c,g){function I(q){try{L(o.next(q))}catch(te){g(te)}}function R(q){try{L(o.throw(q))}catch(te){g(te)}}function L(q){q.done?c(q.value):s(q.value).then(I,R)}L((o=o.apply(a,e||[])).next())})};class wa extends V(){constructor(e,r){super();if(this._network=r,this._publicKey=null,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._autoApprove=!1,this._responsePromises=new Map,this.handleMessage=o=>{var s;if(this._injectedProvider&&o.source===window||o.origin===((s=this._providerUrl)===null||s===void 0?void 0:s.origin)&&o.source===this._popup){if(o.data.method==="connected"){const c=new Ee(o.data.params.publicKey);(!this._publicKey||!this._publicKey.equals(c))&&(this._publicKey&&!this._publicKey.equals(c)&&this.handleDisconnect(),this._publicKey=c,this._autoApprove=!!o.data.params.autoApprove,this.emit("connect",this._publicKey))}else if(o.data.method==="disconnected")this.handleDisconnect();else if(o.data.result||o.data.error){const c=this._responsePromises.get(o.data.id);if(c){const[g,I]=c;o.data.result?g(o.data.result):I(new Error(o.data.error))}}}},this._beforeUnload=()=>{this.disconnect()},va(e))this._injectedProvider=e;else if(Ea(e))this._providerUrl=new URL(e),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:this._network}).toString();else throw new Error("provider parameter must be an injected provider or a URL string.")}handleConnect(){var e;return this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this.handleMessage),window.addEventListener("beforeunload",this._beforeUnload)),this._injectedProvider?new Promise(r=>{this.sendRequest("connect",{}),r()}):(window.name="parent",this._popup=window.open((e=this._providerUrl)===null||e===void 0?void 0:e.toString(),"_blank","location,resizable,width=460,height=675"),new Promise(r=>{this.once("connect",r)}))}handleDisconnect(){this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this.handleMessage),window.removeEventListener("beforeunload",this._beforeUnload)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(([,e],r)=>{this._responsePromises.delete(r),e(new Error("Wallet disconnected"))})}sendRequest(e,r){return _r(this,void 0,void 0,function*(){if(e!=="connect"&&!this.connected)throw new Error("Wallet not connected");const o=this._nextRequestId;return++this._nextRequestId,new Promise((s,c)=>{var g,I,R,L;this._responsePromises.set(o,[s,c]),this._injectedProvider?this._injectedProvider.postMessage({jsonrpc:"2.0",id:o,method:e,params:Object.assign({network:this._network},r)}):((g=this._popup)===null||g===void 0||g.postMessage({jsonrpc:"2.0",id:o,method:e,params:r},(R=(I=this._providerUrl)===null||I===void 0?void 0:I.origin)!==null&&R!==void 0?R:""),this.autoApprove||(L=this._popup)===null||L===void 0||L.focus())})})}get publicKey(){return this._publicKey}get connected(){return this._publicKey!==null}get autoApprove(){return this._autoApprove}connect(){return _r(this,void 0,void 0,function*(){this._popup&&this._popup.close(),yield this.handleConnect()})}disconnect(){return _r(this,void 0,void 0,function*(){this._injectedProvider&&(yield this.sendRequest("disconnect",{})),this._popup&&this._popup.close(),this.handleDisconnect()})}sign(e,r){return _r(this,void 0,void 0,function*(){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const o=yield this.sendRequest("sign",{data:e,display:r}),s=ne().decode(o.signature),c=new Ee(o.publicKey);return{signature:s,publicKey:c}})}signTransaction(e){return _r(this,void 0,void 0,function*(){const r=yield this.sendRequest("signTransaction",{message:ne().encode(e.serializeMessage())}),o=ne().decode(r.signature),s=new Ee(r.publicKey);return e.addSignature(s,o),e})}signAllTransactions(e){return _r(this,void 0,void 0,function*(){const r=yield this.sendRequest("signAllTransactions",{messages:e.map(c=>ne().encode(c.serializeMessage()))}),o=r.signatures.map(c=>ne().decode(c)),s=new Ee(r.publicKey);return e=e.map((c,g)=>(c.addSignature(s,o[g]),c)),e})}diffieHellman(e){return _r(this,void 0,void 0,function*(){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return yield this.sendRequest("diffieHellman",{publicKey:e})})}}function Ea(a){return typeof a=="string"}function va(a){return Sa(a)&&"postMessage"in a&&typeof a.postMessage=="function"}function Sa(a){return typeof a=="object"&&a!==null}},39386:function(ke,w,T){"use strict";/**
 * Support for translating between Uint8Array instances and JavaScript
 * native types.
 *
 * {@link module:Layout~Layout|Layout} is the basis of a class
 * hierarchy that associates property names with sequences of encoded
 * bytes.
 *
 * Layouts are supported for these scalar (numeric) types:
 * * {@link module:Layout~UInt|Unsigned integers in little-endian
 *   format} with {@link module:Layout.u8|8-bit}, {@link
 *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
 *   {@link module:Layout.u32|32-bit}, {@link
 *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
 *   format} with {@link module:Layout.u16be|16-bit}, {@link
 *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
 *   {@link module:Layout.u40be|40-bit}, and {@link
 *   module:Layout.u48be|48-bit} representation ranges;
 * * {@link module:Layout~Int|Signed integers in little-endian
 *   format} with {@link module:Layout.s8|8-bit}, {@link
 *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
 *   {@link module:Layout.s32|32-bit}, {@link
 *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~IntBE|Signed integers in big-endian format}
 *   with {@link module:Layout.s16be|16-bit}, {@link
 *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
 *   {@link module:Layout.s40be|40-bit}, and {@link
 *   module:Layout.s48be|48-bit} representation ranges;
 * * 64-bit integral values that decode to an exact (if magnitude is
 *   less than 2^53) or nearby integral Number in {@link
 *   module:Layout.nu64|unsigned little-endian}, {@link
 *   module:Layout.nu64be|unsigned big-endian}, {@link
 *   module:Layout.ns64|signed little-endian}, and {@link
 *   module:Layout.ns64be|unsigned big-endian} encodings;
 * * 32-bit floating point values with {@link
 *   module:Layout.f32|little-endian} and {@link
 *   module:Layout.f32be|big-endian} representations;
 * * 64-bit floating point values with {@link
 *   module:Layout.f64|little-endian} and {@link
 *   module:Layout.f64be|big-endian} representations;
 * * {@link module:Layout.const|Constants} that take no space in the
 *   encoded expression.
 *
 * and for these aggregate types:
 * * {@link module:Layout.seq|Sequence}s of instances of a {@link
 *   module:Layout~Layout|Layout}, with JavaScript representation as
 *   an Array and constant or data-dependent {@link
 *   module:Layout~Sequence#count|length};
 * * {@link module:Layout.struct|Structure}s that aggregate a
 *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
 *   instances, with JavaScript representation as an Object;
 * * {@link module:Layout.union|Union}s that support multiple {@link
 *   module:Layout~VariantLayout|variant layouts} over a fixed
 *   (padded) or variable (not padded) span of bytes, using an
 *   unsigned integer at the start of the data or a separate {@link
 *   module:Layout.unionLayoutDiscriminator|layout element} to
 *   determine which layout to use when interpreting the buffer
 *   contents;
 * * {@link module:Layout.bits|BitStructure}s that contain a sequence
 *   of individual {@link
 *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
 *   16, 24, or 32-bit unsigned integer starting at the least- or
 *   most-significant bit;
 * * {@link module:Layout.cstr|C strings} of varying length;
 * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
 *   module:Layout~Blob#length|length} raw data.
 *
 * All {@link module:Layout~Layout|Layout} instances are immutable
 * after construction, to prevent internal state from becoming
 * inconsistent.
 *
 * @local Layout
 * @local ExternalLayout
 * @local GreedyCount
 * @local OffsetLayout
 * @local UInt
 * @local UIntBE
 * @local Int
 * @local IntBE
 * @local NearUInt64
 * @local NearUInt64BE
 * @local NearInt64
 * @local NearInt64BE
 * @local Float
 * @local FloatBE
 * @local Double
 * @local DoubleBE
 * @local Sequence
 * @local Structure
 * @local UnionDiscriminator
 * @local UnionLayoutDiscriminator
 * @local Union
 * @local VariantLayout
 * @local BitStructure
 * @local BitField
 * @local Boolean
 * @local Blob
 * @local CString
 * @local Constant
 * @local bindConstructorLayout
 * @module Layout
 * @license MIT
 * @author Peter A. Bigot
 * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
 */var M=this&&this.__extends||function(){var _=function(k,p){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var C in b)Object.prototype.hasOwnProperty.call(b,C)&&(m[C]=b[C])},_(k,p)};return function(k,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");_(k,p);function m(){this.constructor=k}k.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();w.__esModule=!0,w.s16=w.s8=w.nu64be=w.u48be=w.u40be=w.u32be=w.u24be=w.u16be=w.nu64=w.u48=w.u40=w.u32=w.u24=w.u16=w.u8=w.offset=w.greedy=w.Constant=w.UTF8=w.CString=w.Blob=w.Boolean=w.BitField=w.BitStructure=w.VariantLayout=w.Union=w.UnionLayoutDiscriminator=w.UnionDiscriminator=w.Structure=w.Sequence=w.DoubleBE=w.Double=w.FloatBE=w.Float=w.NearInt64BE=w.NearInt64=w.NearUInt64BE=w.NearUInt64=w.IntBE=w.Int=w.UIntBE=w.UInt=w.OffsetLayout=w.GreedyCount=w.ExternalLayout=w.bindConstructorLayout=w.nameWithProperty=w.Layout=w.uint8ArrayToBuffer=w.checkUint8Array=void 0,w.constant=w.utf8=w.cstr=w.blob=w.unionLayoutDiscriminator=w.union=w.seq=w.bits=w.struct=w.f64be=w.f64=w.f32be=w.f32=w.ns64be=w.s48be=w.s40be=w.s32be=w.s24be=w.s16be=w.ns64=w.s48=w.s40=w.s32=w.s24=void 0;var V=T(28779);function J(_){if(!(_ instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}w.checkUint8Array=J;function U(_){return J(_),V.Buffer.from(_.buffer,_.byteOffset,_.length)}w.uint8ArrayToBuffer=U;var B=function(){function _(k,p){if(!Number.isInteger(k))throw new TypeError("span must be an integer");this.span=k,this.property=p}return _.prototype.makeDestinationObject=function(){return{}},_.prototype.decode=function(k,p){throw new Error("Layout is abstract")},_.prototype.encode=function(k,p,m){throw new Error("Layout is abstract")},_.prototype.getSpan=function(k,p){if(0>this.span)throw new RangeError("indeterminate span");return this.span},_.prototype.replicate=function(k){var p=Object.create(this.constructor.prototype);return Object.assign(p,this),p.property=k,p},_.prototype.fromArray=function(k){},_}();w.Layout=B;function N(_,k){return k.property?_+"["+k.property+"]":_}w.nameWithProperty=N;function S(_,k){if(typeof _!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(_,"layout_"))throw new Error("Class is already bound to a layout");if(!(k&&k instanceof B))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(k,"boundConstructor_"))throw new Error("layout is already bound to a constructor");_.layout_=k,k.boundConstructor_=_,k.makeDestinationObject=function(){return new _},Object.defineProperty(_.prototype,"encode",{value:function(p,m){return k.encode(this,p,m)},writable:!0}),Object.defineProperty(_,"decode",{value:function(p,m){return k.decode(p,m)},writable:!0})}w.bindConstructorLayout=S;var E=function(_){M(k,_);function k(){return _!==null&&_.apply(this,arguments)||this}return k.prototype.isCount=function(){throw new Error("ExternalLayout is abstract")},k}(B);w.ExternalLayout=E;var ne=function(_){M(k,_);function k(p,m){var b=this;if(p===void 0&&(p=1),!Number.isInteger(p)||0>=p)throw new TypeError("elementSpan must be a (positive) integer");return b=_.call(this,-1,m)||this,b.elementSpan=p,b}return k.prototype.isCount=function(){return!0},k.prototype.decode=function(p,m){J(p),m===void 0&&(m=0);var b=p.length-m;return Math.floor(b/this.elementSpan)},k.prototype.encode=function(p,m,b){return 0},k}(E);w.GreedyCount=ne;var Se=function(_){M(k,_);function k(p,m,b){var C=this;if(!(p instanceof B))throw new TypeError("layout must be a Layout");if(m===void 0)m=0;else if(!Number.isInteger(m))throw new TypeError("offset must be integer or undefined");return C=_.call(this,p.span,b||p.property)||this,C.layout=p,C.offset=m,C}return k.prototype.isCount=function(){return this.layout instanceof x||this.layout instanceof Re},k.prototype.decode=function(p,m){return m===void 0&&(m=0),this.layout.decode(p,m+this.offset)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),this.layout.encode(p,m,b+this.offset)},k}(E);w.OffsetLayout=Se;var x=function(_){M(k,_);function k(p,m){var b=_.call(this,p,m)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),U(p).readUIntLE(m,this.span)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),U(m).writeUIntLE(p,b,this.span),this.span},k}(B);w.UInt=x;var Re=function(_){M(k,_);function k(p,m){var b=_.call(this,p,m)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),U(p).readUIntBE(m,this.span)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),U(m).writeUIntBE(p,b,this.span),this.span},k}(B);w.UIntBE=Re;var Pe=function(_){M(k,_);function k(p,m){var b=_.call(this,p,m)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),U(p).readIntLE(m,this.span)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),U(m).writeIntLE(p,b,this.span),this.span},k}(B);w.Int=Pe;var de=function(_){M(k,_);function k(p,m){var b=_.call(this,p,m)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),U(p).readIntBE(m,this.span)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),U(m).writeIntBE(p,b,this.span),this.span},k}(B);w.IntBE=de;var H=Math.pow(2,32);function W(_){var k=Math.floor(_/H),p=_-k*H;return{hi32:k,lo32:p}}function j(_,k){return _*H+k}var G=function(_){M(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=U(p),C=b.readUInt32LE(m),K=b.readUInt32LE(m+4);return j(K,C)},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var C=W(p),K=U(m);return K.writeUInt32LE(C.lo32,b),K.writeUInt32LE(C.hi32,b+4),8},k}(B);w.NearUInt64=G;var ee=function(_){M(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=U(p),C=b.readUInt32BE(m),K=b.readUInt32BE(m+4);return j(C,K)},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var C=W(p),K=U(m);return K.writeUInt32BE(C.hi32,b),K.writeUInt32BE(C.lo32,b+4),8},k}(B);w.NearUInt64BE=ee;var Z=function(_){M(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=U(p),C=b.readUInt32LE(m),K=b.readInt32LE(m+4);return j(K,C)},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var C=W(p),K=U(m);return K.writeUInt32LE(C.lo32,b),K.writeInt32LE(C.hi32,b+4),8},k}(B);w.NearInt64=Z;var z=function(_){M(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=U(p),C=b.readInt32BE(m),K=b.readUInt32BE(m+4);return j(C,K)},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var C=W(p),K=U(m);return K.writeInt32BE(C.hi32,b),K.writeUInt32BE(C.lo32,b+4),8},k}(B);w.NearInt64BE=z;var pe=function(_){M(k,_);function k(p){return _.call(this,4,p)||this}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),U(p).readFloatLE(m)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),U(m).writeFloatLE(p,b),4},k}(B);w.Float=pe;var X=function(_){M(k,_);function k(p){return _.call(this,4,p)||this}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),U(p).readFloatBE(m)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),U(m).writeFloatBE(p,b),4},k}(B);w.FloatBE=X;var ce=function(_){M(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),U(p).readDoubleLE(m)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),U(m).writeDoubleLE(p,b),8},k}(B);w.Double=ce;var ge=function(_){M(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),U(p).readDoubleBE(m)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),U(m).writeDoubleBE(p,b),8},k}(B);w.DoubleBE=ge;var Ie=function(_){M(k,_);function k(p,m,b){var C=this;if(!(p instanceof B))throw new TypeError("elementLayout must be a Layout");if(!(m instanceof E&&m.isCount()||Number.isInteger(m)&&0<=m))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var K=-1;return!(m instanceof E)&&0<p.span&&(K=m*p.span),C=_.call(this,K,b)||this,C.elementLayout=p,C.count=m,C}return k.prototype.getSpan=function(p,m){if(0<=this.span)return this.span;m===void 0&&(m=0);var b=0,C=this.count;if(C instanceof E&&(C=C.decode(p,m)),0<this.elementLayout.span)b=C*this.elementLayout.span;else for(var K=0;K<C;)b+=this.elementLayout.getSpan(p,m+b),++K;return b},k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=[],C=0,K=this.count;for(K instanceof E&&(K=K.decode(p,m));C<K;)b.push(this.elementLayout.decode(p,m)),m+=this.elementLayout.getSpan(p,m),C+=1;return b},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var C=this.elementLayout,K=p.reduce(function(we,ae){return we+C.encode(ae,m,b+we)},0);return this.count instanceof E&&this.count.encode(p.length,m,b),K},k}(B);w.Sequence=Ie;var Q=function(_){M(k,_);function k(p,m,b){var C=this;if(!(Array.isArray(p)&&p.reduce(function(Le,Te){return Le&&Te instanceof B},!0)))throw new TypeError("fields must be array of Layout instances");typeof m=="boolean"&&b===void 0&&(b=m,m=void 0);for(var K=0,we=p;K<we.length;K++){var ae=we[K];if(0>ae.span&&ae.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout")}var O=-1;try{O=p.reduce(function(Le,Te){return Le+Te.getSpan()},0)}catch(Le){}return C=_.call(this,O,m)||this,C.fields=p,C.decodePrefixes=!!b,C}return k.prototype.getSpan=function(p,m){if(0<=this.span)return this.span;m===void 0&&(m=0);var b=0;try{b=this.fields.reduce(function(C,K){var we=K.getSpan(p,m);return m+=we,C+we},0)}catch(C){throw new RangeError("indeterminate span")}return b},k.prototype.decode=function(p,m){J(p),m===void 0&&(m=0);for(var b=this.makeDestinationObject(),C=0,K=this.fields;C<K.length;C++){var we=K[C];if(we.property!==void 0&&(b[we.property]=we.decode(p,m)),m+=we.getSpan(p,m),this.decodePrefixes&&p.length===m)break}return b},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);for(var C=b,K=0,we=0,ae=0,O=this.fields;ae<O.length;ae++){var Le=O[ae],Te=Le.span;if(we=0<Te?Te:0,Le.property!==void 0){var $t=p[Le.property];$t!==void 0&&(we=Le.encode($t,m,b),0>Te&&(Te=Le.getSpan(m,b)))}K=b,b+=Te}return K+we-C},k.prototype.fromArray=function(p){for(var m=this.makeDestinationObject(),b=0,C=this.fields;b<C.length;b++){var K=C[b];K.property!==void 0&&0<p.length&&(m[K.property]=p.shift())}return m},k.prototype.layoutFor=function(p){if(typeof p!="string")throw new TypeError("property must be string");for(var m=0,b=this.fields;m<b.length;m++){var C=b[m];if(C.property===p)return C}},k.prototype.offsetOf=function(p){if(typeof p!="string")throw new TypeError("property must be string");for(var m=0,b=0,C=this.fields;b<C.length;b++){var K=C[b];if(K.property===p)return m;0>K.span?m=-1:0<=m&&(m+=K.span)}},k}(B);w.Structure=Q;var D=function(){function _(k){this.property=k}return _.prototype.decode=function(k,p){throw new Error("UnionDiscriminator is abstract")},_.prototype.encode=function(k,p,m){throw new Error("UnionDiscriminator is abstract")},_}();w.UnionDiscriminator=D;var se=function(_){M(k,_);function k(p,m){var b=this;if(!(p instanceof E&&p.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return b=_.call(this,m||p.property||"variant")||this,b.layout=p,b}return k.prototype.decode=function(p,m){return this.layout.decode(p,m)},k.prototype.encode=function(p,m,b){return this.layout.encode(p,m,b)},k}(D);w.UnionLayoutDiscriminator=se;var he=function(_){M(k,_);function k(p,m,b){var C=this,K=p instanceof x||p instanceof Re,we;if(K)we=new se(new Se(p));else if(p instanceof E&&p.isCount())we=new se(p);else if(p instanceof D)we=p;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(m===void 0&&(m=null),!(m===null||m instanceof B))throw new TypeError("defaultLayout must be null or a Layout");if(m!==null){if(0>m.span)throw new Error("defaultLayout must have constant span");m.property===void 0&&(m=m.replicate("content"))}var ae=-1;m&&(ae=m.span,0<=ae&&K&&(ae+=we.layout.span)),C=_.call(this,ae,b)||this,C.discriminator=we,C.usesPrefixDiscriminator=K,C.defaultLayout=m,C.registry={};var O=C.defaultGetSourceVariant.bind(C);return C.getSourceVariant=function(Le){return O(Le)},C.configGetSourceVariant=function(Le){O=Le.bind(this)},C}return k.prototype.getSpan=function(p,m){if(0<=this.span)return this.span;m===void 0&&(m=0);var b=this.getVariant(p,m);if(!b)throw new Error("unable to determine span for unrecognized variant");return b.getSpan(p,m)},k.prototype.defaultGetSourceVariant=function(p){if(Object.prototype.hasOwnProperty.call(p,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(p,this.defaultLayout.property))return;var m=this.registry[p[this.discriminator.property]];if(m&&(!m.layout||m.property&&Object.prototype.hasOwnProperty.call(p,m.property)))return m}else for(var b in this.registry){var m=this.registry[b];if(m.property&&Object.prototype.hasOwnProperty.call(p,m.property))return m}throw new Error("unable to infer src variant")},k.prototype.decode=function(p,m){m===void 0&&(m=0);var b,C=this.discriminator,K=C.decode(p,m),we=this.registry[K];if(we===void 0){var ae=this.defaultLayout,O=0;this.usesPrefixDiscriminator&&(O=C.layout.span),b=this.makeDestinationObject(),b[C.property]=K,b[ae.property]=ae.decode(p,m+O)}else b=we.decode(p,m);return b},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var C=this.getSourceVariant(p);if(C===void 0){var K=this.discriminator,we=this.defaultLayout,ae=0;return this.usesPrefixDiscriminator&&(ae=K.layout.span),K.encode(p[K.property],m,b),ae+we.encode(p[we.property],m,b+ae)}return C.encode(p,m,b)},k.prototype.addVariant=function(p,m,b){var C=new Ae(this,p,m,b);return this.registry[p]=C,C},k.prototype.getVariant=function(p,m){var b;return p instanceof Uint8Array?(m===void 0&&(m=0),b=this.discriminator.decode(p,m)):b=p,this.registry[b]},k}(B);w.Union=he;var Ae=function(_){M(k,_);function k(p,m,b,C){var K=this;if(!(p instanceof he))throw new TypeError("union must be a Union");if(!Number.isInteger(m)||0>m)throw new TypeError("variant must be a (non-negative) integer");if(typeof b=="string"&&C===void 0&&(C=b,b=null),b){if(!(b instanceof B))throw new TypeError("layout must be a Layout");if(p.defaultLayout!==null&&0<=b.span&&b.span>p.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof C!="string")throw new TypeError("variant must have a String property")}var we=p.span;return 0>p.span&&(we=b?b.span:0,0<=we&&p.usesPrefixDiscriminator&&(we+=p.discriminator.layout.span)),K=_.call(this,we,C)||this,K.union=p,K.variant=m,K.layout=b||null,K}return k.prototype.getSpan=function(p,m){if(0<=this.span)return this.span;m===void 0&&(m=0);var b=0;this.union.usesPrefixDiscriminator&&(b=this.union.discriminator.layout.span);var C=0;return this.layout&&(C=this.layout.getSpan(p,m+b)),b+C},k.prototype.decode=function(p,m){var b=this.makeDestinationObject();if(m===void 0&&(m=0),this!==this.union.getVariant(p,m))throw new Error("variant mismatch");var C=0;this.union.usesPrefixDiscriminator&&(C=this.union.discriminator.layout.span);var K=this.property;return this.layout?b[K]=this.layout.decode(p,m+C):K?b[K]=!0:this.union.usesPrefixDiscriminator&&(b[this.union.discriminator.property]=this.variant),b},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var C=0;this.union.usesPrefixDiscriminator&&(C=this.union.discriminator.layout.span);var K=this.property;if(this.layout&&!Object.prototype.hasOwnProperty.call(p,K))throw new TypeError("variant lacks property "+K);this.union.discriminator.encode(this.variant,m,b);var we=C;if(this.layout&&(this.layout.encode(p[K],m,b+C),we+=this.layout.getSpan(m,b+C),0<=this.union.span&&we>this.union.span))throw new Error("encoded variant overruns containing union");return we},k.prototype.fromArray=function(p){if(this.layout)return this.layout.fromArray(p)},k}(B);w.VariantLayout=Ae;function Ue(_){return 0>_&&(_+=4294967296),_}var qe=function(_){M(k,_);function k(p,m,b){var C=this;if(!(p instanceof x||p instanceof Re))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof m=="string"&&b===void 0&&(b=m,m=!1),4<p.span)throw new RangeError("word cannot exceed 32 bits");C=_.call(this,p.span,b)||this,C.word=p,C.msb=!!m,C.fields=[];var K=0;return C._packedSetValue=function(we){return K=Ue(we),this},C._packedGetValue=function(){return K},C}return k.prototype.decode=function(p,m){var b=this.makeDestinationObject();m===void 0&&(m=0);var C=this.word.decode(p,m);this._packedSetValue(C);for(var K=0,we=this.fields;K<we.length;K++){var ae=we[K];ae.property!==void 0&&(b[ae.property]=ae.decode(C))}return b},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var C=this.word.decode(m,b);this._packedSetValue(C);for(var K=0,we=this.fields;K<we.length;K++){var ae=we[K];if(ae.property!==void 0){var O=p[ae.property];O!==void 0&&ae.encode(O)}}return this.word.encode(this._packedGetValue(),m,b)},k.prototype.addField=function(p,m){var b=new it(this,p,m);return this.fields.push(b),b},k.prototype.addBoolean=function(p){var m=new tr(this,p);return this.fields.push(m),m},k.prototype.fieldFor=function(p){if(typeof p!="string")throw new TypeError("property must be string");for(var m=0,b=this.fields;m<b.length;m++){var C=b[m];if(C.property===p)return C}},k}(B);w.BitStructure=qe;var it=function(){function _(k,p,m){if(!(k instanceof qe))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(p)||0>=p)throw new TypeError("bits must be positive integer");var b=8*k.span,C=k.fields.reduce(function(K,we){return K+we.bits},0);if(p+C>b)throw new Error("bits too long for span remainder ("+(b-C)+" of "+b+" remain)");this.container=k,this.bits=p,this.valueMask=(1<<p)-1,p===32&&(this.valueMask=4294967295),this.start=C,this.container.msb&&(this.start=b-C-p),this.wordMask=Ue(this.valueMask<<this.start),this.property=m}return _.prototype.decode=function(k,p){var m=this.container._packedGetValue(),b=Ue(m&this.wordMask),C=b>>>this.start;return C},_.prototype.encode=function(k){if(!Number.isInteger(k)||k!==Ue(k&this.valueMask))throw new TypeError(N("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var p=this.container._packedGetValue(),m=Ue(k<<this.start);this.container._packedSetValue(Ue(p&~this.wordMask)|m)},_}();w.BitField=it;var tr=function(_){M(k,_);function k(p,m){return _.call(this,p,1,m)||this}return k.prototype.decode=function(p,m){return!!it.prototype.decode.call(this,p,m)},k.prototype.encode=function(p){return typeof p=="boolean"&&(p=+p),it.prototype.encode.call(this,p)},k}(it);w.Boolean=tr;var jt=function(_){M(k,_);function k(p,m){var b=this;if(!(p instanceof E&&p.isCount()||Number.isInteger(p)&&0<=p))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var C=-1;return p instanceof E||(C=p),b=_.call(this,C,m)||this,b.length=p,b}return k.prototype.getSpan=function(p,m){var b=this.span;return 0>b&&(b=this.length.decode(p,m)),b},k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=this.span;return 0>b&&(b=this.length.decode(p,m)),U(p).slice(m,m+b)},k.prototype.encode=function(p,m,b){var C=this.length;if(this.length instanceof E&&(C=p.length),!(p instanceof Uint8Array&&C===p.length))throw new TypeError(N("Blob.encode",this)+" requires (length "+C+") Uint8Array as src");if(b+C>m.length)throw new RangeError("encoding overruns Uint8Array");var K=U(p);return U(m).write(K.toString("hex"),b,C,"hex"),this.length instanceof E&&this.length.encode(C,m,b),C},k}(B);w.Blob=jt;var ye=function(_){M(k,_);function k(p){return _.call(this,-1,p)||this}return k.prototype.getSpan=function(p,m){J(p),m===void 0&&(m=0);for(var b=m;b<p.length&&p[b]!==0;)b+=1;return 1+b-m},k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=this.getSpan(p,m);return U(p).slice(m,m+b-1).toString("utf-8")},k.prototype.encode=function(p,m,b){b===void 0&&(b=0),typeof p!="string"&&(p=p.toString());var C=V.Buffer.from(p,"utf8"),K=C.length;if(b+K>m.length)throw new RangeError("encoding overruns Buffer");var we=U(m);return C.copy(we,b),we[b+K]=0,K+1},k}(B);w.CString=ye;var Ce=function(_){M(k,_);function k(p,m){var b=this;if(typeof p=="string"&&m===void 0&&(m=p,p=void 0),p===void 0)p=-1;else if(!Number.isInteger(p))throw new TypeError("maxSpan must be an integer");return b=_.call(this,-1,m)||this,b.maxSpan=p,b}return k.prototype.getSpan=function(p,m){return J(p),m===void 0&&(m=0),p.length-m},k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=this.getSpan(p,m);if(0<=this.maxSpan&&this.maxSpan<b)throw new RangeError("text length exceeds maxSpan");return U(p).slice(m,m+b).toString("utf-8")},k.prototype.encode=function(p,m,b){b===void 0&&(b=0),typeof p!="string"&&(p=p.toString());var C=V.Buffer.from(p,"utf8"),K=C.length;if(0<=this.maxSpan&&this.maxSpan<K)throw new RangeError("text length exceeds maxSpan");if(b+K>m.length)throw new RangeError("encoding overruns Buffer");return C.copy(U(m),b),K},k}(B);w.UTF8=Ce;var Ye=function(_){M(k,_);function k(p,m){var b=_.call(this,0,m)||this;return b.value=p,b}return k.prototype.decode=function(p,m){return this.value},k.prototype.encode=function(p,m,b){return 0},k}(B);w.Constant=Ye,w.greedy=function(_,k){return new ne(_,k)},w.offset=function(_,k,p){return new Se(_,k,p)},w.u8=function(_){return new x(1,_)},w.u16=function(_){return new x(2,_)},w.u24=function(_){return new x(3,_)},w.u32=function(_){return new x(4,_)},w.u40=function(_){return new x(5,_)},w.u48=function(_){return new x(6,_)},w.nu64=function(_){return new G(_)},w.u16be=function(_){return new Re(2,_)},w.u24be=function(_){return new Re(3,_)},w.u32be=function(_){return new Re(4,_)},w.u40be=function(_){return new Re(5,_)},w.u48be=function(_){return new Re(6,_)},w.nu64be=function(_){return new ee(_)},w.s8=function(_){return new Pe(1,_)},w.s16=function(_){return new Pe(2,_)},w.s24=function(_){return new Pe(3,_)},w.s32=function(_){return new Pe(4,_)},w.s40=function(_){return new Pe(5,_)},w.s48=function(_){return new Pe(6,_)},w.ns64=function(_){return new Z(_)},w.s16be=function(_){return new de(2,_)},w.s24be=function(_){return new de(3,_)},w.s32be=function(_){return new de(4,_)},w.s40be=function(_){return new de(5,_)},w.s48be=function(_){return new de(6,_)},w.ns64be=function(_){return new z(_)},w.f32=function(_){return new pe(_)},w.f32be=function(_){return new X(_)},w.f64=function(_){return new ce(_)},w.f64be=function(_){return new ge(_)},w.struct=function(_,k,p){return new Q(_,k,p)},w.bits=function(_,k,p){return new qe(_,k,p)},w.seq=function(_,k,p){return new Ie(_,k,p)},w.union=function(_,k,p){return new he(_,k,p)},w.unionLayoutDiscriminator=function(_,k){return new se(_,k)},w.blob=function(_,k){return new jt(_,k)},w.cstr=function(_){return new ye(_)},w.utf8=function(_,k){return new Ce(_,k)},w.constant=function(_,k){return new Ye(_,k)}},28779:function(ke,w,T){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const M=T(79742),V=T(80645),J=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;w.Buffer=S,w.SlowBuffer=G,w.INSPECT_MAX_BYTES=50;const U=2147483647;w.kMaxLength=U,S.TYPED_ARRAY_SUPPORT=B(),!S.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function B(){try{const f=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(f,n),f.foo()===42}catch(f){return!1}}Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(!!S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(!!S.isBuffer(this))return this.byteOffset}});function N(f){if(f>U)throw new RangeError('The value "'+f+'" is invalid for option "size"');const n=new Uint8Array(f);return Object.setPrototypeOf(n,S.prototype),n}function S(f,n,t){if(typeof f=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(f)}return E(f,n,t)}S.poolSize=8192;function E(f,n,t){if(typeof f=="string")return Re(f,n);if(ArrayBuffer.isView(f))return de(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Me(f,ArrayBuffer)||f&&Me(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Me(f,SharedArrayBuffer)||f&&Me(f.buffer,SharedArrayBuffer)))return H(f,n,t);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=f.valueOf&&f.valueOf();if(i!=null&&i!==f)return S.from(i,n,t);const u=W(f);if(u)return u;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return S.from(f[Symbol.toPrimitive]("string"),n,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}S.from=function(f,n,t){return E(f,n,t)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array);function ne(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function Se(f,n,t){return ne(f),f<=0?N(f):n!==void 0?typeof t=="string"?N(f).fill(n,t):N(f).fill(n):N(f)}S.alloc=function(f,n,t){return Se(f,n,t)};function x(f){return ne(f),N(f<0?0:j(f)|0)}S.allocUnsafe=function(f){return x(f)},S.allocUnsafeSlow=function(f){return x(f)};function Re(f,n){if((typeof n!="string"||n==="")&&(n="utf8"),!S.isEncoding(n))throw new TypeError("Unknown encoding: "+n);const t=ee(f,n)|0;let i=N(t);const u=i.write(f,n);return u!==t&&(i=i.slice(0,u)),i}function Pe(f){const n=f.length<0?0:j(f.length)|0,t=N(n);for(let i=0;i<n;i+=1)t[i]=f[i]&255;return t}function de(f){if(Me(f,Uint8Array)){const n=new Uint8Array(f);return H(n.buffer,n.byteOffset,n.byteLength)}return Pe(f)}function H(f,n,t){if(n<0||f.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<n+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return n===void 0&&t===void 0?i=new Uint8Array(f):t===void 0?i=new Uint8Array(f,n):i=new Uint8Array(f,n,t),Object.setPrototypeOf(i,S.prototype),i}function W(f){if(S.isBuffer(f)){const n=j(f.length)|0,t=N(n);return t.length===0||f.copy(t,0,0,n),t}if(f.length!==void 0)return typeof f.length!="number"||Xe(f.length)?N(0):Pe(f);if(f.type==="Buffer"&&Array.isArray(f.data))return Pe(f.data)}function j(f){if(f>=U)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+U.toString(16)+" bytes");return f|0}function G(f){return+f!=f&&(f=0),S.alloc(+f)}S.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==S.prototype},S.compare=function(n,t){if(Me(n,Uint8Array)&&(n=S.from(n,n.offset,n.byteLength)),Me(t,Uint8Array)&&(t=S.from(t,t.offset,t.byteLength)),!S.isBuffer(n)||!S.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===t)return 0;let i=n.length,u=t.length;for(let d=0,l=Math.min(i,u);d<l;++d)if(n[d]!==t[d]){i=n[d],u=t[d];break}return i<u?-1:u<i?1:0},S.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(n,t){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return S.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<n.length;++i)t+=n[i].length;const u=S.allocUnsafe(t);let d=0;for(i=0;i<n.length;++i){let l=n[i];if(Me(l,Uint8Array))d+l.length>u.length?(S.isBuffer(l)||(l=S.from(l)),l.copy(u,d)):Uint8Array.prototype.set.call(u,l,d);else if(S.isBuffer(l))l.copy(u,d);else throw new TypeError('"list" argument must be an Array of Buffers');d+=l.length}return u};function ee(f,n){if(S.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Me(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const t=f.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let u=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return dr(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return rr(f).length;default:if(u)return i?-1:dr(f).length;n=(""+n).toLowerCase(),u=!0}}S.byteLength=ee;function Z(f,n,t){let i=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,n>>>=0,t<=n))return"";for(f||(f="utf8");;)switch(f){case"hex":return tr(this,n,t);case"utf8":case"utf-8":return he(this,n,t);case"ascii":return qe(this,n,t);case"latin1":case"binary":return it(this,n,t);case"base64":return se(this,n,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jt(this,n,t);default:if(i)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),i=!0}}S.prototype._isBuffer=!0;function z(f,n,t){const i=f[n];f[n]=f[t],f[t]=i}S.prototype.swap16=function(){const n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<n;t+=2)z(this,t,t+1);return this},S.prototype.swap32=function(){const n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<n;t+=4)z(this,t,t+3),z(this,t+1,t+2);return this},S.prototype.swap64=function(){const n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<n;t+=8)z(this,t,t+7),z(this,t+1,t+6),z(this,t+2,t+5),z(this,t+3,t+4);return this},S.prototype.toString=function(){const n=this.length;return n===0?"":arguments.length===0?he(this,0,n):Z.apply(this,arguments)},S.prototype.toLocaleString=S.prototype.toString,S.prototype.equals=function(n){if(!S.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:S.compare(this,n)===0},S.prototype.inspect=function(){let n="";const t=w.INSPECT_MAX_BYTES;return n=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(n+=" ... "),"<Buffer "+n+">"},J&&(S.prototype[J]=S.prototype.inspect),S.prototype.compare=function(n,t,i,u,d){if(Me(n,Uint8Array)&&(n=S.from(n,n.offset,n.byteLength)),!S.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(t===void 0&&(t=0),i===void 0&&(i=n?n.length:0),u===void 0&&(u=0),d===void 0&&(d=this.length),t<0||i>n.length||u<0||d>this.length)throw new RangeError("out of range index");if(u>=d&&t>=i)return 0;if(u>=d)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,u>>>=0,d>>>=0,this===n)return 0;let l=d-u,y=i-t;const h=Math.min(l,y),v=this.slice(u,d),P=n.slice(t,i);for(let A=0;A<h;++A)if(v[A]!==P[A]){l=v[A],y=P[A];break}return l<y?-1:y<l?1:0};function pe(f,n,t,i,u){if(f.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Xe(t)&&(t=u?0:f.length-1),t<0&&(t=f.length+t),t>=f.length){if(u)return-1;t=f.length-1}else if(t<0)if(u)t=0;else return-1;if(typeof n=="string"&&(n=S.from(n,i)),S.isBuffer(n))return n.length===0?-1:X(f,n,t,i,u);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?u?Uint8Array.prototype.indexOf.call(f,n,t):Uint8Array.prototype.lastIndexOf.call(f,n,t):X(f,[n],t,i,u);throw new TypeError("val must be string, number or Buffer")}function X(f,n,t,i,u){let d=1,l=f.length,y=n.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(f.length<2||n.length<2)return-1;d=2,l/=2,y/=2,t/=2}function h(P,A){return d===1?P[A]:P.readUInt16BE(A*d)}let v;if(u){let P=-1;for(v=t;v<l;v++)if(h(f,v)===h(n,P===-1?0:v-P)){if(P===-1&&(P=v),v-P+1===y)return P*d}else P!==-1&&(v-=v-P),P=-1}else for(t+y>l&&(t=l-y),v=t;v>=0;v--){let P=!0;for(let A=0;A<y;A++)if(h(f,v+A)!==h(n,A)){P=!1;break}if(P)return v}return-1}S.prototype.includes=function(n,t,i){return this.indexOf(n,t,i)!==-1},S.prototype.indexOf=function(n,t,i){return pe(this,n,t,i,!0)},S.prototype.lastIndexOf=function(n,t,i){return pe(this,n,t,i,!1)};function ce(f,n,t,i){t=Number(t)||0;const u=f.length-t;i?(i=Number(i),i>u&&(i=u)):i=u;const d=n.length;i>d/2&&(i=d/2);let l;for(l=0;l<i;++l){const y=parseInt(n.substr(l*2,2),16);if(Xe(y))return l;f[t+l]=y}return l}function ge(f,n,t,i){return Y(dr(n,f.length-t),f,t,i)}function Ie(f,n,t,i){return Y(pr(n),f,t,i)}function Q(f,n,t,i){return Y(rr(n),f,t,i)}function D(f,n,t,i){return Y(me(n,f.length-t),f,t,i)}S.prototype.write=function(n,t,i,u){if(t===void 0)u="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")u=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,u===void 0&&(u="utf8")):(u=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const d=this.length-t;if((i===void 0||i>d)&&(i=d),n.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");let l=!1;for(;;)switch(u){case"hex":return ce(this,n,t,i);case"utf8":case"utf-8":return ge(this,n,t,i);case"ascii":case"latin1":case"binary":return Ie(this,n,t,i);case"base64":return Q(this,n,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,n,t,i);default:if(l)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),l=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function se(f,n,t){return n===0&&t===f.length?M.fromByteArray(f):M.fromByteArray(f.slice(n,t))}function he(f,n,t){t=Math.min(f.length,t);const i=[];let u=n;for(;u<t;){const d=f[u];let l=null,y=d>239?4:d>223?3:d>191?2:1;if(u+y<=t){let h,v,P,A;switch(y){case 1:d<128&&(l=d);break;case 2:h=f[u+1],(h&192)==128&&(A=(d&31)<<6|h&63,A>127&&(l=A));break;case 3:h=f[u+1],v=f[u+2],(h&192)==128&&(v&192)==128&&(A=(d&15)<<12|(h&63)<<6|v&63,A>2047&&(A<55296||A>57343)&&(l=A));break;case 4:h=f[u+1],v=f[u+2],P=f[u+3],(h&192)==128&&(v&192)==128&&(P&192)==128&&(A=(d&15)<<18|(h&63)<<12|(v&63)<<6|P&63,A>65535&&A<1114112&&(l=A))}}l===null?(l=65533,y=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|l&1023),i.push(l),u+=y}return Ue(i)}const Ae=4096;function Ue(f){const n=f.length;if(n<=Ae)return String.fromCharCode.apply(String,f);let t="",i=0;for(;i<n;)t+=String.fromCharCode.apply(String,f.slice(i,i+=Ae));return t}function qe(f,n,t){let i="";t=Math.min(f.length,t);for(let u=n;u<t;++u)i+=String.fromCharCode(f[u]&127);return i}function it(f,n,t){let i="";t=Math.min(f.length,t);for(let u=n;u<t;++u)i+=String.fromCharCode(f[u]);return i}function tr(f,n,t){const i=f.length;(!n||n<0)&&(n=0),(!t||t<0||t>i)&&(t=i);let u="";for(let d=n;d<t;++d)u+=ot[f[d]];return u}function jt(f,n,t){const i=f.slice(n,t);let u="";for(let d=0;d<i.length-1;d+=2)u+=String.fromCharCode(i[d]+i[d+1]*256);return u}S.prototype.slice=function(n,t){const i=this.length;n=~~n,t=t===void 0?i:~~t,n<0?(n+=i,n<0&&(n=0)):n>i&&(n=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<n&&(t=n);const u=this.subarray(n,t);return Object.setPrototypeOf(u,S.prototype),u};function ye(f,n,t){if(f%1!=0||f<0)throw new RangeError("offset is not uint");if(f+n>t)throw new RangeError("Trying to access beyond buffer length")}S.prototype.readUintLE=S.prototype.readUIntLE=function(n,t,i){n=n>>>0,t=t>>>0,i||ye(n,t,this.length);let u=this[n],d=1,l=0;for(;++l<t&&(d*=256);)u+=this[n+l]*d;return u},S.prototype.readUintBE=S.prototype.readUIntBE=function(n,t,i){n=n>>>0,t=t>>>0,i||ye(n,t,this.length);let u=this[n+--t],d=1;for(;t>0&&(d*=256);)u+=this[n+--t]*d;return u},S.prototype.readUint8=S.prototype.readUInt8=function(n,t){return n=n>>>0,t||ye(n,1,this.length),this[n]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(n,t){return n=n>>>0,t||ye(n,2,this.length),this[n]|this[n+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(n,t){return n=n>>>0,t||ye(n,2,this.length),this[n]<<8|this[n+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(n,t){return n=n>>>0,t||ye(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(n,t){return n=n>>>0,t||ye(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},S.prototype.readBigUInt64LE=St(function(n){n=n>>>0,O(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&Le(n,this.length-8);const u=t+this[++n]*Be(2,8)+this[++n]*Be(2,16)+this[++n]*Be(2,24),d=this[++n]+this[++n]*Be(2,8)+this[++n]*Be(2,16)+i*Be(2,24);return BigInt(u)+(BigInt(d)<<BigInt(32))}),S.prototype.readBigUInt64BE=St(function(n){n=n>>>0,O(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&Le(n,this.length-8);const u=t*Be(2,24)+this[++n]*Be(2,16)+this[++n]*Be(2,8)+this[++n],d=this[++n]*Be(2,24)+this[++n]*Be(2,16)+this[++n]*Be(2,8)+i;return(BigInt(u)<<BigInt(32))+BigInt(d)}),S.prototype.readIntLE=function(n,t,i){n=n>>>0,t=t>>>0,i||ye(n,t,this.length);let u=this[n],d=1,l=0;for(;++l<t&&(d*=256);)u+=this[n+l]*d;return d*=128,u>=d&&(u-=Math.pow(2,8*t)),u},S.prototype.readIntBE=function(n,t,i){n=n>>>0,t=t>>>0,i||ye(n,t,this.length);let u=t,d=1,l=this[n+--u];for(;u>0&&(d*=256);)l+=this[n+--u]*d;return d*=128,l>=d&&(l-=Math.pow(2,8*t)),l},S.prototype.readInt8=function(n,t){return n=n>>>0,t||ye(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},S.prototype.readInt16LE=function(n,t){n=n>>>0,t||ye(n,2,this.length);const i=this[n]|this[n+1]<<8;return i&32768?i|4294901760:i},S.prototype.readInt16BE=function(n,t){n=n>>>0,t||ye(n,2,this.length);const i=this[n+1]|this[n]<<8;return i&32768?i|4294901760:i},S.prototype.readInt32LE=function(n,t){return n=n>>>0,t||ye(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},S.prototype.readInt32BE=function(n,t){return n=n>>>0,t||ye(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},S.prototype.readBigInt64LE=St(function(n){n=n>>>0,O(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&Le(n,this.length-8);const u=this[n+4]+this[n+5]*Be(2,8)+this[n+6]*Be(2,16)+(i<<24);return(BigInt(u)<<BigInt(32))+BigInt(t+this[++n]*Be(2,8)+this[++n]*Be(2,16)+this[++n]*Be(2,24))}),S.prototype.readBigInt64BE=St(function(n){n=n>>>0,O(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&Le(n,this.length-8);const u=(t<<24)+this[++n]*Be(2,16)+this[++n]*Be(2,8)+this[++n];return(BigInt(u)<<BigInt(32))+BigInt(this[++n]*Be(2,24)+this[++n]*Be(2,16)+this[++n]*Be(2,8)+i)}),S.prototype.readFloatLE=function(n,t){return n=n>>>0,t||ye(n,4,this.length),V.read(this,n,!0,23,4)},S.prototype.readFloatBE=function(n,t){return n=n>>>0,t||ye(n,4,this.length),V.read(this,n,!1,23,4)},S.prototype.readDoubleLE=function(n,t){return n=n>>>0,t||ye(n,8,this.length),V.read(this,n,!0,52,8)},S.prototype.readDoubleBE=function(n,t){return n=n>>>0,t||ye(n,8,this.length),V.read(this,n,!1,52,8)};function Ce(f,n,t,i,u,d){if(!S.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>u||n<d)throw new RangeError('"value" argument is out of bounds');if(t+i>f.length)throw new RangeError("Index out of range")}S.prototype.writeUintLE=S.prototype.writeUIntLE=function(n,t,i,u){if(n=+n,t=t>>>0,i=i>>>0,!u){const y=Math.pow(2,8*i)-1;Ce(this,n,t,i,y,0)}let d=1,l=0;for(this[t]=n&255;++l<i&&(d*=256);)this[t+l]=n/d&255;return t+i},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(n,t,i,u){if(n=+n,t=t>>>0,i=i>>>0,!u){const y=Math.pow(2,8*i)-1;Ce(this,n,t,i,y,0)}let d=i-1,l=1;for(this[t+d]=n&255;--d>=0&&(l*=256);)this[t+d]=n/l&255;return t+i},S.prototype.writeUint8=S.prototype.writeUInt8=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,1,255,0),this[t]=n&255,t+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,2,65535,0),this[t]=n&255,this[t+1]=n>>>8,t+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,2,65535,0),this[t]=n>>>8,this[t+1]=n&255,t+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,4,4294967295,0),this[t+3]=n>>>24,this[t+2]=n>>>16,this[t+1]=n>>>8,this[t]=n&255,t+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,4,4294967295,0),this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255,t+4};function Ye(f,n,t,i,u){ae(n,i,u,f,t,7);let d=Number(n&BigInt(4294967295));f[t++]=d,d=d>>8,f[t++]=d,d=d>>8,f[t++]=d,d=d>>8,f[t++]=d;let l=Number(n>>BigInt(32)&BigInt(4294967295));return f[t++]=l,l=l>>8,f[t++]=l,l=l>>8,f[t++]=l,l=l>>8,f[t++]=l,t}function _(f,n,t,i,u){ae(n,i,u,f,t,7);let d=Number(n&BigInt(4294967295));f[t+7]=d,d=d>>8,f[t+6]=d,d=d>>8,f[t+5]=d,d=d>>8,f[t+4]=d;let l=Number(n>>BigInt(32)&BigInt(4294967295));return f[t+3]=l,l=l>>8,f[t+2]=l,l=l>>8,f[t+1]=l,l=l>>8,f[t]=l,t+8}S.prototype.writeBigUInt64LE=St(function(n,t=0){return Ye(this,n,t,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=St(function(n,t=0){return _(this,n,t,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(n,t,i,u){if(n=+n,t=t>>>0,!u){const h=Math.pow(2,8*i-1);Ce(this,n,t,i,h-1,-h)}let d=0,l=1,y=0;for(this[t]=n&255;++d<i&&(l*=256);)n<0&&y===0&&this[t+d-1]!==0&&(y=1),this[t+d]=(n/l>>0)-y&255;return t+i},S.prototype.writeIntBE=function(n,t,i,u){if(n=+n,t=t>>>0,!u){const h=Math.pow(2,8*i-1);Ce(this,n,t,i,h-1,-h)}let d=i-1,l=1,y=0;for(this[t+d]=n&255;--d>=0&&(l*=256);)n<0&&y===0&&this[t+d+1]!==0&&(y=1),this[t+d]=(n/l>>0)-y&255;return t+i},S.prototype.writeInt8=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,1,127,-128),n<0&&(n=255+n+1),this[t]=n&255,t+1},S.prototype.writeInt16LE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,2,32767,-32768),this[t]=n&255,this[t+1]=n>>>8,t+2},S.prototype.writeInt16BE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,2,32767,-32768),this[t]=n>>>8,this[t+1]=n&255,t+2},S.prototype.writeInt32LE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,4,2147483647,-2147483648),this[t]=n&255,this[t+1]=n>>>8,this[t+2]=n>>>16,this[t+3]=n>>>24,t+4},S.prototype.writeInt32BE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255,t+4},S.prototype.writeBigInt64LE=St(function(n,t=0){return Ye(this,n,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=St(function(n,t=0){return _(this,n,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function k(f,n,t,i,u,d){if(t+i>f.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function p(f,n,t,i,u){return n=+n,t=t>>>0,u||k(f,n,t,4,34028234663852886e22,-34028234663852886e22),V.write(f,n,t,i,23,4),t+4}S.prototype.writeFloatLE=function(n,t,i){return p(this,n,t,!0,i)},S.prototype.writeFloatBE=function(n,t,i){return p(this,n,t,!1,i)};function m(f,n,t,i,u){return n=+n,t=t>>>0,u||k(f,n,t,8,17976931348623157e292,-17976931348623157e292),V.write(f,n,t,i,52,8),t+8}S.prototype.writeDoubleLE=function(n,t,i){return m(this,n,t,!0,i)},S.prototype.writeDoubleBE=function(n,t,i){return m(this,n,t,!1,i)},S.prototype.copy=function(n,t,i,u){if(!S.isBuffer(n))throw new TypeError("argument should be a Buffer");if(i||(i=0),!u&&u!==0&&(u=this.length),t>=n.length&&(t=n.length),t||(t=0),u>0&&u<i&&(u=i),u===i||n.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),n.length-t<u-i&&(u=n.length-t+i);const d=u-i;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,u):Uint8Array.prototype.set.call(n,this.subarray(i,u),t),d},S.prototype.fill=function(n,t,i,u){if(typeof n=="string"){if(typeof t=="string"?(u=t,t=0,i=this.length):typeof i=="string"&&(u=i,i=this.length),u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!S.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(n.length===1){const l=n.charCodeAt(0);(u==="utf8"&&l<128||u==="latin1")&&(n=l)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,n||(n=0);let d;if(typeof n=="number")for(d=t;d<i;++d)this[d]=n;else{const l=S.isBuffer(n)?n:S.from(n,u),y=l.length;if(y===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(d=0;d<i-t;++d)this[d+t]=l[d%y]}return this};const b={};function C(f,n,t){b[f]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(u){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:u,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}C("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),C("ERR_INVALID_ARG_TYPE",function(f,n){return`The "${f}" argument must be of type number. Received type ${typeof n}`},TypeError),C("ERR_OUT_OF_RANGE",function(f,n,t){let i=`The value of "${f}" is out of range.`,u=t;return Number.isInteger(t)&&Math.abs(t)>Be(2,32)?u=K(String(t)):typeof t=="bigint"&&(u=String(t),(t>Be(BigInt(2),BigInt(32))||t<-Be(BigInt(2),BigInt(32)))&&(u=K(u)),u+="n"),i+=` It must be ${n}. Received ${u}`,i},RangeError);function K(f){let n="",t=f.length;const i=f[0]==="-"?1:0;for(;t>=i+4;t-=3)n=`_${f.slice(t-3,t)}${n}`;return`${f.slice(0,t)}${n}`}function we(f,n,t){O(n,"offset"),(f[n]===void 0||f[n+t]===void 0)&&Le(n,f.length-(t+1))}function ae(f,n,t,i,u,d){if(f>t||f<n){const l=typeof n=="bigint"?"n":"";let y;throw d>3?n===0||n===BigInt(0)?y=`>= 0${l} and < 2${l} ** ${(d+1)*8}${l}`:y=`>= -(2${l} ** ${(d+1)*8-1}${l}) and < 2 ** ${(d+1)*8-1}${l}`:y=`>= ${n}${l} and <= ${t}${l}`,new b.ERR_OUT_OF_RANGE("value",y,f)}we(i,u,d)}function O(f,n){if(typeof f!="number")throw new b.ERR_INVALID_ARG_TYPE(n,"number",f)}function Le(f,n,t){throw Math.floor(f)!==f?(O(f,t),new b.ERR_OUT_OF_RANGE(t||"offset","an integer",f)):n<0?new b.ERR_BUFFER_OUT_OF_BOUNDS:new b.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${n}`,f)}const Te=/[^+/0-9A-Za-z-_]/g;function $t(f){if(f=f.split("=")[0],f=f.trim().replace(Te,""),f.length<2)return"";for(;f.length%4!=0;)f=f+"=";return f}function dr(f,n){n=n||Infinity;let t;const i=f.length;let u=null;const d=[];for(let l=0;l<i;++l){if(t=f.charCodeAt(l),t>55295&&t<57344){if(!u){if(t>56319){(n-=3)>-1&&d.push(239,191,189);continue}else if(l+1===i){(n-=3)>-1&&d.push(239,191,189);continue}u=t;continue}if(t<56320){(n-=3)>-1&&d.push(239,191,189),u=t;continue}t=(u-55296<<10|t-56320)+65536}else u&&(n-=3)>-1&&d.push(239,191,189);if(u=null,t<128){if((n-=1)<0)break;d.push(t)}else if(t<2048){if((n-=2)<0)break;d.push(t>>6|192,t&63|128)}else if(t<65536){if((n-=3)<0)break;d.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((n-=4)<0)break;d.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return d}function pr(f){const n=[];for(let t=0;t<f.length;++t)n.push(f.charCodeAt(t)&255);return n}function me(f,n){let t,i,u;const d=[];for(let l=0;l<f.length&&!((n-=2)<0);++l)t=f.charCodeAt(l),i=t>>8,u=t%256,d.push(u),d.push(i);return d}function rr(f){return M.toByteArray($t(f))}function Y(f,n,t,i){let u;for(u=0;u<i&&!(u+t>=n.length||u>=f.length);++u)n[u+t]=f[u];return u}function Me(f,n){return f instanceof n||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===n.name}function Xe(f){return f!==f}const ot=function(){const f="0123456789abcdef",n=new Array(256);for(let t=0;t<16;++t){const i=t*16;for(let u=0;u<16;++u)n[i+u]=f[t]+f[u]}return n}();function St(f){return typeof BigInt=="undefined"?pt:f}function pt(){throw new Error("BigInt not supported")}},64285:function(ke,w,T){"use strict";var M;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const V=T(79742),J=T(80645),U=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;w.lW=E,M=ee,w.h2=50;const B=2147483647;M=B,E.TYPED_ARRAY_SUPPORT=N(),!E.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function N(){try{const n=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(n,t),n.foo()===42}catch(n){return!1}}Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(!!E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(!!E.isBuffer(this))return this.byteOffset}});function S(n){if(n>B)throw new RangeError('The value "'+n+'" is invalid for option "size"');const t=new Uint8Array(n);return Object.setPrototypeOf(t,E.prototype),t}function E(n,t,i){if(typeof n=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Re(n)}return ne(n,t,i)}E.poolSize=8192;function ne(n,t,i){if(typeof n=="string")return Pe(n,t);if(ArrayBuffer.isView(n))return H(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Xe(n,ArrayBuffer)||n&&Xe(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Xe(n,SharedArrayBuffer)||n&&Xe(n.buffer,SharedArrayBuffer)))return W(n,t,i);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const u=n.valueOf&&n.valueOf();if(u!=null&&u!==n)return E.from(u,t,i);const d=j(n);if(d)return d;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return E.from(n[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}E.from=function(n,t,i){return ne(n,t,i)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array);function Se(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function x(n,t,i){return Se(n),n<=0?S(n):t!==void 0?typeof i=="string"?S(n).fill(t,i):S(n).fill(t):S(n)}E.alloc=function(n,t,i){return x(n,t,i)};function Re(n){return Se(n),S(n<0?0:G(n)|0)}E.allocUnsafe=function(n){return Re(n)},E.allocUnsafeSlow=function(n){return Re(n)};function Pe(n,t){if((typeof t!="string"||t==="")&&(t="utf8"),!E.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const i=Z(n,t)|0;let u=S(i);const d=u.write(n,t);return d!==i&&(u=u.slice(0,d)),u}function de(n){const t=n.length<0?0:G(n.length)|0,i=S(t);for(let u=0;u<t;u+=1)i[u]=n[u]&255;return i}function H(n){if(Xe(n,Uint8Array)){const t=new Uint8Array(n);return W(t.buffer,t.byteOffset,t.byteLength)}return de(n)}function W(n,t,i){if(t<0||n.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');let u;return t===void 0&&i===void 0?u=new Uint8Array(n):i===void 0?u=new Uint8Array(n,t):u=new Uint8Array(n,t,i),Object.setPrototypeOf(u,E.prototype),u}function j(n){if(E.isBuffer(n)){const t=G(n.length)|0,i=S(t);return i.length===0||n.copy(i,0,0,t),i}if(n.length!==void 0)return typeof n.length!="number"||ot(n.length)?S(0):de(n);if(n.type==="Buffer"&&Array.isArray(n.data))return de(n.data)}function G(n){if(n>=B)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+B.toString(16)+" bytes");return n|0}function ee(n){return+n!=n&&(n=0),E.alloc(+n)}E.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==E.prototype},E.compare=function(t,i){if(Xe(t,Uint8Array)&&(t=E.from(t,t.offset,t.byteLength)),Xe(i,Uint8Array)&&(i=E.from(i,i.offset,i.byteLength)),!E.isBuffer(t)||!E.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===i)return 0;let u=t.length,d=i.length;for(let l=0,y=Math.min(u,d);l<y;++l)if(t[l]!==i[l]){u=t[l],d=i[l];break}return u<d?-1:d<u?1:0},E.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(t,i){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return E.alloc(0);let u;if(i===void 0)for(i=0,u=0;u<t.length;++u)i+=t[u].length;const d=E.allocUnsafe(i);let l=0;for(u=0;u<t.length;++u){let y=t[u];if(Xe(y,Uint8Array))l+y.length>d.length?(E.isBuffer(y)||(y=E.from(y)),y.copy(d,l)):Uint8Array.prototype.set.call(d,y,l);else if(E.isBuffer(y))y.copy(d,l);else throw new TypeError('"list" argument must be an Array of Buffers');l+=y.length}return d};function Z(n,t){if(E.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Xe(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);const i=n.length,u=arguments.length>2&&arguments[2]===!0;if(!u&&i===0)return 0;let d=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return pr(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Y(n).length;default:if(d)return u?-1:pr(n).length;t=(""+t).toLowerCase(),d=!0}}E.byteLength=Z;function z(n,t,i){let u=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,t>>>=0,i<=t))return"";for(n||(n="utf8");;)switch(n){case"hex":return jt(this,t,i);case"utf8":case"utf-8":return Ae(this,t,i);case"ascii":return it(this,t,i);case"latin1":case"binary":return tr(this,t,i);case"base64":return he(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,t,i);default:if(u)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),u=!0}}E.prototype._isBuffer=!0;function pe(n,t,i){const u=n[t];n[t]=n[i],n[i]=u}E.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<t;i+=2)pe(this,i,i+1);return this},E.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<t;i+=4)pe(this,i,i+3),pe(this,i+1,i+2);return this},E.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<t;i+=8)pe(this,i,i+7),pe(this,i+1,i+6),pe(this,i+2,i+5),pe(this,i+3,i+4);return this},E.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?Ae(this,0,t):z.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(t){if(!E.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:E.compare(this,t)===0},E.prototype.inspect=function(){let t="";const i=w.h2;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},U&&(E.prototype[U]=E.prototype.inspect),E.prototype.compare=function(t,i,u,d,l){if(Xe(t,Uint8Array)&&(t=E.from(t,t.offset,t.byteLength)),!E.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(i===void 0&&(i=0),u===void 0&&(u=t?t.length:0),d===void 0&&(d=0),l===void 0&&(l=this.length),i<0||u>t.length||d<0||l>this.length)throw new RangeError("out of range index");if(d>=l&&i>=u)return 0;if(d>=l)return-1;if(i>=u)return 1;if(i>>>=0,u>>>=0,d>>>=0,l>>>=0,this===t)return 0;let y=l-d,h=u-i;const v=Math.min(y,h),P=this.slice(d,l),A=t.slice(i,u);for(let F=0;F<v;++F)if(P[F]!==A[F]){y=P[F],h=A[F];break}return y<h?-1:h<y?1:0};function X(n,t,i,u,d){if(n.length===0)return-1;if(typeof i=="string"?(u=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,ot(i)&&(i=d?0:n.length-1),i<0&&(i=n.length+i),i>=n.length){if(d)return-1;i=n.length-1}else if(i<0)if(d)i=0;else return-1;if(typeof t=="string"&&(t=E.from(t,u)),E.isBuffer(t))return t.length===0?-1:ce(n,t,i,u,d);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?d?Uint8Array.prototype.indexOf.call(n,t,i):Uint8Array.prototype.lastIndexOf.call(n,t,i):ce(n,[t],i,u,d);throw new TypeError("val must be string, number or Buffer")}function ce(n,t,i,u,d){let l=1,y=n.length,h=t.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(n.length<2||t.length<2)return-1;l=2,y/=2,h/=2,i/=2}function v(A,F){return l===1?A[F]:A.readUInt16BE(F*l)}let P;if(d){let A=-1;for(P=i;P<y;P++)if(v(n,P)===v(t,A===-1?0:P-A)){if(A===-1&&(A=P),P-A+1===h)return A*l}else A!==-1&&(P-=P-A),A=-1}else for(i+h>y&&(i=y-h),P=i;P>=0;P--){let A=!0;for(let F=0;F<h;F++)if(v(n,P+F)!==v(t,F)){A=!1;break}if(A)return P}return-1}E.prototype.includes=function(t,i,u){return this.indexOf(t,i,u)!==-1},E.prototype.indexOf=function(t,i,u){return X(this,t,i,u,!0)},E.prototype.lastIndexOf=function(t,i,u){return X(this,t,i,u,!1)};function ge(n,t,i,u){i=Number(i)||0;const d=n.length-i;u?(u=Number(u),u>d&&(u=d)):u=d;const l=t.length;u>l/2&&(u=l/2);let y;for(y=0;y<u;++y){const h=parseInt(t.substr(y*2,2),16);if(ot(h))return y;n[i+y]=h}return y}function Ie(n,t,i,u){return Me(pr(t,n.length-i),n,i,u)}function Q(n,t,i,u){return Me(me(t),n,i,u)}function D(n,t,i,u){return Me(Y(t),n,i,u)}function se(n,t,i,u){return Me(rr(t,n.length-i),n,i,u)}E.prototype.write=function(t,i,u,d){if(i===void 0)d="utf8",u=this.length,i=0;else if(u===void 0&&typeof i=="string")d=i,u=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(u)?(u=u>>>0,d===void 0&&(d="utf8")):(d=u,u=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const l=this.length-i;if((u===void 0||u>l)&&(u=l),t.length>0&&(u<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");let y=!1;for(;;)switch(d){case"hex":return ge(this,t,i,u);case"utf8":case"utf-8":return Ie(this,t,i,u);case"ascii":case"latin1":case"binary":return Q(this,t,i,u);case"base64":return D(this,t,i,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,t,i,u);default:if(y)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),y=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function he(n,t,i){return t===0&&i===n.length?V.fromByteArray(n):V.fromByteArray(n.slice(t,i))}function Ae(n,t,i){i=Math.min(n.length,i);const u=[];let d=t;for(;d<i;){const l=n[d];let y=null,h=l>239?4:l>223?3:l>191?2:1;if(d+h<=i){let v,P,A,F;switch(h){case 1:l<128&&(y=l);break;case 2:v=n[d+1],(v&192)==128&&(F=(l&31)<<6|v&63,F>127&&(y=F));break;case 3:v=n[d+1],P=n[d+2],(v&192)==128&&(P&192)==128&&(F=(l&15)<<12|(v&63)<<6|P&63,F>2047&&(F<55296||F>57343)&&(y=F));break;case 4:v=n[d+1],P=n[d+2],A=n[d+3],(v&192)==128&&(P&192)==128&&(A&192)==128&&(F=(l&15)<<18|(v&63)<<12|(P&63)<<6|A&63,F>65535&&F<1114112&&(y=F))}}y===null?(y=65533,h=1):y>65535&&(y-=65536,u.push(y>>>10&1023|55296),y=56320|y&1023),u.push(y),d+=h}return qe(u)}const Ue=4096;function qe(n){const t=n.length;if(t<=Ue)return String.fromCharCode.apply(String,n);let i="",u=0;for(;u<t;)i+=String.fromCharCode.apply(String,n.slice(u,u+=Ue));return i}function it(n,t,i){let u="";i=Math.min(n.length,i);for(let d=t;d<i;++d)u+=String.fromCharCode(n[d]&127);return u}function tr(n,t,i){let u="";i=Math.min(n.length,i);for(let d=t;d<i;++d)u+=String.fromCharCode(n[d]);return u}function jt(n,t,i){const u=n.length;(!t||t<0)&&(t=0),(!i||i<0||i>u)&&(i=u);let d="";for(let l=t;l<i;++l)d+=St[n[l]];return d}function ye(n,t,i){const u=n.slice(t,i);let d="";for(let l=0;l<u.length-1;l+=2)d+=String.fromCharCode(u[l]+u[l+1]*256);return d}E.prototype.slice=function(t,i){const u=this.length;t=~~t,i=i===void 0?u:~~i,t<0?(t+=u,t<0&&(t=0)):t>u&&(t=u),i<0?(i+=u,i<0&&(i=0)):i>u&&(i=u),i<t&&(i=t);const d=this.subarray(t,i);return Object.setPrototypeOf(d,E.prototype),d};function Ce(n,t,i){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+t>i)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUintLE=E.prototype.readUIntLE=function(t,i,u){t=t>>>0,i=i>>>0,u||Ce(t,i,this.length);let d=this[t],l=1,y=0;for(;++y<i&&(l*=256);)d+=this[t+y]*l;return d},E.prototype.readUintBE=E.prototype.readUIntBE=function(t,i,u){t=t>>>0,i=i>>>0,u||Ce(t,i,this.length);let d=this[t+--i],l=1;for(;i>0&&(l*=256);)d+=this[t+--i]*l;return d},E.prototype.readUint8=E.prototype.readUInt8=function(t,i){return t=t>>>0,i||Ce(t,1,this.length),this[t]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(t,i){return t=t>>>0,i||Ce(t,2,this.length),this[t]|this[t+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(t,i){return t=t>>>0,i||Ce(t,2,this.length),this[t]<<8|this[t+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},E.prototype.readBigUInt64LE=pt(function(t){t=t>>>0,Le(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const d=i+this[++t]*Be(2,8)+this[++t]*Be(2,16)+this[++t]*Be(2,24),l=this[++t]+this[++t]*Be(2,8)+this[++t]*Be(2,16)+u*Be(2,24);return BigInt(d)+(BigInt(l)<<BigInt(32))}),E.prototype.readBigUInt64BE=pt(function(t){t=t>>>0,Le(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const d=i*Be(2,24)+this[++t]*Be(2,16)+this[++t]*Be(2,8)+this[++t],l=this[++t]*Be(2,24)+this[++t]*Be(2,16)+this[++t]*Be(2,8)+u;return(BigInt(d)<<BigInt(32))+BigInt(l)}),E.prototype.readIntLE=function(t,i,u){t=t>>>0,i=i>>>0,u||Ce(t,i,this.length);let d=this[t],l=1,y=0;for(;++y<i&&(l*=256);)d+=this[t+y]*l;return l*=128,d>=l&&(d-=Math.pow(2,8*i)),d},E.prototype.readIntBE=function(t,i,u){t=t>>>0,i=i>>>0,u||Ce(t,i,this.length);let d=i,l=1,y=this[t+--d];for(;d>0&&(l*=256);)y+=this[t+--d]*l;return l*=128,y>=l&&(y-=Math.pow(2,8*i)),y},E.prototype.readInt8=function(t,i){return t=t>>>0,i||Ce(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},E.prototype.readInt16LE=function(t,i){t=t>>>0,i||Ce(t,2,this.length);const u=this[t]|this[t+1]<<8;return u&32768?u|4294901760:u},E.prototype.readInt16BE=function(t,i){t=t>>>0,i||Ce(t,2,this.length);const u=this[t+1]|this[t]<<8;return u&32768?u|4294901760:u},E.prototype.readInt32LE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},E.prototype.readInt32BE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},E.prototype.readBigInt64LE=pt(function(t){t=t>>>0,Le(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const d=this[t+4]+this[t+5]*Be(2,8)+this[t+6]*Be(2,16)+(u<<24);return(BigInt(d)<<BigInt(32))+BigInt(i+this[++t]*Be(2,8)+this[++t]*Be(2,16)+this[++t]*Be(2,24))}),E.prototype.readBigInt64BE=pt(function(t){t=t>>>0,Le(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const d=(i<<24)+this[++t]*Be(2,16)+this[++t]*Be(2,8)+this[++t];return(BigInt(d)<<BigInt(32))+BigInt(this[++t]*Be(2,24)+this[++t]*Be(2,16)+this[++t]*Be(2,8)+u)}),E.prototype.readFloatLE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),J.read(this,t,!0,23,4)},E.prototype.readFloatBE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),J.read(this,t,!1,23,4)},E.prototype.readDoubleLE=function(t,i){return t=t>>>0,i||Ce(t,8,this.length),J.read(this,t,!0,52,8)},E.prototype.readDoubleBE=function(t,i){return t=t>>>0,i||Ce(t,8,this.length),J.read(this,t,!1,52,8)};function Ye(n,t,i,u,d,l){if(!E.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>d||t<l)throw new RangeError('"value" argument is out of bounds');if(i+u>n.length)throw new RangeError("Index out of range")}E.prototype.writeUintLE=E.prototype.writeUIntLE=function(t,i,u,d){if(t=+t,i=i>>>0,u=u>>>0,!d){const h=Math.pow(2,8*u)-1;Ye(this,t,i,u,h,0)}let l=1,y=0;for(this[i]=t&255;++y<u&&(l*=256);)this[i+y]=t/l&255;return i+u},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(t,i,u,d){if(t=+t,i=i>>>0,u=u>>>0,!d){const h=Math.pow(2,8*u)-1;Ye(this,t,i,u,h,0)}let l=u-1,y=1;for(this[i+l]=t&255;--l>=0&&(y*=256);)this[i+l]=t/y&255;return i+u},E.prototype.writeUint8=E.prototype.writeUInt8=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,1,255,0),this[i]=t&255,i+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,2,65535,0),this[i]=t&255,this[i+1]=t>>>8,i+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,2,65535,0),this[i]=t>>>8,this[i+1]=t&255,i+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,4,4294967295,0),this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=t&255,i+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,4,4294967295,0),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255,i+4};function _(n,t,i,u,d){O(t,u,d,n,i,7);let l=Number(t&BigInt(4294967295));n[i++]=l,l=l>>8,n[i++]=l,l=l>>8,n[i++]=l,l=l>>8,n[i++]=l;let y=Number(t>>BigInt(32)&BigInt(4294967295));return n[i++]=y,y=y>>8,n[i++]=y,y=y>>8,n[i++]=y,y=y>>8,n[i++]=y,i}function k(n,t,i,u,d){O(t,u,d,n,i,7);let l=Number(t&BigInt(4294967295));n[i+7]=l,l=l>>8,n[i+6]=l,l=l>>8,n[i+5]=l,l=l>>8,n[i+4]=l;let y=Number(t>>BigInt(32)&BigInt(4294967295));return n[i+3]=y,y=y>>8,n[i+2]=y,y=y>>8,n[i+1]=y,y=y>>8,n[i]=y,i+8}E.prototype.writeBigUInt64LE=pt(function(t,i=0){return _(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=pt(function(t,i=0){return k(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(t,i,u,d){if(t=+t,i=i>>>0,!d){const v=Math.pow(2,8*u-1);Ye(this,t,i,u,v-1,-v)}let l=0,y=1,h=0;for(this[i]=t&255;++l<u&&(y*=256);)t<0&&h===0&&this[i+l-1]!==0&&(h=1),this[i+l]=(t/y>>0)-h&255;return i+u},E.prototype.writeIntBE=function(t,i,u,d){if(t=+t,i=i>>>0,!d){const v=Math.pow(2,8*u-1);Ye(this,t,i,u,v-1,-v)}let l=u-1,y=1,h=0;for(this[i+l]=t&255;--l>=0&&(y*=256);)t<0&&h===0&&this[i+l+1]!==0&&(h=1),this[i+l]=(t/y>>0)-h&255;return i+u},E.prototype.writeInt8=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,1,127,-128),t<0&&(t=255+t+1),this[i]=t&255,i+1},E.prototype.writeInt16LE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,2,32767,-32768),this[i]=t&255,this[i+1]=t>>>8,i+2},E.prototype.writeInt16BE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,2,32767,-32768),this[i]=t>>>8,this[i+1]=t&255,i+2},E.prototype.writeInt32LE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,4,2147483647,-2147483648),this[i]=t&255,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24,i+4},E.prototype.writeInt32BE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255,i+4},E.prototype.writeBigInt64LE=pt(function(t,i=0){return _(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=pt(function(t,i=0){return k(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function p(n,t,i,u,d,l){if(i+u>n.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function m(n,t,i,u,d){return t=+t,i=i>>>0,d||p(n,t,i,4,34028234663852886e22,-34028234663852886e22),J.write(n,t,i,u,23,4),i+4}E.prototype.writeFloatLE=function(t,i,u){return m(this,t,i,!0,u)},E.prototype.writeFloatBE=function(t,i,u){return m(this,t,i,!1,u)};function b(n,t,i,u,d){return t=+t,i=i>>>0,d||p(n,t,i,8,17976931348623157e292,-17976931348623157e292),J.write(n,t,i,u,52,8),i+8}E.prototype.writeDoubleLE=function(t,i,u){return b(this,t,i,!0,u)},E.prototype.writeDoubleBE=function(t,i,u){return b(this,t,i,!1,u)},E.prototype.copy=function(t,i,u,d){if(!E.isBuffer(t))throw new TypeError("argument should be a Buffer");if(u||(u=0),!d&&d!==0&&(d=this.length),i>=t.length&&(i=t.length),i||(i=0),d>0&&d<u&&(d=u),d===u||t.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),t.length-i<d-u&&(d=t.length-i+u);const l=d-u;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,u,d):Uint8Array.prototype.set.call(t,this.subarray(u,d),i),l},E.prototype.fill=function(t,i,u,d){if(typeof t=="string"){if(typeof i=="string"?(d=i,i=0,u=this.length):typeof u=="string"&&(d=u,u=this.length),d!==void 0&&typeof d!="string")throw new TypeError("encoding must be a string");if(typeof d=="string"&&!E.isEncoding(d))throw new TypeError("Unknown encoding: "+d);if(t.length===1){const y=t.charCodeAt(0);(d==="utf8"&&y<128||d==="latin1")&&(t=y)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(i<0||this.length<i||this.length<u)throw new RangeError("Out of range index");if(u<=i)return this;i=i>>>0,u=u===void 0?this.length:u>>>0,t||(t=0);let l;if(typeof t=="number")for(l=i;l<u;++l)this[l]=t;else{const y=E.isBuffer(t)?t:E.from(t,d),h=y.length;if(h===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(l=0;l<u-i;++l)this[l+i]=y[l%h]}return this};const C={};function K(n,t,i){C[n]=class extends i{constructor(){super();Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(d){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:d,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}K("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),K("ERR_INVALID_ARG_TYPE",function(n,t){return`The "${n}" argument must be of type number. Received type ${typeof t}`},TypeError),K("ERR_OUT_OF_RANGE",function(n,t,i){let u=`The value of "${n}" is out of range.`,d=i;return Number.isInteger(i)&&Math.abs(i)>Be(2,32)?d=we(String(i)):typeof i=="bigint"&&(d=String(i),(i>Be(BigInt(2),BigInt(32))||i<-Be(BigInt(2),BigInt(32)))&&(d=we(d)),d+="n"),u+=` It must be ${t}. Received ${d}`,u},RangeError);function we(n){let t="",i=n.length;const u=n[0]==="-"?1:0;for(;i>=u+4;i-=3)t=`_${n.slice(i-3,i)}${t}`;return`${n.slice(0,i)}${t}`}function ae(n,t,i){Le(t,"offset"),(n[t]===void 0||n[t+i]===void 0)&&Te(t,n.length-(i+1))}function O(n,t,i,u,d,l){if(n>i||n<t){const y=typeof t=="bigint"?"n":"";let h;throw l>3?t===0||t===BigInt(0)?h=`>= 0${y} and < 2${y} ** ${(l+1)*8}${y}`:h=`>= -(2${y} ** ${(l+1)*8-1}${y}) and < 2 ** ${(l+1)*8-1}${y}`:h=`>= ${t}${y} and <= ${i}${y}`,new C.ERR_OUT_OF_RANGE("value",h,n)}ae(u,d,l)}function Le(n,t){if(typeof n!="number")throw new C.ERR_INVALID_ARG_TYPE(t,"number",n)}function Te(n,t,i){throw Math.floor(n)!==n?(Le(n,i),new C.ERR_OUT_OF_RANGE(i||"offset","an integer",n)):t<0?new C.ERR_BUFFER_OUT_OF_BOUNDS:new C.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,n)}const $t=/[^+/0-9A-Za-z-_]/g;function dr(n){if(n=n.split("=")[0],n=n.trim().replace($t,""),n.length<2)return"";for(;n.length%4!=0;)n=n+"=";return n}function pr(n,t){t=t||Infinity;let i;const u=n.length;let d=null;const l=[];for(let y=0;y<u;++y){if(i=n.charCodeAt(y),i>55295&&i<57344){if(!d){if(i>56319){(t-=3)>-1&&l.push(239,191,189);continue}else if(y+1===u){(t-=3)>-1&&l.push(239,191,189);continue}d=i;continue}if(i<56320){(t-=3)>-1&&l.push(239,191,189),d=i;continue}i=(d-55296<<10|i-56320)+65536}else d&&(t-=3)>-1&&l.push(239,191,189);if(d=null,i<128){if((t-=1)<0)break;l.push(i)}else if(i<2048){if((t-=2)<0)break;l.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;l.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;l.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return l}function me(n){const t=[];for(let i=0;i<n.length;++i)t.push(n.charCodeAt(i)&255);return t}function rr(n,t){let i,u,d;const l=[];for(let y=0;y<n.length&&!((t-=2)<0);++y)i=n.charCodeAt(y),u=i>>8,d=i%256,l.push(d),l.push(u);return l}function Y(n){return V.toByteArray(dr(n))}function Me(n,t,i,u){let d;for(d=0;d<u&&!(d+i>=t.length||d>=n.length);++d)t[d+i]=n[d];return d}function Xe(n,t){return n instanceof t||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===t.name}function ot(n){return n!==n}const St=function(){const n="0123456789abcdef",t=new Array(256);for(let i=0;i<16;++i){const u=i*16;for(let d=0;d<16;++d)t[u+d]=n[i]+n[d]}return t}();function pt(n){return typeof BigInt=="undefined"?f:n}function f(){throw new Error("BigInt not supported")}},26592:function(ke,w,T){"use strict";T.d(w,{Z:function(){return M}});function M(V,J){if(!Object.prototype.hasOwnProperty.call(V,J))throw new TypeError("attempted to use private field on non-instance");return V}},82424:function(ke,w,T){"use strict";T.d(w,{Z:function(){return V}});var M=0;function V(J){return"__private_"+M+++"_"+J}},54941:function(ke,w,T){"use strict";T.d(w,{Z:function(){return V}});function M(J,U){for(var B=0;B<U.length;B++){var N=U[B];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(J,N.key,N)}}function V(J,U,B){return U&&M(J.prototype,U),B&&M(J,B),J}},7789:function(ke,w,T){"use strict";T.d(w,{Z:function(){return d}});var M=T(92137),V=T(22122),J=T(19756),U=T(87757),B=T.n(U),N=T(67294),S=T(45697),E=T.n(S);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ne=function(l,y){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(h[P]=v[P])},ne(l,y)};function Se(l,y){ne(l,y);function h(){this.constructor=l}l.prototype=y===null?Object.create(y):(h.prototype=y.prototype,new h)}var x=function(){return x=Object.assign||function(y){for(var h,v=1,P=arguments.length;v<P;v++){h=arguments[v];for(var A in h)Object.prototype.hasOwnProperty.call(h,A)&&(y[A]=h[A])}return y},x.apply(this,arguments)};function Re(l,y){var h={};for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&y.indexOf(v)<0&&(h[v]=l[v]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,v=Object.getOwnPropertySymbols(l);P<v.length;P++)y.indexOf(v[P])<0&&Object.prototype.propertyIsEnumerable.call(l,v[P])&&(h[v[P]]=l[v[P]]);return h}function Pe(l,y,h,v){var P=arguments.length,A=P<3?y:v===null?v=Object.getOwnPropertyDescriptor(y,h):v,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(l,y,h,v);else for(var oe=l.length-1;oe>=0;oe--)(F=l[oe])&&(A=(P<3?F(A):P>3?F(y,h,A):F(y,h))||A);return P>3&&A&&Object.defineProperty(y,h,A),A}function de(l,y){return function(h,v){y(h,v,l)}}function H(l,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,y)}function W(l,y,h,v){function P(A){return A instanceof h?A:new h(function(F){F(A)})}return new(h||(h=Promise))(function(A,F){function oe(re){try{be(v.next(re))}catch($e){F($e)}}function ve(re){try{be(v.throw(re))}catch($e){F($e)}}function be(re){re.done?A(re.value):P(re.value).then(oe,ve)}be((v=v.apply(l,y||[])).next())})}function j(l,y){var h={label:0,sent:function(){if(A[0]&1)throw A[1];return A[1]},trys:[],ops:[]},v,P,A,F;return F={next:oe(0),throw:oe(1),return:oe(2)},typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function oe(be){return function(re){return ve([be,re])}}function ve(be){if(v)throw new TypeError("Generator is already executing.");for(;h;)try{if(v=1,P&&(A=be[0]&2?P.return:be[0]?P.throw||((A=P.return)&&A.call(P),0):P.next)&&!(A=A.call(P,be[1])).done)return A;switch(P=0,A&&(be=[be[0]&2,A.value]),be[0]){case 0:case 1:A=be;break;case 4:return h.label++,{value:be[1],done:!1};case 5:h.label++,P=be[1],be=[0];continue;case 7:be=h.ops.pop(),h.trys.pop();continue;default:if(A=h.trys,!(A=A.length>0&&A[A.length-1])&&(be[0]===6||be[0]===2)){h=0;continue}if(be[0]===3&&(!A||be[1]>A[0]&&be[1]<A[3])){h.label=be[1];break}if(be[0]===6&&h.label<A[1]){h.label=A[1],A=be;break}if(A&&h.label<A[2]){h.label=A[2],h.ops.push(be);break}A[2]&&h.ops.pop(),h.trys.pop();continue}be=y.call(l,h)}catch(re){be=[6,re],P=0}finally{v=A=0}if(be[0]&5)throw be[1];return{value:be[0]?be[1]:void 0,done:!0}}}var G=Object.create?function(l,y,h,v){v===void 0&&(v=h),Object.defineProperty(l,v,{enumerable:!0,get:function(){return y[h]}})}:function(l,y,h,v){v===void 0&&(v=h),l[v]=y[h]};function ee(l,y){for(var h in l)h!=="default"&&!Object.prototype.hasOwnProperty.call(y,h)&&G(y,l,h)}function Z(l){var y=typeof Symbol=="function"&&Symbol.iterator,h=y&&l[y],v=0;if(h)return h.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&v>=l.length&&(l=void 0),{value:l&&l[v++],done:!l}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(l,y){var h=typeof Symbol=="function"&&l[Symbol.iterator];if(!h)return l;var v=h.call(l),P,A=[],F;try{for(;(y===void 0||y-- >0)&&!(P=v.next()).done;)A.push(P.value)}catch(oe){F={error:oe}}finally{try{P&&!P.done&&(h=v.return)&&h.call(v)}finally{if(F)throw F.error}}return A}function pe(){for(var l=[],y=0;y<arguments.length;y++)l=l.concat(z(arguments[y]));return l}function X(){for(var l=0,y=0,h=arguments.length;y<h;y++)l+=arguments[y].length;for(var v=Array(l),P=0,y=0;y<h;y++)for(var A=arguments[y],F=0,oe=A.length;F<oe;F++,P++)v[P]=A[F];return v}function ce(l){return this instanceof ce?(this.v=l,this):new ce(l)}function ge(l,y,h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=h.apply(l,y||[]),P,A=[];return P={},F("next"),F("throw"),F("return"),P[Symbol.asyncIterator]=function(){return this},P;function F(De){v[De]&&(P[De]=function(st){return new Promise(function(Ft,xt){A.push([De,st,Ft,xt])>1||oe(De,st)})})}function oe(De,st){try{ve(v[De](st))}catch(Ft){$e(A[0][3],Ft)}}function ve(De){De.value instanceof ce?Promise.resolve(De.value.v).then(be,re):$e(A[0][2],De)}function be(De){oe("next",De)}function re(De){oe("throw",De)}function $e(De,st){De(st),A.shift(),A.length&&oe(A[0][0],A[0][1])}}function Ie(l){var y,h;return y={},v("next"),v("throw",function(P){throw P}),v("return"),y[Symbol.iterator]=function(){return this},y;function v(P,A){y[P]=l[P]?function(F){return(h=!h)?{value:ce(l[P](F)),done:P==="return"}:A?A(F):F}:A}}function Q(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=l[Symbol.asyncIterator],h;return y?y.call(l):(l=typeof Z=="function"?Z(l):l[Symbol.iterator](),h={},v("next"),v("throw"),v("return"),h[Symbol.asyncIterator]=function(){return this},h);function v(A){h[A]=l[A]&&function(F){return new Promise(function(oe,ve){F=l[A](F),P(oe,ve,F.done,F.value)})}}function P(A,F,oe,ve){Promise.resolve(ve).then(function(be){A({value:be,done:oe})},F)}}function D(l,y){return Object.defineProperty?Object.defineProperty(l,"raw",{value:y}):l.raw=y,l}var se=Object.create?function(l,y){Object.defineProperty(l,"default",{enumerable:!0,value:y})}:function(l,y){l.default=y};function he(l){if(l&&l.__esModule)return l;var y={};if(l!=null)for(var h in l)h!=="default"&&Object.prototype.hasOwnProperty.call(l,h)&&G(y,l,h);return se(y,l),y}function Ae(l){return l&&l.__esModule?l:{default:l}}function Ue(l,y){if(!y.has(l))throw new TypeError("attempted to get private field on non-instance");return y.get(l)}function qe(l,y,h){if(!y.has(l))throw new TypeError("attempted to set private field on non-instance");return y.set(l,h),h}var it=T(52796),tr=T.n(it);function jt(l,y,h,v,P,A){A===void 0&&(A=0);var F=ae(l,y,A),oe=F.width,ve=F.height,be=Math.min(oe,h),re=Math.min(ve,v);return be>re*P?{width:re*P,height:re}:{width:be,height:be/P}}function ye(l,y,h,v,P){P===void 0&&(P=0);var A=ae(y.width,y.height,P),F=A.width,oe=A.height;return{x:Ce(l.x,F,h.width,v),y:Ce(l.y,oe,h.height,v)}}function Ce(l,y,h,v){var P=y*v/2-h/2;return Math.min(P,Math.max(l,-P))}function Ye(l,y){return Math.sqrt(Math.pow(l.y-y.y,2)+Math.pow(l.x-y.x,2))}function _(l,y){return Math.atan2(y.y-l.y,y.x-l.x)*180/Math.PI}function k(l,y,h,v,P,A,F){A===void 0&&(A=0),F===void 0&&(F=!0);var oe=F&&A===0?p:m,ve={x:oe(100,((y.width-h.width/P)/2-l.x/P)/y.width*100),y:oe(100,((y.height-h.height/P)/2-l.y/P)/y.height*100),width:oe(100,h.width/y.width*100/P),height:oe(100,h.height/y.height*100/P)},be=Math.round(oe(y.naturalWidth,ve.width*y.naturalWidth/100)),re=Math.round(oe(y.naturalHeight,ve.height*y.naturalHeight/100)),$e=y.naturalWidth>=y.naturalHeight*v,De=$e?{width:Math.round(re*v),height:re}:{width:be,height:Math.round(be/v)},st=x(x({},De),{x:Math.round(oe(y.naturalWidth-De.width,ve.x*y.naturalWidth/100)),y:Math.round(oe(y.naturalHeight-De.height,ve.y*y.naturalHeight/100))});return{croppedAreaPercentages:ve,croppedAreaPixels:st}}function p(l,y){return Math.min(l,Math.max(0,y))}function m(l,y){return y}function b(l,y,h){var v=y.width/y.naturalWidth;if(h){var P=h.height>h.width;return P?h.height/v/l.height:h.width/v/l.width}var A=l.width/l.height,F=y.naturalWidth>=y.naturalHeight*A;return F?y.naturalHeight/l.height:y.naturalWidth/l.width}function C(l,y,h){var v=y.width/y.naturalWidth,P=b(l,y,h),A=v*P,F={x:((y.naturalWidth-l.width)/2-l.x)*A,y:((y.naturalHeight-l.height)/2-l.y)*A};return{crop:F,zoom:P}}function K(l,y){return{x:(y.x+l.x)/2,y:(y.y+l.y)/2}}function we(l,y,h,v,P){var A=Math.cos,F=Math.sin,oe=P*Math.PI/180,ve=(l-h)*A(oe)-(y-v)*F(oe)+h,be=(l-h)*F(oe)+(y-v)*A(oe)+v;return[ve,be]}function ae(l,y,h){var v=l/2,P=y/2,A=[we(0,0,v,P,h),we(l,0,v,P,h),we(l,y,v,P,h),we(0,y,v,P,h)],F=Math.min.apply(Math,A.map(function(re){return re[0]})),oe=Math.max.apply(Math,A.map(function(re){return re[0]})),ve=Math.min.apply(Math,A.map(function(re){return re[1]})),be=Math.max.apply(Math,A.map(function(re){return re[1]}));return{width:oe-F,height:be-ve}}function O(){for(var l=[],y=0;y<arguments.length;y++)l[y]=arguments[y];return l.filter(function(h){return typeof h=="string"&&h.length>0}).join(" ").trim()}var Le=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Te=1,$t=3,dr=function(l){Se(y,l);function y(){var h=l!==null&&l.apply(this,arguments)||this;return h.imageRef=null,h.videoRef=null,h.containerRef=null,h.styleRef=null,h.containerRect=null,h.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},h.dragStartPosition={x:0,y:0},h.dragStartCrop={x:0,y:0},h.lastPinchDistance=0,h.lastPinchRotation=0,h.rafDragTimeout=null,h.rafPinchTimeout=null,h.wheelTimer=null,h.state={cropSize:null,hasWheelJustStarted:!1},h.preventZoomSafari=function(v){return v.preventDefault()},h.cleanEvents=function(){document.removeEventListener("mousemove",h.onMouseMove),document.removeEventListener("mouseup",h.onDragStopped),document.removeEventListener("touchmove",h.onTouchMove),document.removeEventListener("touchend",h.onDragStopped)},h.clearScrollEvent=function(){h.containerRef&&h.containerRef.removeEventListener("wheel",h.onWheel),h.wheelTimer&&clearTimeout(h.wheelTimer)},h.onMediaLoad=function(){h.computeSizes(),h.emitCropData(),h.setInitialCrop(),h.props.onMediaLoaded&&h.props.onMediaLoaded(h.mediaSize)},h.setInitialCrop=function(){var v=h.props,P=v.initialCroppedAreaPixels,A=v.cropSize;if(!!P){var F=C(P,h.mediaSize,A),oe=F.crop,ve=F.zoom;h.props.onCropChange(oe),h.props.onZoomChange&&h.props.onZoomChange(ve)}},h.computeSizes=function(){var v,P,A,F,oe,ve,be=h.imageRef||h.videoRef;if(be&&h.containerRef){h.containerRect=h.containerRef.getBoundingClientRect(),h.mediaSize={width:be.offsetWidth,height:be.offsetHeight,naturalWidth:((v=h.imageRef)===null||v===void 0?void 0:v.naturalWidth)||((P=h.videoRef)===null||P===void 0?void 0:P.videoWidth)||0,naturalHeight:((A=h.imageRef)===null||A===void 0?void 0:A.naturalHeight)||((F=h.videoRef)===null||F===void 0?void 0:F.videoHeight)||0};var re=h.props.cropSize?h.props.cropSize:jt(be.offsetWidth,be.offsetHeight,h.containerRect.width,h.containerRect.height,h.props.aspect,h.props.rotation);(((oe=h.state.cropSize)===null||oe===void 0?void 0:oe.height)!==re.height||((ve=h.state.cropSize)===null||ve===void 0?void 0:ve.width)!==re.width)&&h.props.onCropSizeChange&&h.props.onCropSizeChange(re),h.setState({cropSize:re},h.recomputeCropPosition)}},h.onMouseDown=function(v){v.preventDefault(),document.addEventListener("mousemove",h.onMouseMove),document.addEventListener("mouseup",h.onDragStopped),h.onDragStart(y.getMousePoint(v))},h.onMouseMove=function(v){return h.onDrag(y.getMousePoint(v))},h.onTouchStart=function(v){document.addEventListener("touchmove",h.onTouchMove,{passive:!1}),document.addEventListener("touchend",h.onDragStopped),v.touches.length===2?h.onPinchStart(v):v.touches.length===1&&h.onDragStart(y.getTouchPoint(v.touches[0]))},h.onTouchMove=function(v){v.preventDefault(),v.touches.length===2?h.onPinchMove(v):v.touches.length===1&&h.onDrag(y.getTouchPoint(v.touches[0]))},h.onDragStart=function(v){var P,A,F=v.x,oe=v.y;h.dragStartPosition={x:F,y:oe},h.dragStartCrop=x({},h.props.crop),(A=(P=h.props).onInteractionStart)===null||A===void 0||A.call(P)},h.onDrag=function(v){var P=v.x,A=v.y;h.rafDragTimeout&&window.cancelAnimationFrame(h.rafDragTimeout),h.rafDragTimeout=window.requestAnimationFrame(function(){if(!!h.state.cropSize&&!(P===void 0||A===void 0)){var F=P-h.dragStartPosition.x,oe=A-h.dragStartPosition.y,ve={x:h.dragStartCrop.x+F,y:h.dragStartCrop.y+oe},be=h.props.restrictPosition?ye(ve,h.mediaSize,h.state.cropSize,h.props.zoom,h.props.rotation):ve;h.props.onCropChange(be)}})},h.onDragStopped=function(){var v,P;h.cleanEvents(),h.emitCropData(),(P=(v=h.props).onInteractionEnd)===null||P===void 0||P.call(v)},h.onWheel=function(v){v.preventDefault();var P=y.getMousePoint(v),A=tr()(v).pixelY,F=h.props.zoom-A*h.props.zoomSpeed/200;h.setNewZoom(F,P),h.state.hasWheelJustStarted||h.setState({hasWheelJustStarted:!0},function(){var oe,ve;return(ve=(oe=h.props).onInteractionStart)===null||ve===void 0?void 0:ve.call(oe)}),h.wheelTimer&&clearTimeout(h.wheelTimer),h.wheelTimer=window.setTimeout(function(){return h.setState({hasWheelJustStarted:!1},function(){var oe,ve;return(ve=(oe=h.props).onInteractionEnd)===null||ve===void 0?void 0:ve.call(oe)})},250)},h.getPointOnContainer=function(v){var P=v.x,A=v.y;if(!h.containerRect)throw new Error("The Cropper is not mounted");return{x:h.containerRect.width/2-(P-h.containerRect.left),y:h.containerRect.height/2-(A-h.containerRect.top)}},h.getPointOnMedia=function(v){var P=v.x,A=v.y,F=h.props,oe=F.crop,ve=F.zoom;return{x:(P+oe.x)/ve,y:(A+oe.y)/ve}},h.setNewZoom=function(v,P){if(!(!h.state.cropSize||!h.props.onZoomChange)){var A=h.getPointOnContainer(P),F=h.getPointOnMedia(A),oe=Math.min(h.props.maxZoom,Math.max(v,h.props.minZoom)),ve={x:F.x*oe-A.x,y:F.y*oe-A.y},be=h.props.restrictPosition?ye(ve,h.mediaSize,h.state.cropSize,oe,h.props.rotation):ve;h.props.onCropChange(be),h.props.onZoomChange(oe)}},h.getCropData=function(){if(!h.state.cropSize)return null;var v=h.props.restrictPosition?ye(h.props.crop,h.mediaSize,h.state.cropSize,h.props.zoom,h.props.rotation):h.props.crop;return k(v,h.mediaSize,h.state.cropSize,h.getAspect(),h.props.zoom,h.props.rotation,h.props.restrictPosition)},h.emitCropData=function(){var v=h.getCropData();if(!!v){var P=v.croppedAreaPercentages,A=v.croppedAreaPixels;h.props.onCropComplete&&h.props.onCropComplete(P,A),h.props.onCropAreaChange&&h.props.onCropAreaChange(P,A)}},h.emitCropAreaChange=function(){var v=h.getCropData();if(!!v){var P=v.croppedAreaPercentages,A=v.croppedAreaPixels;h.props.onCropAreaChange&&h.props.onCropAreaChange(P,A)}},h.recomputeCropPosition=function(){if(!!h.state.cropSize){var v=h.props.restrictPosition?ye(h.props.crop,h.mediaSize,h.state.cropSize,h.props.zoom,h.props.rotation):h.props.crop;h.props.onCropChange(v),h.emitCropData()}},h}return y.prototype.componentDidMount=function(){window.addEventListener("resize",this.computeSizes),this.containerRef&&(this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.preventZoomSafari),this.containerRef.addEventListener("gesturechange",this.preventZoomSafari)),this.props.disableAutomaticStylesInjection||(this.styleRef=document.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.styleRef.innerHTML=Le,document.head.appendChild(this.styleRef)),this.imageRef&&this.imageRef.complete&&this.onMediaLoad()},y.prototype.componentWillUnmount=function(){var h;window.removeEventListener("resize",this.computeSizes),this.containerRef&&(this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.containerRef.removeEventListener("gesturechange",this.preventZoomSafari)),this.styleRef&&((h=this.styleRef.parentNode)===null||h===void 0||h.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()},y.prototype.componentDidUpdate=function(h){var v,P,A,F,oe,ve,be,re,$e;h.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):h.aspect!==this.props.aspect?this.computeSizes():h.zoom!==this.props.zoom?this.recomputeCropPosition():((v=h.cropSize)===null||v===void 0?void 0:v.height)!==((P=this.props.cropSize)===null||P===void 0?void 0:P.height)||((A=h.cropSize)===null||A===void 0?void 0:A.width)!==((F=this.props.cropSize)===null||F===void 0?void 0:F.width)?this.computeSizes():(((oe=h.crop)===null||oe===void 0?void 0:oe.x)!==((ve=this.props.crop)===null||ve===void 0?void 0:ve.x)||((be=h.crop)===null||be===void 0?void 0:be.y)!==((re=this.props.crop)===null||re===void 0?void 0:re.y))&&this.emitCropAreaChange(),h.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),h.video!==this.props.video&&(($e=this.videoRef)===null||$e===void 0||$e.load())},y.prototype.getAspect=function(){var h=this.props,v=h.cropSize,P=h.aspect;return v?v.width/v.height:P},y.prototype.onPinchStart=function(h){var v=y.getTouchPoint(h.touches[0]),P=y.getTouchPoint(h.touches[1]);this.lastPinchDistance=Ye(v,P),this.lastPinchRotation=_(v,P),this.onDragStart(K(v,P))},y.prototype.onPinchMove=function(h){var v=this,P=y.getTouchPoint(h.touches[0]),A=y.getTouchPoint(h.touches[1]),F=K(P,A);this.onDrag(F),this.rafPinchTimeout&&window.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=window.requestAnimationFrame(function(){var oe=Ye(P,A),ve=v.props.zoom*(oe/v.lastPinchDistance);v.setNewZoom(ve,F),v.lastPinchDistance=oe;var be=_(P,A),re=v.props.rotation+(be-v.lastPinchRotation);v.props.onRotationChange&&v.props.onRotationChange(re),v.lastPinchRotation=be})},y.prototype.render=function(){var h=this,v=this.props,P=v.image,A=v.video,F=v.mediaProps,oe=v.transform,ve=v.crop,be=ve.x,re=ve.y,$e=v.rotation,De=v.zoom,st=v.cropShape,Ft=v.showGrid,xt=v.style,nr=xt.containerStyle,ir=xt.cropAreaStyle,Nt=xt.mediaStyle,Kt=v.classes,Lt=Kt.containerClassName,or=Kt.cropAreaClassName,Vt=Kt.mediaClassName,kt=v.objectFit;return N.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(ht){return h.containerRef=ht},"data-testid":"container",style:nr,className:O("reactEasyCrop_Container",Lt)},P?N.createElement("img",x({alt:"",className:O("reactEasyCrop_Image",kt==="contain"&&"reactEasyCrop_Contain",kt==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",kt==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Vt)},F,{src:P,ref:function(ht){return h.imageRef=ht},style:x(x({},Nt),{transform:oe||"translate("+be+"px, "+re+"px) rotate("+$e+"deg) scale("+De+")"}),onLoad:this.onMediaLoad})):A&&N.createElement("video",x({autoPlay:!0,loop:!0,muted:!0,className:O("reactEasyCrop_Video",kt==="contain"&&"reactEasyCrop_Contain",kt==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",kt==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Vt)},F,{ref:function(ht){return h.videoRef=ht},onLoadedMetadata:this.onMediaLoad,style:x(x({},Nt),{transform:oe||"translate("+be+"px, "+re+"px) rotate("+$e+"deg) scale("+De+")"}),controls:!1}),(Array.isArray(A)?A:[{src:A}]).map(function(yt){return N.createElement("source",x({key:yt.src},yt))})),this.state.cropSize&&N.createElement("div",{style:x(x({},ir),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:O("reactEasyCrop_CropArea",st==="round"&&"reactEasyCrop_CropAreaRound",Ft&&"reactEasyCrop_CropAreaGrid",or)}))},y.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:$t,minZoom:Te,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},y.getMousePoint=function(h){return{x:Number(h.clientX),y:Number(h.clientY)}},y.getTouchPoint=function(h){return{x:Number(h.clientX),y:Number(h.clientY)}},y}(N.Component),pr=dr,me=T(42051),rr=T(50146),Y=T(75454);function Me(l){if(!!l&&typeof window!="undefined"){var y=document.createElement("style");return y.setAttribute("media","screen"),y.innerHTML=l,document.head.appendChild(y),l}}Me(`.antd-img-crop-modal .ant-modal-body {
  padding-bottom: 16px;
}
.antd-img-crop-modal .antd-img-crop-container {
  position: relative;
  width: 100%;
  height: 40vh;
  margin-bottom: 16px;
}
.antd-img-crop-modal .antd-img-crop-control {
  display: flex;
  align-items: center;
  width: 60%;
  margin-left: auto;
  margin-right: auto;
}
.antd-img-crop-modal .antd-img-crop-control button {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  padding: 0;
  font-style: normal;
  background: transparent;
  border: 0;
  outline: 0;
  cursor: pointer;
}
.antd-img-crop-modal .antd-img-crop-control button[disabled] {
  cursor: default;
}
.antd-img-crop-modal .antd-img-crop-control.zoom button {
  font-size: 18px;
}
.antd-img-crop-modal .antd-img-crop-control.rotate button {
  font-size: 16px;
}
.antd-img-crop-modal .antd-img-crop-control.rotate button:first-of-type {
  transform: rotate(-20deg);
}
.antd-img-crop-modal .antd-img-crop-control.rotate button:last-of-type {
  transform: rotate(20deg);
}
.antd-img-crop-modal .antd-img-crop-control .ant-slider {
  flex: 1;
  margin: 0 8px;
}
`);var Xe=["beforeUpload","accept"],ot="antd-img-crop",St=1,pt=.1,f=0,n=1,t=-180,i=180,u=(0,N.memo)((0,N.forwardRef)(function(l,y){var h=l.src,v=l.aspect,P=l.shape,A=l.grid,F=l.zoom,oe=l.rotate,ve=l.rotateValRef,be=l.setZoomValRef,re=l.setRotateValRef,$e=l.minZoom,De=l.maxZoom,st=l.cropPixelsRef,Ft=l.cropperProps,xt=(0,N.useState)({x:0,y:0}),nr=xt[0],ir=xt[1],Nt=(0,N.useState)({width:0,height:0}),Kt=Nt[0],Lt=Nt[1],or=(0,N.useCallback)(function(Rt,Ht){st.current=Ht},[st]),Vt=(0,N.useCallback)(function(Rt){var Ht=Rt.width,vr=Rt.height,Sr=vr*v;Ht>Sr?Lt({width:Sr,height:vr}):Lt({width:Ht,height:Ht/v})},[v]),kt=(0,N.useState)(St),yt=kt[0],ht=kt[1],yr=(0,N.useState)(f),Bt=yr[0],sr=yr[1];return ve.current=Bt,(0,N.useEffect)(function(){be.current=ht,re.current=sr},[re,be]),N.createElement(N.Fragment,null,N.createElement(pr,Object.assign({},Ft,{ref:y,image:h,crop:nr,cropSize:Kt,onCropChange:ir,aspect:v,cropShape:P,showGrid:A,zoomWithScroll:F,zoom:yt,rotation:Bt,onZoomChange:ht,onRotationChange:sr,minZoom:$e,maxZoom:De,onCropComplete:or,onMediaLoaded:Vt,classes:{containerClassName:ot+"-container",mediaClassName:ot+"-media"}})),F&&N.createElement("div",{className:ot+"-control zoom"},N.createElement("button",{onClick:function(){return ht(yt-pt)},disabled:yt-pt<$e},"\uFF0D"),N.createElement(Y.Z,{min:$e,max:De,step:pt,value:yt,onChange:ht}),N.createElement("button",{onClick:function(){return ht(yt+pt)},disabled:yt+pt>De},"\uFF0B")),oe&&N.createElement("div",{className:ot+"-control rotate"},N.createElement("button",{onClick:function(){return sr(Bt-n)},disabled:Bt===t},"\u21BA"),N.createElement(Y.Z,{min:t,max:i,step:n,value:Bt,onChange:sr}),N.createElement("button",{onClick:function(){return sr(Bt+n)},disabled:Bt===i},"\u21BB")))}));u.propTypes={src:E().string,aspect:E().number,shape:E().string,grid:E().bool,zoom:E().bool,rotate:E().bool,rotateValRef:E().object,setZoomValRef:E().object,setRotateValRef:E().object,minZoom:E().number,maxZoom:E().number,cropPixelsRef:E().object,cropperProps:E().object};var d=(0,N.forwardRef)(function(l,y){var h=l.aspect,v=l.shape,P=l.grid,A=l.quality,F=l.zoom,oe=l.rotate,ve=l.minZoom,be=l.maxZoom,re=l.fillColor,$e=l.modalTitle,De=l.modalWidth,st=l.modalOk,Ft=l.modalCancel,xt=l.onModalOk,nr=l.onModalCancel,ir=l.beforeCrop,Nt=l.onUploadFail,Kt=l.cropperProps,Lt=l.children,or=(0,N.useState)(""),Vt=or[0],kt=or[1],yt=(0,N.useRef)(),ht=(0,N.useRef)(),yr=(0,N.useRef)(),Bt=(0,N.useRef)(),sr=(0,N.useCallback)(function(){var Pt=Array.isArray(Lt)?Lt[0]:Lt,ft=Pt.props,ar=ft.beforeUpload,Ct=ft.accept,dt=(0,J.Z)(ft,Xe);return Bt.current=ar,(0,V.Z)({},Pt,{props:(0,V.Z)({},dt,{accept:Ct||"image/*",beforeUpload:function(Dt,Et){return new Promise(function(){var Je=(0,M.Z)(B().mark(function ct(Gt,Ke){var zt;return B().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(Qe.t0=ir,!Qe.t0){Qe.next=5;break}return Qe.next=4,ir(Dt,Et);case 4:Qe.t0=!Qe.sent;case 5:if(!Qe.t0){Qe.next=8;break}return Ke(),Qe.abrupt("return");case 8:yt.current=Dt,ht.current=function(It){xt==null||xt(It),Gt(It)},yr.current=function(It){Nt==null||Nt(It),Ke(It)},zt=new FileReader,zt.addEventListener("load",function(){kt(zt.result)}),zt.readAsDataURL(Dt);case 14:case"end":return Qe.stop()}},ct)}));return function(ct,Gt){return Je.apply(this,arguments)}}())}})})},[ir,Lt,xt,Nt]),Rt=(0,N.useRef)(),Ht=(0,N.useRef)(),vr=(0,N.useRef)(),Sr=(0,N.useRef)(),mn=(0,N.useMemo)(function(){var Pt={width:De,okText:st,cancelText:Ft};return Object.keys(Pt).forEach(function(ft){Pt[ft]||delete Pt[ft]}),Pt},[Ft,st,De]),Pr=(0,N.useCallback)(function(){kt(""),Ht.current(St),vr.current(f)},[]),bn=(0,N.useCallback)(function(){nr==null||nr(),Pr()},[Pr,nr]),wn=(0,N.useCallback)((0,M.Z)(B().mark(function Pt(){var ft,ar,Ct,dt,cr,Dt,Et,Je,ct,Gt,Ke,zt,gr,Qe,It,Lr,Dr,qr,Cr,qt,Zr,Yr;return B().wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:Pr(),ft=document.querySelector("."+ot+"-media"),ar=Sr.current,Ct=ar.width,dt=ar.height,cr=ar.x,Dt=ar.y,Et=document.createElement("canvas"),Je=Et.getContext("2d"),oe&&Rt.current!==0?(ct=ft.naturalWidth,Gt=ft.naturalHeight,Ke=Math.sqrt(Math.pow(ct,2)+Math.pow(Gt,2)),zt=ct,gr=Gt,Ke>4096&&(Qe=4096/Ke,Ke=4096,zt=ct*Qe,gr=Gt*Qe,Ct=Ct*Qe,dt=dt*Qe,cr=cr*Qe,Dt=Dt*Qe),Et.width=Ke,Et.height=Ke,It=Ke/2,Je.translate(It,It),Je.rotate(Rt.current*Math.PI/180),Je.translate(-It,-It),Je.fillStyle=re,Je.fillRect(0,0,Ke,Ke),Lr=(Ke-zt)/2,Dr=(Ke-gr)/2,Je.drawImage(ft,0,0,ct,Gt,Lr,Dr,zt,gr),qr=Je.getImageData(0,0,Ke,Ke),Et.width=Ct,Et.height=dt,Je.fillStyle=re,Je.fillRect(0,0,Ct,dt),Je.putImageData(qr,-(Lr+cr),-(Dr+Dt))):(Et.width=Ct,Et.height=dt,Je.fillStyle=re,Je.fillRect(0,0,Ct,dt),Je.drawImage(ft,cr,Dt,Ct,dt,0,0,Ct,dt)),Cr=yt.current,qt=Cr.type,Zr=Cr.name,Yr=Cr.uid,Et.toBlob(function(){var En=(0,M.Z)(B().mark(function Jr(Qr){var Zt,ut,zr,Yt;return B().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(Zt=new File([Qr],Zr,{type:qt}),Zt.uid=Yr,typeof Bt.current=="function"){Ve.next=4;break}return Ve.abrupt("return",ht.current(Zt));case 4:if(ut=Bt.current(Zt,[Zt]),!(typeof ut!="boolean"&&!ut)){Ve.next=8;break}return console.error("beforeUpload must return a boolean or Promise"),Ve.abrupt("return");case 8:if(ut!==!0){Ve.next=10;break}return Ve.abrupt("return",ht.current(Zt));case 10:if(ut!==!1){Ve.next=12;break}return Ve.abrupt("return",yr.current("not upload"));case 12:if(!(ut&&typeof ut.then=="function")){Ve.next=25;break}return Ve.prev=13,Ve.next=16,ut;case 16:zr=Ve.sent,Yt=Object.prototype.toString.call(zr),(Yt==="[object File]"||Yt==="[object Blob]")&&(Zt=zr),ht.current(Zt),Ve.next=25;break;case 22:Ve.prev=22,Ve.t0=Ve.catch(13),yr.current(Ve.t0);case 25:case"end":return Ve.stop()}},Jr,null,[[13,22]])}));return function(Jr){return En.apply(this,arguments)}}(),qt,A);case 8:case"end":return ur.stop()}},Pt)})),[re,Pr,A,oe]),Gr=function(ft){return N.createElement(N.Fragment,null,sr(),Vt&&N.createElement(rr.Z,Object.assign({visible:!0,wrapClassName:ot+"-modal",title:ft,onOk:wn,onCancel:bn,maskClosable:!1,destroyOnClose:!0},mn),N.createElement(u,{ref:y,src:Vt,aspect:h,shape:v,grid:P,zoom:F,rotate:oe,rotateValRef:Rt,setZoomValRef:Ht,setRotateValRef:vr,minZoom:ve,maxZoom:be,cropPixelsRef:Sr,cropperProps:Kt})))};return $e?Gr($e):N.createElement(me.Z,null,function(Pt,ft){return Gr(ft==="zh-cn"?"\u7F16\u8F91\u56FE\u7247":"Edit image")})});d.propTypes={aspect:E().number,shape:E().oneOf(["rect","round"]),grid:E().bool,quality:E().number,fillColor:E().string,zoom:E().bool,rotate:E().bool,minZoom:E().number,maxZoom:E().number,modalTitle:E().string,modalWidth:E().oneOfType([E().number,E().string]),modalOk:E().string,modalCancel:E().string,onModalOk:E().func,onModalCancel:E().func,beforeCrop:E().func,onUploadFail:E().func,cropperProps:E().object,children:E().node},d.defaultProps={aspect:1,shape:"rect",grid:!1,quality:.4,fillColor:"white",zoom:!0,rotate:!1,minZoom:1,maxZoom:3}},25532:function(ke,w,T){"use strict";var M=T(48764).Buffer,V=this&&this.__createBinding||(Object.create?function(Q,D,se,he){he===void 0&&(he=se),Object.defineProperty(Q,he,{enumerable:!0,get:function(){return D[se]}})}:function(Q,D,se,he){he===void 0&&(he=se),Q[he]=D[se]}),J=this&&this.__setModuleDefault||(Object.create?function(Q,D){Object.defineProperty(Q,"default",{enumerable:!0,value:D})}:function(Q,D){Q.default=D}),U=this&&this.__decorate||function(Q,D,se,he){var Ae=arguments.length,Ue=Ae<3?D:he===null?he=Object.getOwnPropertyDescriptor(D,se):he,qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ue=Reflect.decorate(Q,D,se,he);else for(var it=Q.length-1;it>=0;it--)(qe=Q[it])&&(Ue=(Ae<3?qe(Ue):Ae>3?qe(D,se,Ue):qe(D,se))||Ue);return Ae>3&&Ue&&Object.defineProperty(D,se,Ue),Ue},B=this&&this.__importStar||function(Q){if(Q&&Q.__esModule)return Q;var D={};if(Q!=null)for(var se in Q)se!=="default"&&Object.hasOwnProperty.call(Q,se)&&V(D,Q,se);return J(D,Q),D},N=this&&this.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(w,"__esModule",{value:!0}),w.deserializeUnchecked=w.deserialize=w.serialize=w.BinaryReader=w.BinaryWriter=w.BorshError=w.baseDecode=w.baseEncode=void 0;const S=N(T(13550)),E=N(T(77191)),ne=B(T(8467)),Se=typeof T.g.TextDecoder!="function"?ne.TextDecoder:T.g.TextDecoder,x=new Se("utf-8",{fatal:!0});function Re(Q){return typeof Q=="string"&&(Q=M.from(Q,"utf8")),E.default.encode(M.from(Q))}w.baseEncode=Re;function Pe(Q){return M.from(E.default.decode(Q))}w.baseDecode=Pe;const de=1024;class H extends Error{constructor(D){super(D);this.fieldPath=[],this.originalMessage=D}addToFieldPath(D){this.fieldPath.splice(0,0,D),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}w.BorshError=H;class W{constructor(){this.buf=M.alloc(de),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=M.concat([this.buf,M.alloc(de)]))}writeU8(D){this.maybeResize(),this.buf.writeUInt8(D,this.length),this.length+=1}writeU16(D){this.maybeResize(),this.buf.writeUInt16LE(D,this.length),this.length+=2}writeU32(D){this.maybeResize(),this.buf.writeUInt32LE(D,this.length),this.length+=4}writeU64(D){this.maybeResize(),this.writeBuffer(M.from(new S.default(D).toArray("le",8)))}writeU128(D){this.maybeResize(),this.writeBuffer(M.from(new S.default(D).toArray("le",16)))}writeU256(D){this.maybeResize(),this.writeBuffer(M.from(new S.default(D).toArray("le",32)))}writeU512(D){this.maybeResize(),this.writeBuffer(M.from(new S.default(D).toArray("le",64)))}writeBuffer(D){this.buf=M.concat([M.from(this.buf.subarray(0,this.length)),D,M.alloc(de)]),this.length+=D.length}writeString(D){this.maybeResize();const se=M.from(D,"utf8");this.writeU32(se.length),this.writeBuffer(se)}writeFixedArray(D){this.writeBuffer(M.from(D))}writeArray(D,se){this.maybeResize(),this.writeU32(D.length);for(const he of D)this.maybeResize(),se(he)}toArray(){return this.buf.subarray(0,this.length)}}w.BinaryWriter=W;function j(Q,D,se){const he=se.value;se.value=function(...Ae){try{return he.apply(this,Ae)}catch(Ue){if(Ue instanceof RangeError){const qe=Ue.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(qe)>=0)throw new H("Reached the end of buffer when deserializing")}throw Ue}}}class G{constructor(D){this.buf=D,this.offset=0}readU8(){const D=this.buf.readUInt8(this.offset);return this.offset+=1,D}readU16(){const D=this.buf.readUInt16LE(this.offset);return this.offset+=2,D}readU32(){const D=this.buf.readUInt32LE(this.offset);return this.offset+=4,D}readU64(){const D=this.readBuffer(8);return new S.default(D,"le")}readU128(){const D=this.readBuffer(16);return new S.default(D,"le")}readU256(){const D=this.readBuffer(32);return new S.default(D,"le")}readU512(){const D=this.readBuffer(64);return new S.default(D,"le")}readBuffer(D){if(this.offset+D>this.buf.length)throw new H(`Expected buffer length ${D} isn't within bounds`);const se=this.buf.slice(this.offset,this.offset+D);return this.offset+=D,se}readString(){const D=this.readU32(),se=this.readBuffer(D);try{return x.decode(se)}catch(he){throw new H(`Error decoding UTF-8 string: ${he}`)}}readFixedArray(D){return new Uint8Array(this.readBuffer(D))}readArray(D){const se=this.readU32(),he=Array();for(let Ae=0;Ae<se;++Ae)he.push(D());return he}}U([j],G.prototype,"readU8",null),U([j],G.prototype,"readU16",null),U([j],G.prototype,"readU32",null),U([j],G.prototype,"readU64",null),U([j],G.prototype,"readU128",null),U([j],G.prototype,"readU256",null),U([j],G.prototype,"readU512",null),U([j],G.prototype,"readString",null),U([j],G.prototype,"readFixedArray",null),U([j],G.prototype,"readArray",null),w.BinaryReader=G;function ee(Q){return Q.charAt(0).toUpperCase()+Q.slice(1)}function Z(Q,D,se,he,Ae){try{if(typeof he=="string")Ae[`write${ee(he)}`](se);else if(he instanceof Array)if(typeof he[0]=="number"){if(se.length!==he[0])throw new H(`Expecting byte array of length ${he[0]}, but got ${se.length} bytes`);Ae.writeFixedArray(se)}else Ae.writeArray(se,Ue=>{Z(Q,D,Ue,he[0],Ae)});else if(he.kind!==void 0)switch(he.kind){case"option":{se==null?Ae.writeU8(0):(Ae.writeU8(1),Z(Q,D,se,he.type,Ae));break}default:throw new H(`FieldType ${he} unrecognized`)}else z(Q,se,Ae)}catch(Ue){throw Ue instanceof H&&Ue.addToFieldPath(D),Ue}}function z(Q,D,se){const he=Q.get(D.constructor);if(!he)throw new H(`Class ${D.constructor.name} is missing in schema`);if(he.kind==="struct")he.fields.map(([Ae,Ue])=>{Z(Q,Ae,D[Ae],Ue,se)});else if(he.kind==="enum"){const Ae=D[he.field];for(let Ue=0;Ue<he.values.length;++Ue){const[qe,it]=he.values[Ue];if(qe===Ae){se.writeU8(Ue),Z(Q,qe,D[qe],it,se);break}}}else throw new H(`Unexpected schema kind: ${he.kind} for ${D.constructor.name}`)}function pe(Q,D){const se=new W;return z(Q,D,se),se.toArray()}w.serialize=pe;function X(Q,D,se,he){try{return typeof se=="string"?he[`read${ee(se)}`]():se instanceof Array?typeof se[0]=="number"?he.readFixedArray(se[0]):he.readArray(()=>X(Q,D,se[0],he)):se.kind==="option"?he.readU8()?X(Q,D,se.type,he):void 0:ce(Q,se,he)}catch(Ae){throw Ae instanceof H&&Ae.addToFieldPath(D),Ae}}function ce(Q,D,se){const he=Q.get(D);if(!he)throw new H(`Class ${D.name} is missing in schema`);if(he.kind==="struct"){const Ae={};for(const[Ue,qe]of Q.get(D).fields)Ae[Ue]=X(Q,Ue,qe,se);return new D(Ae)}if(he.kind==="enum"){const Ae=se.readU8();if(Ae>=he.values.length)throw new H(`Enum index: ${Ae} is out of range`);const[Ue,qe]=he.values[Ae],it=X(Q,Ue,qe,se);return new D({[Ue]:it})}throw new H(`Unexpected schema kind: ${he.kind} for ${D.constructor.name}`)}function ge(Q,D,se){const he=new G(se),Ae=ce(Q,D,he);if(he.offset<se.length)throw new H(`Unexpected ${se.length-he.offset} bytes after deserialized data`);return Ae}w.deserialize=ge;function Ie(Q,D,se){const he=new G(se);return ce(Q,D,he)}w.deserializeUnchecked=Ie},37953:function(ke){/*!
Copyright (C) 2013-2017 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/var w="~",T="\\x"+("0"+w.charCodeAt(0).toString(16)).slice(-2),M="\\"+T,V=new RegExp(T,"g"),J=new RegExp(M,"g"),U=new RegExp("(?:^|([^\\\\]))"+M),B=[].indexOf||function(de){for(var H=this.length;H--&&this[H]!==de;);return H},N=String;function S(de,H,W){var j=!1,G=!!H,ee=[],Z=[de],z=[de],pe=[W?w:"[Circular]"],X=de,ce=1,ge,Ie;return G&&(Ie=typeof H=="object"?function(Q,D){return Q!==""&&H.indexOf(Q)<0?void 0:D}:H),function(Q,D){return G&&(D=Ie.call(this,Q,D)),j?(X!==this&&(ge=ce-B.call(Z,this)-1,ce-=ge,Z.splice(ce,Z.length),ee.splice(ce-1,ee.length),X=this),typeof D=="object"&&D?(B.call(Z,D)<0&&Z.push(X=D),ce=Z.length,ge=B.call(z,D),ge<0?(ge=z.push(D)-1,W?(ee.push((""+Q).replace(V,T)),pe[ge]=w+ee.join(w)):pe[ge]=pe[0]):D=pe[ge]):typeof D=="string"&&W&&(D=D.replace(T,M).replace(w,T))):j=!0,D}}function E(de,H){for(var W=0,j=H.length;W<j;de=de[H[W++].replace(J,w)]);return de}function ne(de){return function(H,W){var j=typeof W=="string";return j&&W.charAt(0)===w?new N(W.slice(1)):(H===""&&(W=Re(W,W,{})),j&&(W=W.replace(U,"$1"+w).replace(M,T)),de?de.call(this,H,W):W)}}function Se(de,H,W){for(var j=0,G=H.length;j<G;j++)H[j]=Re(de,H[j],W);return H}function x(de,H,W){for(var j in H)H.hasOwnProperty(j)&&(H[j]=Re(de,H[j],W));return H}function Re(de,H,W){return H instanceof Array?Se(de,H,W):H instanceof N?H.length?W.hasOwnProperty(H)?W[H]:W[H]=E(de,H.split(w)):de:H instanceof Object?x(de,H,W):H}var Pe={stringify:function(H,W,j,G){return Pe.parser.stringify(H,S(H,W,!G),j)},parse:function(H,W){return Pe.parser.parse(H,ne(W))},parser:JSON};ke.exports=Pe},31198:function(ke,w,T){"use strict";const M=T(79589),V=T(17741),J=function(U,B){if(!(this instanceof J))return new J(U,B);B||(B={}),this.options={reviver:typeof B.reviver!="undefined"?B.reviver:null,replacer:typeof B.replacer!="undefined"?B.replacer:null,generator:typeof B.generator!="undefined"?B.generator:function(){return M()},version:typeof B.version!="undefined"?B.version:2,notificationIdNull:typeof B.notificationIdNull=="boolean"?B.notificationIdNull:!1},this.callServer=U};ke.exports=J,J.prototype.request=function(U,B,N,S){const E=this;let ne=null;const Se=Array.isArray(U)&&typeof B=="function";if(this.options.version===1&&Se)throw new TypeError("JSON-RPC 1.0 does not support batching");const x=!Se&&U&&typeof U=="object"&&typeof B=="function";if(Se||x)S=B,ne=U;else{typeof N=="function"&&(S=N,N=void 0);const Pe=typeof S=="function";try{ne=V(U,B,N,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(de){if(Pe)return S(de);throw de}if(!Pe)return ne}let Re;try{Re=JSON.stringify(ne,this.options.replacer)}catch(Pe){return S(Pe)}return this.callServer(Re,function(Pe,de){E._parseResponse(Pe,de,S)}),ne},J.prototype._parseResponse=function(U,B,N){if(U){N(U);return}if(!B)return N();let S;try{S=JSON.parse(B,this.options.reviver)}catch(E){return N(E)}if(N.length===3)if(Array.isArray(S)){const E=function(Se){return typeof Se.error!="undefined"},ne=function(Se){return!E(Se)};return N(null,S.filter(E),S.filter(ne))}else return N(null,S.error,S.result);N(null,S)}},17741:function(ke,w,T){"use strict";const M=T(79589),V=function(J,U,B,N){if(typeof J!="string")throw new TypeError(J+" must be a string");N=N||{};const S=typeof N.version=="number"?N.version:2;if(S!==1&&S!==2)throw new TypeError(S+" must be 1 or 2");const E={method:J};if(S===2&&(E.jsonrpc="2.0"),U){if(typeof U!="object"&&!Array.isArray(U))throw new TypeError(U+" must be an object, array or omitted");E.params=U}if(typeof B=="undefined"){const ne=typeof N.generator=="function"?N.generator:function(){return M()};E.id=ne(E,N)}else S===2&&B===null?N.notificationIdNull&&(E.id=null):E.id=B;return E};ke.exports=V},47559:function(ke){for(var w=[],T=0;T<256;++T)w[T]=(T+256).toString(16).substr(1);function M(V,J){var U=J||0,B=w;return[B[V[U++]],B[V[U++]],B[V[U++]],B[V[U++]],"-",B[V[U++]],B[V[U++]],"-",B[V[U++]],B[V[U++]],"-",B[V[U++]],B[V[U++]],"-",B[V[U++]],B[V[U++]],B[V[U++]],B[V[U++]],B[V[U++]],B[V[U++]]].join("")}ke.exports=M},40503:function(ke){var w=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(w){var T=new Uint8Array(16);ke.exports=function(){return w(T),T}}else{var M=new Array(16);ke.exports=function(){for(var J=0,U;J<16;J++)(J&3)==0&&(U=Math.random()*4294967296),M[J]=U>>>((J&3)<<3)&255;return M}}},79589:function(ke,w,T){var M=T(40503),V=T(47559);function J(U,B,N){var S=B&&N||0;typeof U=="string"&&(B=U==="binary"?new Array(16):null,U=null),U=U||{};var E=U.random||(U.rng||M)();if(E[6]=E[6]&15|64,E[8]=E[8]&63|128,B)for(var ne=0;ne<16;++ne)B[S+ne]=E[ne];return B||V(E)}ke.exports=J},52796:function(ke,w,T){ke.exports=T(10643)},13264:function(ke){"use strict";var w=!!(typeof window!="undefined"&&window.document&&window.document.createElement),T={canUseDOM:w,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:w&&!!(window.addEventListener||window.attachEvent),canUseViewport:w&&!!window.screen,isInWorker:!w};ke.exports=T},84518:function(ke){var w=!1,T,M,V,J,U,B,N,S,E,ne,Se,x,Re,Pe,de;function H(){if(!w){w=!0;var j=navigator.userAgent,G=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(j),ee=/(Mac OS X)|(Windows)|(Linux)/.exec(j);if(x=/\b(iPhone|iP[ao]d)/.exec(j),Re=/\b(iP[ao]d)/.exec(j),ne=/Android/i.exec(j),Pe=/FBAN\/\w+;/i.exec(j),de=/Mobile/i.exec(j),Se=!!/Win64/.exec(j),G){T=G[1]?parseFloat(G[1]):G[5]?parseFloat(G[5]):NaN,T&&document&&document.documentMode&&(T=document.documentMode);var Z=/(?:Trident\/(\d+.\d+))/.exec(j);B=Z?parseFloat(Z[1])+4:T,M=G[2]?parseFloat(G[2]):NaN,V=G[3]?parseFloat(G[3]):NaN,J=G[4]?parseFloat(G[4]):NaN,J?(G=/(?:Chrome\/(\d+\.\d+))/.exec(j),U=G&&G[1]?parseFloat(G[1]):NaN):U=NaN}else T=M=V=U=J=NaN;if(ee){if(ee[1]){var z=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(j);N=z?parseFloat(z[1].replace("_",".")):!0}else N=!1;S=!!ee[2],E=!!ee[3]}else N=S=E=!1}}var W={ie:function(){return H()||T},ieCompatibilityMode:function(){return H()||B>T},ie64:function(){return W.ie()&&Se},firefox:function(){return H()||M},opera:function(){return H()||V},webkit:function(){return H()||J},safari:function(){return W.webkit()},chrome:function(){return H()||U},windows:function(){return H()||S},osx:function(){return H()||N},linux:function(){return H()||E},iphone:function(){return H()||x},mobile:function(){return H()||x||Re||ne||de},nativeApp:function(){return H()||Pe},android:function(){return H()||ne},ipad:function(){return H()||Re}};ke.exports=W},88950:function(ke,w,T){"use strict";var M=T(13264),V;M.canUseDOM&&(V=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function J(U,B){if(!M.canUseDOM||B&&!("addEventListener"in document))return!1;var N="on"+U,S=N in document;if(!S){var E=document.createElement("div");E.setAttribute(N,"return;"),S=typeof E[N]=="function"}return!S&&V&&U==="wheel"&&(S=document.implementation.hasFeature("Events.wheel","3.0")),S}ke.exports=J},10643:function(ke,w,T){"use strict";var M=T(84518),V=T(88950),J=10,U=40,B=800;function N(S){var E=0,ne=0,Se=0,x=0;return"detail"in S&&(ne=S.detail),"wheelDelta"in S&&(ne=-S.wheelDelta/120),"wheelDeltaY"in S&&(ne=-S.wheelDeltaY/120),"wheelDeltaX"in S&&(E=-S.wheelDeltaX/120),"axis"in S&&S.axis===S.HORIZONTAL_AXIS&&(E=ne,ne=0),Se=E*J,x=ne*J,"deltaY"in S&&(x=S.deltaY),"deltaX"in S&&(Se=S.deltaX),(Se||x)&&S.deltaMode&&(S.deltaMode==1?(Se*=U,x*=U):(Se*=B,x*=B)),Se&&!E&&(E=Se<1?-1:1),x&&!ne&&(ne=x<1?-1:1),{spinX:E,spinY:ne,pixelX:Se,pixelY:x}}N.getEventType=function(){return M.firefox()?"DOMMouseScroll":V("wheel")?"wheel":"mousewheel"},ke.exports=N},83937:function(ke,w,T){"use strict";var M,V=T(95318);M={value:!0},M=void 0;var J=V(T(34575)),U=V(T(2205)),B=V(T(78585)),N=V(T(29754)),S=V(T(89062)),E=V(T(66855));function ne(Re){var Pe=Se();return function(){var H=(0,N.default)(Re),W;if(Pe){var j=(0,N.default)(this).constructor;W=Reflect.construct(H,arguments,j)}else W=H.apply(this,arguments);return(0,B.default)(this,W)}}function Se(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Re){return!1}}var x=function(Re){(0,U.default)(de,Re);var Pe=ne(de);function de(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=W.autoconnect,G=j===void 0?!0:j,ee=W.reconnect,Z=ee===void 0?!0:ee,z=W.reconnect_interval,pe=z===void 0?1e3:z,X=W.max_reconnects,ce=X===void 0?5:X,ge=arguments.length>2?arguments[2]:void 0;return(0,J.default)(this,de),Pe.call(this,S.default,H,{autoconnect:G,reconnect:Z,reconnect_interval:pe,max_reconnects:ce},ge)}return de}(E.default);M=x},66855:function(ke,w,T){"use strict";var M=T(48764).Buffer,V=T(95318);Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var J=V(T(87757)),U=V(T(48926)),B=V(T(50008)),N=V(T(34575)),S=V(T(93913)),E=V(T(2205)),ne=V(T(78585)),Se=V(T(29754)),x=T(26729),Re=V(T(37953));function Pe(j){var G=de();return function(){var Z=(0,Se.default)(j),z;if(G){var pe=(0,Se.default)(this).constructor;z=Reflect.construct(Z,arguments,pe)}else z=Z.apply(this,arguments);return(0,ne.default)(this,z)}}function de(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(j){return!1}}var H=function(j,G){var ee={};for(var Z in j)Object.prototype.hasOwnProperty.call(j,Z)&&G.indexOf(Z)<0&&(ee[Z]=j[Z]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,Z=Object.getOwnPropertySymbols(j);z<Z.length;z++)G.indexOf(Z[z])<0&&Object.prototype.propertyIsEnumerable.call(j,Z[z])&&(ee[Z[z]]=j[Z[z]]);return ee},W=function(j){(0,E.default)(ee,j);var G=Pe(ee);function ee(Z){var z,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce=arguments.length>3?arguments[3]:void 0;(0,N.default)(this,ee);var ge=X.autoconnect,Ie=ge===void 0?!0:ge,Q=X.reconnect,D=Q===void 0?!0:Q,se=X.reconnect_interval,he=se===void 0?1e3:se,Ae=X.max_reconnects,Ue=Ae===void 0?5:Ae,qe=H(X,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return z=G.call(this),z.webSocketFactory=Z,z.queue={},z.rpc_id=0,z.address=pe,z.autoconnect=Ie,z.ready=!1,z.reconnect=D,z.reconnect_interval=he,z.max_reconnects=Ue,z.rest_options=qe,z.current_reconnects=0,z.generate_request_id=ce||function(){return++z.rpc_id},z.autoconnect&&z._connect(z.address,Object.assign({autoconnect:z.autoconnect,reconnect:z.reconnect,reconnect_interval:z.reconnect_interval,max_reconnects:z.max_reconnects},z.rest_options)),z}return(0,S.default)(ee,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(z,pe,X,ce){var ge=this;return!ce&&(0,B.default)(X)==="object"&&(ce=X,X=null),new Promise(function(Ie,Q){if(!ge.ready)return Q(new Error("socket not ready"));var D=ge.generate_request_id(z,pe),se={jsonrpc:"2.0",method:z,params:pe||null,id:D};ge.socket.send(JSON.stringify(se),ce,function(he){if(he)return Q(he);ge.queue[D]={promise:[Ie,Q]},X&&(ge.queue[D].timeout=setTimeout(function(){delete ge.queue[D],Q(new Error("reply timeout"))},X))})})}},{key:"login",value:function(){var Z=(0,U.default)(J.default.mark(function pe(X){var ce;return J.default.wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.next=2,this.call("rpc.login",X);case 2:if(ce=Ie.sent,ce){Ie.next=5;break}throw new Error("authentication failed");case 5:return Ie.abrupt("return",ce);case 6:case"end":return Ie.stop()}},pe,this)}));function z(pe){return Z.apply(this,arguments)}return z}()},{key:"listMethods",value:function(){var Z=(0,U.default)(J.default.mark(function pe(){return J.default.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,this.call("__listMethods");case 2:return ce.abrupt("return",ce.sent);case 3:case"end":return ce.stop()}},pe,this)}));function z(){return Z.apply(this,arguments)}return z}()},{key:"notify",value:function(z,pe){var X=this;return new Promise(function(ce,ge){if(!X.ready)return ge(new Error("socket not ready"));var Ie={jsonrpc:"2.0",method:z,params:pe||null};X.socket.send(JSON.stringify(Ie),function(Q){if(Q)return ge(Q);ce()})})}},{key:"subscribe",value:function(){var Z=(0,U.default)(J.default.mark(function pe(X){var ce;return J.default.wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return typeof X=="string"&&(X=[X]),Ie.next=3,this.call("rpc.on",X);case 3:if(ce=Ie.sent,!(typeof X=="string"&&ce[X]!=="ok")){Ie.next=6;break}throw new Error("Failed subscribing to an event '"+X+"' with: "+ce[X]);case 6:return Ie.abrupt("return",ce);case 7:case"end":return Ie.stop()}},pe,this)}));function z(pe){return Z.apply(this,arguments)}return z}()},{key:"unsubscribe",value:function(){var Z=(0,U.default)(J.default.mark(function pe(X){var ce;return J.default.wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return typeof X=="string"&&(X=[X]),Ie.next=3,this.call("rpc.off",X);case 3:if(ce=Ie.sent,!(typeof X=="string"&&ce[X]!=="ok")){Ie.next=6;break}throw new Error("Failed unsubscribing from an event with: "+ce);case 6:return Ie.abrupt("return",ce);case 7:case"end":return Ie.stop()}},pe,this)}));function z(pe){return Z.apply(this,arguments)}return z}()},{key:"close",value:function(z,pe){this.socket.close(z||1e3,pe)}},{key:"_connect",value:function(z,pe){var X=this;this.socket=this.webSocketFactory(z,pe),this.socket.addEventListener("open",function(){X.ready=!0,X.emit("open"),X.current_reconnects=0}),this.socket.addEventListener("message",function(ce){var ge=ce.data;ge instanceof ArrayBuffer&&(ge=M.from(ge).toString());try{ge=Re.default.parse(ge)}catch(D){return}if(ge.notification&&X.listeners(ge.notification).length){if(!Object.keys(ge.params).length)return X.emit(ge.notification);var Ie=[ge.notification];if(ge.params.constructor===Object)Ie.push(ge.params);else for(var Q=0;Q<ge.params.length;Q++)Ie.push(ge.params[Q]);return Promise.resolve().then(function(){X.emit.apply(X,Ie)})}if(!X.queue[ge.id])return ge.method&&ge.params?Promise.resolve().then(function(){X.emit(ge.method,ge.params)}):void 0;"error"in ge=="result"in ge&&X.queue[ge.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),X.queue[ge.id].timeout&&clearTimeout(X.queue[ge.id].timeout),ge.error?X.queue[ge.id].promise[1](ge.error):X.queue[ge.id].promise[0](ge.result),delete X.queue[ge.id]}),this.socket.addEventListener("error",function(ce){return X.emit("error",ce)}),this.socket.addEventListener("close",function(ce){var ge=ce.code,Ie=ce.reason;X.ready&&setTimeout(function(){return X.emit("close",ge,Ie)},0),X.ready=!1,X.socket=void 0,ge!==1e3&&(X.current_reconnects++,X.reconnect&&(X.max_reconnects>X.current_reconnects||X.max_reconnects===0)&&setTimeout(function(){return X._connect(z,pe)},X.reconnect_interval))})}}]),ee}(x.EventEmitter);w.default=W},89062:function(ke,w,T){"use strict";var M=T(95318);Object.defineProperty(w,"__esModule",{value:!0}),w.default=x;var V=M(T(34575)),J=M(T(93913)),U=M(T(2205)),B=M(T(78585)),N=M(T(29754)),S=T(26729);function E(Re){var Pe=ne();return function(){var H=(0,N.default)(Re),W;if(Pe){var j=(0,N.default)(this).constructor;W=Reflect.construct(H,arguments,j)}else W=H.apply(this,arguments);return(0,B.default)(this,W)}}function ne(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Re){return!1}}var Se=function(Re){(0,U.default)(de,Re);var Pe=E(de);function de(H,W,j){var G;return(0,V.default)(this,de),G=Pe.call(this),G.socket=new window.WebSocket(H,j),G.socket.onopen=function(){return G.emit("open")},G.socket.onmessage=function(ee){return G.emit("message",ee.data)},G.socket.onerror=function(ee){return G.emit("error",ee)},G.socket.onclose=function(ee){G.emit("close",ee.code,ee.reason)},G}return(0,J.default)(de,[{key:"send",value:function(W,j,G){var ee=G||j;try{this.socket.send(W),ee()}catch(Z){ee(Z)}}},{key:"close",value:function(W,j){this.socket.close(W,j)}},{key:"addEventListener",value:function(W,j,G){this.socket.addEventListener(W,j,G)}}]),de}(S.EventEmitter);function x(Re,Pe){return new Se(Re,Pe)}},8467:function(ke,w,T){"use strict";T.r(w),T.d(w,{TextEncoder:function(){return Pe},TextDecoder:function(){return Re}});function M(W,j,G){return j<=W&&W<=G}function V(W){if(W===void 0)return{};if(W===Object(W))return W;throw TypeError("Could not convert argument to dictionary")}function J(W){for(var j=String(W),G=j.length,ee=0,Z=[];ee<G;){var z=j.charCodeAt(ee);if(z<55296||z>57343)Z.push(z);else if(56320<=z&&z<=57343)Z.push(65533);else if(55296<=z&&z<=56319)if(ee===G-1)Z.push(65533);else{var pe=W.charCodeAt(ee+1);if(56320<=pe&&pe<=57343){var X=z&1023,ce=pe&1023;Z.push(65536+(X<<10)+ce),ee+=1}else Z.push(65533)}ee+=1}return Z}function U(W){for(var j="",G=0;G<W.length;++G){var ee=W[G];ee<=65535?j+=String.fromCharCode(ee):(ee-=65536,j+=String.fromCharCode((ee>>10)+55296,(ee&1023)+56320))}return j}var B=-1;function N(W){this.tokens=[].slice.call(W)}N.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():B},prepend:function(W){if(Array.isArray(W))for(var j=W;j.length;)this.tokens.unshift(j.pop());else this.tokens.unshift(W)},push:function(W){if(Array.isArray(W))for(var j=W;j.length;)this.tokens.push(j.shift());else this.tokens.push(W)}};var S=-1;function E(W,j){if(W)throw TypeError("Decoder error");return j||65533}function ne(){}ne.prototype={handler:function(W,j){}};function Se(){}Se.prototype={handler:function(W,j){}};var x="utf-8";function Re(W,j){if(!(this instanceof Re))return new Re(W,j);if(W=W!==void 0?String(W).toLowerCase():x,W!==x)throw new Error("Encoding not supported. Only utf-8 is supported");j=V(j),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(j.fatal),this._ignoreBOM=Boolean(j.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Re.prototype={decode:function(j,G){var ee;typeof j=="object"&&j instanceof ArrayBuffer?ee=new Uint8Array(j):typeof j=="object"&&"buffer"in j&&j.buffer instanceof ArrayBuffer?ee=new Uint8Array(j.buffer,j.byteOffset,j.byteLength):ee=new Uint8Array(0),G=V(G),this._streaming||(this._decoder=new de({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(G.stream);for(var Z=new N(ee),z=[],pe;!Z.endOfStream()&&(pe=this._decoder.handler(Z,Z.read()),pe!==S);)pe!==null&&(Array.isArray(pe)?z.push.apply(z,pe):z.push(pe));if(!this._streaming){do{if(pe=this._decoder.handler(Z,Z.read()),pe===S)break;pe!==null&&(Array.isArray(pe)?z.push.apply(z,pe):z.push(pe))}while(!Z.endOfStream());this._decoder=null}return z.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(z[0]===65279?(this._BOMseen=!0,z.shift()):this._BOMseen=!0),U(z)}};function Pe(W,j){if(!(this instanceof Pe))return new Pe(W,j);if(W=W!==void 0?String(W).toLowerCase():x,W!==x)throw new Error("Encoding not supported. Only utf-8 is supported");j=V(j),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(j.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}Pe.prototype={encode:function(j,G){j=j?String(j):"",G=V(G),this._streaming||(this._encoder=new H(this._options)),this._streaming=Boolean(G.stream);for(var ee=[],Z=new N(J(j)),z;!Z.endOfStream()&&(z=this._encoder.handler(Z,Z.read()),z!==S);)Array.isArray(z)?ee.push.apply(ee,z):ee.push(z);if(!this._streaming){for(;z=this._encoder.handler(Z,Z.read()),z!==S;)Array.isArray(z)?ee.push.apply(ee,z):ee.push(z);this._encoder=null}return new Uint8Array(ee)}};function de(W){var j=W.fatal,G=0,ee=0,Z=0,z=128,pe=191;this.handler=function(X,ce){if(ce===B&&Z!==0)return Z=0,E(j);if(ce===B)return S;if(Z===0){if(M(ce,0,127))return ce;if(M(ce,194,223))Z=1,G=ce-192;else if(M(ce,224,239))ce===224&&(z=160),ce===237&&(pe=159),Z=2,G=ce-224;else if(M(ce,240,244))ce===240&&(z=144),ce===244&&(pe=143),Z=3,G=ce-240;else return E(j);return G=G<<6*Z,null}if(!M(ce,z,pe))return G=Z=ee=0,z=128,pe=191,X.prepend(ce),E(j);if(z=128,pe=191,ee+=1,G+=ce-128<<6*(Z-ee),ee!==Z)return null;var ge=G;return G=Z=ee=0,ge}}function H(W){var j=W.fatal;this.handler=function(G,ee){if(ee===B)return S;if(M(ee,0,127))return ee;var Z,z;M(ee,128,2047)?(Z=1,z=192):M(ee,2048,65535)?(Z=2,z=224):M(ee,65536,1114111)&&(Z=3,z=240);for(var pe=[(ee>>6*Z)+z];Z>0;){var X=ee>>6*(Z-1);pe.push(128|X&63),Z-=1}return pe}}}}]);

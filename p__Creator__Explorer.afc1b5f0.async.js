(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[8172],{37550:function(ge){ge.exports={advertisement:"advertisement___2lhSh",cover:"cover___3ydoR",adMedia:"adMedia___2M9lZ",adMediaImg:"adMediaImg___2AnuR",guideClickContainer:"guideClickContainer___1Oybe",guideClickFinger:"guideClickFinger___xwG41",fingerHandle:"fingerHandle___3BuFQ",guideClickText:"guideClickText___2H95q",viewer:"viewer___BKj8L",meta:"meta___2-A2T",daoCardContent:"daoCardContent___2-Fqi",countDown:"countDown____U0R1",share:"share___3Z4qi",shareButton:"shareButton___1xnZm",userCard:"userCard___21hkC",user:"user___2_ahS",avatar:"avatar___3D1E2",info:"info___1TvVx",did:"did___2l6RX",assetsData:"assetsData___2HKpN",trade:"trade___28ESA",pairCoins:"pairCoins___2MPU-",pairCoinsItem:"pairCoinsItem___9HsfO",pairCoinsSelect:"pairCoinsSelect___3n7mZ",pairCoin:"pairCoin___dCpAR",pairCoinsItemIcon:"pairCoinsItemIcon___3QVpA",pairCoinsItemLabel:"pairCoinsItemLabel___3lpAy",pairCoinsItemInput:"pairCoinsItemInput___3AU_-",pairCoinsBalance:"pairCoinsBalance___q965W",balance:"balance___3vofh",maxButton:"maxButton___2smdF",pairCoinsSwitchButton:"pairCoinsSwitchButton___OiJlN",pairCoinsFlat:"pairCoinsFlat___qvkXZ",submitButton:"submitButton___3CDz3",tradeModal:"tradeModal___zsFM5",input:"input___hw-Kw",field:"field___2IvJY",title:"title___1o7rE",value:"value___2ivq-",container:"container___3S--u",topBar:"topBar___1Bs-Q",sponsored:"sponsored___1GAt0"}},90802:function(ge){ge.exports={dashboard:"dashboard___1yzjn",header:"header___7HFGw",buttons:"buttons____mn0V",button:"button___2bNYM",confirm:"confirm___14R24",topIcon:"topIcon___lcz8T",title:"title___3OHiQ",field:"field___1rYhg",value:"value___VpweH",notUser:"notUser___1H3wh",desc:"desc___3002O",buttonImport:"buttonImport___1UVlX",notSupport:"notSupport___3AII_",icon:"icon___2lOpA",text:"text___2HCAz",loading:"loading___38OsL",loadingTip:"loadingTip___2K2wM",avatar:"avatar___1Itlz",rotate:"rotate___3cdkL",image_blur:"image_blur___1JtdU"}},46656:function(ge,ce,a){"use strict";var ga=a(71194),Q=a(50146),$e=a(47673),L=a(32787),Pe=a(22385),q=a(31097),S=a(17462),Ae=a(76772),P=a(57663),m=a(71577),ta=a(74379),d=a(38648),u=a(3182),ha=a(2824),_a=a(402),Ba=a(3887),Oe=a(94043),ze=a.n(Oe),Te=a(67294),He=a(43581),ra=a(55133),E=a.n(ra),na=a(3548),ya=a(68855),xa=a(47832),w=a(55347),Ma=a(51625),n=a(85893),M=Ba.Z.Title,la=function(ve){var he=ve.visable,ia=ve.setVisable,t=ve.passphrase,ye=ve.setPassphrase,xe=ve.func,Ne=ve.changePassphrase,Ve=(0,He.tT)("apiWs"),Ge=(0,He.tT)("currentUser"),l=Ge.wallet,e=(0,He.tT)("balance"),ja=e.balance,Sa=(0,Te.useState)(!1),ee=(0,ha.Z)(Sa,2),ae=ee[0],ne=ee[1],Ea=(0,Te.useState)(),oa=(0,ha.Z)(Ea,2),me=oa[0],da=oa[1],se=(0,He.YB)(),Za=function(ie){ye(ie?ie.target.value:"")},ua=function(){var le=(0,u.Z)(ze().mark(function ie(){var k,Je,Z,Ca,_e;return ze().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(ne(!0),l!=null&&l.passphrase&&ye(l==null?void 0:l.passphrase),!((!t||t.length<6)&&!(l!=null&&l.passphrase))){K.next=5;break}return ne(!1),K.abrupt("return");case 5:if(k=(l==null?void 0:l.passphrase)||t,!(k&&l!==null&&l!==void 0&&l.keystore)){K.next=16;break}if(Je=(0,xa.Gh)(k,l.keystore),Je){K.next=13;break}return d.default.error({key:"passphraseError",message:se.formatMessage({id:"error.passphrase.error"}),duration:null}),ye(""),ne(!1),K.abrupt("return");case 13:Z=new w.ZP({type:"sr25519"}),Ca=Z.addFromUri(Je),_e=Ca.address,l!=null&&l.account&&l.account!==_e&&(localStorage.clear(),sessionStorage.clear(),window.location.href=Ma.Z.page.homePage);case 16:if(!xe){K.next=19;break}return K.next=19,xe();case 19:ia(!1),ne(!1);case 21:case"end":return K.stop()}},ie)}));return function(){return le.apply(this,arguments)}}(),La=function(){var le=(0,u.Z)(ze().mark(function ie(){var k;return ze().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(!!Ve&&!!l.account)){Z.next=11;break}return Z.next=3,xe(!0,l.account);case 3:if(k=Z.sent,!k){Z.next=8;break}da(k.partialFee),Z.next=11;break;case 8:if(Ne){Z.next=11;break}return Z.next=11,ua();case 11:case"end":return Z.stop()}},ie)}));return function(){return le.apply(this,arguments)}}();return(0,Te.useEffect)(function(){!!Ve&&!!(l!=null&&l.account)&&he&&La()},[Ve,l==null?void 0:l.account,he]),(0,Te.useEffect)(function(){!!(l!=null&&l.passphrase)&&he&&!Ne&&ye(l==null?void 0:l.passphrase)},[l==null?void 0:l.passphrase,t,he,Ne]),(0,n.jsxs)(Q.Z,{title:(0,n.jsx)(M,{level:3,children:se.formatMessage({id:"modal.security.title"})}),closable:!1,className:E().modal,centered:!0,visible:he,width:400,footer:(0,n.jsxs)("div",{className:E().buttons,children:[(0,n.jsx)(m.Z,{type:"text",shape:"round",size:"large",className:E().button,onClick:function(){ia(!1),window.location.reload()},loading:ae,children:se.formatMessage({id:"common.decline"})}),(0,n.jsx)(m.Z,{type:"primary",shape:"round",size:"large",className:E().button,onClick:function(){ua()},disabled:!t||t.length<6,loading:ae,children:se.formatMessage({id:"common.confirm"})})]}),children:[(0,n.jsxs)("div",{className:E().confirmContainer,children:[!!me&&!!(me!=null&&me.toString())>ja.free&&(0,n.jsx)(Ae.Z,{description:se.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:E().alertContainer}),!!me&&(0,n.jsxs)("div",{className:E().field,children:[(0,n.jsxs)("div",{className:E().labal,children:[se.formatMessage({id:"modal.security.gas"}),(0,n.jsxs)("span",{className:E().small,children:["(",se.formatMessage({id:"modal.security.estimated"}),")"]}),(0,n.jsx)(q.Z,{placement:"bottom",title:se.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,n.jsx)(ya.Z,{className:E().labalIcon})})]}),(0,n.jsx)("div",{className:E().value,children:(0,n.jsx)(na.Z,{value:me,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(l!=null&&l.passphrase)||Ne)&&(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,n.jsxs)("div",{className:E().codeInput,children:[(0,n.jsxs)("div",{className:E().verifyForm,children:[(0,n.jsx)("span",{className:(t==null?void 0:t.slice(0))&&!(t!=null&&t.slice(1,5))&&E().highLight,children:t==null?void 0:t.slice(0,1).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{className:(t==null?void 0:t.slice(1))&&!(t!=null&&t.slice(2,5))&&E().highLight,children:t==null?void 0:t.slice(1,2).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{className:(t==null?void 0:t.slice(2,3))&&!(t!=null&&t.slice(3,5))&&E().highLight,children:t==null?void 0:t.slice(2,3).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{className:(t==null?void 0:t.slice(3,4))&&!(t!=null&&t.slice(4,5))&&E().highLight,children:t==null?void 0:t.slice(3,4).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{className:(t==null?void 0:t.slice(4,5))&&!(t!=null&&t.slice(5))&&E().highLight,children:t==null?void 0:t.slice(4,5).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{className:(t==null?void 0:t.slice(5))&&E().highLight,children:t==null?void 0:t.slice(5).replace(/[^]/,"\u2731")})]}),(0,n.jsx)(L.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:E().verifyInput,onChange:Za,value:t,disabled:ae,maxLength:6,visibilityToggle:!1})]})})]})};ce.Z=la},44729:function(ge,ce,a){"use strict";var ga=a(71194),Q=a(50146),$e=a(67294),L=a(55133),Pe=a.n(L),q=a(85893),S=function(P){var m=P.visable,ta=P.content,d=P.footer;return(0,q.jsx)(Q.Z,{title:!1,closable:!1,className:Pe().modal,centered:!0,visible:m,width:650,footer:d,children:ta})};ce.Z=S},57651:function(ge,ce,a){"use strict";var ga=a(67294),Q=a(31639),$e=a.n(Q),L=a(96534),Pe=a(85893),q=function(Ae){var P=Ae.value,m=Ae.symbol;return(0,Pe.jsxs)("div",{className:$e().ad3,children:[P?(0,L.MP)(P.replaceAll(",","")):"--",m&&(0,Pe.jsxs)("span",{className:$e().unit,children:["\xA0$",m]})]})};ce.Z=q},8184:function(ge,ce,a){"use strict";a.r(ce),a.d(ce,{default:function(){return ns}});var ga=a(48736),Q=a(27049),$e=a(57663),L=a(71577),Pe=a(12968),q=a(62462),S=a(3182),Ae=a(74379),P=a(38648),m=a(2824),ta=a(94043),d=a.n(ta),u=a(67294),ha=a(49111),_a=a(19650),Ba=a(58024),Oe=a(39144),ze=a(17462),Te=a(76772),He=a(71153),ra=a(60331),E=a(34792),na=a(48086),ya=a(97005),xa=a(55909),w=a.n(xa),Ma=a(37550),n=a.n(Ma),M=a(43581),la=a(33182),Ua=a(2037),ve=a(8812),he=a(47438),ia=a(71028),t=a(68628),ye=a(44729),xe=a(69764),Ne=a(8870),Ve=a(25151),Ge=a(43002),l=a(59749),e=a(85893),ja=function(h){var f=h.adData,O=(0,M.tT)("apiWs"),A=(0,u.useState)([]),I=(0,m.Z)(A,2),v=I[0],B=I[1],$=BigInt((0,l.At)(f==null?void 0:f.budget));(0,u.useEffect)(function(){O&&(0,Ge.dr)(f==null?void 0:f.id,$).then(function(C){return B(C)})},[f,$,O]);var b={data:[v,v],xField:"time",yField:["budget","viewer"],geometryOptions:[{geometry:"line",color:"#5B8FF9"},{geometry:"line",color:"#5AD8A6"}],yAxis:{viewer:{min:0,label:{formatter:function(R){return"".concat(R," Viewers")}}},budget:{min:0,label:{formatter:function(R){return"".concat(R," AD3")}}}},legend:{custom:!0,position:"bottom",items:[{value:"value",name:"Viewers",marker:{symbol:"square",style:{fill:"#5B8FF9",r:5}}},{value:"count",name:"Budget",marker:{symbol:"square",style:{fill:"#5AD8A6",r:5}}}]}};return(0,e.jsx)(Ve.Z,(0,Ne.Z)({},b))},Sa=ja,ee=a(96534),ae=a(51625),ne=a(57651),Ea=a(20640),oa=a.n(Ea),me=a(55347),da=a(46656),se=a(47832),Za=function(h){var f=h.ad,O=h.nftId,A=h.viewer,I=h.referer,v=h.asset,B=h.avatar,$=h.did,b=h.adData,C=h.remain,R=C===void 0?0:C,Me=h.adImageOnLoad,Be=Me===void 0?function(){}:Me,oe=(0,M.tT)("currentUser"),g=oe.wallet,Ue=(0,u.useState)(!1),G=(0,m.Z)(Ue,2),de=G[0],je=G[1],Le=(0,u.useState)(!1),fe=(0,m.Z)(Le,2),T=fe[0],Se=fe[1],ke=(0,u.useState)(""),Ee=(0,m.Z)(ke,2),y=Ee[0],z=Ee[1],Qe=(0,u.useState)(!1),H=(0,m.Z)(Qe,2),N=H[0],ue=H[1],Ze=(0,u.useState)(""),pe=(0,m.Z)(Ze,2),va=pe[0],j=pe[1],U=(0,M.YB)(),qe=g!=null&&g.did?"".concat(window.location.origin,"/").concat($,"?referrer=").concat(g==null?void 0:g.did):"".concat(window.location.origin,"/").concat($),Ia=M.m8.location.query,ma=Ia,ba=ma.audience,We=ma.scope,Pa=We!=null?We:"",we=Pa.indexOf("sign")>-1,Aa=function(){var W=(0,S.Z)(d().mark(function J(){var te,x,ea,V,aa,Ce,fa,pa,sa;return d().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!(!!g&&!!(g!=null&&g.keystore))){Y.next=19;break}if(te=Date.now()/1e3|0,x=JSON.stringify({alg:we?"SrDSA":"none",typ:"JWT"}),ea=JSON.stringify({iss:window.location.origin,sub:g==null?void 0:g.account,aud:ba,iat:te,exp:te+30}),V="".concat((0,l.tH)(x),".").concat((0,l.tH)(ea)),we){Y.next=8;break}return j("".concat(V,".")),Y.abrupt("return");case 8:if(aa=new me.ZP({type:"sr25519"}),Ce=(0,se.Gh)((g==null?void 0:g.passphrase)||y,g==null?void 0:g.keystore),!(Ce==null||!Ce)){Y.next=13;break}return na.default.error(U.formatMessage({id:"error.passphrase.error"})),Y.abrupt("return");case 13:fa=aa.createFromUri(Ce),pa=fa.sign(V),sa="".concat(V,".").concat((0,l.tH)(pa)),j(sa),Y.next=20;break;case 19:P.default.error({key:"accessDenied",message:U.formatMessage({id:"error.accessDenied"}),duration:null});case 20:case"end":return Y.stop()}},J)}));return function(){return W.apply(this,arguments)}}(),Re=function(){var W=(0,S.Z)(d().mark(function J(te,x){return d().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(te&&x)){V.next=2;break}return V.abrupt("return");case 2:window.open("".concat(f==null?void 0:f.link,"&nftId=").concat(O,"&stamp=").concat(va,"&ad=").concat(b==null?void 0:b.id,"&t=").concat(Date.now()));case 3:case"end":return V.stop()}},J)}));return function(te,x){return W.apply(this,arguments)}}(),Ke=(0,ee.st)(b==null?void 0:b.creator).substring(8);return(0,u.useEffect)(function(){!!g&&!!(g!=null&&g.keystore)&&Aa()},[g,g==null?void 0:g.keystore]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:n().container,children:(0,e.jsx)("div",{className:n().topBar,children:(0,e.jsxs)("div",{className:n().sponsored,children:[(0,e.jsx)(q.Z,{src:B||"/images/logo-round-core.svg",className:n().avatar,preview:!1,id:"avatar",fallback:"/images/logo-round-core.svg"}),(0,e.jsx)("span",{children:U.formatMessage({id:"creator.explorer.advertisement.sponsoredBy"},{did:"".concat(Ke)})})]})})}),(0,e.jsx)(Oe.Z,{className:"".concat(w().card," ").concat(n().adCard),bodyStyle:{padding:0,width:"100%"},children:(0,e.jsxs)("div",{className:n().advertisement,children:[(0,e.jsxs)("div",{className:n().cover,children:[(0,e.jsxs)("div",{className:n().viewer,children:[(0,e.jsx)(ra.Z,{icon:(0,e.jsx)(la.Z,{}),color:"rgba(0,0,0,.5)",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:15,padding:5},onClick:function(){Se(!0)},children:I}),(0,e.jsxs)(ra.Z,{icon:(0,e.jsx)(Ua.Z,{}),color:"rgba(0,0,0,.5)",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:15,padding:5},onClick:function(){Se(!0)},children:[A,(0,e.jsx)(ve.Z,{style:{fontSize:12,padding:5}})]})]}),(0,e.jsxs)("div",{className:n().adMedia,children:[(0,e.jsxs)("div",{className:n().guideClickContainer,onClick:function(){we?ue(!0):Re()},children:[(0,e.jsx)("div",{className:n().guideClickFinger}),(0,e.jsx)("div",{className:n().guideClickText,children:U.formatMessage({id:"creator.explorer.advertisement.earnUpTo"},{value:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("span",{style:{color:"#ff5b00",fontSize:"1.3rem",marginLeft:10},children:(0,e.jsx)(ne.Z,{value:ae.Z.const.adEarnUpTo,symbol:v==null?void 0:v.symbol})})})})})]}),(0,e.jsx)(q.Z,{src:f==null?void 0:f.media,placeholder:!0,preview:!1,style:{cursor:"pointer",width:"100%"},className:n().adMediaImg,onClick:function(){we?ue(!0):Re()},onLoad:Be})]})]}),(0,e.jsx)(Te.Z,{banner:!0,icon:(0,e.jsx)(he.Z,{}),className:n().meta,message:(0,e.jsxs)(ya.Z,{pauseOnHover:!0,gradient:!1,children:[(0,e.jsx)("strong",{children:f==null?void 0:f.title}),":",f==null?void 0:f.desc]})})]})}),(0,e.jsxs)("span",{className:n().countDown,children:[(0,e.jsx)("span",{style:{display:"flex",fontSize:"1.3rem",textAlign:"center"},children:U.formatMessage({id:"creator.explorer.advertisement.earnUpTo"},{value:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("span",{style:{color:"#ff5b00",fontSize:"1.3rem",marginLeft:10},children:(0,e.jsx)(ne.Z,{value:ae.Z.const.adEarnUpTo,symbol:v==null?void 0:v.symbol})})})})}),(0,e.jsxs)(_a.Z,{children:[(0,e.jsx)(ia.Z,{}),(0,e.jsx)("span",{children:U.formatMessage({id:"creator.explorer.advertisement.remain"})}),(0,e.jsx)("span",{children:(0,e.jsx)(ne.Z,{value:R==null?void 0:R.toString(),symbol:v==null?void 0:v.symbol})})]})]}),(0,e.jsxs)("div",{className:n().share,children:[(0,e.jsx)(L.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,e.jsx)(la.Z,{}),className:n().shareButton,onClick:(0,S.Z)(d().mark(function W(){var J;return d().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(J={title:"Para Metaverse Identity",text:U.formatMessage({id:"creator.explorer.shareMessage"}),url:qe},!(navigator.canShare&&navigator.canShare(J))){x.next=12;break}return x.prev=2,x.next=5,navigator.share(J);case 5:x.next=10;break;case 7:x.prev=7,x.t0=x.catch(2),console.log(x.t0);case 10:x.next=14;break;case 12:oa()(qe+" ".concat(U.formatMessage({id:"creator.explorer.shareMessage"},{token:"$".concat(v==null?void 0:v.symbol)}))),na.default.success(U.formatMessage({id:"common.copied"}));case 14:case"end":return x.stop()}},W,null,[[2,7]])})),children:U.formatMessage({id:"creator.explorer.advertisement.share"},{token:"$".concat(v==null?void 0:v.symbol)})}),(0,e.jsx)(L.Z,{type:"primary",shape:"circle",size:"large",icon:(0,e.jsx)(t.Z,{}),onClick:function(){je(!0)}})]}),(0,e.jsx)(ye.Z,{visable:de,content:U.formatMessage({id:"creator.explorer.advertisement.share.desc"}),footer:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(L.Z,{block:!0,shape:"round",size:"large",onClick:function(){je(!1)},children:U.formatMessage({id:"common.close"})})})}),(0,e.jsx)(xe.Z,{visable:T,title:U.formatMessage({id:"creator.explorer.chart"}),content:(0,e.jsx)(Sa,{adData:b}),footer:!1,close:function(){Se(!1)}}),(0,e.jsx)(da.Z,{visable:N,setVisable:ue,passphrase:y,setPassphrase:z,func:Re})]})},ua=Za,La=a(13062),le=a(36725),ie=a(89032),k=a(1635),Je=a(95300),Z=a(7277),Ca=a(402),_e=a(3887),Ye=a(3548),K=_e.Z.Title,$a=function(h){var f=h.asset,O=h.assetPrice,A=h.totalSupply,I=h.member,v=(0,M.YB)();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(K,{level:5,style:{fontWeight:"bold",textAlign:"center",marginTop:10},className:w().title,children:v.formatMessage({id:"creator.explorer.stat"})}),(0,e.jsx)(Oe.Z,{className:w().card,bodyStyle:{width:"100%"},children:(0,e.jsx)("div",{className:n().stat,children:(0,e.jsxs)(le.Z,{gutter:[16,16],style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:[(0,e.jsx)(k.Z,{xs:12,sm:12,md:8,lg:8,xl:4,children:(0,e.jsx)(Z.Z,{title:"1 "+(f==null?void 0:f.symbol),formatter:function(){return(0,e.jsx)(Ye.Z,{value:O})}})}),(0,e.jsx)(k.Z,{xs:12,sm:12,md:8,lg:8,xl:4,children:(0,e.jsx)(Z.Z,{title:v.formatMessage({id:"creator.explorer.totalIssues"}),formatter:function(){return(0,e.jsx)(ne.Z,{value:A.toString(),symbol:f==null?void 0:f.symbol})}})}),(0,e.jsx)(k.Z,{xs:12,sm:12,md:8,lg:8,xl:4,children:(0,e.jsx)(Z.Z,{title:v.formatMessage({id:"creator.explorer.totalValue"}),formatter:function(){return(0,e.jsx)(Ye.Z,{value:(BigInt(O)*BigInt(3e6)).toString()})}})}),(0,e.jsx)(k.Z,{xs:12,sm:12,md:8,lg:8,xl:4,children:(0,e.jsx)(Z.Z,{title:v.formatMessage({id:"creator.explorer.reservedValue"}),formatter:function(){return(0,e.jsx)(Ye.Z,{value:(BigInt(O)*BigInt(1e6)).toString()})}})}),(0,e.jsx)(k.Z,{xs:12,sm:12,md:8,lg:8,xl:4,children:(0,e.jsx)(Z.Z,{title:v.formatMessage({id:"creator.explorer.members"}),value:I==null?void 0:I.length})})]})})})]})},za=$a,Ha=a(42297),Va=a(47218),Ga=function(h){var f=h.avatar,O=h.did,A=h.user,I=h.asset,v=h.assetId,B=(0,M.YB)(),$=_e.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Q.Z,{children:(0,e.jsx)("strong",{style:{opacity:.5},children:B.formatMessage({id:"creator.explorer.aboutDao",defaultMessage:"About {name} DAO"},{name:A==null?void 0:A.nickname})})}),(0,e.jsx)(Oe.Z,{className:n().userCard,bodyStyle:{width:"100%"},children:(0,e.jsxs)("div",{className:n().user,children:[(0,e.jsx)(q.Z,{src:f,className:n().avatar,fallback:"/images/logo-round-core.svg",preview:!1}),(0,e.jsxs)("div",{className:n().info,children:[(0,e.jsx)($,{level:3,className:n().nickname,children:A==null?void 0:A.nickname.toString()}),(0,e.jsx)(Ha.Z,{did:(0,ee.Zc)(O)}),I&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Q.Z,{}),(0,e.jsx)("div",{className:n().assetsData,children:(0,e.jsx)(le.Z,{gutter:16,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%"},children:(0,e.jsxs)(k.Z,{span:24,children:[(0,e.jsx)(Z.Z,{title:B.formatMessage({id:"creator.explorer.coinName"}),prefix:"$",value:I==null?void 0:I.name,valueStyle:{textAlign:"center"}}),(0,e.jsx)(L.Z,{type:"primary",shape:"round",size:"large",icon:(0,e.jsx)(Va.Z,{}),onClick:function(){M.m8.push("/swap/".concat(v))},children:"Swap Token"})]})})})]})]})]})})]})},Ja=Ga,Ya=a(90802),F=a.n(Ya),Xa=a(51615),Da=a(28943),Ts=a(20228),Qa=a(11382),Ns=a(47673),ka=a(32787),qa=_e.Z.Title,es=function(h){var f=h.nft,O=(0,M.tT)("balance"),A=O.balance,I=(0,M.tT)("currentUser"),v=I.wallet,B=(0,u.useState)(!1),$=(0,m.Z)(B,2),b=$[0],C=$[1],R=(0,u.useState)(!1),Me=(0,m.Z)(R,2),Be=Me[0],oe=Me[1],g=(0,u.useState)("0"),Ue=(0,m.Z)(g,2),G=Ue[0],de=Ue[1],je=(0,u.useState)(""),Le=(0,m.Z)(je,2),fe=Le[0],T=Le[1],Se=(0,u.useState)(!1),ke=(0,m.Z)(Se,2),Ee=ke[0],y=ke[1],z=(0,M.YB)(),Qe=function(){var H=(0,S.Z)(d().mark(function N(ue,Ze){var pe;return d().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(!!v&&!!(v!=null&&v.keystore))){j.next=18;break}return j.prev=1,j.next=4,(0,Da.MW)(f.tokenAssetId,(0,l.HM)(G,18).toString(),fe,v==null?void 0:v.keystore,ue,Ze);case 4:if(pe=j.sent,oe(!1),C(!1),!(ue&&Ze)){j.next=9;break}return j.abrupt("return",pe);case 9:j.next=16;break;case 11:return j.prev=11,j.t0=j.catch(1),P.default.error({message:j.t0.message||j.t0,duration:null}),C(!1),j.abrupt("return");case 16:j.next=19;break;case 18:P.default.error({key:"accessDenied",message:z.formatMessage({id:"error.accessDenied"}),duration:null});case 19:case"end":return j.stop()}},N,null,[[1,11]])}));return function(ue,Ze){return H.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(Qa.Z,{tip:z.formatMessage({id:"common.submitting"}),spinning:b,wrapperClassName:w().pageContainer,children:[(0,e.jsx)(Oe.Z,{className:w().card,bodyStyle:{width:"100%"},children:(0,e.jsxs)("div",{className:n().trade,children:[(0,e.jsx)(qa,{level:3,style:{fontWeight:"bold",textAlign:"center"},className:w().title,children:z.formatMessage({id:"creator.explorer.support"})}),(0,e.jsx)(ka.Z,{autoFocus:!0,size:"large",placeholder:"0",bordered:!1,className:"".concat(n().input," bigInput"),value:G,onChange:function(N){de(N.target.value)},disabled:b,type:"number"}),(0,e.jsx)(Q.Z,{}),(0,e.jsx)(L.Z,{block:!0,shape:"round",type:"primary",size:"large",onClick:function(){oe(!0)},children:z.formatMessage({id:"creator.explorer.support"})})]})}),(0,e.jsx)(xe.Z,{visable:Be,title:z.formatMessage({id:"creator.explorer.support"}),content:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:n().tradeModal,children:[(0,e.jsx)(ka.Z,{autoFocus:!0,size:"large",placeholder:z.formatMessage({id:"stake.add.number.placeholder"}),bordered:!1,className:"".concat(n().input," bigInput"),value:G,onChange:function(N){de(N.target.value)},disabled:b,type:"number"}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("span",{className:n().title,children:z.formatMessage({id:"creator.explorer.availableBalance"})}),(0,e.jsx)("span",{className:n().value,children:(0,e.jsx)(Ye.Z,{value:A.free})})]})]})}),footer:(0,e.jsx)(L.Z,{block:!0,shape:"round",type:"primary",size:"large",loading:b,disabled:(0,l.HM)(G,18)<=BigInt(0)||(0,l.HM)(G,18)>BigInt(A.free),onClick:function(){C(!0),y(!0)},children:z.formatMessage({id:"common.submit"})}),close:function(){oe(!1)}}),(0,e.jsx)(da.Z,{visable:Ee,setVisable:y,passphrase:fe,setPassphrase:T,func:Qe})]})})},as=es,ss=a(61715),ts=a(32689),ca=a(13580),Wa=a(33044),rs=function(){var h,f,O=(0,M.tT)("apiWs"),A=(0,M.tT)("currentUser"),I=A.wallet,v=(0,M.tT)("bodyChange"),B=v.bodyHeight,$=(0,u.useState)(!0),b=(0,m.Z)($,2),C=b[0],R=b[1],Me=(0,u.useState)(""),Be=(0,m.Z)(Me,2),oe=Be[0],g=Be[1],Ue=(0,u.useState)(!0),G=(0,m.Z)(Ue,2),de=G[0],je=G[1],Le=(0,u.useState)(),fe=(0,m.Z)(Le,2),T=fe[0],Se=fe[1],ke=(0,u.useState)(),Ee=(0,m.Z)(ke,2),y=Ee[0],z=Ee[1],Qe=(0,u.useState)(),H=(0,m.Z)(Qe,2),N=H[0],ue=H[1],Ze=(0,u.useState)(""),pe=(0,m.Z)(Ze,2),va=pe[0],j=pe[1],U=(0,u.useState)(BigInt(0)),qe=(0,m.Z)(U,2),Ia=qe[0],ma=qe[1],ba=(0,u.useState)(!1),We=(0,m.Z)(ba,2),Pa=We[0],we=We[1],Aa=(0,u.useState)(),Re=(0,m.Z)(Aa,2),Ke=Re[0],W=Re[1],J=(0,u.useState)(),te=(0,m.Z)(J,2),x=te[0],ea=te[1],V=(0,u.useState)(null),aa=(0,m.Z)(V,2),Ce=aa[0],fa=aa[1],pa=(0,u.useState)(),sa=(0,m.Z)(pa,2),Oa=sa[0],Y=sa[1],ls=(0,u.useState)(),wa=(0,m.Z)(ls,2),is=wa[0],os=wa[1],ds=(0,u.useState)(),Ra=(0,m.Z)(ds,2),us=Ra[0],cs=Ra[1],vs=(0,u.useState)(),Ka=(0,m.Z)(vs,2),ms=Ka[0],fs=Ka[1],re=(0,M.YB)(),Ta=(0,M.md)(),ps=(h=document.getElementById("avatar"))===null||h===void 0?void 0:h.offsetTop,gs=(f=document.getElementById("avatar"))===null||f===void 0?void 0:f.offsetLeft,hs=document.body.clientWidth,_=(0,Xa.UO)(),ys=M.m8.location.query,xs=ys,Fa=xs.referrer,De=_!=null&&_.kol?"did"+(_==null?void 0:_.kol):(0,ee.st)(I.did),Na=(0,ee.Zc)(De),Fe=function(i){P.default.error({message:i.message,duration:null})},Ms=function(){var o=(0,S.Z)(d().mark(function i(){var r;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,ss.qX)(_.nftID);case 2:if(r=s.sent,r){s.next=6;break}return R(!1),s.abrupt("return");case 6:W(r);case 7:case"end":return s.stop()}},i)}));return function(){return o.apply(this,arguments)}}(),js=function(){var o=(0,S.Z)(d().mark(function i(r){var p;return d().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,Ge.ly)(r==null?void 0:r.id);case 2:p=c.sent,Y(p);case 4:case"end":return c.stop()}},i)}));return function(r){return o.apply(this,arguments)}}(),Ss=function(){var o=(0,S.Z)(d().mark(function i(r){var p;return d().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,Ge.hg)(r==null?void 0:r.id);case 2:p=c.sent,os(p);case 4:case"end":return c.stop()}},i)}));return function(r){return o.apply(this,arguments)}}(),Es=function(){var o=(0,S.Z)(d().mark(function i(r){var p,s,c,D,Ie;return d().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!((r==null||(p=r.metadata)===null||p===void 0?void 0:p.indexOf("ipfs://"))<0)){X.next=2;break}return X.abrupt("return");case 2:return c=r==null||(s=r.metadata)===null||s===void 0?void 0:s.substring(7),X.next=5,fetch(ae.Z.ipfs.endpoint+c);case 5:return D=X.sent,X.next=8,D.json();case 8:if(Ie=X.sent,Ie){X.next=11;break}return X.abrupt("return");case 11:Ie.link=Ie.link+"?kol="+(0,ee.Zc)(De),Fa&&(Ie.link+="&referrer="+Fa),fa(Ie);case 15:case"end":return X.stop()}},i)}));return function(r){return o.apply(this,arguments)}}(),Zs=function(){var o=(0,S.Z)(d().mark(function i(r){var p,s;return d().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,ca.L7)(r.budgetPot,r.fractionId);case 2:s=D.sent,fs(BigInt((s==null||(p=s.balance)===null||p===void 0?void 0:p.replaceAll(",",""))||"0"));case 4:case"end":return D.stop()}},i)}));return function(r){return o.apply(this,arguments)}}();(0,u.useEffect)(function(){if(Ke)try{Zs(Ke);var o=Ke.ad;if(!(o!=null&&o.metadata))return;ea(o),js(o),Ss(o),Es(o)}catch(i){Fe(i)}},[Ke]);var Cs=function(){var o=(0,S.Z)(d().mark(function i(){var r;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,Da.JI)(Na);case 3:if(r=s.sent,!r.isEmpty){s.next=7;break}return je(!1),s.abrupt("return");case 7:window.location.href="".concat(window.location.origin,"/").concat(De,"/").concat(r),s.next=14;break;case 10:return s.prev=10,s.t0=s.catch(0),P.default.error({message:s.t0.message,duration:null}),s.abrupt("return");case 14:case"end":return s.stop()}},i,null,[[0,10]])}));return function(){return o.apply(this,arguments)}}(),Ds=function(){var o=(0,S.Z)(d().mark(function i(){var r;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,Wa.q5)(Na);case 2:if(r=s.sent,r){s.next=7;break}return P.default.error({message:re.formatMessage({id:"error.identity.notFound"}),duration:null}),M.m8.goBack(),s.abrupt("return");case 7:Se(r);case 9:case"end":return s.stop()}},i)}));return function(){return o.apply(this,arguments)}}(),Is=function(){var o=(0,S.Z)(d().mark(function i(){var r,p,s,c,D;return d().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!((T==null?void 0:T.avatar.indexOf("ipfs://"))>-1)){be.next=9;break}return p=T==null||(r=T.avatar)===null||r===void 0?void 0:r.substring(7),be.next=4,(0,ts.nH)(ae.Z.ipfs.endpoint+p);case 4:s=be.sent,c=s.response,D=s.data,c||(P.default.error({key:"networkException",message:"Network exception",description:"An exception has occurred in your network. Cannot connect to the server. Please refresh and try again after changing the network environment.",duration:null}),R(!1)),(c==null?void 0:c.status)===200&&g(window.URL.createObjectURL(D));case 9:case 10:case"end":return be.stop()}},i)}));return function(){return o.apply(this,arguments)}}();(0,u.useEffect)(function(){T&&(document.title="".concat((T==null?void 0:T.nickname.toString())||De," - Para Metaverse Identity"),Is().catch(Fe))},[T]);var bs=function(){var o=(0,S.Z)(d().mark(function i(){var r,p;return d().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,Da.X6)(_==null?void 0:_.nftID);case 2:if(r=c.sent,!(r!=null&&r.isEmpty)){c.next=7;break}return P.default.error({message:re.formatMessage({id:"error.nft.notFound"}),duration:null}),M.m8.goBack(),c.abrupt("return");case 7:if(p=r==null?void 0:r.toHuman(),(p==null?void 0:p.owner)===Na){c.next=12;break}return P.default.error({message:re.formatMessage({id:"error.nft.notFound"}),duration:null}),M.m8.goBack(),c.abrupt("return");case 12:z(p);case 13:case"end":return c.stop()}},i)}));return function(){return o.apply(this,arguments)}}();(0,u.useEffect)(function(){var o=function(){var i=(0,S.Z)(d().mark(function r(){var p,s;return d().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,ca.Ay)(y==null?void 0:y.tokenAssetId);case 2:if(p=D.sent,!p.isEmpty){D.next=6;break}return je(!1),D.abrupt("return");case 6:s=p.toHuman(),ue(s);case 8:case"end":return D.stop()}},r)}));return function(){return i.apply(this,arguments)}}();if(y)try{o()}catch(i){Fe(i)}},[y]);var Ps=function(){var o=(0,S.Z)(d().mark(function i(){var r;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,Wa.Vo)(y==null?void 0:y.tokenAssetId,(0,ee.Vm)("1"));case 2:r=s.sent,j(r.toString());case 4:case"end":return s.stop()}},i)}));return function(){return o.apply(this,arguments)}}(),As=function(){var o=(0,S.Z)(d().mark(function i(){var r,p;return d().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,ca.f5)(y==null?void 0:y.tokenAssetId);case 2:r=c.sent,p=r.unwrap().supply.toString(),ma(BigInt(p));case 5:case"end":return c.stop()}},i)}));return function(){return o.apply(this,arguments)}}(),Os=function(){var o=(0,S.Z)(d().mark(function i(){var r;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,ca.r7)(y==null?void 0:y.tokenAssetId);case 2:r=s.sent,cs(r);case 4:case"end":return s.stop()}},i)}));return function(){return o.apply(this,arguments)}}();return(0,u.useEffect)(function(){if(y&&N)try{Ps(),As(),Os()}catch(o){Fe(o)}},[y,N]),(0,u.useEffect)(function(){N&&Ms().catch(Fe)},[N]),(0,u.useEffect)(function(){if(O&&!(_!=null&&_.nftID)&&Cs(),Ta.canWalletUser||(localStorage.setItem("parami:wallet:redirect",window.location.href),we(!0)),O)try{bs(),Ds()}catch(o){Fe(o)}},[O]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:w().mainTopContainer,children:[de&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(q.Z,{src:oe||"/images/default-avatar.svg",fallback:"/images/default-avatar.svg",className:F().avatar,style:{top:C?(B-400)/2:ps,left:C?(hs-200)/2:gs,width:C?200:30,height:C?200:30,animation:C?1:0,position:C?"fixed":"absolute",display:C||x&&Object.keys(x).length?"flex":"none"},preview:!1}),(0,e.jsx)("div",{className:F().loading,style:{opacity:C?1:0,zIndex:C?15:-1,height:B,minHeight:"100vh"},children:(0,e.jsx)("span",{className:F().loadingTip,children:re.formatMessage({id:"creator.explorer.loading.tip",defaultMessage:"Let's find out more about the NFT.{br} Surprise awaits..."},{br:(0,e.jsx)("br",{})})})})]}),!de&&Ta.canWalletUser&&De!==(0,ee.st)(I.did)&&y&&(0,e.jsx)("div",{className:w().pageContainer,style:{paddingTop:50,maxWidth:1920},children:(0,e.jsx)(as,{nft:y})}),de&&x&&Object.keys(x).length>0&&(0,e.jsx)("div",{className:w().pageContainer,style:{paddingTop:50,maxWidth:"100%",backgroundColor:"rgba(244,245,246,1)"},children:(0,e.jsx)(ua,{ad:Ce,nftId:_==null?void 0:_.nftID,viewer:Oa,referer:is,asset:N,avatar:oe,did:De,adData:x,remain:ms,adImageOnLoad:function(){R(!1)}})}),(0,e.jsx)("div",{className:w().pageContainer,style:{paddingTop:50,maxWidth:1920},children:(0,e.jsx)(Ja,{avatar:oe,did:De,user:T,asset:N,assetId:y==null?void 0:y.tokenAssetId})}),(0,e.jsx)("div",{className:w().pageContainer,style:{paddingTop:50,maxWidth:1920},children:de&&Ta.canWalletUser&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(za,{asset:N,assetPrice:va,totalSupply:Ia,viewer:Oa,member:us})})})]}),(0,e.jsx)(xe.Z,{visable:Pa,title:re.formatMessage({id:"error.identity.notUser"}),content:(0,e.jsx)("div",{className:F().notUser,children:(0,e.jsxs)("div",{className:F().buttons,children:[(0,e.jsxs)(L.Z,{block:!0,size:"large",type:"primary",shape:"round",className:F().button,onClick:function(){M.m8.push(ae.Z.page.createPage)},children:[(0,e.jsx)("div",{className:F().title,children:re.formatMessage({id:"index.createAccount"})}),(0,e.jsx)("span",{className:F().desc,children:re.formatMessage({id:"index.createAccount.desc"})})]}),(0,e.jsx)(Q.Z,{children:re.formatMessage({id:"index.or"})}),(0,e.jsxs)(L.Z,{block:!0,ghost:!0,size:"large",type:"link",shape:"round",className:"".concat(F().button," ").concat(F().buttonImport),onClick:function(){M.m8.push(ae.Z.page.recoverPage)},children:[(0,e.jsx)("div",{className:F().title,children:re.formatMessage({id:"index.importAccount"})}),(0,e.jsx)("span",{className:F().desc,children:re.formatMessage({id:"index.importAccount.desc"})})]})]})}),close:void 0,footer:!1})]})},ns=rs}}]);

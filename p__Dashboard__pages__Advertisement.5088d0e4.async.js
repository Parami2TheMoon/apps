(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[4662],{20592:function(D){D.exports={skeletonContainer:"skeletonContainer___3qdtO",skeleton:"skeleton___36Byl","skeleton-loading":"skeleton-loading___2Ztrp"}},23683:function(D){D.exports={selectContainer:"selectContainer___2x0Im",selectHeader:"selectHeader___218Wl",selectHeaderSectionTitle:"selectHeaderSectionTitle___1HB7Q",fromNetwork:"fromNetwork___2xTmw",fromNetworkIcon:"fromNetworkIcon___361zv",selectWrapper:"selectWrapper___2awkC",selectItem:"selectItem___F7nwo",itemInfo:"itemInfo___1Gkdn",itemInfoIcon:"itemInfoIcon___3-2ZL",itemNameSymbol:"itemNameSymbol___3hDIh",itemName:"itemName___28Q_Y",itemSymbol:"itemSymbol___3Lq0-",itemBalance:"itemBalance___3aigr"}},66054:function(D){D.exports={tokenAndAmountDetails:"tokenAndAmountDetails___244cv",tokenDetails:"tokenDetails___1Xqhu",chainIcon:"chainIcon___2Yar0",tokenDetailsTokenName:"tokenDetailsTokenName___TIJAK",tokenDetailsArrow:"tokenDetailsArrow___1Pzqi",amountDetails:"amountDetails___316ye",amountDetailsMaxButton:"amountDetailsMaxButton___24P40",inputError:"inputError___1Y98J",inputErrorMsg:"inputErrorMsg___2Rs63"}},35831:function(D){D.exports={tagInput:"tagInput___1Slo7",tag:"tag___3Iw9d",buttons:"buttons___1_Ps-",metaDataImg:"metaDataImg___3w1UR",avatar:"avatar___2zzye",tokenAndAmountDetails:"tokenAndAmountDetails___1qJkU",tokenDetails:"tokenDetails___1lLI5",chainIcon:"chainIcon____aonj",tokenDetailsTokenName:"tokenDetailsTokenName___2HmJf",tokenDetailsArrow:"tokenDetailsArrow___XRwU3",amountDetails:"amountDetails___H2uWg",amountDetailsMaxButton:"amountDetailsMaxButton___1acEK",decodeDIDEntry:"decodeDIDEntry___1TVUc",inputError:"inputError___2fm_c"}},38520:function(D){D.exports={noNFTs:"noNFTs___LOupa",topImage:"topImage___3Oy4k",description:"description___16Jye",buttons:"buttons___iZUHf",buttonRow:"buttonRow___1u8XT",button:"button___2rjSY",nftsList:"nftsList___3Z3HD",nftItem:"nftItem___2pQ10",card:"card___2HHT1",cardWrapper:"cardWrapper___2uj88",cardBox:"cardBox___1Oqh7",cover:"cover___1IYqm",nftID:"nftID___3hu6W",filterImage:"filterImage___3f8gz",cardDetail:"cardDetail___2lyWW",text:"text___2IThF",status:"status___3gpn0",label:"label___3pEL3",value:"value___3P6o9",action:"action___2G7kR",progress:"progress___36kDQ",unmint:"unmint___2rgXb",newItem:"newItem___2DN7A",spinWrapper:"spinWrapper___2j39V",createNFT:"createNFT___1EH5Y",importNFT:"importNFT___1va2f",icon:"icon___XW568",divider:"divider___35eHG"}},58377:function(D){D.exports={registerContainer:"registerContainer___1Hf1Q",field:"field___4GAnR",tip:"tip___-yRgY"}},13500:function(D){D.exports={pageContainer:"pageContainer___3DuRF",createModal:"createModal___28GZ-",becomeButton:"becomeButton___3m8An",minimum:"minimum___1G6B2"}},24787:function(D){D.exports={mainContainer:"mainContainer___VzUCC",mainBgContainer:"mainBgContainer___2Nlq7",mainIndexContainer:"mainIndexContainer___1Mqvq",background:"background___25786",logoMark:"logoMark___153gX",mainTopContainer:"mainTopContainer___2Cw6K",pageContainer:"pageContainer___2ssxe",stepContainer:"stepContainer___LPJXV",contentContainer:"contentContainer___2e-al",badge:"badge___3vf4B",dashboardCard:"dashboardCard___3oOcj",windowCard:"windowCard___3FjX2",windowCardBody:"windowCardBody___2zSRs",field:"field___3q5d2",title:"title___1BPSo",value:"value___1TvCY",rowField:"rowField___1vUg5",switchButton:"switchButton___3EjXy",statistic:"statistic___2TWER",modalBody:"modalBody___3SJQA",dividerTitle:"dividerTitle___1UTj3",table:"table___1zfPw",withAfterInput:"withAfterInput___3UZxJ",tabSelector:"tabSelector___2tj32",tabItem:"tabItem___3ymbk",inactive:"inactive___12iuZ",noAssets:"noAssets___FcwbD",topImage:"topImage___mHPfd"}},62543:function(D,Ze,a){"use strict";var Ke=a(67294),De=a(20592),_e=a.n(De),he=a(85893),Le=function(be){var oe=be.children,Ue=be.loading,T=be.height,z=be.styles;return(0,he.jsx)("div",{className:_e().skeletonContainer,style:z,children:Ue?(0,he.jsx)("div",{className:_e().skeleton,style:{height:T||"10vh"}}):oe})};Ze.Z=Le},56027:function(D,Ze,a){"use strict";a.r(Ze),a.d(Ze,{default:function(){return St}});var Ke=a(58024),De=a(39144),_e=a(10322),he=a(66453),Le=a(95300),Re=a(7277),be=a(57663),oe=a(71577),Ue=a(74379),T=a(38648),z=a(3182),ga=a(49111),Ye=a(19650),Fe=a(20136),Je=a(55241),Te=a(22385),K=a(31097),r=a(2824),ue=a(94043),c=a.n(ue),s=a(67294),pe=a(24787),t=a.n(pe),we=a(13500),q=a.n(we),E=a(43581),Xe=a(28991),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},za=Y,Ha=a(27029),pa=function(h,M){return s.createElement(Ha.Z,(0,Xe.Z)((0,Xe.Z)({},h),{},{ref:M,icon:za}))};pa.displayName="PlusCircleOutlined";var $a=s.forwardRef(pa),Va=a(79720),ja=a(62543),Ee=a(69764),_t=a(17462),Ka=a(76772),Ya=a(58377),We=a.n(Ya),ce=a(59749),je=a(96534),Ne=a(61715),e=a(85893),Ja=function(h){var M=h.setIsAdvertisers,S=h.setBecomeModal,g=(0,E.tT)("dashboard.balance"),x=g.balance,Q=(0,E.tT)("currentUser"),v=Q.dashboard,u=(0,s.useState)(!1),w=(0,r.Z)(u,2),ae=w[0],H=w[1],W=(0,E.YB)(),te=function(){var o=(0,z.Z)(c().mark(function b(){return c().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(!!v&&!!(v!=null&&v.accountMeta))){f.next=17;break}return H(!0),f.prev=2,f.next=5,(0,Ne.zW)((0,je.Vm)("1000"),JSON.parse(v==null?void 0:v.accountMeta));case 5:M(!0),H(!1),S(!1),f.next=14;break;case 10:f.prev=10,f.t0=f.catch(2),T.default.error({message:f.t0.message,duration:null}),H(!1);case 14:f.next=18;break;case 17:T.default.error({key:"accessDenied",message:W.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return f.stop()}},b,null,[[2,10]])}));return function(){return o.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:We().registerContainer,children:[(0,e.jsx)("div",{className:We().field,children:(0,e.jsx)("div",{className:We().tip,children:(0,e.jsx)(Ka.Z,{message:W.formatMessage({id:"dashboard.ads.register.description"}),type:"warning",showIcon:!0})})}),(0,e.jsx)("div",{className:We().field,children:(0,e.jsx)(oe.Z,{block:!0,type:"primary",size:"large",shape:"round",loading:ae,disabled:(x==null?void 0:x.free)<(0,ce.HM)("1000",18),onClick:function(){te()},children:W.formatMessage({id:"common.submit"})})})]})},Xa=Ja,Bt=a(43185),Sa=a(35372),Pt=a(71153),ya=a(60331),Ot=a(34792),Ge=a(48086),Qe=a(86582),Lt=a(43358),Ma=a(90927),Rt=a(47673),J=a(32787),Ga=a(35831),Be=a.n(Ga),qe=a(49101),xa=a(69854),Qa=function(h){var M=h.title,S=h.required;return(0,e.jsxs)(e.Fragment,{children:[!!S&&(0,e.jsx)("span",{style:{color:"#ff5b00",paddingRight:"0.2em"},children:"*"}),M||""]})},P=Qa,qa=function(h){var M=h.msg;return(0,e.jsx)("span",{style:{color:"#ff5b00"},children:M})},Pe=qa,ea=a(51625),et=a(84986),at=a(48764).Buffer,aa=24*60*60/12,tt=function(h){var M=h.setCreateModal,S=(0,E.tT)("currentUser"),g=S.dashboard,x=(0,s.useState)(!1),Q=(0,r.Z)(x,2),v=Q[0],u=Q[1],w=(0,s.useState)(0),ae=(0,r.Z)(w,2),H=ae[0],W=ae[1],te=(0,s.useState)(0),o=(0,r.Z)(te,2),b=o[0],O=o[1],f=(0,s.useState)(0),me=(0,r.Z)(f,2),B=me[0],se=me[1],re=(0,s.useState)(""),A=(0,r.Z)(re,2),p=A[0],L=A[1],ve=(0,s.useState)(""),Ce=(0,r.Z)(ve,2),n=Ce[0],ne=Ce[1],Ae=(0,s.useState)([]),N=(0,r.Z)(Ae,2),R=N[0],X=N[1],$=(0,s.useState)(),U=(0,r.Z)($,2),ie=U[0],Ie=U[1],Z=(0,s.useState)("https://weekly.parami.io/"),ze=(0,r.Z)(Z,2),Oe=ze[0],na=ze[1],ia=(0,s.useState)(),He=(0,r.Z)(ia,2),$e=He[0],la=He[1],Ca=(0,s.useState)(),Ve=(0,r.Z)(Ca,2),ke=Ve[0],da=Ve[1],oa=(0,s.useState)(),le=(0,r.Z)(oa,2),ye=le[0],ua=le[1],de=(0,s.useState)(0),j=(0,r.Z)(de,2),ge=j[0],m=j[1],Me=(0,s.useState)(),xe=(0,r.Z)(Me,2),V=xe[0],Ia=xe[1],y=(0,s.useState)("did:ad3:izgyiwwftd7s1D3XaREJZBR2kvZ"),Za=(0,r.Z)(y,2),Da=Za[0],yt=Za[1],Mt=(0,s.useState)(!1),Ta=(0,r.Z)(Mt,2),Ea=Ta[0],ca=Ta[1],xt=(0,s.useState)(""),Aa=(0,r.Z)(xt,2),fe=Aa[0],ma=Aa[1],bt=(0,s.useState)(-1),ka=(0,r.Z)(bt,2),_a=ka[0],Ba=ka[1],Nt=(0,s.useState)(""),Pa=(0,r.Z)(Nt,2),Oa=Pa[0],va=Pa[1],Ct=(0,s.useState)(!1),La=(0,r.Z)(Ct,2),It=La[0],fa=La[1],Ra=(0,s.useRef)(null),k=(0,E.YB)(),Ua=J.Z.Search,ha=Ma.Z.Option,Zt=function(){var d=(0,z.Z)(c().mark(function i(C){var I;return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,xa.Em)(C);case 3:if(I=l.sent,I.toHuman()){l.next=6;break}return l.abrupt("return",!1);case 6:return l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(0),T.default.error({message:l.t0.message||l.t0,duration:null}),l.abrupt("return",!1);case 13:case"end":return l.stop()}},i,null,[[0,9]])}));return function(C){return d.apply(this,arguments)}}(),Dt=function(){var d=(0,z.Z)(c().mark(function i(C){var I;return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(!!g&&!!(g!=null&&g.accountMeta))){l.next=19;break}return u(!0),l.prev=2,l.next=5,(0,xa.Xn)(C,JSON.parse(g==null?void 0:g.accountMeta));case 5:I=R,fe&&R.indexOf(fe)===-1&&(I=[].concat((0,Qe.Z)(R),[fe])),X(I),ca(!1),ma(""),u(!1),l.next=17;break;case 13:l.prev=13,l.t0=l.catch(2),T.default.error({message:k.formatMessage({id:l.t0.message||l.t0}),duration:null}),u(!1);case 17:l.next=20;break;case 19:T.default.error({key:"accessDenied",message:k.formatMessage({id:"error.accessDenied"}),duration:null});case 20:case"end":return l.stop()}},i,null,[[2,13]])}));return function(C){return d.apply(this,arguments)}}(),Tt=function(){var d=(0,z.Z)(c().mark(function i(){var C,I;return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Zt(fe);case 2:if(C=l.sent,C){l.next=6;break}return fa(!0),l.abrupt("return");case 6:I=R,fe&&R.indexOf(fe)===-1&&(I=[].concat((0,Qe.Z)(R),[fe])),X(I),ca(!1),ma("");case 11:case"end":return l.stop()}},i)}));return function(){return d.apply(this,arguments)}}(),Et=function(){var i=(0,Qe.Z)(R);i[_a]=Oa,X(i),Ba(0),va("")},At=function(i){var C=R.filter(function(I){return I!==i});X(C)},kt=function(){var d=(0,z.Z)(c().mark(function i(){var C,I,G,l,wa,Wa;return c().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(!!g&&!!(g!=null&&g.accountMeta))){_.next=28;break}return u(!0),_.prev=2,C={title:ie,link:Oe,desc:$e,media:ke,poster:ye},_.next=6,at.from(JSON.stringify(C));case 6:return I=_.sent,_.next=9,(0,et.U)(I);case 9:if(G=_.sent,l=G.response,wa=G.data,l.ok){_.next=14;break}throw"Create Metadata Error";case 14:return Wa=(0,je.Zc)(Da),_.next=17,(0,Ne.Wh)(R,"ipfs://".concat(wa.Hash),ge.toString(),V,(0,je.Vm)(H.toString()),(0,je.Vm)(b.toString()),(0,je.Vm)(B.toString()),JSON.parse(g==null?void 0:g.accountMeta),Wa);case 17:u(!1),M(!1),window.location.reload(),_.next=26;break;case 22:_.prev=22,_.t0=_.catch(2),T.default.error({message:_.t0.message||_.t0,duration:null}),u(!1);case 26:_.next=29;break;case 28:T.default.error({key:"accessDenied",message:k.formatMessage({id:"error.accessDenied"}),duration:null});case 29:case"end":return _.stop()}},i,null,[[2,22]])}));return function(){return d.apply(this,arguments)}}();(0,s.useEffect)(function(){ne(""),L(""),B<b&&ne("Payout Max cannot be less than Payout Min")},[B]),(0,s.useEffect)(function(){ne(""),L(""),b>B&&L("Payout Min cannot be more than Payout Max")},[b]);var Fa=function(i){return function(C){if(C.file.status==="done"){var I=C.file.response.Hash,G=ea.Z.ipfs.endpoint+I;i==="media"?da(G):ua(G);return}C.file.status==="error"&&Ge.default.error("Upload Image Error")}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:t().modalBody,children:[(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:k.formatMessage({id:"dashboard.ads.create.tag"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[R.map(function(d,i){if(_a===i)return(0,e.jsx)(Ua,{size:"large",className:"tag-input",enterButton:k.formatMessage({id:"common.confirm"}),loading:v,onChange:function(l){va(l.target.value)},onSearch:function(){if(!Oa){Ge.default.error("Please Input Tag");return}Et()}},d);var C=d.length>20,I=(0,e.jsx)(ya.Z,{className:Be().tag,color:"volcano",closable:!0,onClose:function(){return At(d)},children:(0,e.jsx)("span",{onDoubleClick:function(){Ba(i),va(d),focus()},children:C?"".concat(d.slice(0,20),"..."):d})},d);return C?(0,e.jsx)(K.Z,{title:d,children:I},d):I}),Ea&&(0,e.jsx)(Ua,{ref:Ra,type:"text",size:"large",enterButton:k.formatMessage({id:"common.confirm"}),className:Be().tagInput,loading:v,onChange:function(i){ma(i.target.value)},onSearch:function(){if(!fe){Ge.default.error("Please Input Tag");return}Tt()}}),!Ea&&(0,e.jsxs)(ya.Z,{className:Be().tag,color:"volcano",onClick:function(){var i;ca(!0),(i=Ra.current)===null||i===void 0||i.focus()},children:[(0,e.jsx)(qe.Z,{}),k.formatMessage({id:"dashboard.ads.create.tag.new"})]})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Title",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(J.Z,{size:"large",onChange:function(i){return Ie(i.target.value)},placeholder:"Advertisement Title"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Link",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(J.Z,{size:"large",value:Oe,onChange:function(i){return na(i.target.value)},placeholder:"https://weekly.parami.io/"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Description",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(J.Z,{size:"large",onChange:function(i){return la(i.target.value)},placeholder:"Advertisement Description"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Media",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(Sa.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:ea.Z.ipfs.upload,onChange:Fa("media"),children:ke?(0,e.jsx)("img",{src:ke,style:{width:"100%"}}):(0,e.jsxs)("div",{children:[(0,e.jsx)(qe.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Poster",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(Sa.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:ea.Z.ipfs.upload,onChange:Fa("poster"),children:ye?(0,e.jsx)("img",{src:ye,style:{width:"100%"}}):(0,e.jsxs)("div",{children:[(0,e.jsx)(qe.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:k.formatMessage({id:"dashboard.ads.create.rewardRate"}),required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(J.Z,{className:t().withAfterInput,placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,onChange:function(i){return m(Number(i.target.value))}})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:k.formatMessage({id:"dashboard.ads.create.lifetime"}),required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsxs)(Ma.Z,{size:"large",style:{width:"100%"},placeholder:"Please select a lifetime",onChange:function(i){Ia(Number(i))},children:[(0,e.jsx)(ha,{value:3*aa,children:k.formatMessage({id:"dashboard.ads.create.lifetime.3days"})}),(0,e.jsx)(ha,{value:7*aa,children:k.formatMessage({id:"dashboard.ads.create.lifetime.7days"})}),(0,e.jsx)(ha,{value:15*aa,children:k.formatMessage({id:"dashboard.ads.create.lifetime.15days"})})]})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:k.formatMessage({id:"dashboard.ads.create.payoutBase"}),required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(J.Z,{className:t().withAfterInput,placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,onChange:function(i){return W(Number(i.target.value))}})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:k.formatMessage({id:"dashboard.ads.create.payoutMin"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(J.Z,{className:"".concat(t().withAfterInput," ").concat(p?Be().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,max:B,onChange:function(i){return O(Number(i.target.value))}}),p&&(0,e.jsx)(Pe,{msg:p})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:k.formatMessage({id:"dashboard.ads.create.payoutMax"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(J.Z,{className:"".concat(t().withAfterInput," ").concat(n?Be().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,min:b,onChange:function(i){return se(Number(i.target.value))}}),n&&(0,e.jsx)(Pe,{msg:n})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Delegated Account"})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(J.Z,{size:"large",value:Da,onChange:function(i){return yt(i.target.value)},placeholder:"did:ad3:......"})})]}),(0,e.jsx)("div",{className:t().field,style:{marginTop:50},children:(0,e.jsx)(oe.Z,{block:!0,size:"large",shape:"round",type:"primary",disabled:!R||!V||!ge||!H||!!n||!!p,loading:v,onClick:function(){kt()},children:k.formatMessage({id:"common.submit"})})})]}),(0,e.jsx)(Ee.Z,{visable:It,title:fe,content:k.formatMessage({id:"dashboard.ads.create.tag.create"}),footer:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{block:!0,shape:"round",type:"primary",size:"large",onClick:function(){Dt(fe),fa(!1)},children:k.formatMessage({id:"common.submit"})})}),close:function(){fa(!1)}})]})},st=tt,Ut=a(48736),ba=a(27049),rt=a(66054),ta=a.n(rt),nt=a(22629),sa=a(28943),ra=a(13580),Ft=a(12968),it=a(62462),lt=a(23683),ee=a.n(lt),dt=function(h){var M=h.selectModal,S=h.setSelectModal,g=h.setTokenSelect,x=(0,E.YB)(),Q=(0,E.tT)("dashboard.assets"),v=Q.assetsArr;return(0,e.jsx)(Ee.Z,{title:void 0,visable:M,content:(0,e.jsxs)("div",{className:ee().selectContainer,children:[(0,e.jsx)("div",{className:ee().selectHeader,children:(0,e.jsx)("div",{className:ee().selectHeaderSectionTitle,children:x.formatMessage({id:"dashboard.ads.selectToken",defaultMessage:"Select a token"})})}),(0,e.jsx)("div",{className:ee().selectWrapper,children:!!v&&v.map(function(u){return(0,e.jsxs)("div",{className:ee().selectItem,onClick:function(){g(u),S(!1)},children:[(0,e.jsxs)("div",{className:ee().itemInfo,children:[(0,e.jsx)(it.Z,{src:u==null?void 0:u.icon,preview:!1,className:ee().itemInfoIcon}),(0,e.jsxs)("div",{className:ee().itemNameSymbol,children:[(0,e.jsx)("div",{className:ee().itemName,children:u==null?void 0:u.symbol}),(0,e.jsx)("div",{className:ee().itemSymbol,children:u==null?void 0:u.token})]})]}),(0,e.jsx)("div",{className:ee().itemBalance,children:u==null?void 0:u.balance})]})})})]}),footer:!1,close:function(){S(!1)},bodyStyle:{padding:0}})},ot=dt,ut=function(h){var M=h.adItem,S=h.setBidModal,g=(0,E.tT)("currentUser"),x=g.dashboard,Q=(0,s.useState)(!1),v=(0,r.Z)(Q,2),u=v[0],w=v[1],ae=(0,s.useState)(),H=(0,r.Z)(ae,2),W=H[0],te=H[1],o=(0,s.useState)(""),b=(0,r.Z)(o,2),O=b[0],f=b[1],me=(0,s.useState)(""),B=(0,r.Z)(me,2),se=B[0],re=B[1],A=(0,s.useState)(""),p=(0,r.Z)(A,2),L=p[0],ve=p[1],Ce=(0,s.useState)(""),n=(0,r.Z)(Ce,2),ne=n[0],Ae=n[1],N=(0,s.useState)(),R=(0,r.Z)(N,2),X=R[0],$=R[1],U=(0,s.useState)(),ie=(0,r.Z)(U,2),Ie=ie[0],Z=ie[1],ze=(0,s.useState)(!1),Oe=(0,r.Z)(ze,2),na=Oe[0],ia=Oe[1],He=(0,s.useState)(""),$e=(0,r.Z)(He,2),la=$e[0],Ca=$e[1],Ve=(0,s.useState)(),ke=(0,r.Z)(Ve,2),da=ke[0],oa=ke[1],le=(0,E.YB)(),ye=Math.max(Number((0,ce.mI)((0,ce.At)(se),18))*1.2,1),ua=function(){var de=(0,z.Z)(c().mark(function j(){return c().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(!!x&&!!(x!=null&&x.accountMeta))){m.next=17;break}return w(!0),m.prev=2,m.next=5,(0,Ne.hB)(M.id,L,(0,je.Vm)(X.toString()),da,(0,je.Vm)(la),JSON.parse(x==null?void 0:x.accountMeta));case 5:S(!1),w(!1),window.location.reload(),m.next=15;break;case 10:return m.prev=10,m.t0=m.catch(2),T.default.error({message:m.t0.message||m.t0,duration:null}),w(!1),m.abrupt("return");case 15:m.next=18;break;case 17:T.default.error({key:"accessDenied",message:le.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return m.stop()}},j,null,[[2,10]])}));return function(){return de.apply(this,arguments)}}();return(0,s.useEffect)(function(){var de=function(){var j=(0,z.Z)(c().mark(function ge(){var m,Me;return c().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return m=(0,je.Zc)(W),V.next=3,(0,sa.JI)(m);case 3:if(Me=V.sent,!Me.isEmpty){V.next=8;break}return f(le.formatMessage({id:"error.identity.notFound"})),ve(""),V.abrupt("return");case 8:ve(Me.toString());case 10:case"end":return V.stop()}},ge)}));return function(){return j.apply(this,arguments)}}();f(""),W&&de().catch(function(j){T.default.error({message:j.message||j,duration:null})})},[W]),(0,s.useEffect)(function(){var de=function(){var j=(0,z.Z)(c().mark(function ge(){var m,Me,xe,V;return c().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,sa.X6)(L);case 2:if(m=y.sent,m!=null&&m.minted){y.next=5;break}return y.abrupt("return");case 5:return y.next=8,(0,ra.Ay)((0,ce.At)(m==null?void 0:m.tokenAssetId));case 8:if(Me=y.sent,!Me.isEmpty){y.next=11;break}return y.abrupt("return");case 11:return y.next=13,(0,Ne.Li)(L);case 13:if(xe=y.sent,xe){y.next=16;break}return y.abrupt("return","0");case 16:return y.next=18,(0,ra.L7)(xe.budgetPot,xe.fractionId);case 18:if(V=y.sent,V){y.next=21;break}return y.abrupt("return");case 21:return y.abrupt("return",V.balance);case 22:case"end":return y.stop()}},ge)}));return function(){return j.apply(this,arguments)}}();f(""),re(""),L&&de().then(function(j){if(j===void 0){Ae(le.formatMessage({id:"error.nft.invalid"}));return}Ae(""),re(j)}).catch(function(j){T.default.error({message:j.message||j,duration:null})})},[L]),(0,s.useEffect)(function(){Z(""),X!==void 0&&X<ye&&Z("price too low")},[X]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:t().modalBody,children:[(0,e.jsx)(ba.Z,{children:"Find NFT ID from DID"}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:le.formatMessage({id:"dashboard.ads.launch.did"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(J.Z,{size:"large",className:"".concat(O?ta().inputError:""),onChange:function(j){te(j.target.value)},placeholder:"did:ad3:......",value:W}),O&&(0,e.jsx)(Pe,{msg:O})]})]}),(0,e.jsx)(ba.Z,{}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:le.formatMessage({id:"dashboard.ads.launch.nftID"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(J.Z,{size:"large",className:"".concat(ne?ta().inputError:""),onChange:function(j){ve(j.target.value)},value:L}),ne&&(0,e.jsx)(Pe,{msg:ne})]})]}),!!se.length&&(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:le.formatMessage({id:"dashboard.ads.launch.currentPrice"}),required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(J.Z,{readOnly:!0,disabled:!0,size:"large",value:"".concat((0,nt.a)((0,ce.At)(se),{decimals:18}))})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsxs)("div",{className:t().title,children:[(0,e.jsx)(P,{title:le.formatMessage({id:"dashboard.ads.launch.offer"}),required:!0}),(0,e.jsx)("br",{}),(0,e.jsx)("small",{children:"The bid must be higher than ".concat(ye," (20% higher than the current price)")})]}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(J.Z,{value:X,className:"".concat(t().withAfterInput," ").concat(Ie?ta().inputError:""),size:"large",type:"number",min:ye||0,onChange:function(j){$(Number(j.target.value))}}),Ie&&(0,e.jsx)(Pe,{msg:Ie})]})]}),(0,e.jsx)("div",{className:t().field,children:(0,e.jsx)(oe.Z,{block:!0,type:"primary",shape:"round",size:"large",className:t().button,disabled:!L||!se.length||!X||!!ne||!!Ie,loading:u,onClick:function(){ua()},children:le.formatMessage({id:"common.submit"})})})]}),(0,e.jsx)(ot,{selectModal:na,setSelectModal:ia,setTokenSelect:oa})]})},ct=ut,wt=a(34669),mt=a(32074),Na=a(8870),vt=a(91220),ft=a(38520),F=a.n(ft),ht=a(3548),gt=function(h){var M=h.adItem,S=(0,E.tT)("apiWs"),g=(0,s.useState)(!1),x=(0,r.Z)(g,2),Q=x[0],v=x[1],u=(0,s.useState)([]),w=(0,r.Z)(u,2),ae=w[0],H=w[1],W=(0,E.YB)(),te=function(){var o=(0,z.Z)(c().mark(function b(){var O,f,me,B,se,re,A,p,L,ve;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(S){n.next=2;break}return n.abrupt("return");case 2:if(v(!0),n.prev=4,O=[],!Object.keys(M).length){n.next=43;break}return n.next=9,(0,Ne.kw)(M==null?void 0:M.id);case 9:if(f=n.sent,me=f.toHuman(),!me){n.next=42;break}B=(0,vt.Z)(me),n.prev=13,B.s();case 15:if((se=B.n()).done){n.next=30;break}return re=se.value,n.next=19,(0,sa.X6)(re);case 19:return A=n.sent,n.next=22,(0,Ne.IP)(A==null?void 0:A.tokenAssetId);case 22:return p=n.sent,n.next=25,(0,ra.Ay)(A==null?void 0:A.tokenAssetId);case 25:L=n.sent,ve=L.toHuman(),O.push((0,Na.Z)((0,Na.Z)({},A),{},{ad:p==null?void 0:p.ad,budget:p==null?void 0:p.budget,created:p==null?void 0:p.created,remain:p==null?void 0:p.remain,tokens:A==null?void 0:A.tokens,asset:ve}));case 28:n.next=15;break;case 30:n.next=35;break;case 32:n.prev=32,n.t0=n.catch(13),B.e(n.t0);case 35:return n.prev=35,B.f(),n.finish(35);case 38:H(O),v(!1),n.next=43;break;case 42:v(!1);case 43:n.next=51;break;case 46:return n.prev=46,n.t1=n.catch(4),T.default.error({message:n.t1.message||n.t1,duration:null}),v(!1),n.abrupt("return");case 51:case"end":return n.stop()}},b,null,[[4,46],[13,32,35,38]])}));return function(){return o.apply(this,arguments)}}();return(0,s.useEffect)(function(){S&&te()},[S,M]),(0,e.jsx)("div",{className:t().modalBody,children:(0,e.jsx)(ja.Z,{loading:!S||Q,height:200,children:ae.length?(0,e.jsx)("div",{className:F().nftsList,children:ae.map(function(o){var b,O;return(0,e.jsx)("div",{className:F().nftItem,children:(0,e.jsx)("div",{className:F().card,children:(0,e.jsx)("div",{className:F().cardWrapper,children:(0,e.jsx)("div",{className:F().cardBox,children:(0,e.jsxs)("div",{className:F().cardDetail,children:[(0,e.jsxs)("h3",{className:F().text,children:[o==null||(b=o.asset)===null||b===void 0?void 0:b.name," (",o==null||(O=o.asset)===null||O===void 0?void 0:O.symbol,") #",o==null?void 0:o.tokenAssetId]}),(0,e.jsxs)("div",{className:F().status,children:[(0,e.jsx)("div",{className:F().label,children:W.formatMessage({id:"dashboard.ads.remain",defaultMessage:"Remain"})}),(0,e.jsx)("div",{className:F().value,children:(0,e.jsx)(ht.Z,{value:(0,ce.At)(o==null?void 0:o.remain)})})]}),(0,e.jsx)("div",{className:F().action,children:(0,e.jsx)(mt.Z,{percent:Number((0,ce.mI)((0,ce.At)(o==null?void 0:o.remain),18))/Number((0,ce.mI)((0,ce.At)(o==null?void 0:o.budget),18)),strokeColor:"#ff5b00",className:F().progress})})]})})})})})})}):(0,e.jsxs)("div",{className:F().noNFTs,children:[(0,e.jsx)("img",{src:"/images/icon/query.svg",className:F().topImage}),(0,e.jsx)("div",{className:F().description,children:W.formatMessage({id:"dashboard.ads.nfts.empty"})})]})})})},pt=gt,jt=function(){var h=(0,E.tT)("apiWs"),M=(0,E.tT)("currentUser"),S=M.dashboard,g=(0,E.tT)("dashboard.advertisement"),x=g.AdList,Q=(0,s.useState)(!1),v=(0,r.Z)(Q,2),u=v[0],w=v[1],ae=(0,s.useState)(!1),H=(0,r.Z)(ae,2),W=H[0],te=H[1],o=(0,s.useState)(!1),b=(0,r.Z)(o,2),O=b[0],f=b[1],me=(0,s.useState)(!1),B=(0,r.Z)(me,2),se=B[0],re=B[1],A=(0,s.useState)(!1),p=(0,r.Z)(A,2),L=p[0],ve=p[1],Ce=(0,s.useState)({}),n=(0,r.Z)(Ce,2),ne=n[0],Ae=n[1],N=(0,E.YB)(),R=[{title:N.formatMessage({id:"dashboard.ads.item.id"}),dataIndex:"id",key:"id",render:function(U){return(0,e.jsx)(K.Z,{placement:"topLeft",title:U,children:U})},ellipsis:!0},{title:N.formatMessage({id:"dashboard.ads.item.tag"}),dataIndex:"tag",key:"tag"},{title:N.formatMessage({id:"dashboard.ads.item.metadata"}),key:"metadata",render:function(U){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Je.Z,{content:(0,e.jsx)(e.Fragment,{children:Object.keys(U.metadata).map(function(ie){return(0,e.jsxs)("p",{children:[(0,e.jsx)("b",{children:ie}),": ",U.metadata[ie].toString()]})})}),children:U.metadataIpfs})})},ellipsis:!0},{title:N.formatMessage({id:"dashboard.ads.item.rewardRate"}),dataIndex:"rewardRate",key:"rewardRate"},{title:N.formatMessage({id:"dashboard.ads.item.endtime"}),dataIndex:"endtime",key:"endtime"},{title:N.formatMessage({id:"dashboard.ads.item.action"}),key:"option",render:function(U){return(0,e.jsxs)(Ye.Z,{children:[(0,e.jsx)("a",{onClick:function(){Ae(U),re(!0)},children:"Bid"},"bid"),(0,e.jsx)(K.Z,{placement:"topLeft",title:"comming soon",children:"View"})]})}}],X=function(){var $=(0,z.Z)(c().mark(function U(){var ie;return c().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(!!S&&!!(S!=null&&S.account))){Z.next=13;break}return Z.prev=1,Z.next=4,(0,Ne.Du)(S==null?void 0:S.account);case 4:ie=Z.sent,w(ie),Z.next=11;break;case 8:Z.prev=8,Z.t0=Z.catch(1),T.default.error({key:"unknownError",message:Z.t0.message||Z.t0,duration:null});case 11:Z.next=14;break;case 13:T.default.error({key:"accessDenied",message:N.formatMessage({id:"error.accessDenied"}),duration:null});case 14:case"end":return Z.stop()}},U,null,[[1,8]])}));return function(){return $.apply(this,arguments)}}();return(0,s.useEffect)(function(){h&&X()},[h]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:t().mainBgContainer,children:(0,e.jsx)("div",{className:t().contentContainer,children:(0,e.jsx)(ja.Z,{loading:!h,height:400,children:(0,e.jsxs)(De.Z,{className:t().dashboardCard,bodyStyle:{width:"100%"},children:[!u&&(0,e.jsxs)("div",{className:q().createModal,children:[(0,e.jsx)(oe.Z,{type:"primary",shape:"round",size:"large",className:q().becomeButton,onClick:function(){te(!0)},children:N.formatMessage({id:"dashboard.ads.becomeAdvertisers"})}),(0,e.jsx)("div",{className:q().minimum,children:"The minimum is 1,000 $AD3"})]}),(0,e.jsx)(Va.ZP,{className:q().pageContainer,ghost:!0,title:N.formatMessage({id:"dashboard.ads.title"}),content:(0,e.jsx)(Re.Z,{title:N.formatMessage({id:"dashboard.ads.control.total"}),value:x.length}),breadcrumb:void 0,extra:[(0,e.jsx)(oe.Z,{type:"primary",size:"large",shape:"round",icon:(0,e.jsx)($a,{}),onClick:function(){f(!0)},children:N.formatMessage({id:"dashboard.ads.control.create"})})],children:(0,e.jsx)(he.Z,{className:q().table,dataSource:x,columns:R})})]})})})}),(0,e.jsx)(Ee.Z,{visable:W,title:N.formatMessage({id:"dashboard.ads.becomeAdvertisers"}),content:(0,e.jsx)(Xa,{setIsAdvertisers:w,setBecomeModal:te}),footer:!1,close:function(){te(!1)}}),O&&(0,e.jsx)(Ee.Z,{visable:!0,title:N.formatMessage({id:"dashboard.ads.create"}),content:(0,e.jsx)(st,{setCreateModal:f}),footer:!1,close:function(){f(!1)}}),se&&(0,e.jsx)(Ee.Z,{visable:!0,title:N.formatMessage({id:"dashboard.ads.bid"}),content:(0,e.jsx)(ct,{adItem:ne,setBidModal:re}),footer:!1,close:function(){re(!1)}}),(0,e.jsx)(Ee.Z,{visable:L,title:N.formatMessage({id:"dashboard.ads.list"}),content:(0,e.jsx)(pt,{adItem:ne}),footer:!1,close:function(){ve(!1)}})]})},St=jt},84986:function(D,Ze,a){"use strict";a.d(Ze,{U:function(){return Ye},g:function(){return Je}});var Ke=a(8870),De=a(3182),_e=a(94043),he=a.n(_e),Le=a(51625),Re=a(55347),be=a(11238),oe=a(47832),Ue=a(81603),T=function(K){var r=K.response,ue=r===void 0?{}:r,c=K.message,s=c===void 0?"":c,pe=K.data,t=pe===void 0?{}:pe;if(s==="http error")return{response:ue,data:t}},z=(0,be.l7)({errorHandler:T,credentials:"omit"}),ga=new Re.ZP({type:"sr25519"});function Ye(Te,K){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,De.Z)(he().mark(function Te(K,r){var ue;return he().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return ue=new FormData,ue.append("file",K),s.abrupt("return",z(Le.Z.ipfs.upload,(0,Ke.Z)({method:"POST",body:ue,requestType:"form",getResponse:!0},r||{})));case 3:case"end":return s.stop()}},Te)})),Fe.apply(this,arguments)}var Je=function(){var Te=(0,De.Z)(he().mark(function K(r,ue,c,s,pe){var t,we,q,E;return he().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(t=window.apiWs.tx.did.setMetadata("pic",r),!(s&&pe)){Y.next=6;break}return Y.next=4,t.paymentInfo(pe);case 4:return we=Y.sent,Y.abrupt("return",we);case 6:if(q=(0,oe.Gh)(ue,c),!(q==null||!q)){Y.next=9;break}throw new Error("Wrong password");case 9:return E=ga.createFromUri(q),Y.next=12,(0,Ue.Y)(t,E);case 12:return Y.abrupt("return",Y.sent);case 13:case"end":return Y.stop()}},K)}));return function(r,ue,c,s,pe){return Te.apply(this,arguments)}}()}}]);

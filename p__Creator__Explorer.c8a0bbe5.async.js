(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[8172],{2752:function(B){B.exports={claimInfoContainer:"claimInfoContainer___2QBl-",scoreChange:"scoreChange___21g3Z"}},8556:function(B){B.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(B){B.exports={tag:"tag___sah2p"}},90802:function(B){B.exports={explorerContainer:"explorerContainer___2tn58",dashboard:"dashboard___1yzjn",header:"header___7HFGw",buttons:"buttons____mn0V",button:"button___2bNYM",confirm:"confirm___14R24",topIcon:"topIcon___lcz8T",title:"title___3OHiQ",field:"field___1rYhg",value:"value___VpweH",notUser:"notUser___1H3wh",desc:"desc___3002O",buttonImport:"buttonImport___1UVlX",notSupport:"notSupport___3AII_",icon:"icon___2lOpA",text:"text___2HCAz",loading:"loading___38OsL",loadingTip:"loadingTip___2K2wM",avatar:"avatar___1Itlz",rotate:"rotate___3cdkL",image_blur:"image_blur___1JtdU"}},35676:function(B,K,e){"use strict";e.r(K),e.d(K,{default:function(){return T}});var Ze=e(48736),z=e(27049),G=e(57663),A=e(71577),ne=e(12968),L=e(62462),v=e(3182),ve=e(74379),Q=e(38648),m=e(2824),q=e(94043),g=e.n(q),f=e(67294),_e=e(34792),Be=e(48086),Ve=e(58024),me=e(39144),fe=e(22385),Le=e(31097),Ue=e(55909),pe=e.n(Ue),y=e(37550),c=e.n(y),C=e(43581),J=e(57240),We=e(57119),ee=e(33182),oe=e(56205),ae=e(96534),be=e(20640),Ne=e.n(be),Re=e(57641),he=e(11561),j=e(79762),Y=e(51625),a=e(85893),ge=function(s){var D,o=s.ad,x=s.nftId,u=s.referrer,Z=s.asset,i=s.avatar,V=s.did,p=s.adData,b=s.balance,Xe=s.notAccess,Pe=s.adImageOnLoad,je=Pe===void 0?function(){}:Pe,Ie=(0,C.tT)("currentUser"),E=Ie.wallet,we=(0,f.useState)(!1),le=(0,m.Z)(we,2),Oe=le[0],te=le[1],ze=(0,f.useState)(!1),ie=(0,m.Z)(ze,2),$=ie[0],de=ie[1],ce=(0,C.tT)("apiWs"),k=(0,C.YB)(),F=E!=null&&E.did?"".concat(window.location.origin,"/").concat(V,"/").concat(x,"?referrer=").concat(E==null?void 0:E.did):"".concat(window.location.origin,"/").concat(V,"/").concat(x),Ge=(0,ae.st)(p==null?void 0:p.creator).substring(8),Je=function(){var d=(0,v.Z)(g().mark(function _(X,M,H){var Ae;return g().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,X.query.ad.payout(M,H);case 2:Ae=w.sent,Ae.isEmpty?de(!1):de(!0);case 4:case"end":return w.stop()}},_)}));return function(X,M,H){return d.apply(this,arguments)}}();(0,f.useEffect)(function(){ce&&p!==null&&p!==void 0&&p.id&&E!==null&&E!==void 0&&E.did&&Je(ce,p==null?void 0:p.id,E==null?void 0:E.did)},[ce,p,E]);var Se=function(_){return(0,a.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",className:c().actionBtn,icon:(0,a.jsx)(J.Z,{}),onClick:function(){C.m8.push("/wallet")},children:_})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:c().advertisementContainer,children:[(0,a.jsx)("div",{className:c().container,children:(0,a.jsx)("div",{className:c().topBar,children:(0,a.jsxs)("div",{className:c().sponsored,children:[(0,a.jsx)(L.Z,{src:i||"/images/logo-round-core.svg",className:c().avatar,preview:!1,id:"avatar",fallback:"/images/logo-round-core.svg"}),(0,a.jsx)("span",{children:k.formatMessage({id:"creator.explorer.advertisement.sponsoredBy"},{did:"".concat(Ge)})})]})})}),(0,a.jsx)(me.Z,{className:"".concat(pe().card," ").concat(c().adCard),style:{maxWidth:"650px",border:"none",marginBottom:"30px"},bodyStyle:{padding:0,width:"100%"},children:(0,a.jsxs)("div",{className:c().advertisement,children:[(0,a.jsx)("div",{className:c().adMedia,children:(0,a.jsx)(L.Z,{src:o==null?void 0:o.media,placeholder:!0,preview:!1,className:c().adMediaImg,onLoad:je})}),(o==null?void 0:o.instructions)&&(o==null||(D=o.instructions)===null||D===void 0?void 0:D.length)>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:c().instructions,children:[(0,a.jsxs)("div",{className:c().instructionTitle,children:["Follow the instructions to improve your DID reputation score",(0,a.jsx)(Le.Z,{placement:"top",title:"Your DID reputation score is a number attached to your DID that can be increased by performing tasks. The higher your DID reputation score, the higher the reward.",children:(0,a.jsx)(We.Z,{style:{marginLeft:"5px"}})})]}),o.instructions.map(function(d,_){return(0,a.jsxs)("div",{className:"".concat(c().instruction," ").concat(d.link?c().withLink:""),onClick:function(){!!d.link&&window.open("".concat(Y.Z.main.weeklySite,"?redirect=").concat(d.link,"&nftId=").concat(x,"&did=").concat(E==null?void 0:E.did,"&ad=").concat(p==null?void 0:p.id,"&referrer=").concat(u,"&tag=").concat(d.tag,"&score=").concat(d.score))},children:[(0,a.jsx)("span",{className:c().instructionText,children:d.text}),!!d.tag&&(0,a.jsx)(he.Z,{tag:d.tag}),!!d.score&&(0,a.jsx)(j.Z,{score:parseInt(d.score,10)})]},_)})]})})]})}),(0,a.jsxs)("div",{className:c().buttonContainer,children:[$&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",className:c().actionBtn,icon:(0,a.jsx)(ee.Z,{}),onClick:(0,v.Z)(g().mark(function d(){var _;return g().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(_={title:"Para Metaverse Identity",text:k.formatMessage({id:"creator.explorer.shareMessage"}),url:F},!(navigator.canShare&&navigator.canShare(_))){M.next=12;break}return M.prev=2,M.next=5,navigator.share(_);case 5:M.next=10;break;case 7:M.prev=7,M.t0=M.catch(2),console.log(M.t0);case 10:M.next=14;break;case 12:Ne()(F+" ".concat(k.formatMessage({id:"creator.explorer.shareMessage"},{token:"$".concat(Z==null?void 0:Z.symbol)}))),Be.default.success(k.formatMessage({id:"common.copied"}));case 14:case"end":return M.stop()}},d,null,[[2,7]])})),children:k.formatMessage({id:"creator.explorer.advertisement.share"},{token:"$".concat(Z==null?void 0:Z.symbol)})}),Se("Check your reward and score")]}),!$&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,a.jsx)(oe.Z,{}),className:c().claimBtn,onClick:function(){return te(!0)},children:"Claim your $".concat(Z==null?void 0:Z.symbol)})})]}),Oe&&(0,a.jsx)(Re.Z,{adId:p==null?void 0:p.id,nftId:x,referrer:u,onClose:function(){return te(!1)},onClaim:function(){te(!1),de(!0)}})]})})},Ke=ge,ye=e(90802),I=e.n(ye),Ee=e(51615),re=e(28943),$e=e(61715),ke=e(69764),S=e(13580),Me=e(29791),Ce=e(32689),De=e(59749),Fe=e(81372),He=function(){var s,D,o=(0,C.tT)("apiWs"),x=(0,C.tT)("currentUser"),u=x.wallet,Z=(0,C.tT)("bodyChange"),i=Z.bodyHeight,V=(0,f.useState)(!0),p=(0,m.Z)(V,2),b=p[0],Xe=p[1],Pe=(0,f.useState)(""),je=(0,m.Z)(Pe,2),Ie=je[0],E=je[1],we=(0,f.useState)(!0),le=(0,m.Z)(we,2),Oe=le[0],te=le[1],ze=(0,f.useState)(),ie=(0,m.Z)(ze,2),$=ie[0],de=ie[1],ce=(0,f.useState)(),k=(0,m.Z)(ce,2),F=k[0],Ge=k[1],Je=(0,f.useState)(!1),Se=(0,m.Z)(Je,2),d=Se[0],_=Se[1],X=(0,f.useState)(),M=(0,m.Z)(X,2),H=M[0],Ae=M[1],Qe=(0,f.useState)(),w=(0,m.Z)(Qe,2),ue=w[0],ra=w[1],ta=(0,f.useState)(null),qe=(0,m.Z)(ta,2),sa=qe[0],na=qe[1],oa=(0,f.useState)(""),ea=(0,m.Z)(oa,2),la=ea[0],ia=ea[1],N=(0,C.YB)(),da=(0,C.md)(),ca=(s=document.getElementById("avatar"))===null||s===void 0?void 0:s.offsetTop,ua=(D=document.getElementById("avatar"))===null||D===void 0?void 0:D.offsetLeft,va=document.body.clientWidth,h=(0,Ee.UO)(),ma=C.m8.location.query,fa=ma,pa=fa.referrer,xe=h!=null&&h.kol?"did"+(h==null?void 0:h.kol):(0,ae.st)(u.did),aa=(0,ae.Zc)(xe),Ye=function(n){Q.default.error({message:n.message,duration:null})},ha=function(){var l=(0,v.Z)(g().mark(function n(){var t;return g().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,$e.qX)(h.nftID);case 2:if(t=r.sent,t){r.next=6;break}return C.m8.replace("".concat(window.location.pathname,"/dao")),r.abrupt("return");case 6:Ae(t);case 7:case"end":return r.stop()}},n)}));return function(){return l.apply(this,arguments)}}(),ga=function(){var l=(0,v.Z)(g().mark(function n(t){var P,r,se,O,Te;return g().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!((t==null||(P=t.metadata)===null||P===void 0?void 0:P.indexOf("ipfs://"))<0)){U.next=2;break}return U.abrupt("return");case 2:return se=t==null||(r=t.metadata)===null||r===void 0?void 0:r.substring(7),U.next=5,fetch(Y.Z.ipfs.endpoint+se);case 5:return O=U.sent,U.next=8,O.json();case 8:if(Te=U.sent,Te){U.next=11;break}return U.abrupt("return");case 11:na(Te);case 12:case"end":return U.stop()}},n)}));return function(t){return l.apply(this,arguments)}}();(0,f.useEffect)(function(){if(H)try{var l=H.ad;if(!(l!=null&&l.metadata))return;ra(l),ga(l),(0,S.L7)(H.budgetPot,H.fractionId).then(function(n){var t;ia((0,De.At)((t=n==null?void 0:n.balance)!==null&&t!==void 0?t:""))}).catch(function(n){console.error("GetBalanceOfBudgetPot error:",n)})}catch(n){Ye(n)}},[H]);var ya=function(){var l=(0,v.Z)(g().mark(function n(){var t;return g().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,re.JI)(aa);case 3:if(t=r.sent,!t.isEmpty){r.next=7;break}return te(!1),r.abrupt("return");case 7:window.location.href="".concat(window.location.origin,"/").concat(xe,"/").concat(t),r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),Q.default.error({message:r.t0.message,duration:null}),r.abrupt("return");case 14:case"end":return r.stop()}},n,null,[[0,10]])}));return function(){return l.apply(this,arguments)}}();(0,f.useEffect)(function(){var l;document.title="".concat((l=F==null?void 0:F.name)!==null&&l!==void 0?l:xe," - Para Metaverse Identity")},[F]);var Ea=function(){var l=(0,v.Z)(g().mark(function n(){var t;return g().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,re.X6)(h==null?void 0:h.nftID);case 2:if(t=r.sent,t){r.next=7;break}return Q.default.error({message:N.formatMessage({id:"error.nft.notFound"}),duration:null}),C.m8.goBack(),r.abrupt("return");case 7:if((t==null?void 0:t.owner)===aa){r.next=11;break}return Q.default.error({message:N.formatMessage({id:"error.nft.notFound"}),duration:null}),C.m8.goBack(),r.abrupt("return");case 11:de(t);case 12:case"end":return r.stop()}},n)}));return function(){return l.apply(this,arguments)}}();(0,f.useEffect)(function(){var l=function(){var n=(0,v.Z)(g().mark(function t(){var P,r;return g().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,S.Ay)($==null?void 0:$.tokenAssetId);case 2:if(P=O.sent,!P.isEmpty){O.next=6;break}return te(!1),O.abrupt("return");case 6:r=P.toHuman(),Ge(r);case 8:case"end":return O.stop()}},t)}));return function(){return n.apply(this,arguments)}}();if($)try{l()}catch(n){Ye(n)}},[$]);var Ma=function(){var l=(0,v.Z)(g().mark(function n(){var t,P,r,se,O;return g().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,Ce.T9)(h==null?void 0:h.nftID);case 2:if(t=R.sent,P=t.data,!(P!=null&&P.token)){R.next=11;break}return R.next=7,(0,Ce.nH)(P.token.icon);case 7:r=R.sent,se=r.data,O=r.response,(O==null?void 0:O.status)===200&&E(window.URL.createObjectURL(se));case 11:case"end":return R.stop()}},n)}));return function(){return l.apply(this,arguments)}}();return(0,f.useEffect)(function(){if(o&&!(h!=null&&h.nftID)&&ya(),da.canWalletUser||(localStorage.setItem("parami:wallet:redirect",window.location.href),_(!0)),o)try{ha(),Ea(),Ma()}catch(l){Ye(l)}},[o]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(Fe.ZP,{children:[(0,a.jsx)("title",{children:"Checkout this Ad"}),(0,a.jsx)("meta",{name:"description",content:"View Ad, Get Paid."}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:url",content:"https://app.parami.io/"}),(0,a.jsx)("meta",{property:"og:site_name",content:"Parami Ad"}),(0,a.jsx)("meta",{property:"og:title",content:"Checkout this ad and claim your tokens"}),(0,a.jsx)("meta",{property:"og:image",content:"https://pbs.twimg.com/profile_banners/1351514784273891329/1640271011/600x200"})]}),(0,a.jsxs)("div",{className:I().explorerContainer,children:[Oe&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.Z,{src:Ie||"/images/default-avatar.svg",fallback:"/images/default-avatar.svg",className:I().avatar,style:{top:b?(i-400)/2:ca,left:b?(va-200)/2:ua,width:b?200:30,height:b?200:30,animation:b?1:0,position:b?"fixed":"absolute",display:b||ue&&Object.keys(ue).length?"flex":"none"},preview:!1}),(0,a.jsx)("div",{className:I().loading,style:{opacity:b?1:0,zIndex:b?15:-1,height:i,minHeight:"100vh"},children:(0,a.jsx)("span",{className:I().loadingTip,children:N.formatMessage({id:"creator.explorer.loading.tip",defaultMessage:"Let's find out more about the NFT.{br} Surprise awaits..."},{br:(0,a.jsx)("br",{})})})})]}),Oe&&ue&&Object.keys(ue).length>0&&(0,a.jsx)("div",{className:pe().pageContainer,style:{paddingTop:50,maxWidth:"100%"},children:(0,a.jsx)(Ke,{ad:sa,nftId:h==null?void 0:h.nftID,referrer:pa,asset:F,avatar:Ie,did:xe,adData:ue,balance:la,notAccess:d,adImageOnLoad:function(){Xe(!1)}})}),(0,a.jsx)(Me.Z,{})]}),(0,a.jsx)(ke.Z,{visable:d,title:N.formatMessage({id:"error.identity.notUser"}),content:(0,a.jsx)("div",{className:I().notUser,children:(0,a.jsxs)("div",{className:I().buttons,children:[(0,a.jsxs)(A.Z,{block:!0,size:"large",type:"primary",shape:"round",className:I().button,onClick:function(){C.m8.push(Y.Z.page.createPage)},children:[(0,a.jsx)("div",{className:I().title,children:N.formatMessage({id:"index.createAccount"})}),(0,a.jsx)("span",{className:I().desc,children:N.formatMessage({id:"index.createAccount.desc"})})]}),(0,a.jsx)(z.Z,{children:N.formatMessage({id:"index.or"})}),(0,a.jsxs)(A.Z,{block:!0,ghost:!0,size:"large",type:"link",shape:"round",className:"".concat(I().button," ").concat(I().buttonImport),onClick:function(){C.m8.push(Y.Z.page.recoverPage)},children:[(0,a.jsx)("div",{className:I().title,children:N.formatMessage({id:"index.importAccount"})}),(0,a.jsx)("span",{className:I().desc,children:N.formatMessage({id:"index.importAccount.desc"})})]})]})}),close:void 0,footer:!1})]})},T=He},57641:function(B,K,e){"use strict";var Ze=e(57663),z=e(71577),G=e(20228),A=e(11382),ne=e(74379),L=e(38648),v=e(3182),ve=e(2824),Q=e(94043),m=e.n(Q),q=e(67294),g=e(69764),f=e(2752),_e=e.n(f),Be=e(32689),Ve=e(46656),me=e(61715),fe=e(43581),Le=e(69854),Ue=e(11561),pe=e(79762),y=e(85893),c=function(J){var We=J.onClose,ee=J.adId,oe=J.nftId,ae=J.referrer,be=ae===void 0?null:ae,Ne=J.onClaim,Re=(0,q.useState)(),he=(0,ve.Z)(Re,2),j=he[0],Y=he[1],a=(0,q.useState)(!1),ge=(0,ve.Z)(a,2),Ke=ge[0],ye=ge[1],I=(0,q.useState)(""),Ee=(0,ve.Z)(I,2),re=Ee[0],$e=Ee[1],ke=(0,fe.tT)("currentUser"),S=ke.wallet,Me=(0,fe.tT)("apiWs"),Ce=(0,fe.YB)(),De=function(){var T=(0,v.Z)(m().mark(function W(){var s;return m().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,Le.Wv)(ee);case 2:s=o.sent,Y({scores:(s!=null?s:[]).map(function(x){return{tag:x.name,score:-5}})});case 4:case"end":return o.stop()}},W)}));return function(){return T.apply(this,arguments)}}(),Fe=function(){var T=(0,v.Z)(m().mark(function W(){var s,D,o;return m().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,(0,Be.Rh)(ee,oe,S==null?void 0:S.did);case 3:s=u.sent,D=s.response,o=s.data,D.ok?Y(o):De(),u.next=13;break;case 9:u.prev=9,u.t0=u.catch(0),console.log(u.t0),De();case 13:case"end":return u.stop()}},W,null,[[0,9]])}));return function(){return T.apply(this,arguments)}}();(0,q.useEffect)(function(){Me&&Fe()},[Me]);var He=function(){var T=(0,v.Z)(m().mark(function W(s,D){var o,x,u;return m().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(S!=null&&S.keystore){i.next=3;break}return L.default.error({key:"accessDenied",message:Ce.formatMessage({id:"error.accessDenied"}),duration:null}),i.abrupt("return");case 3:if(i.prev=3,u=((o=j.scores)!==null&&o!==void 0?o:[]).map(function(V){return[V.tag,V.score]}),!(j&&j.signature)){i.next=11;break}return i.next=8,(0,me.nm)(ee,oe,S==null?void 0:S.did,u,j.referer,j.signature,j.signer_account,re,S.keystore,s,D);case 8:x=i.sent,i.next=14;break;case 11:return i.next=13,(0,me.HS)(ee,oe,u,be,re,S.keystore,s,D);case 13:x=i.sent;case 14:if(!(s&&D)){i.next=16;break}return i.abrupt("return",x);case 16:L.default.success({message:"Claim Token Success"}),Ne(),i.next=24;break;case 20:i.prev=20,i.t0=i.catch(3),console.log(i.t0),L.default.error({message:"Claim Ad Token Error",description:"".concat(i.t0)});case 24:case"end":return i.stop()}},W,null,[[3,20]])}));return function(s,D){return T.apply(this,arguments)}}();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(g.Z,{visable:!0,title:"Claim your token",content:(0,y.jsx)("div",{className:_e().claimInfoContainer,children:(0,y.jsx)(A.Z,{spinning:!j,children:j&&j.scores&&j.scores.length>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("p",{children:"Claim now and have your score updated:"}),j.scores.map(function(T){return(0,y.jsxs)("div",{className:_e().scoreChange,children:[(0,y.jsx)(Ue.Z,{tag:T.tag}),(0,y.jsx)(pe.Z,{score:parseInt(T.score,10)})]})}),!j.signature&&(0,y.jsx)("p",{children:"Not happy with the reward? Follow the instructions before claiming."})]})})}),footer:(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(z.Z,{block:!0,type:"primary",shape:"round",size:"large",disabled:!j,onClick:function(){return ye(!0)},children:"Claim"})}),close:function(){return We()}}),(0,y.jsx)(Ve.Z,{visable:Ke,setVisable:ye,passphrase:re,setPassphrase:$e,func:He})]})};K.Z=c},79762:function(B,K,e){"use strict";var Ze=e(67294),z=e(8556),G=e.n(z),A=e(85893);function ne(L){var v=L.score;return(0,A.jsxs)("span",{className:G().scoreContainer,children:[v>=0&&(0,A.jsxs)("span",{className:G().positive,children:["+",v]}),v<0&&(0,A.jsxs)("span",{className:G().negative,children:["-",Math.abs(v)]})]})}K.Z=ne},11561:function(B,K,e){"use strict";var Ze=e(67294),z=e(28531),G=e.n(z),A=e(85893);function ne(L){var v=L.tag;return(0,A.jsx)("span",{className:G().tag,children:v})}K.Z=ne}}]);

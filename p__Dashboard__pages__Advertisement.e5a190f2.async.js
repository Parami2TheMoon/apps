(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[4662],{20592:function(O){O.exports={skeletonContainer:"skeletonContainer___3qdtO",skeleton:"skeleton___36Byl","skeleton-loading":"skeleton-loading___2Ztrp"}},66054:function(O){O.exports={tokenAndAmountDetails:"tokenAndAmountDetails___244cv",tokenDetails:"tokenDetails___1Xqhu",chainIcon:"chainIcon___2Yar0",tokenDetailsTokenName:"tokenDetailsTokenName___TIJAK",tokenDetailsArrow:"tokenDetailsArrow___1Pzqi",amountDetails:"amountDetails___316ye",amountDetailsMaxButton:"amountDetailsMaxButton___24P40",inputError:"inputError___1Y98J",inputErrorMsg:"inputErrorMsg___2Rs63"}},35831:function(O){O.exports={tagInput:"tagInput___1Slo7",tag:"tag___3Iw9d",buttons:"buttons___1_Ps-",metaDataImg:"metaDataImg___3w1UR",avatar:"avatar___2zzye",tokenAndAmountDetails:"tokenAndAmountDetails___1qJkU",tokenDetails:"tokenDetails___1lLI5",chainIcon:"chainIcon____aonj",tokenDetailsTokenName:"tokenDetailsTokenName___2HmJf",tokenDetailsArrow:"tokenDetailsArrow___XRwU3",amountDetails:"amountDetails___H2uWg",amountDetailsMaxButton:"amountDetailsMaxButton___1acEK",decodeDIDEntry:"decodeDIDEntry___1TVUc",inputError:"inputError___2fm_c",fieldInfo:"fieldInfo___39YWO"}},38520:function(O){O.exports={noNFTs:"noNFTs___LOupa",topImage:"topImage___3Oy4k",description:"description___16Jye",buttons:"buttons___iZUHf",buttonRow:"buttonRow___1u8XT",button:"button___2rjSY",nftsList:"nftsList___3Z3HD",nftItem:"nftItem___2pQ10",card:"card___2HHT1",cardWrapper:"cardWrapper___2uj88",cardBox:"cardBox___1Oqh7",cover:"cover___1IYqm",nftID:"nftID___3hu6W",filterImage:"filterImage___3f8gz",cardDetail:"cardDetail___2lyWW",text:"text___2IThF",status:"status___3gpn0",label:"label___3pEL3",value:"value___3P6o9",action:"action___2G7kR",progress:"progress___36kDQ",unmint:"unmint___2rgXb",newItem:"newItem___2DN7A",spinWrapper:"spinWrapper___2j39V",createNFT:"createNFT___1EH5Y",importNFT:"importNFT___1va2f",icon:"icon___XW568",divider:"divider___35eHG"}},58377:function(O){O.exports={registerContainer:"registerContainer___1Hf1Q",field:"field___4GAnR",tip:"tip___-yRgY"}},13500:function(O){O.exports={pageContainer:"pageContainer___3DuRF",createModal:"createModal___28GZ-",becomeButton:"becomeButton___3m8An",minimum:"minimum___1G6B2"}},13277:function(){},62543:function(O,de,a){"use strict";var A=a(67294),K=a(20592),fe=a.n(K),v=a(85893),xe=function(Ce){var V=Ce.children,De=Ce.loading,he=Ce.height,Te=Ce.styles;return(0,v.jsx)("div",{className:fe().skeletonContainer,style:Te,children:De?(0,v.jsx)("div",{className:fe().skeleton,style:{height:he||"10vh"}}):V})};de.Z=xe},55410:function(O,de,a){"use strict";a.d(de,{n:function(){return A}});var A;(function(K){K.ICON="icon",K.POSTER="poster"})(A||(A={}))},51135:function(O,de,a){"use strict";a.r(de),a.d(de,{default:function(){return vt}});var A=a(58024),K=a(39144),fe=a(95936),v=a(80274),xe=a(95300),Ee=a(7277),Ce=a(57663),V=a(71577),De=a(49111),he=a(19650),Te=a(20136),Re=a(55241),Ue=a(22385),ge=a(31097),n=a(2824),s=a(67294),E=a(24787),t=a.n(E),y=a(13500),w=a.n(y),r=a(43581),o=a(28991),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},i=p,m=a(27029),N=function(k,D){return s.createElement(m.Z,(0,o.Z)((0,o.Z)({},k),{},{ref:D,icon:i}))};N.displayName="PlusCircleOutlined";var se=s.forwardRef(N),f=a(79720),Ke=a(62543),re=a(69764),$e=a(17462),He=a(76772),Le=a(74379),ue=a(38648),G=a(3182),Ye=a(94043),T=a.n(Ye),Ca=a(58377),Je=a.n(Ca),ne=a(59749),aa=a(96534),Ie=a(61715),e=a(85893),Sa=function(k){var D=k.setIsAdvertisers,ce=k.setBecomeModal,R=(0,r.tT)("dashboard.balance"),H=R.balance,U=(0,r.tT)("currentUser"),Z=U.dashboard,I=(0,s.useState)(!1),pe=(0,n.Z)(I,2),ee=pe[0],ae=pe[1],L=(0,r.YB)(),te=function(){var d=(0,G.Z)(T().mark(function M(){return T().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(!!Z&&!!(Z!=null&&Z.accountMeta))){h.next=17;break}return ae(!0),h.prev=2,h.next=5,(0,Ie.zW)((0,aa.Vm)("1000"),JSON.parse(Z==null?void 0:Z.accountMeta));case 5:D(!0),ae(!1),ce(!1),h.next=14;break;case 10:h.prev=10,h.t0=h.catch(2),ue.default.error({message:h.t0.message,duration:null}),ae(!1);case 14:h.next=18;break;case 17:ue.default.error({key:"accessDenied",message:L.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return h.stop()}},M,null,[[2,10]])}));return function(){return d.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:Je().registerContainer,children:[(0,e.jsx)("div",{className:Je().field,children:(0,e.jsx)("div",{className:Je().tip,children:(0,e.jsx)(He.Z,{message:L.formatMessage({id:"dashboard.ads.register.description"}),type:"warning",showIcon:!0})})}),(0,e.jsx)("div",{className:Je().field,children:(0,e.jsx)(V.Z,{block:!0,type:"primary",size:"large",shape:"round",loading:ee,disabled:(H==null?void 0:H.free)<(0,ne.HM)("1000",18),onClick:function(){te()},children:L.formatMessage({id:"common.submit"})})})]})},ia=Sa,Pe=a(86582),Ia=a(71153),oa=a(60331),Pa=a(43185),da=a(35372),Oa=a(47673),$=a(32787),Aa=a(34792),ua=a(48086),Ma=a(43358),Ve=a(90927),za=a(35831),ya=a.n(za),Ta=a(84391),B=a(59109),ta=a(29303),ca=a(51625),Ka=a(10378),$a=a(11561),Ha=a(79762),sa=a(55410),Ba=a(94452),va=24*60*60/12,Ya=function(k){var D=k.setCreateModal,ce=(0,r.tT)("currentUser"),R=ce.dashboard,H=(0,s.useState)(!1),U=(0,n.Z)(H,2),Z=U[0],I=U[1],pe=(0,s.useState)(0),ee=(0,n.Z)(pe,2),ae=ee[0],L=ee[1],te=(0,s.useState)(0),d=(0,n.Z)(te,2),M=d[0],_=d[1],h=(0,s.useState)(0),X=(0,n.Z)(h,2),Y=X[0],je=X[1],W=(0,s.useState)(""),g=(0,n.Z)(W,2),C=g[0],P=g[1],le=(0,s.useState)(""),Se=(0,n.Z)(le,2),l=Se[0],Ae=Se[1],Be=(0,s.useState)(),_e=(0,n.Z)(Be,2),ma=_e[0],We=_e[1],Me=(0,s.useState)(""),Xe=(0,n.Z)(Me,2),J=Xe[0],Qe=Xe[1],F=(0,s.useState)(""),z=(0,n.Z)(F,2),ye=z[0],ke=z[1],ba=(0,s.useState)(),we=(0,n.Z)(ba,2),ra=we[0],fa=we[1],ie=(0,s.useState)(),ha=(0,n.Z)(ie,2),na=ha[0],ga=ha[1],pa=(0,s.useState)(0),ja=(0,n.Z)(pa,2),oe=ja[0],qe=ja[1],Ea=(0,s.useState)(),Q=(0,n.Z)(Ea,2),u=Q[0],Ze=Q[1],ve=(0,s.useState)(ca.Z.advertisement.defaultDelegatedDid),x=(0,n.Z)(ve,2),Fe=x[0],me=x[1],Ua=(0,s.useState)(!1),S=(0,n.Z)(Ua,2),mt=S[0],Da=S[1],ft=(0,s.useState)([]),La=(0,n.Z)(ft,2),la=La[0],_a=La[1],Ne=(0,r.YB)(),xa=Ve.Z.Option,ht=function(){var j=(0,G.Z)(T().mark(function c(){var be;return T().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(!!R&&!!(R!=null&&R.accountMeta))){b.next=19;break}return I(!0),b.prev=2,b.next=5,(0,Ba.T)({poster:ra,icon:na,content:ye,instructions:la,sponsorName:J,rewardRate:oe,lifetime:u,payoutBase:ae,payoutMax:Y,payoutMin:M});case 5:return be=b.sent,b.next=8,(0,Ie.Wh)(be,JSON.parse(R==null?void 0:R.accountMeta));case 8:I(!1),D(!1),window.location.reload(),b.next=17;break;case 13:b.prev=13,b.t0=b.catch(2),ue.default.error({message:b.t0.message||b.t0,duration:null}),I(!1);case 17:b.next=20;break;case 19:ue.default.error({key:"accessDenied",message:Ne.formatMessage({id:"error.accessDenied"}),duration:null});case 20:case"end":return b.stop()}},c,null,[[2,13]])}));return function(){return j.apply(this,arguments)}}();(0,s.useEffect)(function(){Ae(""),P(""),Y<M&&Ae("Payout Max cannot be less than Payout Min")},[Y]),(0,s.useEffect)(function(){Ae(""),P(""),M>Y&&P("Payout Min cannot be more than Payout Max")},[M]);var Wa=function(c){return function(be){if(be.file.status==="done"){var ze=be.file.response.Hash,b=ca.Z.ipfs.endpoint+ze;c===sa.n.POSTER?fa(b):ga(b);return}be.file.status==="error"&&ua.default.error("Upload Image Error")}},Fa=function(c){return function(){var be=(0,G.Z)(T().mark(function ze(b){return T().wrap(function(ea){for(;;)switch(ea.prev=ea.next){case 0:return ea.next=2,(0,Ba.q)(b,c);case 2:return ea.abrupt("return",ea.sent);case 3:case"end":return ea.stop()}},ze)}));return function(ze){return be.apply(this,arguments)}}()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:t().modalBody,children:[(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:"Title",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)($.Z,{size:"large",onChange:function(c){return We(c.target.value)},placeholder:"Advertisement Title"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:"Sponsor Name",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)($.Z,{size:"large",onChange:function(c){return Qe(c.target.value)},placeholder:"Advertisement Sponsor Name"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:"Description",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)($.Z,{size:"large",onChange:function(c){return ke(c.target.value)},placeholder:"Advertisement Description"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:"Ad Icon",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(da.Z,{showUploadList:!1,action:ca.Z.ipfs.upload,onChange:Wa(sa.n.ICON),beforeUpload:Fa(sa.n.ICON),children:na?(0,e.jsx)("img",{src:na,style:{width:"100%"}}):(0,e.jsx)(V.Z,{icon:(0,e.jsx)(Ta.Z,{}),children:"Click to Upload"})})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:"Poster",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(da.Z,{showUploadList:!1,action:ca.Z.ipfs.upload,onChange:Wa(sa.n.POSTER),beforeUpload:Fa(sa.n.POSTER),children:ra?(0,e.jsx)("img",{src:ra,style:{width:"100%"}}):(0,e.jsx)(V.Z,{icon:(0,e.jsx)(Ta.Z,{}),children:"Click to Upload"})})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:"instructions",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(V.Z,{onClick:function(){return Da(!0)},children:"Add New Instruction"})})]}),la.length>0&&(0,e.jsx)("div",{className:t().field,children:la.map(function(j){return(0,e.jsx)("p",{children:(0,e.jsxs)(oa.Z,{closable:!0,onClose:function(be){be.preventDefault(),_a(la.filter(function(ze){return ze!==j}))},children:[j.text,!!j.tag&&(0,e.jsx)($a.Z,{tag:j.tag}),!!j.score&&(0,e.jsx)(Ha.Z,{score:j.score}),!!j.link&&(0,e.jsx)("a",{href:j.link,target:"_blank",children:"(link)"})]})})})}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:Ne.formatMessage({id:"dashboard.ads.create.rewardRate"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)($.Z,{className:t().withAfterInput,placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,onChange:function(c){return qe(Number(c.target.value))},suffix:"%"}),(0,e.jsxs)("span",{className:ya().fieldInfo,children:["Referrer gets ",oe,"% from each referral."]})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:Ne.formatMessage({id:"dashboard.ads.create.lifetime"}),required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsxs)(Ve.Z,{size:"large",style:{width:"100%"},placeholder:"Please select a lifetime",onChange:function(c){Ze(Number(c))},children:[(0,e.jsx)(xa,{value:1*va,children:Ne.formatMessage({id:"dashboard.ads.create.lifetime.1day"})}),(0,e.jsx)(xa,{value:3*va,children:Ne.formatMessage({id:"dashboard.ads.create.lifetime.3days"})}),(0,e.jsx)(xa,{value:7*va,children:Ne.formatMessage({id:"dashboard.ads.create.lifetime.7days"})}),(0,e.jsx)(xa,{value:15*va,children:Ne.formatMessage({id:"dashboard.ads.create.lifetime.15days"})})]})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:Ne.formatMessage({id:"dashboard.ads.create.payoutBase"}),required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)($.Z,{className:t().withAfterInput,placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,onChange:function(c){return L(Number(c.target.value))}})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:Ne.formatMessage({id:"dashboard.ads.create.payoutMin"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)($.Z,{className:"".concat(t().withAfterInput," ").concat(C?ya().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,max:Y,onChange:function(c){return _(Number(c.target.value))}}),C&&(0,e.jsx)(ta.Z,{msg:C})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:Ne.formatMessage({id:"dashboard.ads.create.payoutMax"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)($.Z,{className:"".concat(t().withAfterInput," ").concat(l?ya().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,min:M,onChange:function(c){return je(Number(c.target.value))}}),l&&(0,e.jsx)(ta.Z,{msg:l})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:"Delegated Account"})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)($.Z,{size:"large",value:Fe,onChange:function(c){return me(c.target.value)},placeholder:"did:ad3:......"})})]}),(0,e.jsx)("div",{className:t().field,style:{marginTop:50},children:(0,e.jsx)(V.Z,{block:!0,size:"large",shape:"round",type:"primary",disabled:!u||!oe||!ae||!!l||!!C,loading:Z,onClick:function(){ht()},children:Ne.formatMessage({id:"common.submit"})})})]}),mt&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Ka.Z,{onCancel:function(){return Da(!1)},onCreateInstruction:function(c){_a([].concat((0,Pe.Z)(la),[c])),Da(!1)}})})]})},Ja=Ya,gt=a(12968),Va=a(62462),pt=a(48736),ka=a(27049),Ga=a(66054),Oe=a.n(Ga),Xa=a(39605),Za=a(28943),Na=a(13580),Qa=a(57254),wa=a(99645),qa=function(k){var D,ce=k.adItem,R=k.setBidModal,H=(0,r.tT)("currentUser"),U=H.dashboard,Z=(0,s.useState)(!1),I=(0,n.Z)(Z,2),pe=I[0],ee=I[1],ae=(0,s.useState)(),L=(0,n.Z)(ae,2),te=L[0],d=L[1],M=(0,s.useState)(""),_=(0,n.Z)(M,2),h=_[0],X=_[1],Y=(0,s.useState)(""),je=(0,n.Z)(Y,2),W=je[0],g=je[1],C=(0,s.useState)(""),P=(0,n.Z)(C,2),le=P[0],Se=P[1],l=(0,s.useState)(""),Ae=(0,n.Z)(l,2),Be=Ae[0],_e=Ae[1],ma=(0,s.useState)(),We=(0,n.Z)(ma,2),Me=We[0],Xe=We[1],J=(0,s.useState)(),Qe=(0,n.Z)(J,2),F=Qe[0],z=Qe[1],ye=(0,s.useState)(!1),ke=(0,n.Z)(ye,2),ba=ke[0],we=ke[1],ra=(0,s.useState)(),fa=(0,n.Z)(ra,2),ie=fa[0],ha=fa[1],na=(0,s.useState)(""),ga=(0,n.Z)(na,2),pa=ga[0],ja=ga[1],oe=(0,r.YB)(),qe=Math.max(Number((0,ne.mI)((0,ne.At)(W),18))*1.2,1),Ea=function(){var Q=(0,G.Z)(T().mark(function u(){var Ze;return T().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!(!!U&&!!(U!=null&&U.accountMeta))){x.next=17;break}return ee(!0),x.prev=2,x.next=5,(0,Ie.hB)(ce.id,le,(0,aa.Vm)(Me.toString()),ie==null?void 0:ie.assetId,(0,ne.HM)(pa,(Ze=ie==null?void 0:ie.decimals)!==null&&Ze!==void 0?Ze:18).toString(),JSON.parse(U==null?void 0:U.accountMeta));case 5:R(!1),ee(!1),window.location.reload(),x.next=15;break;case 10:return x.prev=10,x.t0=x.catch(2),ue.default.error({message:x.t0.message||x.t0,duration:null}),ee(!1),x.abrupt("return");case 15:x.next=18;break;case 17:ue.default.error({key:"accessDenied",message:oe.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return x.stop()}},u,null,[[2,10]])}));return function(){return Q.apply(this,arguments)}}();return(0,s.useEffect)(function(){var Q=function(){var u=(0,G.Z)(T().mark(function Ze(){var ve,x;return T().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return ve=(0,aa.Zc)(te),me.next=3,(0,Za.JI)(ve);case 3:if(x=me.sent,!x.isEmpty){me.next=8;break}return X(oe.formatMessage({id:"error.identity.notFound"})),Se(""),me.abrupt("return");case 8:Se(x.toString());case 10:case"end":return me.stop()}},Ze)}));return function(){return u.apply(this,arguments)}}();X(""),te&&Q().catch(function(u){ue.default.error({message:u.message||u,duration:null})})},[te]),(0,s.useEffect)(function(){var Q=function(){var u=(0,G.Z)(T().mark(function Ze(){var ve,x,Fe,me;return T().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,Za.X6)(le);case 2:if(ve=S.sent,ve!=null&&ve.minted){S.next=5;break}return S.abrupt("return");case 5:return S.next=8,(0,Na.Ay)((0,ne.At)(ve==null?void 0:ve.tokenAssetId));case 8:if(x=S.sent,!x.isEmpty){S.next=11;break}return S.abrupt("return");case 11:return S.next=13,(0,Ie.Li)(le);case 13:if(Fe=S.sent,Fe){S.next=16;break}return S.abrupt("return","0");case 16:return S.next=18,(0,Na.L7)(Fe.budgetPot,Fe.fractionId);case 18:if(me=S.sent,me){S.next=21;break}return S.abrupt("return");case 21:return S.abrupt("return",me.balance);case 22:case"end":return S.stop()}},Ze)}));return function(){return u.apply(this,arguments)}}();X(""),g(""),le&&Q().then(function(u){if(u===void 0){_e(oe.formatMessage({id:"error.nft.invalid"}));return}_e(""),g(u)}).catch(function(u){ue.default.error({message:u.message||u,duration:null})})},[le]),(0,s.useEffect)(function(){z(""),Me!==void 0&&Me<qe&&z("price too low")},[Me]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:t().modalBody,children:[(0,e.jsx)(ka.Z,{children:"Find NFT ID from DID"}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:oe.formatMessage({id:"dashboard.ads.launch.did"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)($.Z,{size:"large",className:"".concat(h?Oe().inputError:""),onChange:function(u){d(u.target.value)},placeholder:"did:ad3:......",value:te}),h&&(0,e.jsx)(ta.Z,{msg:h})]})]}),(0,e.jsx)(ka.Z,{}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:oe.formatMessage({id:"dashboard.ads.launch.nftID"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)($.Z,{size:"large",className:"".concat(Be?Oe().inputError:""),onChange:function(u){Se(u.target.value)},value:le}),Be&&(0,e.jsx)(ta.Z,{msg:Be})]})]}),!!W.length&&(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:oe.formatMessage({id:"dashboard.ads.launch.currentPrice"}),required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)($.Z,{readOnly:!0,disabled:!0,size:"large",value:"".concat((0,Xa.a)((0,ne.At)(W),{decimals:18}))})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsxs)("div",{className:t().title,children:[(0,e.jsx)(B.Z,{title:oe.formatMessage({id:"dashboard.ads.launch.offer"}),required:!0}),(0,e.jsx)("br",{}),(0,e.jsx)("small",{children:"The bid must be higher than ".concat(qe," (20% higher than the current price)")})]}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)($.Z,{value:Me,className:"".concat(t().withAfterInput," ").concat(F?Oe().inputError:""),size:"large",type:"number",min:qe||0,onChange:function(u){Xe(Number(u.target.value))}}),F&&(0,e.jsx)(ta.Z,{msg:F})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsxs)("div",{className:t().title,children:[(0,e.jsx)(B.Z,{title:oe.formatMessage({id:"dashboard.ads.launch.token"})}),(0,e.jsx)("br",{}),(0,e.jsx)("small",{children:oe.formatMessage({id:"dashboard.ads.launch.token.tip"})})]}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsxs)("div",{className:Oe().tokenAndAmountDetails,children:[(0,e.jsxs)("div",{className:Oe().tokenDetails,onClick:function(){we(!0)},children:[(0,e.jsx)(Va.Z,{src:(D=ie==null?void 0:ie.icon)!==null&&D!==void 0?D:"/images/logo-round-core.svg",preview:!1,className:Oe().chainIcon}),(0,e.jsx)("span",{className:Oe().tokenDetailsTokenName,children:ie==null?void 0:ie.name}),(0,e.jsx)(Qa.Z,{className:Oe().tokenDetailsArrow})]}),(0,e.jsx)("div",{className:Oe().amountDetails,children:(0,e.jsx)($.Z,{placeholder:"0.00",type:"number",size:"large",value:pa,onChange:function(u){ja(u.target.value)}})})]})})]}),(0,e.jsx)("div",{className:t().field,children:(0,e.jsx)(V.Z,{block:!0,type:"primary",shape:"round",size:"large",className:t().button,disabled:!le||!W.length||!Me||!!Be||!!F,loading:pe,onClick:function(){Ea()},children:oe.formatMessage({id:"common.submit"})})})]}),ba&&(0,e.jsx)(wa.Z,{onClose:function(){return we(!1)},onSelectToken:function(u){ha(u),we(!1)},chain:"parami"})]})},et=qa,jt=a(34669),at=a(32074),Ra=a(11849),tt=a(91220),st=a(38520),q=a.n(st),rt=a(3548),nt=function(k){var D=k.adItem,ce=(0,r.tT)("apiWs"),R=(0,s.useState)(!1),H=(0,n.Z)(R,2),U=H[0],Z=H[1],I=(0,s.useState)([]),pe=(0,n.Z)(I,2),ee=pe[0],ae=pe[1],L=(0,r.YB)(),te=function(){var d=(0,G.Z)(T().mark(function M(){var _,h,X,Y,je,W,g,C,P,le;return T().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(ce){l.next=2;break}return l.abrupt("return");case 2:if(Z(!0),l.prev=4,_=[],!Object.keys(D).length){l.next=43;break}return l.next=9,(0,Ie.kw)(D==null?void 0:D.id);case 9:if(h=l.sent,X=h.toHuman(),!X){l.next=42;break}Y=(0,tt.Z)(X),l.prev=13,Y.s();case 15:if((je=Y.n()).done){l.next=30;break}return W=je.value,l.next=19,(0,Za.X6)(W);case 19:return g=l.sent,l.next=22,(0,Ie.IP)(g==null?void 0:g.tokenAssetId);case 22:return C=l.sent,l.next=25,(0,Na.Ay)(g==null?void 0:g.tokenAssetId);case 25:P=l.sent,le=P.toHuman(),_.push((0,Ra.Z)((0,Ra.Z)({},g),{},{ad:C==null?void 0:C.ad,budget:C==null?void 0:C.budget,created:C==null?void 0:C.created,remain:C==null?void 0:C.remain,tokens:g==null?void 0:g.tokens,asset:le}));case 28:l.next=15;break;case 30:l.next=35;break;case 32:l.prev=32,l.t0=l.catch(13),Y.e(l.t0);case 35:return l.prev=35,Y.f(),l.finish(35);case 38:ae(_),Z(!1),l.next=43;break;case 42:Z(!1);case 43:l.next=51;break;case 46:return l.prev=46,l.t1=l.catch(4),ue.default.error({message:l.t1.message||l.t1,duration:null}),Z(!1),l.abrupt("return");case 51:case"end":return l.stop()}},M,null,[[4,46],[13,32,35,38]])}));return function(){return d.apply(this,arguments)}}();return(0,s.useEffect)(function(){ce&&te()},[ce,D]),(0,e.jsx)("div",{className:t().modalBody,children:(0,e.jsx)(Ke.Z,{loading:!ce||U,height:200,children:ee.length?(0,e.jsx)("div",{className:q().nftsList,children:ee.map(function(d){var M,_;return(0,e.jsx)("div",{className:q().nftItem,children:(0,e.jsx)("div",{className:q().card,children:(0,e.jsx)("div",{className:q().cardWrapper,children:(0,e.jsx)("div",{className:q().cardBox,children:(0,e.jsxs)("div",{className:q().cardDetail,children:[(0,e.jsxs)("h3",{className:q().text,children:[d==null||(M=d.asset)===null||M===void 0?void 0:M.name," (",d==null||(_=d.asset)===null||_===void 0?void 0:_.symbol,") #",d==null?void 0:d.tokenAssetId]}),(0,e.jsxs)("div",{className:q().status,children:[(0,e.jsx)("div",{className:q().label,children:L.formatMessage({id:"dashboard.ads.remain",defaultMessage:"Remain"})}),(0,e.jsx)("div",{className:q().value,children:(0,e.jsx)(rt.Z,{value:(0,ne.At)(d==null?void 0:d.remain)})})]}),(0,e.jsx)("div",{className:q().action,children:(0,e.jsx)(at.Z,{percent:Number((0,ne.mI)((0,ne.At)(d==null?void 0:d.remain),18))/Number((0,ne.mI)((0,ne.At)(d==null?void 0:d.budget),18)),strokeColor:"#ff5b00",className:q().progress})})]})})})})})})}):(0,e.jsxs)("div",{className:q().noNFTs,children:[(0,e.jsx)("img",{src:"/images/icon/query.svg",className:q().topImage}),(0,e.jsx)("div",{className:q().description,children:L.formatMessage({id:"dashboard.ads.nfts.empty"})})]})})})},lt=nt,xt=a(71194),it=a(50146),ot=a(69854),dt=function(k){var D=k.onCancel,ce=k.onCreate,R=(0,r.tT)("currentUser"),H=R.dashboard,U=(0,s.useState)(""),Z=(0,n.Z)(U,2),I=Z[0],pe=Z[1],ee=(0,s.useState)(""),ae=(0,n.Z)(ee,2),L=ae[0],te=ae[1],d=(0,s.useState)(),M=(0,n.Z)(d,2),_=M[0],h=M[1],X=(0,r.tT)("tagOptions"),Y=X.tagOptions;(0,s.useEffect)(function(){te(""),I&&Y.find(function(W){return W.tag===I})&&te("Tag already exists")},[I]);var je=function(){var W=(0,G.Z)(T().mark(function g(){return T().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!(!I||L.length)){P.next=2;break}return P.abrupt("return");case 2:return h(!0),P.next=5,(0,ot.Xn)(I,JSON.parse(H==null?void 0:H.accountMeta));case 5:h(!1),ce();case 7:case"end":return P.stop()}},g)}));return function(){return W.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(it.Z,{visible:!0,title:"New Tag",onOk:function(){return je()},onCancel:function(){return D()},confirmLoading:_,children:(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(B.Z,{title:"Tag",required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)($.Z,{size:"large",onChange:function(g){return pe(g.target.value)},placeholder:"tag name"}),L.length>0&&(0,e.jsx)("span",{style:{color:"#ff4d4f"},children:L})]})]})})})},ut=dt,ct=function(){var k=(0,r.tT)("apiWs"),D=(0,r.tT)("currentUser"),ce=D.dashboard,R=(0,r.tT)("dashboard.advertisement"),H=R.AdList,U=R.getAdList,Z=(0,s.useState)(!1),I=(0,n.Z)(Z,2),pe=I[0],ee=I[1],ae=(0,s.useState)(!1),L=(0,n.Z)(ae,2),te=L[0],d=L[1],M=(0,s.useState)(!1),_=(0,n.Z)(M,2),h=_[0],X=_[1],Y=(0,s.useState)(!1),je=(0,n.Z)(Y,2),W=je[0],g=je[1],C=(0,s.useState)(!1),P=(0,n.Z)(C,2),le=P[0],Se=P[1],l=(0,s.useState)(!1),Ae=(0,n.Z)(l,2),Be=Ae[0],_e=Ae[1],ma=(0,s.useState)({}),We=(0,n.Z)(ma,2),Me=We[0],Xe=We[1],J=(0,r.YB)();(0,s.useEffect)(function(){k&&U()},[k]);var Qe=[{title:J.formatMessage({id:"dashboard.ads.item.id"}),dataIndex:"id",key:"id",render:function(z){return(0,e.jsx)(ge.Z,{placement:"topLeft",title:z,children:z})},ellipsis:!0},{title:"title",key:"title",ellipsis:!0,render:function(z){var ye,ke;return(0,e.jsx)("span",{children:(ye=z==null||(ke=z.metadata)===null||ke===void 0?void 0:ke.title)!==null&&ye!==void 0?ye:"-"})}},{title:J.formatMessage({id:"dashboard.ads.item.tag"}),dataIndex:"tag",key:"tag"},{title:J.formatMessage({id:"dashboard.ads.item.metadata"}),key:"metadata",render:function(z){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Re.Z,{content:(0,e.jsx)(e.Fragment,{children:Object.keys(z.metadata).map(function(ye){return(0,e.jsxs)("p",{children:[(0,e.jsx)("b",{children:ye}),": ",JSON.stringify(z.metadata[ye])]})})}),children:z.metadataIpfs})})},ellipsis:!0},{title:J.formatMessage({id:"dashboard.ads.item.rewardRate"}),dataIndex:"rewardRate",key:"rewardRate"},{title:J.formatMessage({id:"dashboard.ads.item.endtime"}),dataIndex:"endtime",key:"endtime"},{title:J.formatMessage({id:"dashboard.ads.item.action"}),key:"option",render:function(z){return(0,e.jsxs)(he.Z,{children:[(0,e.jsx)("a",{onClick:function(){Xe(z),Se(!0)},children:"Bid"},"bid"),(0,e.jsx)(ge.Z,{placement:"topLeft",title:"comming soon",children:"View"})]})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:t().mainBgContainer,children:(0,e.jsx)("div",{className:t().contentContainer,children:(0,e.jsx)(Ke.Z,{loading:!k,height:400,children:(0,e.jsxs)(K.Z,{className:t().dashboardCard,bodyStyle:{width:"100%"},children:[!1,(0,e.jsx)(f.ZP,{className:w().pageContainer,ghost:!0,title:J.formatMessage({id:"dashboard.ads.title"}),content:(0,e.jsx)(Ee.Z,{title:J.formatMessage({id:"dashboard.ads.control.total"}),value:H.length}),breadcrumb:void 0,extra:[(0,e.jsx)(V.Z,{type:"primary",size:"large",shape:"round",icon:(0,e.jsx)(se,{}),onClick:function(){X(!0)},children:J.formatMessage({id:"dashboard.ads.control.create"})}),(0,e.jsx)(V.Z,{type:"primary",size:"large",shape:"round",icon:(0,e.jsx)(se,{}),onClick:function(){g(!0)},children:"Create New Tag"})],children:(0,e.jsx)(v.Z,{className:w().table,dataSource:H,columns:Qe})})]})})})}),(0,e.jsx)(re.Z,{visable:te,title:J.formatMessage({id:"dashboard.ads.becomeAdvertisers"}),content:(0,e.jsx)(ia,{setIsAdvertisers:ee,setBecomeModal:d}),footer:!1,close:function(){d(!1)}}),h&&(0,e.jsx)(re.Z,{visable:!0,title:J.formatMessage({id:"dashboard.ads.create"}),content:(0,e.jsx)(Ja,{setCreateModal:X}),footer:!1,close:function(){X(!1)}}),W&&(0,e.jsx)(ut,{onCancel:function(){return g(!1)},onCreate:function(){g(!1),window.location.reload()}}),le&&(0,e.jsx)(re.Z,{visable:!0,title:J.formatMessage({id:"dashboard.ads.bid"}),content:(0,e.jsx)(et,{adItem:Me,setBidModal:Se}),footer:!1,close:function(){Se(!1)}}),(0,e.jsx)(re.Z,{visable:Be,title:J.formatMessage({id:"dashboard.ads.list"}),content:(0,e.jsx)(lt,{adItem:Me}),footer:!1,close:function(){_e(!1)}})]})},vt=ct},84986:function(O,de,a){"use strict";a.d(de,{U:function(){return Ue},g:function(){return n}});var A=a(11849),K=a(3182),fe=a(94043),v=a.n(fe),xe=a(51625),Ee=a(43955),Ce=a(11238),V=a(47832),De=a(81603),he=function(E){var t=E.response,y=t===void 0?{}:t,w=E.message,r=w===void 0?"":w,o=E.data,p=o===void 0?{}:o;if(r==="http error")return{response:y,data:p}},Te=(0,Ce.l7)({errorHandler:he,credentials:"omit"}),Re=new Ee.ZP({type:"sr25519"});function Ue(s,E){return ge.apply(this,arguments)}function ge(){return ge=(0,K.Z)(v().mark(function s(E,t){var y;return v().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return y=new FormData,y.append("file",E),r.abrupt("return",Te(xe.Z.ipfs.upload,(0,A.Z)({method:"POST",body:y,requestType:"form",getResponse:!0},t||{})));case 3:case"end":return r.stop()}},s)})),ge.apply(this,arguments)}var n=function(){var s=(0,K.Z)(v().mark(function E(t,y,w,r,o){var p,i,m,N;return v().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(p=window.apiWs.tx.did.setMetadata("pic",t),!(r&&o)){f.next=6;break}return f.next=4,p.paymentInfo(o);case 4:return i=f.sent,f.abrupt("return",i);case 6:if(m=(0,V.Gh)(y,w),!(m==null||!m)){f.next=9;break}throw new Error("Wrong password");case 9:return N=Re.createFromUri(m),f.next=12,(0,De.Y)(p,N);case 12:return f.abrupt("return",f.sent);case 13:case"end":return f.stop()}},E)}));return function(t,y,w,r,o){return s.apply(this,arguments)}}()},94452:function(O,de,a){"use strict";a.d(de,{q:function(){return Re},T:function(){return Ue}});var A=a(86582),K=a(11849),fe=a(3182),v=a(94043),xe=a.n(v),Ee=a(51625),Ce=a(55410),V=a(84986),De=a(41741),he=a(96534),Te=a(48764).Buffer,Re=function(){var ge=(0,fe.Z)(xe().mark(function n(s,E){var t,y;return xe().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s.type!=="image/gif"){r.next=2;break}return r.abrupt("return",s);case 2:return t=E===Ce.n.ICON?{maxSizeMB:.1,maxWidthOrHeight:60,useWebWorker:!0}:{maxSizeMB:.5,maxWidthOrHeight:400,useWebWorker:!0},r.prev=3,r.next=6,(0,De.Z)(s,t);case 6:return y=r.sent,r.abrupt("return",y);case 10:return r.prev=10,r.t0=r.catch(3),console.log("image compression failed",r.t0),r.abrupt("return",s);case 14:case"end":return r.stop()}},n,null,[[3,10]])}));return function(s,E){return ge.apply(this,arguments)}}(),Ue=function(){var ge=(0,fe.Z)(xe().mark(function n(s){var E,t,y,w,r,o,p,i;return xe().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return E={media:s.poster,icon:s.icon,content:s.content,instructions:s.instructions.map(function(se){var f;return(0,K.Z)((0,K.Z)({},se),{},{link:encodeURIComponent((f=se.link)!==null&&f!==void 0?f:"")})}),sponsorName:s.sponsorName},N.next=3,Te.from(JSON.stringify(E));case 3:return t=N.sent,N.next=6,(0,V.U)(t);case 6:if(y=N.sent,w=y.response,r=y.data,w.ok){N.next=11;break}throw"Create Metadata Error";case 11:return o="ipfs://".concat(r.Hash),p=(0,he.Zc)(Ee.Z.advertisement.defaultDelegatedDid),i=Array.from(new Set((0,A.Z)(s.instructions.map(function(se){return se.tag}).filter(Boolean)))),N.abrupt("return",{tags:i,metadata:o,rewardRate:s.rewardRate.toString(),lifetime:s.lifetime,payoutBase:(0,he.Vm)(s.payoutBase.toString()),payoutMin:(0,he.Vm)(s.payoutMin.toString()),payoutMax:(0,he.Vm)(s.payoutMax.toString()),delegatedAccount:p});case 15:case"end":return N.stop()}},n)}));return function(s){return ge.apply(this,arguments)}}()},60331:function(O,de,a){"use strict";a.d(de,{Z:function(){return w}});var A=a(96156),K=a(22122),fe=a(28481),v=a(67294),xe=a(94184),Ee=a.n(xe),Ce=a(98423),V=a(54549),De=a(65632),he=function(r,o){var p={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&o.indexOf(i)<0&&(p[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,i=Object.getOwnPropertySymbols(r);m<i.length;m++)o.indexOf(i[m])<0&&Object.prototype.propertyIsEnumerable.call(r,i[m])&&(p[i[m]]=r[i[m]]);return p},Te=function(o){var p,i=o.prefixCls,m=o.className,N=o.checked,se=o.onChange,f=o.onClick,Ke=he(o,["prefixCls","className","checked","onChange","onClick"]),re=v.useContext(De.E_),$e=re.getPrefixCls,He=function(Ye){se==null||se(!N),f==null||f(Ye)},Le=$e("tag",i),ue=Ee()(Le,(p={},(0,A.Z)(p,"".concat(Le,"-checkable"),!0),(0,A.Z)(p,"".concat(Le,"-checkable-checked"),N),p),m);return v.createElement("span",(0,K.Z)({},Ke,{className:ue,onClick:He}))},Re=Te,Ue=a(98787),ge=a(97202),n=function(r,o){var p={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&o.indexOf(i)<0&&(p[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,i=Object.getOwnPropertySymbols(r);m<i.length;m++)o.indexOf(i[m])<0&&Object.prototype.propertyIsEnumerable.call(r,i[m])&&(p[i[m]]=r[i[m]]);return p},s=new RegExp("^(".concat(Ue.Y.join("|"),")(-inverse)?$")),E=new RegExp("^(".concat(Ue.E.join("|"),")$")),t=function(o,p){var i,m=o.prefixCls,N=o.className,se=o.style,f=o.children,Ke=o.icon,re=o.color,$e=o.onClose,He=o.closeIcon,Le=o.closable,ue=Le===void 0?!1:Le,G=n(o,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Ye=v.useContext(De.E_),T=Ye.getPrefixCls,Ca=Ye.direction,Je=v.useState(!0),ne=(0,fe.Z)(Je,2),aa=ne[0],Ie=ne[1];v.useEffect(function(){"visible"in G&&Ie(G.visible)},[G.visible]);var e=function(){return re?s.test(re)||E.test(re):!1},Sa=(0,K.Z)({backgroundColor:re&&!e()?re:void 0},se),ia=e(),Pe=T("tag",m),Ia=Ee()(Pe,(i={},(0,A.Z)(i,"".concat(Pe,"-").concat(re),ia),(0,A.Z)(i,"".concat(Pe,"-has-color"),re&&!ia),(0,A.Z)(i,"".concat(Pe,"-hidden"),!aa),(0,A.Z)(i,"".concat(Pe,"-rtl"),Ca==="rtl"),i),N),oa=function(Ve){Ve.stopPropagation(),$e==null||$e(Ve),!Ve.defaultPrevented&&("visible"in G||Ie(!1))},Pa=function(){return ue?He?v.createElement("span",{className:"".concat(Pe,"-close-icon"),onClick:oa},He):v.createElement(V.Z,{className:"".concat(Pe,"-close-icon"),onClick:oa}):null},da="onClick"in G||f&&f.type==="a",Oa=(0,Ce.Z)(G,["visible"]),$=Ke||null,Aa=$?v.createElement(v.Fragment,null,$,v.createElement("span",null,f)):f,ua=v.createElement("span",(0,K.Z)({},Oa,{ref:p,className:Ia,style:Sa}),Aa,Pa());return da?v.createElement(ge.Z,null,ua):ua},y=v.forwardRef(t);y.displayName="Tag",y.CheckableTag=Re;var w=y},71153:function(O,de,a){"use strict";var A=a(38663),K=a.n(A),fe=a(13277),v=a.n(fe)}}]);

(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[1789],{55133:function(S){S.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(S){S.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},43777:function(S){S.exports={formContainer:"formContainer___2zmWq",field:"field___WnDlm",title:"title___31j69",value:"value___3pHlH",headerContainer:"headerContainer___1pC4E",titleContainer:"titleContainer___2JsbX",sectionTitle:"sectionTitle___2Npwq",sectionIcon:"sectionIcon___2Fhyf",subtitle:"subtitle___3GRHS",stepContainer:"stepContainer___1Mt0V",previewContainer:"previewContainer___3snig",bidSectionContainer:"bidSectionContainer___3B9pB",currentPrice:"currentPrice___Px9UZ",currentPriceTitle:"currentPriceTitle___2C-bO",currentPriceValue:"currentPriceValue___17Y82",priceField:"priceField___YQDTC",priceFieldTitle:"priceFieldTitle___pgGSv",tokenBalance:"tokenBalance___VwIsx",bidBtnContainer:"bidBtnContainer___2Tl2l"}},8556:function(S){S.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(S){S.exports={tag:"tag___sah2p"}},24787:function(S){S.exports={mainContainer:"mainContainer___VzUCC",mainBgContainer:"mainBgContainer___2Nlq7",mainIndexContainer:"mainIndexContainer___1Mqvq",background:"background___25786",logoMark:"logoMark___153gX",mainTopContainer:"mainTopContainer___2Cw6K",pageContainer:"pageContainer___2ssxe",stepContainer:"stepContainer___LPJXV",contentContainer:"contentContainer___2e-al",badge:"badge___3vf4B",dashboardCard:"dashboardCard___3oOcj",windowCard:"windowCard___3FjX2",windowCardBody:"windowCardBody___2zSRs",field:"field___3q5d2",title:"title___1BPSo",value:"value___1TvCY",rowField:"rowField___1vUg5",switchButton:"switchButton___3EjXy",statistic:"statistic___2TWER",modalBody:"modalBody___3SJQA",dividerTitle:"dividerTitle___1UTj3",table:"table___1zfPw",withAfterInput:"withAfterInput___3UZxJ",tabSelector:"tabSelector___2tj32",tabItem:"tabItem___3ymbk",inactive:"inactive___12iuZ",noAssets:"noAssets___FcwbD",topImage:"topImage___mHPfd"}},29303:function(S,N,a){"use strict";var W=a(85893),O=function(g){var f=g.msg;return(0,W.jsx)("span",{style:{color:"#ff5b00"},children:f})};N.Z=O},59109:function(S,N,a){"use strict";var W=a(85893),O=function(g){var f=g.title,B=g.required;return(0,W.jsxs)(W.Fragment,{children:[!!B&&(0,W.jsx)("span",{style:{color:"#ff5b00",paddingRight:"0.2em"},children:"*"}),f||""]})};N.Z=O},46656:function(S,N,a){"use strict";var W=a(71194),O=a(50146),y=a(47673),g=a(32787),f=a(22385),B=a(31097),R=a(17462),Z=a(76772),w=a(57663),H=a(71577),E=a(74379),M=a(38648),n=a(3182),j=a(2824),X=a(402),r=a(3887),K=a(94043),P=a.n(K),A=a(67294),F=a(43581),b=a(55133),p=a.n(b),$=a(3548),G=a(68855),c=a(47832),ce=a(55347),Ne=a(51625),o=a(85893),Oe=r.Z.Title,je=function(J){var ve=J.visable,Pe=J.setVisable,s=J.passphrase,T=J.setPassphrase,l=J.func,U=J.changePassphrase,Y=(0,F.tT)("apiWs"),k=(0,F.tT)("currentUser"),u=k.wallet,t=(0,F.tT)("balance"),ta=t.balance,_e=(0,A.useState)(!1),Ce=(0,j.Z)(_e,2),le=Ce[0],fe=Ce[1],Te=(0,A.useState)(),Q=(0,j.Z)(Te,2),ae=Q[0],ra=Q[1],se=(0,F.YB)(),na=function(q){T(q?q.target.value:"")},ie=function(){var oe=(0,n.Z)(P().mark(function q(){var ue,he,e,$e,Ge;return P().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(fe(!0),u!=null&&u.passphrase&&T(u==null?void 0:u.passphrase),!((!s||s.length<6)&&!(u!=null&&u.passphrase))){L.next=5;break}return fe(!1),L.abrupt("return");case 5:if(ue=(u==null?void 0:u.passphrase)||s,!(ue&&u!==null&&u!==void 0&&u.keystore)){L.next=16;break}if(he=(0,c.Gh)(ue,u.keystore),he){L.next=13;break}return M.default.error({key:"passphraseError",message:se.formatMessage({id:"error.passphrase.error"}),duration:null}),T(""),fe(!1),L.abrupt("return");case 13:e=new ce.ZP({type:"sr25519"}),$e=e.addFromUri(he),Ge=$e.address,u!=null&&u.account&&u.account!==Ge&&(localStorage.clear(),sessionStorage.clear(),window.location.href=Ne.Z.page.homePage);case 16:if(!l){L.next=25;break}return L.prev=17,L.next=20,l();case 20:L.next=25;break;case 22:L.prev=22,L.t0=L.catch(17),console.log("security modal submit func error fallback",L.t0);case 25:Pe(!1),fe(!1);case 27:case"end":return L.stop()}},q,null,[[17,22]])}));return function(){return oe.apply(this,arguments)}}(),He=function(){var oe=(0,n.Z)(P().mark(function q(){var ue;return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!!Y&&!!u.account)){e.next=11;break}return e.next=3,l(!0,u.account);case 3:if(ue=e.sent,!ue){e.next=8;break}ra(ue.partialFee),e.next=11;break;case 8:if(U){e.next=11;break}return e.next=11,ie();case 11:case"end":return e.stop()}},q)}));return function(){return oe.apply(this,arguments)}}();return(0,A.useEffect)(function(){!!Y&&!!(u!=null&&u.account)&&ve&&He()},[Y,u==null?void 0:u.account,ve]),(0,A.useEffect)(function(){!!(u!=null&&u.passphrase)&&ve&&!U&&T(u==null?void 0:u.passphrase)},[u==null?void 0:u.passphrase,s,ve,U]),(0,o.jsxs)(O.Z,{title:(0,o.jsx)(Oe,{level:3,children:se.formatMessage({id:"modal.security.title"})}),closable:!1,className:p().modal,centered:!0,visible:ve,width:400,footer:(0,o.jsxs)("div",{className:p().buttons,children:[(0,o.jsx)(H.Z,{type:"text",shape:"round",size:"large",className:p().button,onClick:function(){Pe(!1),window.location.reload()},loading:le,children:se.formatMessage({id:"common.decline"})}),(0,o.jsx)(H.Z,{type:"primary",shape:"round",size:"large",className:p().button,onClick:function(){ie()},disabled:!s||s.length<6,loading:le,children:se.formatMessage({id:"common.confirm"})})]}),children:[(0,o.jsxs)("div",{className:p().confirmContainer,children:[!!ae&&!!(ae!=null&&ae.toString())>ta.free&&(0,o.jsx)(Z.Z,{description:se.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:p().alertContainer}),!!ae&&(0,o.jsxs)("div",{className:p().field,children:[(0,o.jsxs)("div",{className:p().labal,children:[se.formatMessage({id:"modal.security.gas"}),(0,o.jsxs)("span",{className:p().small,children:["(",se.formatMessage({id:"modal.security.estimated"}),")"]}),(0,o.jsx)(B.Z,{placement:"bottom",title:se.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,o.jsx)(G.Z,{className:p().labalIcon})})]}),(0,o.jsx)("div",{className:p().value,children:(0,o.jsx)($.Z,{value:ae,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(u!=null&&u.passphrase)||U)&&(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,o.jsxs)("div",{className:p().codeInput,children:[(0,o.jsxs)("div",{className:p().verifyForm,children:[(0,o.jsx)("span",{className:(s==null?void 0:s.slice(0))&&!(s!=null&&s.slice(1,5))&&p().highLight,children:s==null?void 0:s.slice(0,1).replace(/[^]/,"\u2731")}),(0,o.jsx)("span",{className:(s==null?void 0:s.slice(1))&&!(s!=null&&s.slice(2,5))&&p().highLight,children:s==null?void 0:s.slice(1,2).replace(/[^]/,"\u2731")}),(0,o.jsx)("span",{className:(s==null?void 0:s.slice(2,3))&&!(s!=null&&s.slice(3,5))&&p().highLight,children:s==null?void 0:s.slice(2,3).replace(/[^]/,"\u2731")}),(0,o.jsx)("span",{className:(s==null?void 0:s.slice(3,4))&&!(s!=null&&s.slice(4,5))&&p().highLight,children:s==null?void 0:s.slice(3,4).replace(/[^]/,"\u2731")}),(0,o.jsx)("span",{className:(s==null?void 0:s.slice(4,5))&&!(s!=null&&s.slice(5))&&p().highLight,children:s==null?void 0:s.slice(4,5).replace(/[^]/,"\u2731")}),(0,o.jsx)("span",{className:(s==null?void 0:s.slice(5))&&p().highLight,children:s==null?void 0:s.slice(5).replace(/[^]/,"\u2731")})]}),(0,o.jsx)(g.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:p().verifyInput,onChange:na,value:s,disabled:le,maxLength:6,visibilityToggle:!1})]})})]})};N.Z=je},3548:function(S,N,a){"use strict";var W=a(67294),O=a(31639),y=a.n(O),g=a(96534),f=a(85893),B=function(Z){var w=Z.value,H=Z.style;return(0,f.jsxs)("div",{className:y().ad3,style:H,children:[w?(0,g.MP)(w):"--",(0,f.jsx)("span",{className:y().unit,children:"\xA0$AD3"})]})};N.Z=B},57651:function(S,N,a){"use strict";var W=a(67294),O=a(31639),y=a.n(O),g=a(96534),f=a(85893),B=function(Z){var w=Z.value,H=Z.symbol,E=Z.decimals,M=E===void 0?18:E;return(0,f.jsxs)("div",{className:y().ad3,children:[w?(0,g.MP)(w.replaceAll(",",""),M):"--",H&&(0,f.jsxs)("span",{className:y().unit,children:["\xA0$",H]})]})};N.Z=B},74432:function(S,N,a){"use strict";a.r(N),a.d(N,{default:function(){return ss}});var W=a(71194),O=a(50146),y=a(13062),g=a(36725),f=a(89032),B=a(1635),R=a(58024),Z=a(39144),w=a(71153),H=a(60331),E=a(43185),M=a(35372),n=a(57663),j=a(71577),X=a(47673),r=a(32787),K=a(12968),P=a(62462),A=a(86582),F=a(34792),b=a(48086),p=a(74379),$=a(38648),G=a(3182),c=a(2824),ce=a(19273),Ne=a(35556),o=a(97880),Oe=a(43358),je=a(90927),sa=a(7359),J=a(27279),ve=a(402),Pe=a(3887),s=a(94043),T=a.n(s),l=a(67294),U=a(43581),Y=a(51615),k=a(59109),u=a(43777),t=a.n(u),ta=a(55909),_e=a.n(ta),Ce=a(33044),le=a(51625),fe=a(84391),Te=a(7085),Q=a(96534),ae=a(29303),ra=a(32433),se=a(11561),na=a(79762),ie=a(59749),He=a(13580),oe=a(57651),q=a(61715),ue=a(1615),he=a(46656),e=a(85893),$e=function(ia){var xe,pe,Me,Be,m=ia.ad,be=(0,l.useState)(!1),ze=(0,c.Z)(be,2),oa=ze[0],Ue=ze[1],me=(0,l.useState)(),Ve=(0,c.Z)(me,2),Le=Ve[0],We=Ve[1],ye=(0,l.useState)("Not interested, claim it now"),Re=(0,c.Z)(ye,2),ua=Re[0],Xe=Re[1],de=((xe=m==null?void 0:m.instructions)!==null&&xe!==void 0?xe:[]).map(function(C){return C.tag}).filter(Boolean),Ye=(0,l.useCallback)(function(){Le&&(clearTimeout(Le),We(null)),Ue(!0)},[Le]),Je=function(){var te=setTimeout(function(){Ue(!1)},200);We(te)};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"advertisementContainer",children:[(0,e.jsxs)("div",{className:"ownerInfo",children:[(0,e.jsx)("span",{children:"\u{1F4E2} This hNFT is reserved."}),(0,e.jsx)("a",{className:"claimLink",href:"",target:"_blank",children:"I am the owner"})]}),(0,e.jsxs)("div",{className:"sponsorInfo",children:[(m==null?void 0:m.icon)&&(0,e.jsx)("img",{referrerPolicy:"no-referrer",className:"sponsorIcon",src:m==null?void 0:m.icon}),(0,e.jsxs)("span",{className:"sponsorText",children:[(0,e.jsx)("span",{className:"sponsorName",children:"".concat(((pe=m==null?void 0:m.sponsorName)!==null&&pe!==void 0?pe:"Parami").slice(0,30))}),"is sponsoring this hNFT"]}),(0,e.jsx)("div",{className:"bidBtn",onClick:function(){},children:"BID"})]}),(m==null?void 0:m.poster)&&(0,e.jsx)("img",{src:m==null?void 0:m.poster,referrerPolicy:"no-referrer",className:"adMediaImg"}),!(m!=null&&m.poster)&&(0,e.jsx)("div",{className:"posterPlaceHolder",children:"Your poster goes here"}),(0,e.jsxs)("div",{className:"adDescription",children:[(0,e.jsx)("span",{className:"descriptionText",children:(Me=m==null?void 0:m.content)!==null&&Me!==void 0?Me:"View Ads. Get Paid."}),(de==null?void 0:de.length)>0&&(0,e.jsx)("span",{className:"tags",children:de.map(function(C,te){return(0,e.jsxs)("span",{className:"tag",children:["#",C]},te)})})]}),(0,e.jsxs)("div",{className:"claimSection",children:[(0,e.jsx)("div",{className:"infoText",children:"Due to your Preference Score you are rewarded:"}),(0,e.jsxs)("div",{className:"rewardRow",children:[(0,e.jsxs)("div",{className:"rewardInfo",children:[(0,e.jsx)("img",{referrerPolicy:"no-referrer",className:"kolIcon",src:"/images/logo-round-core.svg"}),(0,e.jsxs)("span",{className:"rewardAmount",children:[(0,e.jsx)("span",{className:"rewardNumber",children:"300.00"}),(0,e.jsxs)("span",{className:"rewardToken",children:[m==null?void 0:m.assetName," NFT Power"]})]})]}),(0,e.jsx)("div",{className:"buttons",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"claimBtn actionBtn",onMouseEnter:Ye,onMouseLeave:Je,children:"Claim"}),(0,e.jsx)("div",{className:"instructionsBtn actionBtn",onClick:function(){},children:"Buy more"})]})})]})]}),oa&&(0,e.jsxs)("div",{className:"instructions",onMouseEnter:Ye,onMouseLeave:Je,children:[(0,e.jsx)("div",{className:"popoverArrow"}),(0,e.jsxs)("div",{className:"popoverContent",children:[(0,e.jsx)("div",{className:"instructionTitle",children:"Follow the tips below if you are interested"}),(m==null||(Be=m.instructions)===null||Be===void 0?void 0:Be.length)>0&&(0,e.jsx)(e.Fragment,{children:m.instructions.map(function(C,te){return(0,e.jsxs)("div",{className:"instruction",onClick:function(){Xe("Claim")},children:[(0,e.jsx)("span",{className:"instructionText",children:C.text}),(0,e.jsxs)("span",{className:"instructionTag",children:["#",C.tag]}),(0,e.jsxs)("span",{className:"instructionScore",children:["+",C.score]})]})})}),(0,e.jsx)("div",{className:"instructionClaimBtnContainer",children:(0,e.jsx)("div",{className:"instructionClaimBtn actionBtn",onClick:function(){},children:ua})})]})]})]})})},Ge=$e,Ea=a(84986),L=a(48764).Buffer,Ie=24*60*60/12,Qa=Pe.Z.Title,qa=J.Z.Panel,ke=je.Z.Option,la=o.Z.Step,Ze;(function(Ae){Ae.ICON="icon",Ae.POSTER="poster"})(Ze||(Ze={}));var es={text:"Follow Parami on Twitter",tag:"Twitter",score:1,link:"https://twitter.com/intent/follow?screen_name=ParamiProtocol"};function as(Ae){(0,ce.Z)(Ae);var ia=(0,l.useState)(""),xe=(0,c.Z)(ia,2),pe=xe[0],Me=xe[1],Be=(0,l.useState)("View Ads. Get Paid."),m=(0,c.Z)(Be,2),be=m[0],ze=m[1],oa=(0,l.useState)(),Ue=(0,c.Z)(oa,2),me=Ue[0],Ve=Ue[1],Le=(0,l.useState)(),We=(0,c.Z)(Le,2),ye=We[0],Re=We[1],ua=(0,l.useState)(),Xe=(0,c.Z)(ua,2),de=Xe[0],Ye=Xe[1],Je=(0,U.tT)("currentUser"),C=Je.wallet,te=(0,U.tT)("apiWs"),ja=(0,l.useState)([es]),Pa=(0,c.Z)(ja,2),ge=Pa[0],Ca=Pa[1],ts=(0,l.useState)(!1),xa=(0,c.Z)(ts,2),rs=xa[0],da=xa[1],ns=(0,l.useState)(10),Ma=(0,c.Z)(ns,2),ca=Ma[0],ls=Ma[1],is=(0,l.useState)(1*Ie),ya=(0,c.Z)(is,2),Da=ya[0],os=ya[1],us=(0,l.useState)(3),Sa=(0,c.Z)(us,2),Na=Sa[0],ds=Sa[1],cs=(0,l.useState)(1),Oa=(0,c.Z)(cs,2),De=Oa[0],vs=Oa[1],ms=(0,l.useState)(10),Ta=(0,c.Z)(ms,2),Se=Ta[0],_s=Ta[1],fs=(0,l.useState)(""),Ia=(0,c.Z)(fs,2),va=Ia[0],ma=Ia[1],hs=(0,l.useState)(""),Za=(0,c.Z)(hs,2),_a=Za[0],fa=Za[1],ps=(0,l.useState)(""),Aa=(0,c.Z)(ps,2),Qe=Aa[0],gs=Aa[1],Es=(0,l.useState)(),Ba=(0,c.Z)(Es,2),Ee=Ba[0],js=Ba[1],Ps=(0,l.useState)(),ba=(0,c.Z)(Ps,2),ha=ba[0],pa=ba[1],qe=Math.max(Number((0,ie.mI)((0,ie.At)(Qe),18))*1.2,1),Cs=(0,U.tT)("balance"),qs=Cs.balance,xs=(0,l.useState)(),Ua=(0,c.Z)(xs,2),ee=Ua[0],Ms=Ua[1],ys=(0,l.useState)(),La=(0,c.Z)(ys,2),et=La[0],Ds=La[1],Ss=(0,l.useState)(""),Wa=(0,c.Z)(Ss,2),Ke=Wa[0],Ns=Wa[1],Os=(0,l.useState)(!1),Ra=(0,c.Z)(Os,2),Ts=Ra[0],Ka=Ra[1],Is=(0,l.useState)(""),Fa=(0,c.Z)(Is,2),Fe=Fa[0],wa=Fa[1],Zs=(0,l.useState)(),Ha=(0,c.Z)(Zs,2),As=Ha[0],Bs=Ha[1],bs=(0,l.useState)(!1),$a=(0,c.Z)(bs,2),Us=$a[0],ea=$a[1],Ls=(0,l.useState)(0),Ga=(0,c.Z)(Ls,2),aa=Ga[0],Ws=Ga[1],Rs=(0,l.useState)(!1),ka=(0,c.Z)(Rs,2),Ks=ka[0],za=ka[1],Fs=(0,l.useState)(!1),Va=(0,c.Z)(Fs,2),ws=Va[0],Xa=Va[1],Hs=(0,l.useState)(),Ya=(0,c.Z)(Hs,2),$s=Ya[0],Gs=Ya[1],re=(0,Y.UO)(),ks={instructions:ge,icon:ye,sponsorName:pe,poster:de,content:be,assetName:ee==null?void 0:ee.name},zs=function(){var d=(0,G.Z)(T().mark(function i(h){var x,_;return T().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,q.Li)(h);case 2:if(x=v.sent,x){v.next=5;break}return v.abrupt("return","0");case 5:return v.next=7,(0,He.L7)(x.budgetPot,x.fractionId);case 7:if(_=v.sent,_){v.next=10;break}return v.abrupt("return","0");case 10:return v.abrupt("return",(0,ie.At)(_.balance));case 11:case"end":return v.stop()}},i)}));return function(h){return d.apply(this,arguments)}}(),Vs=function(){var d=(0,G.Z)(T().mark(function i(h){var x,_,V,v,I,D,we,ga;return T().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,He.Ay)(h);case 2:if(_=z.sent,!_.isEmpty){z.next=6;break}return $.default.error({message:"Loading Asset Error",description:"tokenAssetId: ".concat(h)}),z.abrupt("return");case 6:return V=_.toHuman(),Ms(V),z.next=10,(0,Ce.Vo)(h,(0,Q.Vm)("1"));case 10:return v=z.sent,Ds(v.toString()),z.next=14,te.query.assets.account(Number(h),C.account);case 14:return I=z.sent,D=(x=I.toHuman())!==null&&x!==void 0?x:{balance:""},we=D.balance,Ns((0,ie.At)(we)),z.next=19,zs(h);case 19:ga=z.sent,gs(ga);case 21:case"end":return z.stop()}},i)}));return function(h){return d.apply(this,arguments)}}();(0,l.useEffect)(function(){te&&re.nftId&&Vs(re.nftId)},[te,re]),(0,l.useEffect)(function(){te&&C.did&&(0,Ce.q5)(C.did).then(function(d){Ve(d)})},[te,C]),(0,l.useEffect)(function(){if(me){if(C){var d;Me(((d=me.nickname)===null||d===void 0?void 0:d.toString())||(0,Q.st)(C.did))}if(me.avatar&&me.avatar.startsWith("ipfs://")){var i=me.avatar.substring(7);Re(le.Z.ipfs.endpoint+i)}}},[me,C]);var Ja=function(i){return function(h){if(h.file.status==="done"){var x=h.file.response.Hash,_=le.Z.ipfs.endpoint+x;i===Ze.POSTER?Ye(_):Re(_);return}h.file.status==="error"&&b.default.error("Upload Image Error")}};(0,l.useEffect)(function(){fa(""),ma(""),Se<De&&fa("Payout Max cannot be less than Payout Min")},[Se]),(0,l.useEffect)(function(){fa(""),ma(""),De>Se&&ma("Payout Min cannot be more than Payout Max")},[De]),(0,l.useEffect)(function(){pa(""),Ka(!1),Ee!==void 0&&(Ee<qe?pa("price too low"):(0,ie.HM)("".concat(Ee),18)>(0,Q.XE)(Ke)&&(pa("Insufficient Balance, please swap more token"),Ka(!0)))},[Ee]);var Xs=function(){var d=(0,G.Z)(T().mark(function i(h,x){var _;return T().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,(0,q.nn)($s,re.nftId,(0,Q.Vm)(Ee.toString()),Fe,C==null?void 0:C.keystore,h,x);case 3:if(_=v.sent,!(h&&x)){v.next=6;break}return v.abrupt("return",_);case 6:console.log("bid success"),ea(!1),$.default.success({message:"Bid Success"}),v.next=16;break;case 11:return v.prev=11,v.t0=v.catch(0),$.default.error({message:v.t0.message||v.t0,duration:null}),ea(!1),v.abrupt("return");case 16:case"end":return v.stop()}},i,null,[[0,11]])}));return function(h,x){return d.apply(this,arguments)}}(),Ys=function(){var d=(0,G.Z)(T().mark(function i(){var h;return T().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return ea(!0),_.next=3,Qs();case 3:h=_.sent,Bs(h),za(!0);case 6:case"end":return _.stop()}},i)}));return function(){return d.apply(this,arguments)}}(),Js=function(){var d=(0,G.Z)(T().mark(function i(h,x){var _,V;return T().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,(0,q.T2)(As,Fe,C==null?void 0:C.keystore,h,x);case 3:if(_=I.sent,!(h&&x)){I.next=7;break}return console.log("preTx ",_),I.abrupt("return",_);case 7:console.log("post tx",_),V=_.ad.Created[0][0],Gs(V),Ws(1),Xa(!0),I.next=19;break;case 14:return I.prev=14,I.t0=I.catch(0),$.default.error({message:I.t0.message||I.t0,duration:null}),ea(!1),I.abrupt("return");case 19:case"end":return I.stop()}},i,null,[[0,14]])}));return function(h,x){return d.apply(this,arguments)}}(),Qs=function(){var d=(0,G.Z)(T().mark(function i(){var h,x,_,V,v,I,D,we;return T().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return h={media:de,icon:ye,content:be,instructions:ge,sponsorName:pe},ne.next=3,L.from(JSON.stringify(h));case 3:return x=ne.sent,ne.next=6,(0,Ea.U)(x);case 6:if(_=ne.sent,V=_.response,v=_.data,V.ok){ne.next=11;break}throw"Create Metadata Error";case 11:return I="ipfs://".concat(v.Hash),D=(0,Q.Zc)(le.Z.advertisement.defaultDelegatedDid),we=Array.from(new Set((0,A.Z)(ge.map(function(z){return z.tag}).filter(Boolean)))),ne.abrupt("return",{tags:we,metadata:I,rewardRate:ca.toString(),lifetime:Da,payoutBase:(0,Q.Vm)(Na.toString()),payoutMin:(0,Q.Vm)(De.toString()),payoutMax:(0,Q.Vm)(Se.toString()),delegatedAccount:D});case 15:case"end":return ne.stop()}},i)}));return function(){return d.apply(this,arguments)}}(),at=function(){var d=(0,G.Z)(T().mark(function i(h,x){var _,V,v;return T().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,_=((0,ie.HM)("".concat(Ee),18)-(0,Q.XE)(Ke)).toString(),D.next=4,(0,Ce.UG)(re==null?void 0:re.nftId,_);case 4:return V=D.sent,console.log("token number",_),console.log("ad3 number",V),D.next=9,(0,ue.Ht)(re==null?void 0:re.nftId,_,V,Fe,C==null?void 0:C.keystore,h,x);case 9:if(v=D.sent,!(h&&x)){D.next=12;break}return D.abrupt("return",v);case 12:D.next=18;break;case 14:return D.prev=14,D.t0=D.catch(0),$.default.error({message:D.t0.message||D.t0,duration:null}),D.abrupt("return");case 18:case"end":return D.stop()}},i,null,[[0,14]])}));return function(h,x){return d.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:_e().mainTopContainer,children:(0,e.jsxs)("div",{className:_e().pageContainer,children:[(0,e.jsxs)("div",{className:t().headerContainer,children:[(0,e.jsx)("div",{className:t().titleContainer,children:(0,e.jsxs)(Qa,{level:1,className:t().sectionTitle,children:[(0,e.jsx)(P.Z,{src:"/images/icon/vip.svg",className:t().sectionIcon,preview:!1}),"Bid on HNFT"]})}),(0,e.jsxs)("div",{className:t().subtitle,children:["Place your advertisement on ",ee==null?void 0:ee.name]})]}),(0,e.jsxs)(g.Z,{style:{width:"100%"},gutter:20,children:[(0,e.jsx)(B.Z,{span:12,children:(0,e.jsx)(Z.Z,{title:"Config your Ad",className:_e().card,children:(0,e.jsxs)("div",{className:t().formContainer,children:[(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(k.Z,{title:"Sponsor Name",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(r.Z,{size:"large",value:pe,onChange:function(i){return Me(i.target.value)},placeholder:"Advertisement Sponsor Name"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(k.Z,{title:"Content"})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(r.Z,{size:"large",value:be,onChange:function(i){return ze(i.target.value)},placeholder:"Advertisement Content"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(k.Z,{title:"Ad Icon",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(M.Z,{showUploadList:!1,action:le.Z.ipfs.upload,onChange:Ja(Ze.ICON),children:ye?(0,e.jsx)("img",{src:ye,style:{width:"100%",maxWidth:"100px"}}):(0,e.jsx)(j.Z,{icon:(0,e.jsx)(fe.Z,{}),children:"Click to Upload"})})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(k.Z,{title:"Poster",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(M.Z,{showUploadList:!1,action:le.Z.ipfs.upload,onChange:Ja(Ze.POSTER),children:de?(0,e.jsx)("img",{src:de,style:{width:"100%",maxWidth:"400px"}}):(0,e.jsx)(j.Z,{icon:(0,e.jsx)(fe.Z,{}),children:"Click to Upload"})})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(k.Z,{title:"instructions",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(j.Z,{onClick:function(){return da(!0)},children:"Add New Instruction"})})]}),ge.length>0&&(0,e.jsx)("div",{className:t().field,children:ge.map(function(d){return(0,e.jsx)("p",{children:(0,e.jsxs)(H.Z,{closable:!0,onClose:function(h){h.preventDefault(),Ca(ge.filter(function(x){return x!==d}))},children:[d.text,!!d.tag&&(0,e.jsx)(se.Z,{tag:d.tag}),!!d.score&&(0,e.jsx)(na.Z,{score:d.score}),!!d.link&&(0,e.jsx)("a",{href:d.link,target:"_blank",children:"(link)"})]})})})}),(0,e.jsx)(J.Z,{ghost:!0,children:(0,e.jsxs)(qa,{header:"Advanced Settings",children:[(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(k.Z,{title:"Reward Rate",required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(r.Z,{className:t().withAfterInput,placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,onChange:function(i){return ls(Number(i.target.value))},suffix:"%",value:ca}),(0,e.jsxs)("span",{className:t().fieldInfo,children:["Referrer gets ",ca,"% from each referral."]})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(k.Z,{title:"lifetime",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsxs)(je.Z,{size:"large",style:{width:"100%"},placeholder:"Please select a lifetime",onChange:function(i){os(Number(i))},value:Da,children:[(0,e.jsx)(ke,{value:1*Ie,children:"1 day"}),(0,e.jsx)(ke,{value:3*Ie,children:"3 days"}),(0,e.jsx)(ke,{value:7*Ie,children:"7 days"}),(0,e.jsx)(ke,{value:15*Ie,children:"15 days"})]})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(k.Z,{title:"Payout Base",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(r.Z,{className:t().withAfterInput,placeholder:"0.00",size:"large",type:"number",value:Na,maxLength:18,min:0,onChange:function(i){return ds(Number(i.target.value))}})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(k.Z,{title:"Payout Min",required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(r.Z,{className:"".concat(t().withAfterInput," ").concat(va?t().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,max:Se,value:De,onChange:function(i){return vs(Number(i.target.value))}}),va&&(0,e.jsx)(ae.Z,{msg:va})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(k.Z,{title:"Payout Max",required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(r.Z,{className:"".concat(t().withAfterInput," ").concat(_a?t().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,value:Se,min:De,onChange:function(i){return _s(Number(i.target.value))}}),_a&&(0,e.jsx)(ae.Z,{msg:_a})]})]})]},"1")})]})})}),(0,e.jsxs)(B.Z,{span:12,children:[(0,e.jsx)(Z.Z,{title:"Ad Preview",className:_e().card,children:(0,e.jsx)("div",{className:t().previewContainer,children:(0,e.jsx)(Ge,{ad:ks})})}),(0,e.jsx)(Z.Z,{title:"Bid your price",className:_e().card,style:{marginTop:"20px"},children:(0,e.jsxs)("div",{className:t().bidSectionContainer,children:[(0,e.jsxs)("div",{className:t().currentPrice,children:[(0,e.jsx)("div",{className:t().currentPriceTitle,children:(0,e.jsx)(k.Z,{title:"Current Price"})}),(0,e.jsx)("div",{className:t().currentPriceValue,children:(0,e.jsx)(oe.Z,{value:Qe!=null?Qe:"",symbol:ee==null?void 0:ee.symbol})})]}),(0,e.jsxs)("div",{className:t().priceField,children:[(0,e.jsx)("div",{className:t().priceFieldTitle,children:"Offer a price"}),(0,e.jsx)("small",{children:"The bid must be higher than ".concat(qe," (20% higher than the current price)")}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(r.Z,{value:Ee,className:"".concat(t().withAfterInput," ").concat(ha?t().inputError:""),size:"large",type:"number",placeholder:"Price",min:qe||0,onChange:function(i){js(Number(i.target.value))}}),ha&&(0,e.jsx)(ae.Z,{msg:ha})]}),(0,e.jsx)("div",{className:t().tokenBalance,children:(0,e.jsxs)("span",{children:["balance: ",(0,e.jsx)(oe.Z,{value:Ke!=null?Ke:"",symbol:ee==null?void 0:ee.symbol})]})})]}),Ts&&!1,(0,e.jsx)("div",{className:t().bidBtnContainer,children:(0,e.jsx)(j.Z,{block:!0,size:"large",shape:"round",type:"primary",disabled:!1,loading:!1,onClick:function(){console.log("submit"),Ys()},children:"bid"})})]})})]})]})]})}),rs&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ra.Z,{onCancel:function(){return da(!1)},onCreateInstruction:function(i){Ca([].concat((0,A.Z)(ge),[i])),da(!1)}})}),(0,e.jsx)(he.Z,{visable:Ks,setVisable:za,passphrase:Fe,setPassphrase:wa,func:Js}),(0,e.jsx)(he.Z,{visable:ws,setVisable:Xa,passphrase:Fe,setPassphrase:wa,func:Xs}),Us&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(O.Z,{title:"Bid Advertisement",visible:!0,closable:!1,footer:null,children:(0,e.jsxs)(o.Z,{direction:"vertical",size:"default",current:aa,className:t().stepContainer,children:[(0,e.jsx)(la,{title:"Generate Advertisement",icon:aa===0?(0,e.jsx)(Te.Z,{}):!1}),(0,e.jsx)(la,{title:"Bid Advertisement on HNFT",icon:aa===1?(0,e.jsx)(Te.Z,{}):!1}),(0,e.jsx)(la,{title:"Completing",icon:aa===2?(0,e.jsx)(Te.Z,{}):!1})]})})})]})}var ss=as},79762:function(S,N,a){"use strict";var W=a(67294),O=a(8556),y=a.n(O),g=a(85893);function f(B){var R=B.score;return(0,g.jsxs)("span",{className:y().scoreContainer,children:[R>=0&&(0,g.jsxs)("span",{className:y().positive,children:["+",R]}),R<0&&(0,g.jsxs)("span",{className:y().negative,children:["-",Math.abs(R)]})]})}N.Z=f},11561:function(S,N,a){"use strict";var W=a(67294),O=a(28531),y=a.n(O),g=a(85893);function f(B){var R=B.tag;return(0,g.jsx)("span",{className:y().tag,children:R})}N.Z=f},32433:function(S,N,a){"use strict";var W=a(71194),O=a(50146),y=a(47673),g=a(32787),f=a(2824),B=a(43358),R=a(90927),Z=a(59109),w=a(67294),H=a(24787),E=a.n(H),M=a(43581),n=a(85893),j=R.Z.Option;function X(r){var K=r.onCreateInstruction,P=r.onCancel,A=(0,w.useState)(),F=(0,f.Z)(A,2),b=F[0],p=F[1],$=(0,w.useState)(),G=(0,f.Z)($,2),c=G[0],ce=G[1],Ne=(0,w.useState)(),o=(0,f.Z)(Ne,2),Oe=o[0],je=o[1],sa=(0,w.useState)(),J=(0,f.Z)(sa,2),ve=J[0],Pe=J[1],s=(0,M.tT)("tagOptions"),T=s.tagOptions,l=function(){b&&K({text:b,tag:c,score:Oe,link:ve})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(O.Z,{visible:!0,title:"New Instruction",onOk:function(){return l()},onCancel:P,children:[(0,n.jsxs)("div",{className:E().field,children:[(0,n.jsx)("div",{className:E().title,children:(0,n.jsx)(Z.Z,{title:"Instruction Text",required:!0})}),(0,n.jsx)("div",{className:E().value,children:(0,n.jsx)(g.Z,{size:"large",onChange:function(Y){return p(Y.target.value)},placeholder:"Instruction Text"})})]}),(0,n.jsxs)("div",{className:E().field,children:[(0,n.jsx)("div",{className:E().title,children:(0,n.jsx)(Z.Z,{title:"Tag"})}),(0,n.jsx)("div",{className:E().value,children:(0,n.jsx)(R.Z,{allowClear:!0,style:{width:"100%"},placeholder:"Please select",onChange:function(Y){return ce(Y)},children:T.map(function(U){return(0,n.jsx)(j,{value:U.tag,children:U.tag},U.key)})})})]}),(0,n.jsxs)("div",{className:E().field,children:[(0,n.jsx)("div",{className:E().title,children:(0,n.jsx)(Z.Z,{title:"score"})}),(0,n.jsx)("div",{className:E().value,children:(0,n.jsx)(g.Z,{size:"large",type:"number",step:1,max:5,min:-5,value:Oe,onChange:function(Y){var k=Math.min(5,Math.max(-5,parseInt(Y.target.value,10)));je(k)},placeholder:"score"})})]}),(0,n.jsxs)("div",{className:E().field,children:[(0,n.jsx)("div",{className:E().title,children:(0,n.jsx)(Z.Z,{title:"link"})}),(0,n.jsx)("div",{className:E().value,children:(0,n.jsx)(g.Z,{size:"large",onChange:function(Y){return Pe(Y.target.value)},placeholder:"link"})})]})]})})}N.Z=X},13580:function(S,N,a){"use strict";a.d(N,{Ay:function(){return B},f5:function(){return R},r7:function(){return Z},L7:function(){return w},jd:function(){return H}});var W=a(11849),O=a(2824),y=a(3182),g=a(94043),f=a.n(g),B=function(){var E=(0,y.Z)(f().mark(function M(n){var j;return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.assets.metadata(Number(n));case 2:return j=r.sent,r.abrupt("return",j);case 4:case"end":return r.stop()}},M)}));return function(n){return E.apply(this,arguments)}}(),R=function(){var E=(0,y.Z)(f().mark(function M(n){var j;return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.assets.asset(Number(n));case 2:return j=r.sent,r.abrupt("return",j);case 4:case"end":return r.stop()}},M)}));return function(n){return E.apply(this,arguments)}}(),Z=function(){var E=(0,y.Z)(f().mark(function M(n){var j;return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.assets.account.entries(n);case 2:return j=r.sent,r.abrupt("return",j);case 4:case"end":return r.stop()}},M)}));return function(n){return E.apply(this,arguments)}}(),w=function(){var E=(0,y.Z)(f().mark(function M(n,j){var X,r;return f().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,window.apiWs.query.assets.account(Number(j),n);case 2:if(X=P.sent,!X.isEmpty){P.next=5;break}return P.abrupt("return",null);case 5:return r=X.toHuman(),P.abrupt("return",r);case 7:case"end":return P.stop()}},M)}));return function(n,j){return E.apply(this,arguments)}}(),H=function(){var E=(0,y.Z)(f().mark(function M(){var n,j;return f().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.assets.metadata.entries();case 2:return n=r.sent,j=(n!=null?n:[]).map(function(K){var P=(0,O.Z)(K,2),A=P[0],F=P[1],b=A.toHuman();return b?(0,W.Z)((0,W.Z)({},F.toHuman()),{},{id:b[0].replaceAll(",","")}):null}).filter(Boolean),r.abrupt("return",j);case 5:case"end":return r.stop()}},M)}));return function(){return E.apply(this,arguments)}}()},84986:function(S,N,a){"use strict";a.d(N,{U:function(){return n},g:function(){return X}});var W=a(11849),O=a(3182),y=a(94043),g=a.n(y),f=a(51625),B=a(55347),R=a(11238),Z=a(47832),w=a(81603),H=function(K){var P=K.response,A=P===void 0?{}:P,F=K.message,b=F===void 0?"":F,p=K.data,$=p===void 0?{}:p;if(b==="http error")return{response:A,data:$}},E=(0,R.l7)({errorHandler:H,credentials:"omit"}),M=new B.ZP({type:"sr25519"});function n(r,K){return j.apply(this,arguments)}function j(){return j=(0,O.Z)(g().mark(function r(K,P){var A;return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return A=new FormData,A.append("file",K),b.abrupt("return",E(f.Z.ipfs.upload,(0,W.Z)({method:"POST",body:A,requestType:"form",getResponse:!0},P||{})));case 3:case"end":return b.stop()}},r)})),j.apply(this,arguments)}var X=function(){var r=(0,O.Z)(g().mark(function K(P,A,F,b,p){var $,G,c,ce;return g().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if($=window.apiWs.tx.did.setMetadata("pic",P),!(b&&p)){o.next=6;break}return o.next=4,$.paymentInfo(p);case 4:return G=o.sent,o.abrupt("return",G);case 6:if(c=(0,Z.Gh)(A,F),!(c==null||!c)){o.next=9;break}throw new Error("Wrong password");case 9:return ce=M.createFromUri(c),o.next=12,(0,w.Y)($,ce);case 12:return o.abrupt("return",o.sent);case 13:case"end":return o.stop()}},K)}));return function(P,A,F,b,p){return r.apply(this,arguments)}}()}}]);

(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[4662],{20592:function(T){T.exports={skeletonContainer:"skeletonContainer___3qdtO",skeleton:"skeleton___36Byl","skeleton-loading":"skeleton-loading___2Ztrp"}},23683:function(T){T.exports={selectContainer:"selectContainer___2x0Im",selectHeader:"selectHeader___218Wl",selectHeaderSectionTitle:"selectHeaderSectionTitle___1HB7Q",fromNetwork:"fromNetwork___2xTmw",fromNetworkIcon:"fromNetworkIcon___361zv",selectWrapper:"selectWrapper___2awkC",selectItem:"selectItem___F7nwo",itemInfo:"itemInfo___1Gkdn",itemInfoIcon:"itemInfoIcon___3-2ZL",itemNameSymbol:"itemNameSymbol___3hDIh",itemName:"itemName___28Q_Y",itemSymbol:"itemSymbol___3Lq0-",itemBalance:"itemBalance___3aigr"}},66054:function(T){T.exports={tokenAndAmountDetails:"tokenAndAmountDetails___244cv",tokenDetails:"tokenDetails___1Xqhu",chainIcon:"chainIcon___2Yar0",tokenDetailsTokenName:"tokenDetailsTokenName___TIJAK",tokenDetailsArrow:"tokenDetailsArrow___1Pzqi",amountDetails:"amountDetails___316ye",amountDetailsMaxButton:"amountDetailsMaxButton___24P40",inputError:"inputError___1Y98J",inputErrorMsg:"inputErrorMsg___2Rs63"}},35831:function(T){T.exports={tagInput:"tagInput___1Slo7",tag:"tag___3Iw9d",buttons:"buttons___1_Ps-",metaDataImg:"metaDataImg___3w1UR",avatar:"avatar___2zzye",tokenAndAmountDetails:"tokenAndAmountDetails___1qJkU",tokenDetails:"tokenDetails___1lLI5",chainIcon:"chainIcon____aonj",tokenDetailsTokenName:"tokenDetailsTokenName___2HmJf",tokenDetailsArrow:"tokenDetailsArrow___XRwU3",amountDetails:"amountDetails___H2uWg",amountDetailsMaxButton:"amountDetailsMaxButton___1acEK",decodeDIDEntry:"decodeDIDEntry___1TVUc",inputError:"inputError___2fm_c"}},38520:function(T){T.exports={noNFTs:"noNFTs___LOupa",topImage:"topImage___3Oy4k",description:"description___16Jye",buttons:"buttons___iZUHf",buttonRow:"buttonRow___1u8XT",button:"button___2rjSY",nftsList:"nftsList___3Z3HD",nftItem:"nftItem___2pQ10",card:"card___2HHT1",cardWrapper:"cardWrapper___2uj88",cardBox:"cardBox___1Oqh7",cover:"cover___1IYqm",nftID:"nftID___3hu6W",filterImage:"filterImage___3f8gz",cardDetail:"cardDetail___2lyWW",text:"text___2IThF",status:"status___3gpn0",label:"label___3pEL3",value:"value___3P6o9",action:"action___2G7kR",progress:"progress___36kDQ",unmint:"unmint___2rgXb",newItem:"newItem___2DN7A",spinWrapper:"spinWrapper___2j39V",createNFT:"createNFT___1EH5Y",importNFT:"importNFT___1va2f",icon:"icon___XW568",divider:"divider___35eHG"}},58377:function(T){T.exports={registerContainer:"registerContainer___1Hf1Q",field:"field___4GAnR",tip:"tip___-yRgY"}},13500:function(T){T.exports={pageContainer:"pageContainer___3DuRF",createModal:"createModal___28GZ-",becomeButton:"becomeButton___3m8An",minimum:"minimum___1G6B2"}},24787:function(T){T.exports={mainContainer:"mainContainer___VzUCC",mainBgContainer:"mainBgContainer___2Nlq7",mainIndexContainer:"mainIndexContainer___1Mqvq",background:"background___25786",logoMark:"logoMark___153gX",mainTopContainer:"mainTopContainer___2Cw6K",pageContainer:"pageContainer___2ssxe",stepContainer:"stepContainer___LPJXV",contentContainer:"contentContainer___2e-al",badge:"badge___3vf4B",dashboardCard:"dashboardCard___3oOcj",windowCard:"windowCard___3FjX2",windowCardBody:"windowCardBody___2zSRs",field:"field___3q5d2",title:"title___1BPSo",value:"value___1TvCY",rowField:"rowField___1vUg5",switchButton:"switchButton___3EjXy",statistic:"statistic___2TWER",modalBody:"modalBody___3SJQA",dividerTitle:"dividerTitle___1UTj3",table:"table___1zfPw",withAfterInput:"withAfterInput___3UZxJ",tabSelector:"tabSelector___2tj32",tabItem:"tabItem___3ymbk",inactive:"inactive___12iuZ",noAssets:"noAssets___FcwbD",topImage:"topImage___mHPfd"}},62543:function(T,Ie,a){"use strict";var Ye=a(67294),Ze=a(20592),_e=a.n(Ze),fe=a(85893),Le=function(be){var oe=be.children,Fe=be.loading,E=be.height,z=be.styles;return(0,fe.jsx)("div",{className:_e().skeletonContainer,style:z,children:Fe?(0,fe.jsx)("div",{className:_e().skeleton,style:{height:E||"10vh"}}):oe})};Ie.Z=Le},56027:function(T,Ie,a){"use strict";a.r(Ie),a.d(Ie,{default:function(){return St}});var Ye=a(58024),Ze=a(39144),_e=a(10322),fe=a(66453),Le=a(95300),Ue=a(7277),be=a(57663),oe=a(71577),Fe=a(74379),E=a(38648),z=a(3182),pa=a(49111),Je=a(19650),we=a(20136),Xe=a(55241),De=a(22385),V=a(31097),r=a(2824),ue=a(94043),c=a.n(ue),s=a(67294),Se=a(24787),t=a.n(Se),We=a(13500),q=a.n(We),k=a(43581),Ge=a(28991),K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},za=K,Ha=a(27029),ja=function(g,x){return s.createElement(Ha.Z,(0,Ge.Z)((0,Ge.Z)({},g),{},{ref:x,icon:za}))};ja.displayName="PlusCircleOutlined";var $a=s.forwardRef(ja),Va=a(79720),Sa=a(62543),Te=a(69764),_t=a(17462),Ka=a(76772),Ya=a(58377),ze=a.n(Ya),he=a(59749),ye=a(96534),Ne=a(61715),e=a(85893),Ja=function(g){var x=g.setIsAdvertisers,S=g.setBecomeModal,p=(0,k.tT)("dashboard.balance"),b=p.balance,Q=(0,k.tT)("currentUser"),v=Q.dashboard,u=(0,s.useState)(!1),F=(0,r.Z)(u,2),ae=F[0],H=F[1],w=(0,k.YB)(),te=function(){var o=(0,z.Z)(c().mark(function N(){return c().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(!!v&&!!(v!=null&&v.accountMeta))){f.next=17;break}return H(!0),f.prev=2,f.next=5,(0,Ne.zW)((0,ye.Vm)("1000"),JSON.parse(v==null?void 0:v.accountMeta));case 5:x(!0),H(!1),S(!1),f.next=14;break;case 10:f.prev=10,f.t0=f.catch(2),E.default.error({message:f.t0.message,duration:null}),H(!1);case 14:f.next=18;break;case 17:E.default.error({key:"accessDenied",message:w.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return f.stop()}},N,null,[[2,10]])}));return function(){return o.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:ze().registerContainer,children:[(0,e.jsx)("div",{className:ze().field,children:(0,e.jsx)("div",{className:ze().tip,children:(0,e.jsx)(Ka.Z,{message:w.formatMessage({id:"dashboard.ads.register.description"}),type:"warning",showIcon:!0})})}),(0,e.jsx)("div",{className:ze().field,children:(0,e.jsx)(oe.Z,{block:!0,type:"primary",size:"large",shape:"round",loading:ae,disabled:(b==null?void 0:b.free)<(0,he.HM)("1000",18),onClick:function(){te()},children:w.formatMessage({id:"common.submit"})})})]})},Xa=Ja,Bt=a(43185),ya=a(35372),Pt=a(71153),Ma=a(60331),Ot=a(34792),Qe=a(48086),qe=a(86582),Rt=a(43358),xa=a(90927),Lt=a(47673),Y=a(32787),Ga=a(35831),Be=a.n(Ga),ea=a(49101),ba=a(69854),Qa=function(g){var x=g.title,S=g.required;return(0,e.jsxs)(e.Fragment,{children:[!!S&&(0,e.jsx)("span",{style:{color:"#ff5b00",paddingRight:"0.2em"},children:"*"}),x||""]})},P=Qa,qa=function(g){var x=g.msg;return(0,e.jsx)("span",{style:{color:"#ff5b00"},children:x})},Pe=qa,aa=a(51625),et=a(84986),at=a(48764).Buffer,ta=24*60*60/12,tt=function(g){var x=g.setCreateModal,S=(0,k.tT)("currentUser"),p=S.dashboard,b=(0,s.useState)(!1),Q=(0,r.Z)(b,2),v=Q[0],u=Q[1],F=(0,s.useState)(0),ae=(0,r.Z)(F,2),H=ae[0],w=ae[1],te=(0,s.useState)(0),o=(0,r.Z)(te,2),N=o[0],O=o[1],f=(0,s.useState)(0),ce=(0,r.Z)(f,2),B=ce[0],se=ce[1],re=(0,s.useState)(""),ge=(0,r.Z)(re,2),M=ge[0],m=ge[1],me=(0,s.useState)(""),pe=(0,r.Z)(me,2),ne=pe[0],n=pe[1],Ee=(0,s.useState)([]),C=(0,r.Z)(Ee,2),R=C[0],J=C[1],$=(0,s.useState)(),L=(0,r.Z)($,2),ie=L[0],Ce=L[1],D=(0,s.useState)("https://weekly.parami.io/"),He=(0,r.Z)(D,2),Oe=He[0],ia=He[1],la=(0,s.useState)(),$e=(0,r.Z)(la,2),Ve=$e[0],da=$e[1],Ia=(0,s.useState)(),Ke=(0,r.Z)(Ia,2),ke=Ke[0],oa=Ke[1],ua=(0,s.useState)(),le=(0,r.Z)(ua,2),xe=le[0],ca=le[1],de=(0,s.useState)(0),j=(0,r.Z)(de,2),je=j[0],h=j[1],X=(0,s.useState)(),Ae=(0,r.Z)(X,2),W=Ae[0],Re=Ae[1],Za=(0,s.useState)("did:ad3:izgyiwwftd7s1D3XaREJZBR2kvZ"),y=(0,r.Z)(Za,2),Da=y[0],yt=y[1],Mt=(0,s.useState)(!1),Ta=(0,r.Z)(Mt,2),Ea=Ta[0],ma=Ta[1],xt=(0,s.useState)(""),ka=(0,r.Z)(xt,2),ve=ka[0],va=ka[1],bt=(0,s.useState)(-1),Aa=(0,r.Z)(bt,2),_a=Aa[0],Ba=Aa[1],Nt=(0,s.useState)(""),Pa=(0,r.Z)(Nt,2),Oa=Pa[0],fa=Pa[1],Ct=(0,s.useState)(!1),Ra=(0,r.Z)(Ct,2),It=Ra[0],ha=Ra[1],La=(0,s.useRef)(null),A=(0,k.YB)(),Ua=Y.Z.Search,ga=xa.Z.Option,Zt=function(){var d=(0,z.Z)(c().mark(function i(I){var Z;return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,ba.Em)(I);case 3:if(Z=l.sent,Z.toHuman()){l.next=6;break}return l.abrupt("return",!1);case 6:return l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(0),E.default.error({message:l.t0.message||l.t0,duration:null}),l.abrupt("return",!1);case 13:case"end":return l.stop()}},i,null,[[0,9]])}));return function(I){return d.apply(this,arguments)}}(),Dt=function(){var d=(0,z.Z)(c().mark(function i(I){var Z;return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(!!p&&!!(p!=null&&p.accountMeta))){l.next=19;break}return u(!0),l.prev=2,l.next=5,(0,ba.Xn)(I,JSON.parse(p==null?void 0:p.accountMeta));case 5:Z=R,ve&&R.indexOf(ve)===-1&&(Z=[].concat((0,qe.Z)(R),[ve])),J(Z),ma(!1),va(""),u(!1),l.next=17;break;case 13:l.prev=13,l.t0=l.catch(2),E.default.error({message:A.formatMessage({id:l.t0.message||l.t0}),duration:null}),u(!1);case 17:l.next=20;break;case 19:E.default.error({key:"accessDenied",message:A.formatMessage({id:"error.accessDenied"}),duration:null});case 20:case"end":return l.stop()}},i,null,[[2,13]])}));return function(I){return d.apply(this,arguments)}}(),Tt=function(){var d=(0,z.Z)(c().mark(function i(){var I,Z;return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Zt(ve);case 2:if(I=l.sent,I){l.next=6;break}return ha(!0),l.abrupt("return");case 6:Z=R,ve&&R.indexOf(ve)===-1&&(Z=[].concat((0,qe.Z)(R),[ve])),J(Z),ma(!1),va("");case 11:case"end":return l.stop()}},i)}));return function(){return d.apply(this,arguments)}}(),Et=function(){var i=(0,qe.Z)(R);i[_a]=Oa,J(i),Ba(0),fa("")},kt=function(i){var I=R.filter(function(Z){return Z!==i});J(I)},At=function(){var d=(0,z.Z)(c().mark(function i(){var I,Z,G,l,wa,Wa;return c().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(!!p&&!!(p!=null&&p.accountMeta))){_.next=28;break}return u(!0),_.prev=2,I={title:ie,link:Oe,desc:Ve,media:ke,poster:xe},_.next=6,at.from(JSON.stringify(I));case 6:return Z=_.sent,_.next=9,(0,et.U)(Z);case 9:if(G=_.sent,l=G.response,wa=G.data,l.ok){_.next=14;break}throw"Create Metadata Error";case 14:return Wa=(0,ye.Zc)(Da),_.next=17,(0,Ne.Wh)(R,"ipfs://".concat(wa.Hash),je.toString(),W,(0,ye.Vm)(H.toString()),(0,ye.Vm)(N.toString()),(0,ye.Vm)(B.toString()),JSON.parse(p==null?void 0:p.accountMeta),Wa);case 17:u(!1),x(!1),window.location.reload(),_.next=26;break;case 22:_.prev=22,_.t0=_.catch(2),E.default.error({message:_.t0.message||_.t0,duration:null}),u(!1);case 26:_.next=29;break;case 28:E.default.error({key:"accessDenied",message:A.formatMessage({id:"error.accessDenied"}),duration:null});case 29:case"end":return _.stop()}},i,null,[[2,22]])}));return function(){return d.apply(this,arguments)}}();(0,s.useEffect)(function(){n(""),m(""),B<N&&n("Payout Max cannot be less than Payout Min")},[B]),(0,s.useEffect)(function(){n(""),m(""),N>B&&m("Payout Min cannot be more than Payout Max")},[N]);var Fa=function(i){return function(I){if(I.file.status==="done"){var Z=I.file.response.Hash,G=aa.Z.ipfs.endpoint+Z;i==="media"?oa(G):ca(G);return}I.file.status==="error"&&Qe.default.error("Upload Image Error")}};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:t().modalBody,children:[(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:A.formatMessage({id:"dashboard.ads.create.tag"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[R.map(function(d,i){if(_a===i)return(0,e.jsx)(Ua,{size:"large",className:"tag-input",enterButton:A.formatMessage({id:"common.confirm"}),loading:v,onChange:function(l){fa(l.target.value)},onSearch:function(){if(!Oa){Qe.default.error("Please Input Tag");return}Et()}},d);var I=d.length>20,Z=(0,e.jsx)(Ma.Z,{className:Be().tag,color:"volcano",closable:!0,onClose:function(){return kt(d)},children:(0,e.jsx)("span",{onDoubleClick:function(){Ba(i),fa(d),focus()},children:I?"".concat(d.slice(0,20),"..."):d})},d);return I?(0,e.jsx)(V.Z,{title:d,children:Z},d):Z}),Ea&&(0,e.jsx)(Ua,{ref:La,type:"text",size:"large",enterButton:A.formatMessage({id:"common.confirm"}),className:Be().tagInput,loading:v,onChange:function(i){va(i.target.value)},onSearch:function(){if(!ve){Qe.default.error("Please Input Tag");return}Tt()}}),!Ea&&(0,e.jsxs)(Ma.Z,{className:Be().tag,color:"volcano",onClick:function(){var i;ma(!0),(i=La.current)===null||i===void 0||i.focus()},children:[(0,e.jsx)(ea.Z,{}),A.formatMessage({id:"dashboard.ads.create.tag.new"})]})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Title",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(Y.Z,{size:"large",onChange:function(i){return Ce(i.target.value)},placeholder:"Advertisement Title"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Link",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(Y.Z,{size:"large",value:Oe,onChange:function(i){return ia(i.target.value)},placeholder:"https://weekly.parami.io/"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Description",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(Y.Z,{size:"large",onChange:function(i){return da(i.target.value)},placeholder:"Advertisement Description"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Media",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(ya.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:aa.Z.ipfs.upload,onChange:Fa("media"),children:ke?(0,e.jsx)("img",{src:ke,style:{width:"100%"}}):(0,e.jsxs)("div",{children:[(0,e.jsx)(ea.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Poster",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(ya.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:aa.Z.ipfs.upload,onChange:Fa("poster"),children:xe?(0,e.jsx)("img",{src:xe,style:{width:"100%"}}):(0,e.jsxs)("div",{children:[(0,e.jsx)(ea.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:A.formatMessage({id:"dashboard.ads.create.rewardRate"}),required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(Y.Z,{className:t().withAfterInput,placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,onChange:function(i){return h(Number(i.target.value))}})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:A.formatMessage({id:"dashboard.ads.create.lifetime"}),required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsxs)(xa.Z,{size:"large",style:{width:"100%"},placeholder:"Please select a lifetime",onChange:function(i){Re(Number(i))},children:[(0,e.jsx)(ga,{value:3*ta,children:A.formatMessage({id:"dashboard.ads.create.lifetime.3days"})}),(0,e.jsx)(ga,{value:7*ta,children:A.formatMessage({id:"dashboard.ads.create.lifetime.7days"})}),(0,e.jsx)(ga,{value:15*ta,children:A.formatMessage({id:"dashboard.ads.create.lifetime.15days"})})]})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:A.formatMessage({id:"dashboard.ads.create.payoutBase"}),required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(Y.Z,{className:t().withAfterInput,placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,onChange:function(i){return w(Number(i.target.value))}})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:A.formatMessage({id:"dashboard.ads.create.payoutMin"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(Y.Z,{className:"".concat(t().withAfterInput," ").concat(M?Be().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,max:B,onChange:function(i){return O(Number(i.target.value))}}),M&&(0,e.jsx)(Pe,{msg:M})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:A.formatMessage({id:"dashboard.ads.create.payoutMax"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(Y.Z,{className:"".concat(t().withAfterInput," ").concat(ne?Be().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,min:N,onChange:function(i){return se(Number(i.target.value))}}),ne&&(0,e.jsx)(Pe,{msg:ne})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:"Delegated Account"})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(Y.Z,{size:"large",value:Da,onChange:function(i){return yt(i.target.value)},placeholder:"did:ad3:......"})})]}),(0,e.jsx)("div",{className:t().field,style:{marginTop:50},children:(0,e.jsx)(oe.Z,{block:!0,size:"large",shape:"round",type:"primary",disabled:!R||!W||!je||!H||!!ne||!!M,loading:v,onClick:function(){At()},children:A.formatMessage({id:"common.submit"})})})]}),(0,e.jsx)(Te.Z,{visable:It,title:ve,content:A.formatMessage({id:"dashboard.ads.create.tag.create"}),footer:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{block:!0,shape:"round",type:"primary",size:"large",onClick:function(){Dt(ve),ha(!1)},children:A.formatMessage({id:"common.submit"})})}),close:function(){ha(!1)}})]})},st=tt,Ut=a(48736),Na=a(27049),rt=a(66054),sa=a.n(rt),nt=a(22629),ra=a(28943),na=a(13580),Ft=a(12968),it=a(62462),lt=a(23683),ee=a.n(lt),dt=function(g){var x=g.selectModal,S=g.setSelectModal,p=g.setTokenSelect,b=(0,k.YB)(),Q=(0,k.tT)("dashboard.assets"),v=Q.assetsArr;return(0,e.jsx)(Te.Z,{title:void 0,visable:x,content:(0,e.jsxs)("div",{className:ee().selectContainer,children:[(0,e.jsx)("div",{className:ee().selectHeader,children:(0,e.jsx)("div",{className:ee().selectHeaderSectionTitle,children:b.formatMessage({id:"dashboard.ads.selectToken",defaultMessage:"Select a token"})})}),(0,e.jsx)("div",{className:ee().selectWrapper,children:!!v&&v.map(function(u){return(0,e.jsxs)("div",{className:ee().selectItem,onClick:function(){p(u),S(!1)},children:[(0,e.jsxs)("div",{className:ee().itemInfo,children:[(0,e.jsx)(it.Z,{src:u==null?void 0:u.icon,preview:!1,className:ee().itemInfoIcon}),(0,e.jsxs)("div",{className:ee().itemNameSymbol,children:[(0,e.jsx)("div",{className:ee().itemName,children:u==null?void 0:u.symbol}),(0,e.jsx)("div",{className:ee().itemSymbol,children:u==null?void 0:u.token})]})]}),(0,e.jsx)("div",{className:ee().itemBalance,children:u==null?void 0:u.balance})]})})})]}),footer:!1,close:function(){S(!1)},bodyStyle:{padding:0}})},ot=dt,ut=function(g){var x=g.adItem,S=g.setBidModal,p=(0,k.tT)("currentUser"),b=p.dashboard,Q=(0,s.useState)(!1),v=(0,r.Z)(Q,2),u=v[0],F=v[1],ae=(0,s.useState)(),H=(0,r.Z)(ae,2),w=H[0],te=H[1],o=(0,s.useState)(""),N=(0,r.Z)(o,2),O=N[0],f=N[1],ce=(0,s.useState)(""),B=(0,r.Z)(ce,2),se=B[0],re=B[1],ge=(0,s.useState)(""),M=(0,r.Z)(ge,2),m=M[0],me=M[1],pe=(0,s.useState)(""),ne=(0,r.Z)(pe,2),n=ne[0],Ee=ne[1],C=(0,s.useState)(),R=(0,r.Z)(C,2),J=R[0],$=R[1],L=(0,s.useState)(),ie=(0,r.Z)(L,2),Ce=ie[0],D=ie[1],He=(0,s.useState)(!1),Oe=(0,r.Z)(He,2),ia=Oe[0],la=Oe[1],$e=(0,s.useState)(""),Ve=(0,r.Z)($e,2),da=Ve[0],Ia=Ve[1],Ke=(0,s.useState)(),ke=(0,r.Z)(Ke,2),oa=ke[0],ua=ke[1],le=(0,k.YB)(),xe=Math.max(Number((0,he.mI)((0,he.At)(se),18))*1.2,1),ca=function(){var de=(0,z.Z)(c().mark(function j(){return c().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(!!b&&!!(b!=null&&b.accountMeta))){h.next=17;break}return F(!0),h.prev=2,h.next=5,(0,Ne.hB)(x.id,m,(0,ye.Vm)(J.toString()),oa,(0,ye.Vm)(da),JSON.parse(b==null?void 0:b.accountMeta));case 5:S(!1),F(!1),window.location.reload(),h.next=15;break;case 10:return h.prev=10,h.t0=h.catch(2),E.default.error({message:h.t0.message||h.t0,duration:null}),F(!1),h.abrupt("return");case 15:h.next=18;break;case 17:E.default.error({key:"accessDenied",message:le.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return h.stop()}},j,null,[[2,10]])}));return function(){return de.apply(this,arguments)}}();return(0,s.useEffect)(function(){var de=function(){var j=(0,z.Z)(c().mark(function je(){var h,X;return c().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return h=(0,ye.Zc)(w),W.next=3,(0,ra.JI)(h);case 3:if(X=W.sent,!X.isEmpty){W.next=8;break}return f(le.formatMessage({id:"error.identity.notFound"})),me(""),W.abrupt("return");case 8:me(X.toString());case 10:case"end":return W.stop()}},je)}));return function(){return j.apply(this,arguments)}}();f(""),w&&de().catch(function(j){E.default.error({message:j.message||j,duration:null})})},[w]),(0,s.useEffect)(function(){var de=function(){var j=(0,z.Z)(c().mark(function je(){var h,X,Ae,W,Re;return c().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,ra.X6)(m);case 2:if(h=y.sent,X=h==null?void 0:h.toHuman(),!(h.isEmpty||!(X!=null&&X.minted))){y.next=6;break}return y.abrupt("return");case 6:return y.next=9,(0,na.Ay)(X==null?void 0:X.tokenAssetId);case 9:if(Ae=y.sent,!Ae.isEmpty){y.next=12;break}return y.abrupt("return");case 12:return y.next=14,(0,Ne.Li)(m);case 14:if(W=y.sent,W){y.next=17;break}return y.abrupt("return","0");case 17:return y.next=19,(0,na.L7)(W.budgetPot,W.fractionId);case 19:if(Re=y.sent,Re){y.next=22;break}return y.abrupt("return");case 22:return y.abrupt("return",Re.balance);case 23:case"end":return y.stop()}},je)}));return function(){return j.apply(this,arguments)}}();f(""),re(""),m&&de().then(function(j){if(j===void 0){Ee(le.formatMessage({id:"error.nft.invalid"}));return}Ee(""),re(j)}).catch(function(j){E.default.error({message:j.message||j,duration:null})})},[m]),(0,s.useEffect)(function(){D(""),J!==void 0&&J<xe&&D("price too low")},[J]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:t().modalBody,children:[(0,e.jsx)(Na.Z,{children:"Find NFT ID from DID"}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:le.formatMessage({id:"dashboard.ads.launch.did"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(Y.Z,{size:"large",className:"".concat(O?sa().inputError:""),onChange:function(j){te(j.target.value)},placeholder:"did:ad3:......",value:w}),O&&(0,e.jsx)(Pe,{msg:O})]})]}),(0,e.jsx)(Na.Z,{}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:le.formatMessage({id:"dashboard.ads.launch.nftID"}),required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(Y.Z,{size:"large",className:"".concat(n?sa().inputError:""),onChange:function(j){me(j.target.value)},value:m}),n&&(0,e.jsx)(Pe,{msg:n})]})]}),!!se.length&&(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(P,{title:le.formatMessage({id:"dashboard.ads.launch.currentPrice"}),required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(Y.Z,{readOnly:!0,disabled:!0,size:"large",value:"".concat((0,nt.a)((0,he.At)(se),{decimals:18}))})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsxs)("div",{className:t().title,children:[(0,e.jsx)(P,{title:le.formatMessage({id:"dashboard.ads.launch.offer"}),required:!0}),(0,e.jsx)("br",{}),(0,e.jsx)("small",{children:"The bid must be higher than ".concat(xe," (20% higher than the current price)")})]}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(Y.Z,{value:J,className:"".concat(t().withAfterInput," ").concat(Ce?sa().inputError:""),size:"large",type:"number",min:xe||0,onChange:function(j){$(Number(j.target.value))}}),Ce&&(0,e.jsx)(Pe,{msg:Ce})]})]}),(0,e.jsx)("div",{className:t().field,children:(0,e.jsx)(oe.Z,{block:!0,type:"primary",shape:"round",size:"large",className:t().button,disabled:!m||!se.length||!J||!!n||!!Ce,loading:u,onClick:function(){ca()},children:le.formatMessage({id:"common.submit"})})})]}),(0,e.jsx)(ot,{selectModal:ia,setSelectModal:la,setTokenSelect:ua})]})},ct=ut,wt=a(34669),mt=a(32074),Ca=a(8870),vt=a(91220),ft=a(38520),U=a.n(ft),ht=a(3548),gt=function(g){var x=g.adItem,S=(0,k.tT)("apiWs"),p=(0,s.useState)(!1),b=(0,r.Z)(p,2),Q=b[0],v=b[1],u=(0,s.useState)([]),F=(0,r.Z)(u,2),ae=F[0],H=F[1],w=(0,k.YB)(),te=function(){var o=(0,z.Z)(c().mark(function N(){var O,f,ce,B,se,re,ge,M,m,me,pe;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(S){n.next=2;break}return n.abrupt("return");case 2:if(v(!0),n.prev=4,O=[],!Object.keys(x).length){n.next=44;break}return n.next=9,(0,Ne.kw)(x==null?void 0:x.id);case 9:if(f=n.sent,ce=f.toHuman(),!ce){n.next=43;break}B=(0,vt.Z)(ce),n.prev=13,B.s();case 15:if((se=B.n()).done){n.next=31;break}return re=se.value,n.next=19,(0,ra.X6)(re);case 19:return ge=n.sent,M=ge.toHuman(),n.next=23,(0,Ne.IP)(M==null?void 0:M.tokenAssetId);case 23:return m=n.sent,n.next=26,(0,na.Ay)(M==null?void 0:M.tokenAssetId);case 26:me=n.sent,pe=me.toHuman(),O.push((0,Ca.Z)((0,Ca.Z)({},M),{},{ad:m==null?void 0:m.ad,budget:m==null?void 0:m.budget,created:m==null?void 0:m.created,remain:m==null?void 0:m.remain,tokens:M==null?void 0:M.tokens,asset:pe}));case 29:n.next=15;break;case 31:n.next=36;break;case 33:n.prev=33,n.t0=n.catch(13),B.e(n.t0);case 36:return n.prev=36,B.f(),n.finish(36);case 39:H(O),v(!1),n.next=44;break;case 43:v(!1);case 44:n.next=52;break;case 47:return n.prev=47,n.t1=n.catch(4),E.default.error({message:n.t1.message||n.t1,duration:null}),v(!1),n.abrupt("return");case 52:case"end":return n.stop()}},N,null,[[4,47],[13,33,36,39]])}));return function(){return o.apply(this,arguments)}}();return(0,s.useEffect)(function(){S&&te()},[S,x]),(0,e.jsx)("div",{className:t().modalBody,children:(0,e.jsx)(Sa.Z,{loading:!S||Q,height:200,children:ae.length?(0,e.jsx)("div",{className:U().nftsList,children:ae.map(function(o){var N,O;return(0,e.jsx)("div",{className:U().nftItem,children:(0,e.jsx)("div",{className:U().card,children:(0,e.jsx)("div",{className:U().cardWrapper,children:(0,e.jsx)("div",{className:U().cardBox,children:(0,e.jsxs)("div",{className:U().cardDetail,children:[(0,e.jsxs)("h3",{className:U().text,children:[o==null||(N=o.asset)===null||N===void 0?void 0:N.name," (",o==null||(O=o.asset)===null||O===void 0?void 0:O.symbol,") #",o==null?void 0:o.tokenAssetId]}),(0,e.jsxs)("div",{className:U().status,children:[(0,e.jsx)("div",{className:U().label,children:w.formatMessage({id:"dashboard.ads.remain",defaultMessage:"Remain"})}),(0,e.jsx)("div",{className:U().value,children:(0,e.jsx)(ht.Z,{value:(0,he.At)(o==null?void 0:o.remain)})})]}),(0,e.jsx)("div",{className:U().action,children:(0,e.jsx)(mt.Z,{percent:Number((0,he.mI)((0,he.At)(o==null?void 0:o.remain),18))/Number((0,he.mI)((0,he.At)(o==null?void 0:o.budget),18)),strokeColor:"#ff5b00",className:U().progress})})]})})})})})})}):(0,e.jsxs)("div",{className:U().noNFTs,children:[(0,e.jsx)("img",{src:"/images/icon/query.svg",className:U().topImage}),(0,e.jsx)("div",{className:U().description,children:w.formatMessage({id:"dashboard.ads.nfts.empty"})})]})})})},pt=gt,jt=function(){var g=(0,k.tT)("apiWs"),x=(0,k.tT)("currentUser"),S=x.dashboard,p=(0,k.tT)("dashboard.advertisement"),b=p.AdList,Q=(0,s.useState)(!1),v=(0,r.Z)(Q,2),u=v[0],F=v[1],ae=(0,s.useState)(!1),H=(0,r.Z)(ae,2),w=H[0],te=H[1],o=(0,s.useState)(!1),N=(0,r.Z)(o,2),O=N[0],f=N[1],ce=(0,s.useState)(!1),B=(0,r.Z)(ce,2),se=B[0],re=B[1],ge=(0,s.useState)(!1),M=(0,r.Z)(ge,2),m=M[0],me=M[1],pe=(0,s.useState)({}),ne=(0,r.Z)(pe,2),n=ne[0],Ee=ne[1],C=(0,k.YB)(),R=[{title:C.formatMessage({id:"dashboard.ads.item.id"}),dataIndex:"id",key:"id",render:function(L){return(0,e.jsx)(V.Z,{placement:"topLeft",title:L,children:L})},ellipsis:!0},{title:C.formatMessage({id:"dashboard.ads.item.tag"}),dataIndex:"tag",key:"tag"},{title:C.formatMessage({id:"dashboard.ads.item.metadata"}),key:"metadata",render:function(L){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Xe.Z,{content:(0,e.jsx)(e.Fragment,{children:Object.keys(L.metadata).map(function(ie){return(0,e.jsxs)("p",{children:[(0,e.jsx)("b",{children:ie}),": ",L.metadata[ie].toString()]})})}),children:L.metadataIpfs})})},ellipsis:!0},{title:C.formatMessage({id:"dashboard.ads.item.rewardRate"}),dataIndex:"rewardRate",key:"rewardRate"},{title:C.formatMessage({id:"dashboard.ads.item.endtime"}),dataIndex:"endtime",key:"endtime"},{title:C.formatMessage({id:"dashboard.ads.item.action"}),key:"option",render:function(L){return(0,e.jsxs)(Je.Z,{children:[(0,e.jsx)("a",{onClick:function(){Ee(L),re(!0)},children:"Bid"},"bid"),(0,e.jsx)(V.Z,{placement:"topLeft",title:"comming soon",children:"View"})]})}}],J=function(){var $=(0,z.Z)(c().mark(function L(){var ie;return c().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(!!S&&!!(S!=null&&S.account))){D.next=13;break}return D.prev=1,D.next=4,(0,Ne.Du)(S==null?void 0:S.account);case 4:ie=D.sent,F(ie),D.next=11;break;case 8:D.prev=8,D.t0=D.catch(1),E.default.error({key:"unknownError",message:D.t0.message||D.t0,duration:null});case 11:D.next=14;break;case 13:E.default.error({key:"accessDenied",message:C.formatMessage({id:"error.accessDenied"}),duration:null});case 14:case"end":return D.stop()}},L,null,[[1,8]])}));return function(){return $.apply(this,arguments)}}();return(0,s.useEffect)(function(){g&&J()},[g]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:t().mainBgContainer,children:(0,e.jsx)("div",{className:t().contentContainer,children:(0,e.jsx)(Sa.Z,{loading:!g,height:400,children:(0,e.jsxs)(Ze.Z,{className:t().dashboardCard,bodyStyle:{width:"100%"},children:[!u&&(0,e.jsxs)("div",{className:q().createModal,children:[(0,e.jsx)(oe.Z,{type:"primary",shape:"round",size:"large",className:q().becomeButton,onClick:function(){te(!0)},children:C.formatMessage({id:"dashboard.ads.becomeAdvertisers"})}),(0,e.jsx)("div",{className:q().minimum,children:"The minimum is 1,000 $AD3"})]}),(0,e.jsx)(Va.ZP,{className:q().pageContainer,ghost:!0,title:C.formatMessage({id:"dashboard.ads.title"}),content:(0,e.jsx)(Ue.Z,{title:C.formatMessage({id:"dashboard.ads.control.total"}),value:b.length}),breadcrumb:void 0,extra:[(0,e.jsx)(oe.Z,{type:"primary",size:"large",shape:"round",icon:(0,e.jsx)($a,{}),onClick:function(){f(!0)},children:C.formatMessage({id:"dashboard.ads.control.create"})})],children:(0,e.jsx)(fe.Z,{className:q().table,dataSource:b,columns:R})})]})})})}),(0,e.jsx)(Te.Z,{visable:w,title:C.formatMessage({id:"dashboard.ads.becomeAdvertisers"}),content:(0,e.jsx)(Xa,{setIsAdvertisers:F,setBecomeModal:te}),footer:!1,close:function(){te(!1)}}),O&&(0,e.jsx)(Te.Z,{visable:!0,title:C.formatMessage({id:"dashboard.ads.create"}),content:(0,e.jsx)(st,{setCreateModal:f}),footer:!1,close:function(){f(!1)}}),se&&(0,e.jsx)(Te.Z,{visable:!0,title:C.formatMessage({id:"dashboard.ads.bid"}),content:(0,e.jsx)(ct,{adItem:n,setBidModal:re}),footer:!1,close:function(){re(!1)}}),(0,e.jsx)(Te.Z,{visable:m,title:C.formatMessage({id:"dashboard.ads.list"}),content:(0,e.jsx)(pt,{adItem:n}),footer:!1,close:function(){me(!1)}})]})},St=jt},84986:function(T,Ie,a){"use strict";a.d(Ie,{U:function(){return Je},g:function(){return Xe}});var Ye=a(8870),Ze=a(3182),_e=a(94043),fe=a.n(_e),Le=a(51625),Ue=a(55347),be=a(11238),oe=a(47832),Fe=a(81603),E=function(V){var r=V.response,ue=r===void 0?{}:r,c=V.message,s=c===void 0?"":c,Se=V.data,t=Se===void 0?{}:Se;if(s==="http error")return{response:ue,data:t}},z=(0,be.l7)({errorHandler:E,credentials:"omit"}),pa=new Ue.ZP({type:"sr25519"});function Je(De,V){return we.apply(this,arguments)}function we(){return we=(0,Ze.Z)(fe().mark(function De(V,r){var ue;return fe().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return ue=new FormData,ue.append("file",V),s.abrupt("return",z(Le.Z.ipfs.upload,(0,Ye.Z)({method:"POST",body:ue,requestType:"form",getResponse:!0},r||{})));case 3:case"end":return s.stop()}},De)})),we.apply(this,arguments)}var Xe=function(){var De=(0,Ze.Z)(fe().mark(function V(r,ue,c,s,Se){var t,We,q,k;return fe().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(t=window.apiWs.tx.did.setMetadata("pic",r),!(s&&Se)){K.next=6;break}return K.next=4,t.paymentInfo(Se);case 4:return We=K.sent,K.abrupt("return",We);case 6:if(q=(0,oe.Gh)(ue,c),!(q==null||!q)){K.next=9;break}throw new Error("Wrong password");case 9:return k=pa.createFromUri(q),K.next=12,(0,Fe.Y)(t,k);case 12:return K.abrupt("return",K.sent);case 13:case"end":return K.stop()}},V)}));return function(r,ue,c,s,Se){return De.apply(this,arguments)}}()}}]);

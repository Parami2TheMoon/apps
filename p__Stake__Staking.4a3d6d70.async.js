(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[1507],{2877:function(K,re,a){"use strict";a.d(re,{Z:function(){return c}});var he=a(28991),w=a(67294),je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},V=je,Se=a(27029),de=function(k,ge){return w.createElement(Se.Z,(0,he.Z)((0,he.Z)({},k),{},{ref:ge,icon:V}))};de.displayName="LinkOutlined";var c=w.forwardRef(de)},62659:function(K){K.exports={stakeListContainer:"stakeListContainer___2nJNp",stakeItem:"stakeItem___k4Dsl",stakeMain:"stakeMain___XUBiL",stakeInfo:"stakeInfo___Opkn5",tokenPair:"tokenPair___1_eah",tokenIcons:"tokenIcons___Pz_K7",icon:"icon___mxSgm",tokenNameAndRate:"tokenNameAndRate___3VWq1",tokenName:"tokenName___29BLA",tokenRate:"tokenRate___1HuJk",expandButton:"expandButton___FD_Uh",expandButtonIcon:"expandButtonIcon___2q-aY",rowsContainer:"rowsContainer___2TYwT",rowsContentContainer:"rowsContentContainer___xky1n",actionButtons:"actionButtons___12ETf",actionButton:"actionButton___3cXmR",actionButtonDesc:"actionButtonDesc___30Rx4",nftList:"nftList___16_5m",nftItem:"nftItem___1OAMr",nftInfo:"nftInfo___3fslf",nftButtons:"nftButtons___XTNhk",nftReward:"nftReward___3zlGQ",tokenLiquidity:"tokenLiquidity___11dHg",nftItemBlock:"nftItemBlock___2Ne5X",title:"title___U_Qsg",value:"value___1grF7",tipButton:"tipButton___2ij9U"}},50144:function(K){K.exports={mining:"mining___1Q3qy",header:"header___1u_hH",title:"title___1Ed70",buttons:"buttons___3w0xM",field:"field___uauxg",label:"label___3ePho",input:"input___7H_re",inputAndButton:"inputAndButton___dypJX",select:"select___2e9F-",selectAssets:"selectAssets___3W1Su",icon:"icon___oiPcq",name:"name___1WiSJ",token:"token___3oeE2",listBtn:"listBtn___2cvjL",value:"value___3nXj9",noAssets:"noAssets___3b1xa",topImage:"topImage___vb76T",assetsList:"assetsList___isks8",icons:"icons___3oMIY",leftIcon:"leftIcon___1jiK-",rightIcon:"rightIcon___3uf6w",actionButtons:"actionButtons___1OWli",button:"button___3IU_Z",searchBar:"searchBar___2kOFb",searchInput:"searchInput___1aWdj",inputModal:"inputModal____BknG",headerContainer:"headerContainer___2ouXP",titleContainer:"titleContainer___1Ljj7",sectionTitle:"sectionTitle___1wmM8",sectionIcon:"sectionIcon___U6h6k",subtitle:"subtitle___1a5uM",addNewStake:"addNewStake___1e9CP",stakeButton:"stakeButton___22L_l"}},16380:function(K,re,a){"use strict";a.r(re),a.d(re,{default:function(){return Je}});var he=a(57663),w=a(71577),je=a(12968),V=a(62462),Se=a(402),de=a(3887),c=a(2824),o=a(67294),k=a(43581),ge=a(55909),ke=a.n(ge),be=a(50144),n=a.n(be),qe=a(47673),Me=a(32787),ea=a(74379),oe=a(38648),aa=a(34792),ue=a(48086),G=a(3182),Ie=a(94043),x=a.n(Ie),Be=a(8812),ce=a(46656),ve=a(1615),Le=a(3548),J=a(57651),me=a(59749),ye=a(33044),Ce=a(86326),e=a(85893),Ae=function(N){var S,Z=N.setAddModal,b=(0,k.tT)("apiWs"),s=(0,k.tT)("currentUser"),m=s.wallet,W=(0,k.tT)("balance"),r=W.balance,_=(0,k.tT)("stake"),M=_.getTokenList,q=(0,o.useState)(!1),Y=(0,c.Z)(q,2),$=Y[0],A=Y[1],ee=(0,o.useState)("0"),P=(0,c.Z)(ee,2),R=P[0],T=P[1],D=(0,o.useState)({}),E=(0,c.Z)(D,2),l=E[0],Q=E[1],ae=(0,o.useState)(!1),I=(0,c.Z)(ae,2),se=I[0],O=I[1],y=(0,o.useState)(""),X=(0,c.Z)(y,2),H=X[0],te=X[1],ne=(0,o.useState)(!1),f=(0,c.Z)(ne,2),L=f[0],v=f[1],u=(0,o.useState)([]),p=(0,c.Z)(u,2),h=p[0],d=p[1],i=(0,o.useState)(!1),g=(0,c.Z)(i,2),Ze=g[0],Qe=g[1],F=(0,k.YB)(),Ke=function(){var U=(0,G.Z)(x().mark(function C(z){var B,le,pe;return x().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,b==null?void 0:b.query.swap.metadata(z);case 2:B=ie.sent,B!=null&&B.isEmpty||(le=B==null?void 0:B.toHuman(),pe=le.enableStaking,Qe(pe));case 4:case"end":return ie.stop()}},C)}));return function(z){return U.apply(this,arguments)}}();(0,o.useEffect)(function(){l.id&&b&&Ke(l.id)},[l,b]);var _e=function(){var U=(0,G.Z)(x().mark(function C(z,B){var le;return x().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(!!m&&!!(m!=null&&m.keystore))){j.next=19;break}return A(!0),j.prev=2,j.next=5,(0,ve.rL)(l==null?void 0:l.id,(0,me.HM)(R,18).toString(),h[1],h[0],H,m==null?void 0:m.keystore,z,B);case 5:if(le=j.sent,A(!1),!(z&&B)){j.next=9;break}return j.abrupt("return",le);case 9:M(),j.next=15;break;case 12:j.prev=12,j.t0=j.catch(2),ue.default.error(j.t0);case 15:A(!1),Z(!1),j.next=20;break;case 19:oe.default.error({key:"accessDenied",message:F.formatMessage({id:"error.accessDenied"}),duration:null});case 20:case"end":return j.stop()}},C,null,[[2,12]])}));return function(z,B){return U.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:n().mining,children:[(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().label,children:F.formatMessage({id:"stake.add.selectAssets"})}),(0,e.jsxs)("div",{className:n().selectAssets,onClick:function(){T("0"),d([]),v(!0)},children:[(0,e.jsxs)("div",{className:n().title,children:[l.symbol&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(V.Z,{className:n().icon,src:(l==null?void 0:l.icon)||"/images/logo-round-core.svg",fallback:"/images/logo-round-core.svg",preview:!1}),(0,e.jsx)("span",{className:n().name,children:l.symbol})]}),!l.symbol&&(0,e.jsx)("span",{className:n().name,children:F.formatMessage({id:"stake.add.pleaseSelect"})})]}),(0,e.jsxs)("div",{className:n().token,children:[(0,e.jsx)(J.Z,{value:l==null?void 0:l.balance,symbol:l==null?void 0:l.symbol}),(0,e.jsx)(Be.Z,{style:{color:"#ff5b00",marginLeft:10}})]})]}),l.id&&!Ze&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:n().stakingInfo,children:"Staking is not enabled for this token. You could still add liquidity and start earning fees."})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsxs)("div",{className:n().label,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,e.jsx)("span",{children:F.formatMessage({id:"stake.add.number.label"})}),(0,e.jsxs)("span",{children:[F.formatMessage({id:"stake.add.number.available"}),":",(0,e.jsx)(Le.Z,{value:r==null?void 0:r.free})]})]}),(0,e.jsx)("div",{className:n().inputAndButton,children:(0,e.jsx)(Me.Z,{autoFocus:!0,size:"large",className:n().input,placeholder:"0",value:R,onChange:function(C){T(C.target.value),(0,ye.zt)(l.id,(0,me.HM)(C.target.value,18).toString()).then(function(z){d(z)})},disabled:$||!Object.keys(l).length,type:"number"})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().label,children:F.formatMessage({id:"stake.add.overview"})}),(0,e.jsxs)("div",{className:n().listBtn,children:[(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("span",{className:n().title,children:F.formatMessage({id:"stake.add.tokenAmount"})}),(0,e.jsx)("span",{className:n().value,style:{color:"green"},children:(0,e.jsx)(J.Z,{value:h[0],symbol:l.symbol})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("span",{className:n().title,children:F.formatMessage({id:"stake.add.lptokenAmount"})}),(0,e.jsx)("span",{className:n().value,style:{color:"green"},children:(0,e.jsx)(J.Z,{value:h[1]})})]})]})]}),(0,e.jsx)("div",{className:n().actionButtons,children:(0,e.jsx)(w.Z,{type:"primary",shape:"round",size:"large",className:n().button,loading:$,disabled:(0,me.HM)(R,18)<=BigInt(0)||(0,me.HM)(R,18)>BigInt(r==null?void 0:r.free)||h.length===0||h.length>0&&BigInt(h[0])>BigInt((S=l==null?void 0:l.balance)!==null&&S!==void 0?S:"0"),onClick:function(){A(!0),O(!0)},children:Ze?"Add Liquidity and Stake":"Add Liquidity"})})]}),L&&(0,e.jsx)(Ce.Z,{onClose:function(){return v(!1)},onSelectAsset:function(C){Q(C),v(!1)}}),(0,e.jsx)(ce.Z,{visable:se,setVisable:O,passphrase:H,setPassphrase:te,func:_e})]})},Te=Ae,we=a(62659),t=a.n(we),sa=a(58024),Pe=a(39144),ta=a(22385),xe=a(31097),Ne=a(68628),Re=a(57254),na=a(49111),De=a(19650),la=a(48736),Ee=a(27049),Oe=a(2877),He=function(N){var S=N.collapse,Z=N.nfts,b=N.rewardTokenSymbol,s=(0,k.tT)("stake"),m=s.getTokenList,W=(0,k.tT)("currentUser"),r=W.wallet,_=(0,o.useState)(!1),M=(0,c.Z)(_,2),q=M[0],Y=M[1],$=(0,o.useState)(!1),A=(0,c.Z)($,2),ee=A[0],P=A[1],R=(0,o.useState)(""),T=(0,c.Z)(R,2),D=T[0],E=T[1],l=(0,o.useState)(!1),Q=(0,c.Z)(l,2),ae=Q[0],I=Q[1],se=(0,o.useState)({}),O=(0,c.Z)(se,2),y=O[0],X=O[1],H=(0,k.YB)(),te=function(){var f=(0,G.Z)(x().mark(function L(v,u){var p;return x().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(!!r&&!!(r!=null&&r.keystore))){d.next=17;break}return I(!0),d.prev=2,d.next=5,(0,ve.w5)(y==null?void 0:y.lpId,D,r==null?void 0:r.keystore,v,u);case 5:if(p=d.sent,I(!1),!(v&&u)){d.next=9;break}return d.abrupt("return",p);case 9:m(),d.next=15;break;case 12:d.prev=12,d.t0=d.catch(2),ue.default.error(d.t0);case 15:d.next=18;break;case 17:oe.default.error({key:"accessDenied",message:H.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return d.stop()}},L,null,[[2,12]])}));return function(v,u){return f.apply(this,arguments)}}(),ne=function(){var f=(0,G.Z)(x().mark(function L(v,u){var p,h;return x().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(!!r&&!!(r!=null&&r.keystore))){i.next=21;break}return I(!0),i.prev=2,i.next=5,(0,ye.G)(y==null?void 0:y.lpId);case 5:return p=i.sent,i.next=8,(0,ve.HF)(y==null?void 0:y.lpId,p[3],p[2],D,r==null?void 0:r.keystore,v,u);case 8:if(h=i.sent,I(!1),!(v&&u)){i.next=12;break}return i.abrupt("return",h);case 12:m(),i.next=19;break;case 15:i.prev=15,i.t0=i.catch(2),ue.default.error(i.t0),I(!1);case 19:i.next=22;break;case 21:oe.default.error({key:"accessDenied",message:H.formatMessage({id:"error.accessDenied"}),duration:null});case 22:case"end":return i.stop()}},L,null,[[2,15]])}));return function(v,u){return f.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:t().rowsContainer,style:{maxHeight:S?"100vh":0},children:[(0,e.jsx)(Ee.Z,{}),(0,e.jsx)("div",{className:t().rowsContentContainer,children:(0,e.jsx)("div",{className:t().nftList,children:Z.map(function(f){return(0,e.jsxs)("div",{className:t().nftItem,children:[(0,e.jsxs)("div",{className:t().nftInfo,children:[(0,e.jsxs)("div",{className:t().nftItemBlock,children:[(0,e.jsx)("div",{className:t().title,children:H.formatMessage({id:"stake.lpTokenList.lpTokenId",defaultMessage:"LP Token Id"})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsxs)(De.Z,{children:[(0,e.jsx)(Oe.Z,{})," ",f==null?void 0:f.lpId]})})]}),(0,e.jsxs)("div",{className:t().nftItemBlock,children:[(0,e.jsx)("div",{className:t().title,children:"Liquidity"}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(J.Z,{value:f==null?void 0:f.amount})})]})]}),(0,e.jsx)("div",{className:t().nftButtons,children:(0,e.jsx)(w.Z,{danger:!0,size:"middle",shape:"round",type:"primary",className:t().stakeButton,loading:ae,onClick:function(){P(!0),X(f)},children:"Unstake"})})]})})})})]}),(0,e.jsx)(ce.Z,{visable:q,setVisable:Y,passphrase:D,setPassphrase:E,func:te}),(0,e.jsx)(ce.Z,{visable:ee,setVisable:P,passphrase:D,setPassphrase:E,func:ne})]})},Fe=He,Ue=a(96534),ze="/images/logo-round-core.svg",We=function(N){var S,Z,b=N.logo,s=N.lp,m=(0,k.tT)("apiWs"),W=(0,k.tT)("stake"),r=W.getTokenList,_=(0,k.tT)("currentUser"),M=_.wallet,q=(0,o.useState)(!1),Y=(0,c.Z)(q,2),$=Y[0],A=Y[1],ee=(0,o.useState)(!1),P=(0,c.Z)(ee,2),R=P[0],T=P[1],D=(0,o.useState)(""),E=(0,c.Z)(D,2),l=E[0],Q=E[1],ae=(0,o.useState)(!1),I=(0,c.Z)(ae,2),se=I[0],O=I[1],y=(0,o.useState)(!1),X=(0,c.Z)(y,2),H=X[0],te=X[1],ne=(0,k.YB)();(0,o.useEffect)(function(){s&&m&&(0,G.Z)(x().mark(function v(){var u,p,h;return x().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,m==null?void 0:m.query.swap.metadata(s.id);case 2:u=i.sent,u!=null&&u.isEmpty||(p=u==null?void 0:u.toHuman(),h=p.enableStaking,te(h));case 4:case"end":return i.stop()}},v)}))()},[s,m]);var f=BigInt(0);s==null||s.nfts.forEach(function(v){f=f+(0,Ue.XE)(v.amount)});var L=function(){var v=(0,G.Z)(x().mark(function u(p,h){var d;return x().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(!!M&&!!(M!=null&&M.keystore))){g.next=17;break}return T(!0),g.prev=2,g.next=5,(0,ve.w5)(s.nfts[0].lpId,l,M==null?void 0:M.keystore,p,h);case 5:if(d=g.sent,T(!1),!(p&&h)){g.next=9;break}return g.abrupt("return",d);case 9:r(),g.next=15;break;case 12:g.prev=12,g.t0=g.catch(2),ue.default.error(g.t0);case 15:g.next=18;break;case 17:oe.default.error({key:"accessDenied",message:ne.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return g.stop()}},u,null,[[2,12]])}));return function(p,h){return v.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:t().stakeItem,children:(0,e.jsxs)(Pe.Z,{className:ke().card,bodyStyle:{padding:15,width:"100%"},children:[(0,e.jsxs)("div",{className:t().stakeMain,children:[(0,e.jsxs)("div",{className:t().stakeInfo,children:[(0,e.jsxs)("div",{className:t().tokenPair,children:[(0,e.jsxs)("div",{className:t().tokenIcons,children:[(0,e.jsx)(V.Z,{src:ze,preview:!1,className:t().icon}),(0,e.jsx)(V.Z,{src:b||"/images/default-avatar.svg",preview:!1,className:t().icon})]}),(0,e.jsx)("div",{className:t().tokenNameAndRate,children:(0,e.jsxs)("div",{className:t().tokenName,children:["AD3-",s==null?void 0:s.symbol]})})]}),(0,e.jsxs)("div",{className:t().tokenLiquidity,children:[(0,e.jsxs)("div",{className:t().title,children:["Total Liquidity(",s==null?void 0:s.symbol,")"]}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(J.Z,{value:f.toString()}),(0,e.jsx)(xe.Z,{placement:"bottom",title:"The liquidity value is an estimation that only calculates the liquidity lies in the reward range.",children:(0,e.jsx)(Ne.Z,{className:t().tipButton})})]})]})]}),(0,e.jsxs)("div",{className:t().nftReward,children:[(0,e.jsxs)("div",{className:t().nftItemBlock,children:[(0,e.jsxs)("div",{className:t().title,children:["Reward(".concat((S=s==null?void 0:s.symbol)!==null&&S!==void 0?S:"AD3",") "),!H&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(xe.Z,{title:"Staking reward is not enabled for this token. You could still earn fees by providing liquidity.",children:(0,e.jsx)(Ne.Z,{className:t().tipButton})})})]}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(J.Z,{value:s==null?void 0:s.reward})})]}),(0,e.jsx)(w.Z,{size:"middle",shape:"round",type:"primary",disabled:!(s!=null&&s.reward)||!(s!=null&&(Z=s.nfts)!==null&&Z!==void 0&&Z.length),onClick:function(){T(!0),O(!0)},loading:R,children:"Harvest"})]}),(0,e.jsx)("div",{className:t().expandButton,children:(0,e.jsx)(w.Z,{type:"link",icon:(0,e.jsx)(Re.Z,{rotate:$?-180:0,className:t().expandButtonIcon}),onClick:function(){A(function(u){return!u})}})})]}),(0,e.jsx)(Fe,{rewardTokenSymbol:s==null?void 0:s.symbol,collapse:$,nfts:s.nfts})]})}),(0,e.jsx)(ce.Z,{visable:se,setVisable:O,passphrase:l,setPassphrase:Q,func:L})]})},Ye=We,$e=function(){var N=(0,k.tT)("stake"),S=N.LPsArr;return(0,e.jsx)("div",{className:t().stakeListContainer,children:S.map(function(Z){return(0,e.jsx)(Ye,{logo:Z.icon,lp:Z})})})},Xe=$e,Ve=a(69764),Ge=function(){var N=(0,o.useState)(!1),S=(0,c.Z)(N,2),Z=S[0],b=S[1],s=(0,k.YB)(),m=de.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:ke().mainTopContainer,children:(0,e.jsxs)("div",{className:ke().pageContainer,children:[(0,e.jsxs)("div",{className:n().headerContainer,children:[(0,e.jsx)("div",{className:n().titleContainer,children:(0,e.jsxs)(m,{level:1,className:n().sectionTitle,children:[(0,e.jsx)(V.Z,{src:"/images/icon/stake.svg",className:n().sectionIcon,preview:!1}),s.formatMessage({id:"stake.title"})]})}),(0,e.jsx)("div",{className:n().subtitle,children:s.formatMessage({id:"stake.subtitle"})}),(0,e.jsx)("div",{className:n().addNewStake,children:(0,e.jsx)(w.Z,{block:!0,type:"primary",shape:"round",size:"large",className:n().stakeButton,onClick:function(){b(!0)},children:s.formatMessage({id:"stake.add"})})})]}),(0,e.jsx)(Xe,{})]})}),Z&&(0,e.jsx)(Ve.Z,{visable:!0,title:s.formatMessage({id:"stake.add"}),content:(0,e.jsx)(Te,{setAddModal:b}),footer:!1,close:function(){b(!1)},bodyStyle:{padding:0}})]})},Je=Ge}}]);

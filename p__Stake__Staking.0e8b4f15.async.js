(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[1507],{2877:function(se,ie,a){"use strict";a.d(ie,{Z:function(){return c}});var fe=a(28991),w=a(67294),pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},X=pe,je=a(27029),re=function(v,he){return w.createElement(je.Z,(0,fe.Z)((0,fe.Z)({},v),{},{ref:he,icon:X}))};re.displayName="LinkOutlined";var c=w.forwardRef(re)},62659:function(se){se.exports={stakeListContainer:"stakeListContainer___2nJNp",stakeItem:"stakeItem___k4Dsl",stakeMain:"stakeMain___XUBiL",stakeInfo:"stakeInfo___Opkn5",tokenPair:"tokenPair___1_eah",tokenIcons:"tokenIcons___Pz_K7",icon:"icon___mxSgm",tokenNameAndRate:"tokenNameAndRate___3VWq1",tokenName:"tokenName___29BLA",tokenRate:"tokenRate___1HuJk",expandButton:"expandButton___FD_Uh",expandButtonIcon:"expandButtonIcon___2q-aY",rowsContainer:"rowsContainer___2TYwT",rowsContentContainer:"rowsContentContainer___xky1n",actionButtons:"actionButtons___12ETf",actionButton:"actionButton___3cXmR",actionButtonDesc:"actionButtonDesc___30Rx4",nftList:"nftList___16_5m",nftItem:"nftItem___1OAMr",nftInfo:"nftInfo___3fslf",nftButtons:"nftButtons___XTNhk",nftReward:"nftReward___3zlGQ",tokenLiquidity:"tokenLiquidity___11dHg",nftItemBlock:"nftItemBlock___2Ne5X",title:"title___U_Qsg",value:"value___1grF7",tipButton:"tipButton___2ij9U"}},50144:function(se){se.exports={mining:"mining___1Q3qy",header:"header___1u_hH",title:"title___1Ed70",buttons:"buttons___3w0xM",field:"field___uauxg",label:"label___3ePho",input:"input___7H_re",inputAndButton:"inputAndButton___dypJX",select:"select___2e9F-",selectAssets:"selectAssets___3W1Su",icon:"icon___oiPcq",name:"name___1WiSJ",token:"token___3oeE2",listBtn:"listBtn___2cvjL",value:"value___3nXj9",noAssets:"noAssets___3b1xa",topImage:"topImage___vb76T",assetsList:"assetsList___isks8",icons:"icons___3oMIY",leftIcon:"leftIcon___1jiK-",rightIcon:"rightIcon___3uf6w",actionButtons:"actionButtons___1OWli",button:"button___3IU_Z",searchBar:"searchBar___2kOFb",searchInput:"searchInput___1aWdj",inputModal:"inputModal____BknG",headerContainer:"headerContainer___2ouXP",titleContainer:"titleContainer___1Ljj7",sectionTitle:"sectionTitle___1wmM8",sectionIcon:"sectionIcon___U6h6k",subtitle:"subtitle___1a5uM",addNewStake:"addNewStake___1e9CP",stakeButton:"stakeButton___22L_l"}},16380:function(se,ie,a){"use strict";a.r(ie),a.d(ie,{default:function(){return Je}});var fe=a(57663),w=a(71577),pe=a(12968),X=a(62462),je=a(402),re=a(3887),c=a(2824),u=a(67294),v=a(43581),he=a(55909),ge=a.n(he),be=a(50144),l=a.n(be),qe=a(47673),Me=a(32787),ea=a(74379),de=a(38648),aa=a(34792),oe=a(48086),$=a(3182),Ie=a(94043),N=a.n(Ie),Be=a(8812),ue=a(46656),ce=a(1615),Le=a(3548),V=a(57651),ve=a(59749),Se=a(33044),Ce=a(86326),e=a(85893),Ae=function(Z){var j,I=Z.setAddModal,s=(0,v.tT)("apiWs"),S=(0,v.tT)("currentUser"),y=S.wallet,H=(0,v.tT)("balance"),o=H.balance,b=(0,v.tT)("stake"),G=b.getTokenList,J=(0,u.useState)(!1),F=(0,c.Z)(J,2),Q=F[0],A=F[1],K=(0,u.useState)("0"),U=(0,c.Z)(K,2),B=U[0],z=U[1],T=(0,u.useState)({}),P=(0,c.Z)(T,2),i=P[0],_=P[1],q=(0,u.useState)(!1),L=(0,c.Z)(q,2),ee=L[0],W=L[1],x=(0,u.useState)(""),ae=(0,c.Z)(x,2),R=ae[0],te=ae[1],Y=(0,u.useState)(!1),m=(0,c.Z)(Y,2),f=m[0],d=m[1],h=(0,u.useState)([]),g=(0,c.Z)(h,2),p=g[0],r=g[1],t=(0,u.useState)(!1),Ne=(0,c.Z)(t,2),Ze=Ne[0],Qe=Ne[1],D=(0,v.YB)(),Ke=function(){var E=(0,$.Z)(N().mark(function C(O){var M,ne,ke;return N().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,s==null?void 0:s.query.swap.metadata(O);case 2:M=le.sent,M!=null&&M.isEmpty||(ne=M==null?void 0:M.toHuman(),ke=ne.enableStaking,Qe(ke));case 4:case"end":return le.stop()}},C)}));return function(O){return E.apply(this,arguments)}}();(0,u.useEffect)(function(){i.id&&s&&Ke(i.id)},[i,s]);var _e=function(){var E=(0,$.Z)(N().mark(function C(O,M){var ne;return N().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(!(!!y&&!!(y!=null&&y.keystore))){k.next=19;break}return A(!0),k.prev=2,k.next=5,(0,ce.rL)(i==null?void 0:i.id,(0,ve.HM)(B,18).toString(),p[1],p[0],R,y==null?void 0:y.keystore,O,M);case 5:if(ne=k.sent,A(!1),!(O&&M)){k.next=9;break}return k.abrupt("return",ne);case 9:G(),k.next=15;break;case 12:k.prev=12,k.t0=k.catch(2),oe.default.error(k.t0);case 15:A(!1),I(!1),k.next=20;break;case 19:de.default.error({key:"accessDenied",message:D.formatMessage({id:"error.accessDenied"}),duration:null});case 20:case"end":return k.stop()}},C,null,[[2,12]])}));return function(O,M){return E.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:l().mining,children:[(0,e.jsxs)("div",{className:l().field,children:[(0,e.jsx)("div",{className:l().label,children:D.formatMessage({id:"stake.add.selectAssets"})}),(0,e.jsxs)("div",{className:l().selectAssets,onClick:function(){z("0"),r([]),d(!0)},children:[(0,e.jsxs)("div",{className:l().title,children:[i.symbol&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(X.Z,{className:l().icon,src:(i==null?void 0:i.icon)||"/images/logo-round-core.svg",fallback:"/images/logo-round-core.svg",preview:!1}),(0,e.jsx)("span",{className:l().name,children:i.symbol})]}),!i.symbol&&(0,e.jsx)("span",{className:l().name,children:D.formatMessage({id:"stake.add.pleaseSelect"})})]}),(0,e.jsxs)("div",{className:l().token,children:[(0,e.jsx)(V.Z,{value:i==null?void 0:i.balance,symbol:i==null?void 0:i.symbol}),(0,e.jsx)(Be.Z,{style:{color:"#ff5b00",marginLeft:10}})]})]}),i.id&&!Ze&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:l().stakingInfo,children:"Staking is not enabled for this token. You could still add liquidity and start earning fees."})})]}),(0,e.jsxs)("div",{className:l().field,children:[(0,e.jsxs)("div",{className:l().label,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,e.jsx)("span",{children:D.formatMessage({id:"stake.add.number.label"})}),(0,e.jsxs)("span",{children:[D.formatMessage({id:"stake.add.number.available"}),":",(0,e.jsx)(Le.Z,{value:o==null?void 0:o.free})]})]}),(0,e.jsx)("div",{className:l().inputAndButton,children:(0,e.jsx)(Me.Z,{autoFocus:!0,size:"large",className:l().input,placeholder:"0",value:B,onChange:function(C){z(C.target.value),(0,Se.zt)(i.id,(0,ve.HM)(C.target.value,18).toString()).then(function(O){r(O)})},disabled:Q||!Object.keys(i).length,type:"number"})})]}),(0,e.jsxs)("div",{className:l().field,children:[(0,e.jsx)("div",{className:l().label,children:D.formatMessage({id:"stake.add.overview"})}),(0,e.jsxs)("div",{className:l().listBtn,children:[(0,e.jsxs)("div",{className:l().field,children:[(0,e.jsx)("span",{className:l().title,children:D.formatMessage({id:"stake.add.tokenAmount"})}),(0,e.jsx)("span",{className:l().value,style:{color:"green"},children:(0,e.jsx)(V.Z,{value:p[0],symbol:i.symbol})})]}),(0,e.jsxs)("div",{className:l().field,children:[(0,e.jsx)("span",{className:l().title,children:D.formatMessage({id:"stake.add.lptokenAmount"})}),(0,e.jsx)("span",{className:l().value,style:{color:"green"},children:(0,e.jsx)(V.Z,{value:p[1]})})]})]})]}),(0,e.jsx)("div",{className:l().actionButtons,children:(0,e.jsx)(w.Z,{type:"primary",shape:"round",size:"large",className:l().button,loading:Q,disabled:(0,ve.HM)(B,18)<=BigInt(0)||(0,ve.HM)(B,18)>BigInt(o==null?void 0:o.free)||p.length===0||p.length>0&&BigInt(p[0])>BigInt((j=i==null?void 0:i.balance)!==null&&j!==void 0?j:"0"),onClick:function(){A(!0),W(!0)},children:Ze?"Add Liquidity and Stake":"Add Liquidity"})})]}),f&&(0,e.jsx)(Ce.Z,{onClose:function(){return d(!1)},onSelectAsset:function(C){_(C),d(!1)}}),(0,e.jsx)(ue.Z,{visable:ee,setVisable:W,passphrase:R,setPassphrase:te,func:_e})]})},Te=Ae,we=a(62659),n=a.n(we),sa=a(58024),Pe=a(39144),ta=a(22385),ye=a(31097),xe=a(68628),Re=a(57254),na=a(49111),De=a(19650),la=a(48736),Ee=a(27049),Oe=a(2877),He=function(Z){var j=Z.collapse,I=Z.nfts,s=Z.rewardTokenSymbol,S=(0,v.tT)("stake"),y=S.getTokenList,H=(0,v.tT)("currentUser"),o=H.wallet,b=(0,u.useState)(!1),G=(0,c.Z)(b,2),J=G[0],F=G[1],Q=(0,u.useState)(!1),A=(0,c.Z)(Q,2),K=A[0],U=A[1],B=(0,u.useState)(""),z=(0,c.Z)(B,2),T=z[0],P=z[1],i=(0,u.useState)(!1),_=(0,c.Z)(i,2),q=_[0],L=_[1],ee=(0,u.useState)({}),W=(0,c.Z)(ee,2),x=W[0],ae=W[1],R=(0,v.YB)(),te=function(){var m=(0,$.Z)(N().mark(function f(d,h){var g;return N().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(!!o&&!!(o!=null&&o.keystore))){r.next=17;break}return L(!0),r.prev=2,r.next=5,(0,ce.w5)(x==null?void 0:x.lpId,T,o==null?void 0:o.keystore,d,h);case 5:if(g=r.sent,L(!1),!(d&&h)){r.next=9;break}return r.abrupt("return",g);case 9:y(),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(2),oe.default.error(r.t0);case 15:r.next=18;break;case 17:de.default.error({key:"accessDenied",message:R.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return r.stop()}},f,null,[[2,12]])}));return function(d,h){return m.apply(this,arguments)}}(),Y=function(){var m=(0,$.Z)(N().mark(function f(d,h){var g,p;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!!o&&!!(o!=null&&o.keystore))){t.next=21;break}return L(!0),t.prev=2,t.next=5,(0,Se.G)(x==null?void 0:x.lpId);case 5:return g=t.sent,t.next=8,(0,ce.HF)(x==null?void 0:x.lpId,g[3],g[2],T,o==null?void 0:o.keystore,d,h);case 8:if(p=t.sent,L(!1),!(d&&h)){t.next=12;break}return t.abrupt("return",p);case 12:y(),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),oe.default.error(t.t0),L(!1);case 19:t.next=22;break;case 21:de.default.error({key:"accessDenied",message:R.formatMessage({id:"error.accessDenied"}),duration:null});case 22:case"end":return t.stop()}},f,null,[[2,15]])}));return function(d,h){return m.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:n().rowsContainer,style:{maxHeight:j?"100vh":0},children:[(0,e.jsx)(Ee.Z,{}),(0,e.jsx)("div",{className:n().rowsContentContainer,children:(0,e.jsx)("div",{className:n().nftList,children:I.map(function(m){return(0,e.jsxs)("div",{className:n().nftItem,children:[(0,e.jsxs)("div",{className:n().nftInfo,children:[(0,e.jsxs)("div",{className:n().nftItemBlock,children:[(0,e.jsx)("div",{className:n().title,children:R.formatMessage({id:"stake.lpTokenList.lpTokenId",defaultMessage:"LP Token Id"})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsxs)(De.Z,{children:[(0,e.jsx)(Oe.Z,{})," ",m==null?void 0:m.lpId]})})]}),(0,e.jsxs)("div",{className:n().nftItemBlock,children:[(0,e.jsx)("div",{className:n().title,children:"Liquidity"}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)(V.Z,{value:m==null?void 0:m.amount})})]})]}),(0,e.jsx)("div",{className:n().nftButtons,children:(0,e.jsx)(w.Z,{danger:!0,size:"middle",shape:"round",type:"primary",className:n().stakeButton,loading:q,onClick:function(){U(!0),ae(m)},children:"Unstake"})})]})})})})]}),(0,e.jsx)(ue.Z,{visable:J,setVisable:F,passphrase:T,setPassphrase:P,func:te}),(0,e.jsx)(ue.Z,{visable:K,setVisable:U,passphrase:T,setPassphrase:P,func:Y})]})},Fe=He,Ue=a(96534),ze="/images/logo-round-core.svg",We=function(Z){var j,I=Z.logo,s=Z.lp,S=(0,v.tT)("apiWs"),y=(0,v.tT)("stake"),H=y.getTokenList,o=(0,v.tT)("currentUser"),b=o.wallet,G=(0,u.useState)(!1),J=(0,c.Z)(G,2),F=J[0],Q=J[1],A=(0,u.useState)(!1),K=(0,c.Z)(A,2),U=K[0],B=K[1],z=(0,u.useState)(""),T=(0,c.Z)(z,2),P=T[0],i=T[1],_=(0,u.useState)(!1),q=(0,c.Z)(_,2),L=q[0],ee=q[1],W=(0,u.useState)(!1),x=(0,c.Z)(W,2),ae=x[0],R=x[1],te=(0,v.YB)();(0,u.useEffect)(function(){s&&S&&(0,$.Z)(N().mark(function f(){var d,h,g;return N().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,S==null?void 0:S.query.swap.metadata(s.id);case 2:d=r.sent,d!=null&&d.isEmpty||(h=d==null?void 0:d.toHuman(),g=h.enableStaking,R(g));case 4:case"end":return r.stop()}},f)}))()},[s,S]);var Y=BigInt(0);s==null||s.nfts.forEach(function(f){Y=Y+(0,Ue.XE)(f.amount)});var m=function(){var f=(0,$.Z)(N().mark(function d(h,g){var p;return N().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!!b&&!!(b!=null&&b.keystore))){t.next=17;break}return B(!0),t.prev=2,t.next=5,(0,ce.w5)(s.id,P,b==null?void 0:b.keystore,h,g);case 5:if(p=t.sent,B(!1),!(h&&g)){t.next=9;break}return t.abrupt("return",p);case 9:H(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),oe.default.error(t.t0);case 15:t.next=18;break;case 17:de.default.error({key:"accessDenied",message:te.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return t.stop()}},d,null,[[2,12]])}));return function(h,g){return f.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:n().stakeItem,children:(0,e.jsxs)(Pe.Z,{className:ge().card,bodyStyle:{padding:15,width:"100%"},children:[(0,e.jsxs)("div",{className:n().stakeMain,children:[(0,e.jsxs)("div",{className:n().stakeInfo,children:[(0,e.jsxs)("div",{className:n().tokenPair,children:[(0,e.jsxs)("div",{className:n().tokenIcons,children:[(0,e.jsx)(X.Z,{src:ze,preview:!1,className:n().icon}),(0,e.jsx)(X.Z,{src:I||"/images/default-avatar.svg",preview:!1,className:n().icon})]}),(0,e.jsx)("div",{className:n().tokenNameAndRate,children:(0,e.jsxs)("div",{className:n().tokenName,children:["AD3-",s==null?void 0:s.symbol]})})]}),(0,e.jsxs)("div",{className:n().tokenLiquidity,children:[(0,e.jsxs)("div",{className:n().title,children:["Total Liquidity(",s==null?void 0:s.symbol,")"]}),(0,e.jsxs)("div",{className:n().value,children:[(0,e.jsx)(V.Z,{value:Y.toString()}),(0,e.jsx)(ye.Z,{placement:"bottom",title:"The liquidity value is an estimation that only calculates the liquidity lies in the reward range.",children:(0,e.jsx)(xe.Z,{className:n().tipButton})})]})]})]}),(0,e.jsxs)("div",{className:n().nftReward,children:[(0,e.jsxs)("div",{className:n().nftItemBlock,children:[(0,e.jsxs)("div",{className:n().title,children:["Reward(".concat((j=s==null?void 0:s.symbol)!==null&&j!==void 0?j:"AD3",") "),!ae&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ye.Z,{title:"Staking reward is not enabled for this token. You could still earn fees by providing liquidity.",children:(0,e.jsx)(xe.Z,{className:n().tipButton})})})]}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)(V.Z,{value:s==null?void 0:s.reward})})]}),(0,e.jsx)(w.Z,{size:"middle",shape:"round",type:"primary",disabled:!(s!=null&&s.reward),onClick:function(){B(!0),ee(!0)},loading:U,children:"Harvest"})]}),(0,e.jsx)("div",{className:n().expandButton,children:(0,e.jsx)(w.Z,{type:"link",icon:(0,e.jsx)(Re.Z,{rotate:F?-180:0,className:n().expandButtonIcon}),onClick:function(){Q(function(d){return!d})}})})]}),(0,e.jsx)(Fe,{rewardTokenSymbol:s==null?void 0:s.symbol,collapse:F,nfts:s.nfts})]})}),(0,e.jsx)(ue.Z,{visable:L,setVisable:ee,passphrase:P,setPassphrase:i,func:m})]})},Ye=We,Xe=function(){var Z=(0,v.tT)("stake"),j=Z.LPsArr;return(0,e.jsx)("div",{className:n().stakeListContainer,children:j.map(function(I){return(0,e.jsx)(Ye,{logo:I.icon,lp:I})})})},$e=Xe,Ve=a(69764),Ge=function(){var Z=(0,u.useState)(!1),j=(0,c.Z)(Z,2),I=j[0],s=j[1],S=(0,v.YB)(),y=re.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:ge().mainTopContainer,children:(0,e.jsxs)("div",{className:ge().pageContainer,children:[(0,e.jsxs)("div",{className:l().headerContainer,children:[(0,e.jsx)("div",{className:l().titleContainer,children:(0,e.jsxs)(y,{level:1,className:l().sectionTitle,children:[(0,e.jsx)(X.Z,{src:"/images/icon/stake.svg",className:l().sectionIcon,preview:!1}),S.formatMessage({id:"stake.title"})]})}),(0,e.jsx)("div",{className:l().subtitle,children:S.formatMessage({id:"stake.subtitle"})}),(0,e.jsx)("div",{className:l().addNewStake,children:(0,e.jsx)(w.Z,{block:!0,type:"primary",shape:"round",size:"large",className:l().stakeButton,onClick:function(){s(!0)},children:S.formatMessage({id:"stake.add"})})})]}),(0,e.jsx)($e,{})]})}),I&&(0,e.jsx)(Ve.Z,{visable:!0,title:S.formatMessage({id:"stake.add"}),content:(0,e.jsx)(Te,{setAddModal:s}),footer:!1,close:function(){s(!1)},bodyStyle:{padding:0}})]})},Je=Ge}}]);

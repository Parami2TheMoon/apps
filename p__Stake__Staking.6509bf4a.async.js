(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[1507],{2877:function(K,re,a){"use strict";a.d(re,{Z:function(){return v}});var he=a(28991),P=a(67294),je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},V=je,Se=a(27029),de=function(f,ge){return P.createElement(Se.Z,(0,he.Z)((0,he.Z)({},f),{},{ref:ge,icon:V}))};de.displayName="LinkOutlined";var v=P.forwardRef(de)},62659:function(K){K.exports={stakeListContainer:"stakeListContainer___2nJNp",stakeItem:"stakeItem___k4Dsl",stakeMain:"stakeMain___XUBiL",stakeInfo:"stakeInfo___Opkn5",tokenPair:"tokenPair___1_eah",tokenIcons:"tokenIcons___Pz_K7",icon:"icon___mxSgm",tokenNameAndRate:"tokenNameAndRate___3VWq1",tokenName:"tokenName___29BLA",tokenRate:"tokenRate___1HuJk",expandButton:"expandButton___FD_Uh",expandButtonIcon:"expandButtonIcon___2q-aY",rowsContainer:"rowsContainer___2TYwT",rowsContentContainer:"rowsContentContainer___xky1n",actionButtons:"actionButtons___12ETf",actionButton:"actionButton___3cXmR",actionButtonDesc:"actionButtonDesc___30Rx4",nftList:"nftList___16_5m",nftItem:"nftItem___1OAMr",nftInfo:"nftInfo___3fslf",nftButtons:"nftButtons___XTNhk",nftReward:"nftReward___3zlGQ",tokenLiquidity:"tokenLiquidity___11dHg",nftItemBlock:"nftItemBlock___2Ne5X",title:"title___U_Qsg",value:"value___1grF7",tipButton:"tipButton___2ij9U"}},50144:function(K){K.exports={mining:"mining___1Q3qy",header:"header___1u_hH",title:"title___1Ed70",buttons:"buttons___3w0xM",field:"field___uauxg",label:"label___3ePho",input:"input___7H_re",inputAndButton:"inputAndButton___dypJX",select:"select___2e9F-",selectAssets:"selectAssets___3W1Su",icon:"icon___oiPcq",name:"name___1WiSJ",token:"token___3oeE2",listBtn:"listBtn___2cvjL",value:"value___3nXj9",noAssets:"noAssets___3b1xa",topImage:"topImage___vb76T",assetsList:"assetsList___isks8",icons:"icons___3oMIY",leftIcon:"leftIcon___1jiK-",rightIcon:"rightIcon___3uf6w",actionButtons:"actionButtons___1OWli",button:"button___3IU_Z",searchBar:"searchBar___2kOFb",searchInput:"searchInput___1aWdj",inputModal:"inputModal____BknG",headerContainer:"headerContainer___2ouXP",titleContainer:"titleContainer___1Ljj7",sectionTitle:"sectionTitle___1wmM8",sectionIcon:"sectionIcon___U6h6k",subtitle:"subtitle___1a5uM",addNewStake:"addNewStake___1e9CP",stakeButton:"stakeButton___22L_l"}},16380:function(K,re,a){"use strict";a.r(re),a.d(re,{default:function(){return Je}});var he=a(57663),P=a(71577),je=a(12968),V=a(62462),Se=a(402),de=a(3887),v=a(2824),r=a(67294),f=a(43581),ge=a(55909),ke=a.n(ge),be=a(50144),n=a.n(be),qe=a(47673),Me=a(32787),ea=a(74379),oe=a(38648),aa=a(34792),ue=a(48086),G=a(3182),Ie=a(94043),Z=a.n(Ie),Be=a(8812),ce=a(46656),ve=a(1615),Le=a(3548),J=a(57651),me=a(59749),ye=a(33044),Ce=a(86326),e=a(85893),Te=function(x){var y,M=x.setAddModal,S=(0,f.tT)("apiWs"),s=(0,f.tT)("currentUser"),d=s.wallet,L=(0,f.tT)("balance"),o=L.balance,_=(0,f.tT)("stake"),b=_.getTokenList,q=(0,r.useState)(!1),Y=(0,v.Z)(q,2),$=Y[0],A=Y[1],ee=(0,r.useState)("0"),R=(0,v.Z)(ee,2),D=R[0],w=R[1],E=(0,r.useState)({}),O=(0,v.Z)(E,2),l=O[0],Q=O[1],ae=(0,r.useState)(!1),I=(0,v.Z)(ae,2),se=I[0],H=I[1],N=(0,r.useState)(""),X=(0,v.Z)(N,2),F=X[0],te=X[1],ne=(0,r.useState)(!1),h=(0,v.Z)(ne,2),C=h[0],m=h[1],c=(0,r.useState)([]),p=(0,v.Z)(c,2),g=p[0],u=p[1],i=(0,r.useState)(!1),k=(0,v.Z)(i,2),Ze=k[0],Qe=k[1],U=(0,f.YB)(),Ke=function(){var z=(0,G.Z)(Z().mark(function T(W){var B,le,pe;return Z().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,S==null?void 0:S.query.swap.metadata(W);case 2:B=ie.sent,B!=null&&B.isEmpty||(le=B==null?void 0:B.toHuman(),pe=le.enableStaking,Qe(pe));case 4:case"end":return ie.stop()}},T)}));return function(W){return z.apply(this,arguments)}}();(0,r.useEffect)(function(){l.id&&S&&Ke(l.id)},[l,S]);var _e=function(){var z=(0,G.Z)(Z().mark(function T(W,B){var le;return Z().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(!!d&&!!(d!=null&&d.keystore))){j.next=19;break}return A(!0),j.prev=2,j.next=5,(0,ve.rL)(l==null?void 0:l.id,(0,me.HM)(D,18).toString(),g[1],g[0],F,d==null?void 0:d.keystore,W,B);case 5:if(le=j.sent,A(!1),!(W&&B)){j.next=9;break}return j.abrupt("return",le);case 9:b(),j.next=15;break;case 12:j.prev=12,j.t0=j.catch(2),ue.default.error(j.t0);case 15:A(!1),M(!1),j.next=20;break;case 19:oe.default.error({key:"accessDenied",message:U.formatMessage({id:"error.accessDenied"}),duration:null});case 20:case"end":return j.stop()}},T,null,[[2,12]])}));return function(W,B){return z.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:n().mining,children:[(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().label,children:U.formatMessage({id:"stake.add.selectAssets"})}),(0,e.jsxs)("div",{className:n().selectAssets,onClick:function(){w("0"),u([]),m(!0)},children:[(0,e.jsxs)("div",{className:n().title,children:[l.symbol&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(V.Z,{className:n().icon,src:(l==null?void 0:l.icon)||"/images/logo-round-core.svg",fallback:"/images/logo-round-core.svg",preview:!1}),(0,e.jsx)("span",{className:n().name,children:l.symbol})]}),!l.symbol&&(0,e.jsx)("span",{className:n().name,children:U.formatMessage({id:"stake.add.pleaseSelect"})})]}),(0,e.jsxs)("div",{className:n().token,children:[(0,e.jsx)(J.Z,{value:l==null?void 0:l.balance,symbol:l==null?void 0:l.symbol}),(0,e.jsx)(Be.Z,{style:{color:"#ff5b00",marginLeft:10}})]})]}),l.id&&!Ze&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:n().stakingInfo,children:"Staking is not enabled for this token. You could still add liquidity and start earning fees."})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsxs)("div",{className:n().label,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,e.jsx)("span",{children:U.formatMessage({id:"stake.add.number.label"})}),(0,e.jsxs)("span",{children:[U.formatMessage({id:"stake.add.number.available"}),":",(0,e.jsx)(Le.Z,{value:o==null?void 0:o.free})]})]}),(0,e.jsx)("div",{className:n().inputAndButton,children:(0,e.jsx)(Me.Z,{autoFocus:!0,size:"large",className:n().input,placeholder:"0",value:D,onChange:function(T){w(T.target.value),(0,ye.zt)(l.id,(0,me.HM)(T.target.value,18).toString()).then(function(W){u(W)})},disabled:$||!Object.keys(l).length,type:"number"})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().label,children:U.formatMessage({id:"stake.add.overview"})}),(0,e.jsxs)("div",{className:n().listBtn,children:[(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("span",{className:n().title,children:U.formatMessage({id:"stake.add.tokenAmount"})}),(0,e.jsx)("span",{className:n().value,style:{color:"green"},children:(0,e.jsx)(J.Z,{value:g[0],symbol:l.symbol})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("span",{className:n().title,children:U.formatMessage({id:"stake.add.lptokenAmount"})}),(0,e.jsx)("span",{className:n().value,style:{color:"green"},children:(0,e.jsx)(J.Z,{value:g[1]})})]})]})]}),(0,e.jsx)("div",{className:n().actionButtons,children:(0,e.jsx)(P.Z,{type:"primary",shape:"round",size:"large",className:n().button,loading:$,disabled:(0,me.HM)(D,18)<=BigInt(0)||(0,me.HM)(D,18)>BigInt(o==null?void 0:o.free)||g.length===0||g.length>0&&BigInt(g[0])>BigInt((y=l==null?void 0:l.balance)!==null&&y!==void 0?y:"0"),onClick:function(){A(!0),H(!0)},children:Ze?"Add Liquidity and Stake":"Add Liquidity"})})]}),C&&(0,e.jsx)(Ce.Z,{onClose:function(){return m(!1)},onSelectAsset:function(T){Q(T),m(!1)}}),(0,e.jsx)(ce.Z,{visable:se,setVisable:H,passphrase:F,setPassphrase:te,func:_e})]})},Ae=Te,we=a(62659),t=a.n(we),sa=a(58024),Pe=a(39144),ta=a(22385),xe=a(31097),Ne=a(68628),Re=a(57254),na=a(49111),De=a(19650),la=a(48736),Ee=a(27049),Oe=a(2877),He=function(x){var y=x.collapse,M=x.nfts,S=x.rewardTokenSymbol,s=(0,f.tT)("stake"),d=s.getTokenList,L=(0,f.tT)("currentUser"),o=L.wallet,_=(0,r.useState)(!1),b=(0,v.Z)(_,2),q=b[0],Y=b[1],$=(0,r.useState)(!1),A=(0,v.Z)($,2),ee=A[0],R=A[1],D=(0,r.useState)(""),w=(0,v.Z)(D,2),E=w[0],O=w[1],l=(0,r.useState)(!1),Q=(0,v.Z)(l,2),ae=Q[0],I=Q[1],se=(0,r.useState)({}),H=(0,v.Z)(se,2),N=H[0],X=H[1],F=(0,f.YB)(),te=function(){var h=(0,G.Z)(Z().mark(function C(m,c){var p;return Z().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(!!o&&!!(o!=null&&o.keystore))){u.next=17;break}return I(!0),u.prev=2,u.next=5,(0,ve.w5)(N==null?void 0:N.lpId,E,o==null?void 0:o.keystore,m,c);case 5:if(p=u.sent,I(!1),!(m&&c)){u.next=9;break}return u.abrupt("return",p);case 9:d(),u.next=15;break;case 12:u.prev=12,u.t0=u.catch(2),ue.default.error(u.t0);case 15:u.next=18;break;case 17:oe.default.error({key:"accessDenied",message:F.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return u.stop()}},C,null,[[2,12]])}));return function(m,c){return h.apply(this,arguments)}}(),ne=function(){var h=(0,G.Z)(Z().mark(function C(m,c){var p,g;return Z().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(!!o&&!!(o!=null&&o.keystore))){i.next=21;break}return I(!0),i.prev=2,i.next=5,(0,ye.G)(N==null?void 0:N.lpId);case 5:return p=i.sent,i.next=8,(0,ve.HF)(N==null?void 0:N.lpId,p[3],p[2],E,o==null?void 0:o.keystore,m,c);case 8:if(g=i.sent,I(!1),!(m&&c)){i.next=12;break}return i.abrupt("return",g);case 12:d(),i.next=19;break;case 15:i.prev=15,i.t0=i.catch(2),ue.default.error(i.t0),I(!1);case 19:i.next=22;break;case 21:oe.default.error({key:"accessDenied",message:F.formatMessage({id:"error.accessDenied"}),duration:null});case 22:case"end":return i.stop()}},C,null,[[2,15]])}));return function(m,c){return h.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:t().rowsContainer,style:{maxHeight:y?"100vh":0},children:[(0,e.jsx)(Ee.Z,{}),(0,e.jsx)("div",{className:t().rowsContentContainer,children:(0,e.jsx)("div",{className:t().nftList,children:M.map(function(h){return(0,e.jsxs)("div",{className:t().nftItem,children:[(0,e.jsxs)("div",{className:t().nftInfo,children:[(0,e.jsxs)("div",{className:t().nftItemBlock,children:[(0,e.jsx)("div",{className:t().title,children:F.formatMessage({id:"stake.lpTokenList.lpTokenId",defaultMessage:"LP Token Id"})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsxs)(De.Z,{children:[(0,e.jsx)(Oe.Z,{})," ",h==null?void 0:h.lpId]})})]}),(0,e.jsxs)("div",{className:t().nftItemBlock,children:[(0,e.jsx)("div",{className:t().title,children:"Liquidity"}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(J.Z,{value:h==null?void 0:h.amount})})]})]}),(0,e.jsx)("div",{className:t().nftButtons,children:(0,e.jsx)(P.Z,{danger:!0,size:"middle",shape:"round",type:"primary",className:t().stakeButton,loading:ae,onClick:function(){R(!0),X(h)},children:"Unstake"})})]})})})})]}),(0,e.jsx)(ce.Z,{visable:q,setVisable:Y,passphrase:E,setPassphrase:O,func:te}),(0,e.jsx)(ce.Z,{visable:ee,setVisable:R,passphrase:E,setPassphrase:O,func:ne})]})},Fe=He,Ue=a(96534),ze="/images/logo-round-core.svg",We=function(x){var y,M,S=x.logo,s=x.lp,d=(0,f.tT)("apiWs"),L=(0,f.tT)("stake"),o=L.getTokenList,_=(0,f.tT)("currentUser"),b=_.wallet,q=(0,r.useState)(!1),Y=(0,v.Z)(q,2),$=Y[0],A=Y[1],ee=(0,r.useState)(!1),R=(0,v.Z)(ee,2),D=R[0],w=R[1],E=(0,r.useState)(""),O=(0,v.Z)(E,2),l=O[0],Q=O[1],ae=(0,r.useState)(!1),I=(0,v.Z)(ae,2),se=I[0],H=I[1],N=(0,r.useState)(!1),X=(0,v.Z)(N,2),F=X[0],te=X[1],ne=(0,f.YB)();(0,r.useEffect)(function(){s&&d&&(console.log(s),(0,G.Z)(Z().mark(function m(){var c,p,g;return Z().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,d==null?void 0:d.query.swap.metadata(s.id);case 2:c=i.sent,c!=null&&c.isEmpty||(p=c==null?void 0:c.toHuman(),g=p.enableStaking,te(g));case 4:case"end":return i.stop()}},m)}))())},[s,d]);var h=BigInt(0);s==null||s.nfts.forEach(function(m){h=h+(0,Ue.XE)(m.amount)});var C=function(){var m=(0,G.Z)(Z().mark(function c(p,g){var u;return Z().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(!(!!b&&!!(b!=null&&b.keystore))){k.next=17;break}return w(!0),k.prev=2,k.next=5,(0,ve.w5)(s.nfts[0].lpId,l,b==null?void 0:b.keystore,p,g);case 5:if(u=k.sent,w(!1),!(p&&g)){k.next=9;break}return k.abrupt("return",u);case 9:o(),k.next=15;break;case 12:k.prev=12,k.t0=k.catch(2),ue.default.error(k.t0);case 15:k.next=18;break;case 17:oe.default.error({key:"accessDenied",message:ne.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return k.stop()}},c,null,[[2,12]])}));return function(p,g){return m.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:t().stakeItem,children:(0,e.jsxs)(Pe.Z,{className:ke().card,bodyStyle:{padding:15,width:"100%"},children:[(0,e.jsxs)("div",{className:t().stakeMain,children:[(0,e.jsxs)("div",{className:t().stakeInfo,children:[(0,e.jsxs)("div",{className:t().tokenPair,children:[(0,e.jsxs)("div",{className:t().tokenIcons,children:[(0,e.jsx)(V.Z,{src:ze,preview:!1,className:t().icon}),(0,e.jsx)(V.Z,{src:S||"/images/default-avatar.svg",preview:!1,className:t().icon})]}),(0,e.jsx)("div",{className:t().tokenNameAndRate,children:(0,e.jsxs)("div",{className:t().tokenName,children:["AD3-",s==null?void 0:s.symbol]})})]}),(0,e.jsxs)("div",{className:t().tokenLiquidity,children:[(0,e.jsxs)("div",{className:t().title,children:["Total Liquidity(",s==null?void 0:s.symbol,")"]}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(J.Z,{value:h.toString()}),(0,e.jsx)(xe.Z,{placement:"bottom",title:"The liquidity value is an estimation that only calculates the liquidity lies in the reward range.",children:(0,e.jsx)(Ne.Z,{className:t().tipButton})})]})]})]}),(0,e.jsxs)("div",{className:t().nftReward,children:[(0,e.jsxs)("div",{className:t().nftItemBlock,children:[(0,e.jsxs)("div",{className:t().title,children:["Reward(".concat((y=s==null?void 0:s.symbol)!==null&&y!==void 0?y:"AD3",") "),!F&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(xe.Z,{title:"Staking reward is not enabled for this token. You could still earn fees by providing liquidity.",children:(0,e.jsx)(Ne.Z,{className:t().tipButton})})})]}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(J.Z,{value:s==null?void 0:s.reward})})]}),(0,e.jsx)(P.Z,{size:"middle",shape:"round",type:"primary",disabled:!(s!=null&&s.reward)||!(s!=null&&(M=s.nfts)!==null&&M!==void 0&&M.length),onClick:function(){w(!0),H(!0)},loading:D,children:"Harvest"})]}),(0,e.jsx)("div",{className:t().expandButton,children:(0,e.jsx)(P.Z,{type:"link",icon:(0,e.jsx)(Re.Z,{rotate:$?-180:0,className:t().expandButtonIcon}),onClick:function(){A(function(c){return!c})}})})]}),(0,e.jsx)(Fe,{rewardTokenSymbol:s==null?void 0:s.symbol,collapse:$,nfts:s.nfts})]})}),(0,e.jsx)(ce.Z,{visable:se,setVisable:H,passphrase:l,setPassphrase:Q,func:C})]})},Ye=We,$e=function(){var x=(0,f.tT)("stake"),y=x.LPsArr,M=x.getTokenList,S=(0,f.tT)("apiWs"),s=(0,f.tT)("currentUser"),d=s.wallet;return(0,r.useEffect)(function(){S&&d!==null&&d!==void 0&&d.account&&M()},[S,d]),(0,e.jsx)("div",{className:t().stakeListContainer,children:y.map(function(L){return(0,e.jsx)(Ye,{logo:L.icon,lp:L})})})},Xe=$e,Ve=a(69764),Ge=function(){var x=(0,r.useState)(!1),y=(0,v.Z)(x,2),M=y[0],S=y[1],s=(0,f.YB)(),d=de.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:ke().mainTopContainer,children:(0,e.jsxs)("div",{className:ke().pageContainer,children:[(0,e.jsxs)("div",{className:n().headerContainer,children:[(0,e.jsx)("div",{className:n().titleContainer,children:(0,e.jsxs)(d,{level:1,className:n().sectionTitle,children:[(0,e.jsx)(V.Z,{src:"/images/icon/stake.svg",className:n().sectionIcon,preview:!1}),s.formatMessage({id:"stake.title"})]})}),(0,e.jsx)("div",{className:n().subtitle,children:s.formatMessage({id:"stake.subtitle"})}),(0,e.jsx)("div",{className:n().addNewStake,children:(0,e.jsx)(P.Z,{block:!0,type:"primary",shape:"round",size:"large",className:n().stakeButton,onClick:function(){S(!0)},children:s.formatMessage({id:"stake.add"})})})]}),(0,e.jsx)(Xe,{})]})}),M&&(0,e.jsx)(Ve.Z,{visable:!0,title:s.formatMessage({id:"stake.add"}),content:(0,e.jsx)(Ae,{setAddModal:S}),footer:!1,close:function(){S(!1)},bodyStyle:{padding:0}})]})},Je=Ge}}]);

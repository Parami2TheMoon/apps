(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[1839],{55133:function(M){M.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},78849:function(M){M.exports={assetsContainer:"assetsContainer___Z5bUh",searchInput:"searchInput___1JXe0",noAssets:"noAssets___C74Sw",title:"title___3wIRn",field:"field___3uBaJ",icon:"icon___33dPd",name:"name___2mo8c",value:"value___1kvlK"}},31639:function(M){M.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},69764:function(M,P,s){"use strict";var V=s(71194),O=s(50146),A=s(57663),h=s(71577),T=s(402),f=s(3887),S=s(67294),c=s(55133),m=s.n(c),E=s(54549),i=s(85893),B=f.Z.Title,K=function(t){var N=t.visable,j=t.title,p=t.content,y=t.footer,g=t.close,l=t.bodyStyle,_=t.width;return(0,i.jsx)(O.Z,{title:j?(0,i.jsx)(B,{level:5,className:m().title,children:j}):null,closable:!!g,closeIcon:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,i.jsx)(E.Z,{onClick:g})})}),className:m().modal,centered:!0,visible:N,width:_!=null?_:650,footer:y,bodyStyle:l,children:p})};P.Z=K},46656:function(M,P,s){"use strict";var V=s(71194),O=s(50146),A=s(47673),h=s(32787),T=s(22385),f=s(31097),S=s(17462),c=s(76772),m=s(57663),E=s(71577),i=s(74379),B=s(38648),K=s(3182),Z=s(2824),t=s(402),N=s(3887),j=s(94043),p=s.n(j),y=s(67294),g=s(43581),l=s(55133),_=s.n(l),ns=s(3548),F=s(68855),w=s(47832),q=s(55347),Y=s(51625),n=s(85893),k=N.Z.Title,ss=function(o){var D=o.visable,H=o.setVisable,e=o.passphrase,d=o.setPassphrase,$=o.func,W=o.changePassphrase,G=o.directSubmit,u=G===void 0?!1:G,C=(0,g.tT)("apiWs"),as=(0,g.tT)("currentUser"),a=as.wallet,J=(0,g.tT)("balance"),z=J.balance,ts=(0,y.useState)(!1),I=(0,Z.Z)(ts,2),ls=I[0],X=I[1],ds=(0,y.useState)(),is=(0,Z.Z)(ds,2),x=is[0],us=is[1],U=(0,g.YB)(),cs=function(L){d(L?L.target.value:"")},_s=function(){var b=(0,K.Z)(p().mark(function L(){var R,Q,v,os,rs;return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(X(!0),a!=null&&a.passphrase&&d(a==null?void 0:a.passphrase),!((!e||e.length<6)&&!(a!=null&&a.passphrase))){r.next=5;break}return X(!1),r.abrupt("return");case 5:if(R=(a==null?void 0:a.passphrase)||e,!(R&&a!==null&&a!==void 0&&a.keystore)){r.next=16;break}if(Q=(0,w.Gh)(R,a.keystore),Q){r.next=13;break}return B.default.error({key:"passphraseError",message:U.formatMessage({id:"error.passphrase.error"}),duration:null}),d(""),X(!1),r.abrupt("return");case 13:v=new q.ZP({type:"sr25519"}),os=v.addFromUri(Q),rs=os.address,a!=null&&a.account&&a.account!==rs&&(localStorage.clear(),sessionStorage.clear(),window.location.href=Y.Z.page.homePage);case 16:if(!$){r.next=25;break}return r.prev=17,r.next=20,$();case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(17),console.log("security modal submit func error fallback",r.t0);case 25:H(!1),X(!1);case 27:case"end":return r.stop()}},L,null,[[17,22]])}));return function(){return b.apply(this,arguments)}}(),vs=function(){var b=(0,K.Z)(p().mark(function L(){var R;return p().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(!!C&&!!a.account)){v.next=11;break}return v.next=3,$(!0,a.account);case 3:if(R=v.sent,!R){v.next=8;break}us(R.partialFee),v.next=11;break;case 8:if(W){v.next=11;break}return v.next=11,_s();case 11:case"end":return v.stop()}},L)}));return function(){return b.apply(this,arguments)}}();return(0,y.useEffect)(function(){!!C&&!!(a!=null&&a.account)&&D&&!u&&vs()},[C,a==null?void 0:a.account,D,u]),(0,y.useEffect)(function(){!!(a!=null&&a.passphrase)&&D&&!W&&d(a==null?void 0:a.passphrase)},[a==null?void 0:a.passphrase,e,D,W]),(0,y.useEffect)(function(){e&&D&&u&&_s()},[e,D,u]),(0,n.jsxs)(O.Z,{title:(0,n.jsx)(k,{level:3,children:U.formatMessage({id:"modal.security.title"})}),closable:!1,className:_().modal,centered:!0,visible:D,width:400,footer:(0,n.jsxs)("div",{className:_().buttons,children:[(0,n.jsx)(E.Z,{type:"text",shape:"round",size:"large",className:_().button,onClick:function(){H(!1),window.location.reload()},loading:ls,children:U.formatMessage({id:"common.decline"})}),(0,n.jsx)(E.Z,{type:"primary",shape:"round",size:"large",className:_().button,onClick:function(){_s()},disabled:!e||e.length<6,loading:ls,children:U.formatMessage({id:"common.confirm"})})]}),children:[(0,n.jsxs)("div",{className:_().confirmContainer,children:[!!x&&!!(x!=null&&x.toString())>z.free&&(0,n.jsx)(c.Z,{description:U.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:_().alertContainer}),!!x&&(0,n.jsxs)("div",{className:_().field,children:[(0,n.jsxs)("div",{className:_().labal,children:[U.formatMessage({id:"modal.security.gas"}),(0,n.jsxs)("span",{className:_().small,children:["(",U.formatMessage({id:"modal.security.estimated"}),")"]}),(0,n.jsx)(f.Z,{placement:"bottom",title:U.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,n.jsx)(F.Z,{className:_().labalIcon})})]}),(0,n.jsx)("div",{className:_().value,children:(0,n.jsx)(ns.Z,{value:x,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(a!=null&&a.passphrase)||W)&&(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,n.jsxs)("div",{className:_().codeInput,children:[(0,n.jsxs)("div",{className:_().verifyForm,children:[(0,n.jsx)("span",{className:(e==null?void 0:e.slice(0))&&!(e!=null&&e.slice(1,5))&&_().highLight,children:e==null?void 0:e.slice(0,1).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{className:(e==null?void 0:e.slice(1))&&!(e!=null&&e.slice(2,5))&&_().highLight,children:e==null?void 0:e.slice(1,2).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{className:(e==null?void 0:e.slice(2,3))&&!(e!=null&&e.slice(3,5))&&_().highLight,children:e==null?void 0:e.slice(2,3).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{className:(e==null?void 0:e.slice(3,4))&&!(e!=null&&e.slice(4,5))&&_().highLight,children:e==null?void 0:e.slice(3,4).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{className:(e==null?void 0:e.slice(4,5))&&!(e!=null&&e.slice(5))&&_().highLight,children:e==null?void 0:e.slice(4,5).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{className:(e==null?void 0:e.slice(5))&&_().highLight,children:e==null?void 0:e.slice(5).replace(/[^]/,"\u2731")})]}),(0,n.jsx)(h.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:_().verifyInput,onChange:cs,value:e,disabled:ls,maxLength:6,visibilityToggle:!1})]})})]})};P.Z=ss},86326:function(M,P,s){"use strict";var V=s(12968),O=s(62462),A=s(20228),h=s(11382),T=s(47673),f=s(32787),S=s(3182),c=s(2824),m=s(94043),E=s.n(m),i=s(67294),B=s(69764),K=s(43581),Z=s(78849),t=s.n(Z),N=s(57651),j=s(32689),p=s(96486),y=s.n(p),g=s(76570),l=s(85893),_=function(F){var w=F.onClose,q=F.onSelectAsset,Y=F.assetFilter,n=(0,K.tT)("currentUser"),k=n.wallet,ss=(0,i.useState)(),es=(0,c.Z)(ss,2),o=es[0],D=es[1],H=(0,i.useState)(),e=(0,c.Z)(H,2),d=e[0],$=e[1],W=(0,i.useRef)(),G=(0,i.useCallback)((0,p.debounce)(function(){var u=(0,S.Z)(E().mark(function C(as){var a,J,z;return E().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,j.nk)(k.account,as);case 2:J=I.sent,z=(a=J.data.tokens)!==null&&a!==void 0?a:[],D(Y?z.filter(Y):z);case 5:case"end":return I.stop()}},C)}));return function(C){return u.apply(this,arguments)}}(),200),[k]);return(0,i.useEffect)(function(){D(void 0),G(d!=null?d:"")},[d,G]),(0,i.useEffect)(function(){W.current.focus({cursor:"start"})},[]),(0,l.jsx)(B.Z,{visable:!0,title:"Select Asset",content:(0,l.jsxs)("div",{className:t().assetsContainer,children:[(0,l.jsx)("div",{className:t().searchInput,children:(0,l.jsx)(f.Z,{value:d,onChange:function(C){return $(C.target.value)},ref:W,placeholder:"Search name or symbol",prefix:(0,l.jsx)(g.Z,{})})}),d&&d.length>0&&!o&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(h.Z,{tip:"Loading Assets"})}),d&&d.length>0&&o&&o.length===0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:t().noAssets,children:"Could not find any assets."})}),o&&o.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:t().title,children:[(0,l.jsx)("span",{children:"Token"}),(0,l.jsx)("span",{children:"Available Balance"})]}),o==null?void 0:o.map(function(u){return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:t().field,onClick:function(){return q(u)},children:[(0,l.jsxs)("span",{className:t().title,children:[(0,l.jsx)(O.Z,{className:t().icon,src:u.icon||"/images/logo-round-core.svg",fallback:"/images/logo-round-core.svg",preview:!1}),(0,l.jsx)("span",{className:t().name,children:u.symbol})]}),(0,l.jsx)("span",{className:t().value,children:(0,l.jsx)(N.Z,{value:u.balance,symbol:u.symbol})})]},u.id)})})]})]}),close:w,footer:null})};P.Z=_},3548:function(M,P,s){"use strict";var V=s(67294),O=s(31639),A=s.n(O),h=s(96534),T=s(85893),f=function(c){var m=c.value,E=c.style;return(0,T.jsxs)("div",{className:A().ad3,style:E,children:[m?(0,h.MP)(m):"--",(0,T.jsx)("span",{className:A().unit,children:"\xA0$AD3"})]})};P.Z=f},57651:function(M,P,s){"use strict";var V=s(67294),O=s(31639),A=s.n(O),h=s(96534),T=s(85893),f=function(c){var m=c.value,E=c.symbol,i=c.decimals,B=i===void 0?18:i;return(0,T.jsxs)("div",{className:A().ad3,children:[m?(0,h.MP)(m.replaceAll(",",""),B):"--",E&&(0,T.jsxs)("span",{className:A().unit,children:["\xA0$",E]})]})};P.Z=f}}]);

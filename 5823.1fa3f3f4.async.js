(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[5823],{8556:function(P){P.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(P){P.exports={tag:"tag___sah2p"}},29303:function(P,E,t){"use strict";var v=t(85893),_=function(l){var s=l.msg;return(0,v.jsx)("span",{style:{color:"#ff5b00"},children:s})};E.Z=_},59109:function(P,E,t){"use strict";var v=t(85893),_=function(l){var s=l.title,D=l.required;return(0,v.jsxs)(v.Fragment,{children:[!!D&&(0,v.jsx)("span",{style:{color:"#ff5b00",paddingRight:"0.2em"},children:"*"}),s||""]})};E.Z=_},55410:function(P,E,t){"use strict";t.d(E,{n:function(){return v}});var v;(function(_){_.ICON="icon",_.POSTER="poster"})(v||(v={}))},79762:function(P,E,t){"use strict";var v=t(67294),_=t(8556),p=t.n(_),l=t(85893);function s(D){var f=D.score;return(0,l.jsxs)("span",{className:p().scoreContainer,children:[f>=0&&(0,l.jsxs)("span",{className:p().positive,children:["+",f]}),f<0&&(0,l.jsxs)("span",{className:p().negative,children:["-",Math.abs(f)]})]})}E.Z=s},11561:function(P,E,t){"use strict";var v=t(67294),_=t(28531),p=t.n(_),l=t(85893);function s(D){var f=D.tag;return(0,l.jsx)("span",{className:p().tag,children:f})}E.Z=s},10378:function(P,E,t){"use strict";t.d(E,{Z:function(){return L}});var v=t(71194),_=t(50146),p=t(47673),l=t(32787),s=t(2824),D=t(43358),f=t(90927),T=t(59109),h=t(67294),I=t(24787),n=t.n(I),c=t(43581),d=t(22385),u=t(31097),g=t(12968),r=t(62462),m=t(68855),e=t(85893),o=f.Z.Option,O=f.Z.OptGroup,a;(function(i){i.TWEET="tweet",i.REPLY_TWEET="replay_tweet",i.RETWEET="retweet",i.LIKE_TWEET="like_tweet",i.FOLLOW_USER="follow_user"})(a||(a={}));var j="https://twitter.com/intent";function U(i){var z=i.onCreateTwitterIntent,Y=i.onCancel,V=(0,h.useState)(a.FOLLOW_USER),N=(0,s.Z)(V,2),C=N[0],J=N[1],X=(0,h.useState)(""),K=(0,s.Z)(X,2),k=K[0],Q=K[1],q=(0,h.useState)(""),F=(0,s.Z)(q,2),A=F[0],ee=F[1],te=(0,h.useState)(""),G=(0,s.Z)(te,2),W=G[0],H=G[1],re=(0,h.useState)(""),$=(0,s.Z)(re,2),R=$[0],b=$[1];return(0,h.useEffect)(function(){switch(b(""),C){case a.FOLLOW_USER:A&&b("".concat(j,"/follow?screen_name=").concat(A));break;case a.TWEET:k&&b("".concat(j,"/tweet?text=").concat(encodeURIComponent(k)));break;case a.LIKE_TWEET:W&&b("".concat(j,"/like?tweet_id=").concat(W));break;case a.REPLY_TWEET:W&&b("".concat(j,"/tweet?in_reply_to=").concat(W));break;case a.RETWEET:W&&b("".concat(j,"/retweet?tweet_id=").concat(W));break;default:console.log("unknown intent type",C)}},[C,k,A,W]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(_.Z,{visible:!0,title:"Twitter Intent",onOk:function(){z(R)},onCancel:Y,okButtonProps:{disabled:!R},children:[(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(T.Z,{title:"Twitter Intent Type",required:!0})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsxs)(f.Z,{defaultValue:a.FOLLOW_USER,style:{width:"100%"},onChange:function(S){return J(S)},children:[(0,e.jsxs)(O,{label:"Tweet",children:[(0,e.jsx)(o,{value:a.TWEET,children:"Tweet a Tweet"}),(0,e.jsx)(o,{value:a.REPLY_TWEET,children:"Reply to a Tweet"}),(0,e.jsx)(o,{value:a.RETWEET,children:"Retweet a Tweet"}),(0,e.jsx)(o,{value:a.LIKE_TWEET,children:"Like a Tweet"})]}),(0,e.jsx)(O,{label:"User",children:(0,e.jsx)(o,{value:a.FOLLOW_USER,children:"Follow a User"})})]})})]}),C===a.TWEET&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(T.Z,{title:"Tweet Text",required:!0})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)(l.Z,{size:"large",onChange:function(S){return Q(S.target.value)}})})]})}),C===a.FOLLOW_USER&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(T.Z,{title:"User name",required:!0})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)(l.Z,{size:"large",prefix:"@",onChange:function(S){return ee(S.target.value)}})})]})}),(C===a.LIKE_TWEET||C===a.REPLY_TWEET||C===a.RETWEET)&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(T.Z,{title:(0,e.jsxs)(e.Fragment,{children:["Tweet Id ",(0,e.jsx)(u.Z,{overlayInnerStyle:{width:"350px"},title:(0,e.jsxs)(e.Fragment,{children:["You can find the tweet id at the end of tweet url",(0,e.jsx)(r.Z,{src:"/images/tip/tweet_id_tip.png"})]}),children:(0,e.jsx)(m.Z,{className:n().labalIcon})})]}),required:!0})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)(l.Z,{size:"large",onChange:function(S){return H(S.target.value)}})})]})}),R&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(T.Z,{title:"Twitter Intent Url"})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)("a",{href:R,target:"_blank",children:R})})]})})]})})}var y=U,Z=f.Z.Option;function M(i){var z=i.onCreateInstruction,Y=i.onCancel,V=(0,h.useState)(),N=(0,s.Z)(V,2),C=N[0],J=N[1],X=(0,h.useState)(),K=(0,s.Z)(X,2),k=K[0],Q=K[1],q=(0,h.useState)(),F=(0,s.Z)(q,2),A=F[0],ee=F[1],te=(0,h.useState)(),G=(0,s.Z)(te,2),W=G[0],H=G[1],re=(0,h.useState)(!1),$=(0,s.Z)(re,2),R=$[0],b=$[1],B=(0,c.tT)("tagOptions"),S=B.tagOptions,ae=function(){C&&z({text:C,tag:k,score:A,link:W})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(_.Z,{visible:!0,title:"New Instruction",onOk:function(){return ae()},onCancel:Y,children:[(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(T.Z,{title:"Instruction Text",required:!0})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)(l.Z,{size:"large",onChange:function(w){return J(w.target.value)},placeholder:"Instruction Text"})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(T.Z,{title:"Tag"})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)(f.Z,{allowClear:!0,style:{width:"100%"},placeholder:"Please select",onChange:function(w){return Q(w)},children:S.map(function(x){return(0,e.jsx)(Z,{value:x.tag,children:x.tag},x.key)})})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(T.Z,{title:"score"})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)(l.Z,{size:"large",type:"number",step:1,max:5,min:-5,value:A,onChange:function(w){var ne=Math.min(5,Math.max(-5,parseInt(w.target.value,10)));ee(ne)},placeholder:"score"})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(T.Z,{title:"link"})}),(0,e.jsxs)("div",{className:n().value,children:[(0,e.jsx)(l.Z,{size:"large",value:W,onChange:function(w){return H(w.target.value)},placeholder:"link"}),(0,e.jsx)("a",{onClick:function(){return b(!0)},children:"use twitter intent"})]})]})]}),R&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(y,{onCancel:function(){return b(!1)},onCreateTwitterIntent:function(w){H(w),b(!1)}})})]})}var L=M},13580:function(P,E,t){"use strict";t.d(E,{Ay:function(){return D},f5:function(){return f},r7:function(){return T},L7:function(){return h},jd:function(){return I}});var v=t(11849),_=t(2824),p=t(3182),l=t(94043),s=t.n(l),D=function(){var n=(0,p.Z)(s().mark(function c(d){var u;return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.assets.metadata(Number(d));case 2:return u=r.sent,r.abrupt("return",u);case 4:case"end":return r.stop()}},c)}));return function(d){return n.apply(this,arguments)}}(),f=function(){var n=(0,p.Z)(s().mark(function c(d){var u;return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.assets.asset(Number(d));case 2:return u=r.sent,r.abrupt("return",u);case 4:case"end":return r.stop()}},c)}));return function(d){return n.apply(this,arguments)}}(),T=function(){var n=(0,p.Z)(s().mark(function c(d){var u;return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.assets.account.entries(d);case 2:return u=r.sent,r.abrupt("return",u);case 4:case"end":return r.stop()}},c)}));return function(d){return n.apply(this,arguments)}}(),h=function(){var n=(0,p.Z)(s().mark(function c(d,u){var g,r;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.apiWs.query.assets.account(Number(u),d);case 2:if(g=e.sent,!g.isEmpty){e.next=5;break}return e.abrupt("return",null);case 5:return r=g.toHuman(),e.abrupt("return",r);case 7:case"end":return e.stop()}},c)}));return function(d,u){return n.apply(this,arguments)}}(),I=function(){var n=(0,p.Z)(s().mark(function c(){var d,u;return s().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.assets.metadata.entries();case 2:return d=r.sent,u=(d!=null?d:[]).map(function(m){var e=(0,_.Z)(m,2),o=e[0],O=e[1],a=o.toHuman();return a?(0,v.Z)((0,v.Z)({},O.toHuman()),{},{id:a[0].replaceAll(",","")}):null}).filter(Boolean),r.abrupt("return",u);case 5:case"end":return r.stop()}},c)}));return function(){return n.apply(this,arguments)}}()},84986:function(P,E,t){"use strict";t.d(E,{U:function(){return d},g:function(){return g}});var v=t(11849),_=t(3182),p=t(94043),l=t.n(p),s=t(51625),D=t(43955),f=t(11238),T=t(47832),h=t(81603),I=function(m){var e=m.response,o=e===void 0?{}:e,O=m.message,a=O===void 0?"":O,j=m.data,U=j===void 0?{}:j;if(a==="http error")return{response:o,data:U}},n=(0,f.l7)({errorHandler:I,credentials:"omit"}),c=new D.ZP({type:"sr25519"});function d(r,m){return u.apply(this,arguments)}function u(){return u=(0,_.Z)(l().mark(function r(m,e){var o;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=new FormData,o.append("file",m),a.abrupt("return",n(s.Z.ipfs.upload,(0,v.Z)({method:"POST",body:o,requestType:"form",getResponse:!0},e||{})));case 3:case"end":return a.stop()}},r)})),u.apply(this,arguments)}var g=function(){var r=(0,_.Z)(l().mark(function m(e,o,O,a,j){var U,y,Z,M;return l().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(U=window.apiWs.tx.did.setMetadata("pic",e),!(a&&j)){i.next=6;break}return i.next=4,U.paymentInfo(j);case 4:return y=i.sent,i.abrupt("return",y);case 6:if(Z=(0,T.Gh)(o,O),!(Z==null||!Z)){i.next=9;break}throw new Error("Wrong password");case 9:return M=c.createFromUri(Z),i.next=12,(0,h.Y)(U,M);case 12:return i.abrupt("return",i.sent);case 13:case"end":return i.stop()}},m)}));return function(e,o,O,a,j){return r.apply(this,arguments)}}()},94452:function(P,E,t){"use strict";t.d(E,{q:function(){return c},T:function(){return d}});var v=t(86582),_=t(11849),p=t(3182),l=t(94043),s=t.n(l),D=t(51625),f=t(55410),T=t(84986),h=t(41741),I=t(96534),n=t(48764).Buffer,c=function(){var u=(0,p.Z)(s().mark(function g(r,m){var e,o;return s().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r.type!=="image/gif"){a.next=2;break}return a.abrupt("return",r);case 2:return e=m===f.n.ICON?{maxSizeMB:.1,maxWidthOrHeight:60,useWebWorker:!0}:{maxSizeMB:.5,maxWidthOrHeight:400,useWebWorker:!0},a.prev=3,a.next=6,(0,h.Z)(r,e);case 6:return o=a.sent,a.abrupt("return",o);case 10:return a.prev=10,a.t0=a.catch(3),console.log("image compression failed",a.t0),a.abrupt("return",r);case 14:case"end":return a.stop()}},g,null,[[3,10]])}));return function(r,m){return u.apply(this,arguments)}}(),d=function(){var u=(0,p.Z)(s().mark(function g(r){var m,e,o,O,a,j,U,y;return s().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return m={media:r.poster,icon:r.icon,content:r.content,instructions:r.instructions.map(function(L){var i;return(0,_.Z)((0,_.Z)({},L),{},{link:encodeURIComponent((i=L.link)!==null&&i!==void 0?i:"")})}),sponsorName:r.sponsorName},M.next=3,n.from(JSON.stringify(m));case 3:return e=M.sent,M.next=6,(0,T.U)(e);case 6:if(o=M.sent,O=o.response,a=o.data,O.ok){M.next=11;break}throw"Create Metadata Error";case 11:return j="ipfs://".concat(a.Hash),U=(0,I.Zc)(D.Z.advertisement.defaultDelegatedDid),y=Array.from(new Set((0,v.Z)(r.instructions.map(function(L){return L.tag}).filter(Boolean)))),M.abrupt("return",{tags:y,metadata:j,rewardRate:r.rewardRate.toString(),lifetime:r.lifetime,payoutBase:(0,I.Vm)(r.payoutBase.toString()),payoutMin:(0,I.Vm)(r.payoutMin.toString()),payoutMax:(0,I.Vm)(r.payoutMax.toString()),delegatedAccount:U});case 15:case"end":return M.stop()}},g)}));return function(r){return u.apply(this,arguments)}}()}}]);

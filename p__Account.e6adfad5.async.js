(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[3661],{86625:function(ce){ce.exports={avatarContainer:"avatarContainer___1Aoxp",uploadMask:"uploadMask___11JDR",icon:"icon___1117q",avatar:"avatar___2qKmO"}},55133:function(ce){ce.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},20592:function(ce){ce.exports={skeletonContainer:"skeletonContainer___3qdtO",skeleton:"skeleton___36Byl","skeleton-loading":"skeleton-loading___2Ztrp"}},31639:function(ce){ce.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},12128:function(ce){ce.exports={avatarEdit:"avatarEdit___2rn_w",avatar:"avatar___1zpOm",avatarSaveDesc:"avatarSaveDesc___3cKY-",buttons:"buttons___11ym9",button:"button___2udbH",avatarContainer:"avatarContainer___180Pb",uploadMask:"uploadMask___9XamC",icon:"icon___3uhd1"}},25997:function(ce){ce.exports={profileContainer:"profileContainer___2nGCO",left:"left___1G5dN",right:"right___2Su-s",section:"section___3CJr3",sectionTitle:"sectionTitle___2kDsM",sectionIcon:"sectionIcon___2WyRQ",sectionSubtitle:"sectionSubtitle___3t2OE",infoIcon:"infoIcon___19K8j",accountDetails:"accountDetails___25A-0",field:"field___34c8I",title:"title___3JnK1",value:"value___1dF_X",idCody:"idCody___3XRW3",text:"text___2tQNf",valueButton:"valueButton___2VKWf",balanceDetail:"balanceDetail___1c8Ny",security:"security___2MyqC",export:"export___1cl7p",securityCard:"securityCard___3BZ1j",exportCard:"exportCard___IK54n",bind:"bind___1NG3G",bindCard:"bindCard___2gkYY",icon:"icon___3DBKc",label:"label___3oThi",avatar:"avatar___3CXeA",avatarCard:"avatarCard___FF6wf",bindModal:"bindModal___1ZZCZ",iconButton:"iconButton___2vvgh",manualContainer:"manualContainer___L8KYo",expandButtonIcon:"expandButtonIcon___jnIxI",secretInput:"secretInput___3qkm_",secretAlert:"secretAlert___eaj_E",bottomButtons:"bottomButtons___11aqf",button:"button___3Gzcf",bindList:"bindList___16Uzs"}},69764:function(ce,ge,t){"use strict";var E=t(71194),je=t(50146),$=t(57663),z=t(71577),a=t(402),Ne=t(3887),oe=t(67294),xe=t(55133),Q=t.n(xe),ee=t(54549),M=t(85893),ke=Ne.Z.Title,x=function(ie){var He=ie.visable,we=ie.title,Z=ie.content,C=ie.footer,Oe=ie.close,Re=ie.bodyStyle;return(0,M.jsx)(je.Z,{title:we?(0,M.jsx)(ke,{level:5,className:Q().title,children:we}):null,closable:!!Oe,closeIcon:(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(z.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,M.jsx)(ee.Z,{onClick:Oe})})}),className:Q().modal,centered:!0,visible:He,width:650,footer:C,bodyStyle:Re,children:Z})};ge.Z=x},46656:function(ce,ge,t){"use strict";var E=t(71194),je=t(50146),$=t(47673),z=t(32787),a=t(22385),Ne=t(31097),oe=t(17462),xe=t(76772),Q=t(57663),ee=t(71577),M=t(74379),ke=t(38648),x=t(3182),Ae=t(2824),ie=t(402),He=t(3887),we=t(94043),Z=t.n(we),C=t(67294),Oe=t(43581),Re=t(55133),J=t.n(Re),ae=t(3548),S=t(68855),_=t(47832),B=t(55347),w=t(51625),h=t(85893),K=He.Z.Title,D=function(le){var g=le.visable,A=le.setVisable,u=le.passphrase,Ye=le.setPassphrase,e=le.func,aa=le.changePassphrase,ta=(0,Oe.tT)("apiWs"),Ve=(0,Oe.tT)("currentUser"),N=Ve.wallet,ja=(0,Oe.tT)("balance"),Ie=ja.balance,xa=(0,C.useState)(!1),va=(0,Ae.Z)(xa,2),ia=va[0],Fe=va[1],ka=(0,C.useState)(),ma=(0,Ae.Z)(ka,2),Pe=ma[0],Ua=ma[1],ye=(0,Oe.YB)(),Wa=function(_e){Ye(_e?_e.target.value:"")},la=function(){var Te=(0,x.Z)(Z().mark(function _e(){var $e,Je,he,Ca,oa;return Z().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(Fe(!0),N!=null&&N.passphrase&&Ye(N==null?void 0:N.passphrase),!((!u||u.length<6)&&!(N!=null&&N.passphrase))){De.next=5;break}return Fe(!1),De.abrupt("return");case 5:if($e=(N==null?void 0:N.passphrase)||u,!($e&&N!==null&&N!==void 0&&N.keystore)){De.next=16;break}if(Je=(0,_.Gh)($e,N.keystore),Je){De.next=13;break}return ke.default.error({key:"passphraseError",message:ye.formatMessage({id:"error.passphrase.error"}),duration:null}),Ye(""),Fe(!1),De.abrupt("return");case 13:he=new B.ZP({type:"sr25519"}),Ca=he.addFromUri(Je),oa=Ca.address,N!=null&&N.account&&N.account!==oa&&(localStorage.clear(),sessionStorage.clear(),window.location.href=w.Z.page.homePage);case 16:if(!e){De.next=19;break}return De.next=19,e();case 19:A(!1),Fe(!1);case 21:case"end":return De.stop()}},_e)}));return function(){return Te.apply(this,arguments)}}(),Qe=function(){var Te=(0,x.Z)(Z().mark(function _e(){var $e;return Z().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(!(!!ta&&!!N.account)){he.next=11;break}return he.next=3,e(!0,N.account);case 3:if($e=he.sent,!$e){he.next=8;break}Ua($e.partialFee),he.next=11;break;case 8:if(aa){he.next=11;break}return he.next=11,la();case 11:case"end":return he.stop()}},_e)}));return function(){return Te.apply(this,arguments)}}();return(0,C.useEffect)(function(){!!ta&&!!(N!=null&&N.account)&&g&&Qe()},[ta,N==null?void 0:N.account,g]),(0,C.useEffect)(function(){!!(N!=null&&N.passphrase)&&g&&!aa&&Ye(N==null?void 0:N.passphrase)},[N==null?void 0:N.passphrase,u,g,aa]),(0,h.jsxs)(je.Z,{title:(0,h.jsx)(K,{level:3,children:ye.formatMessage({id:"modal.security.title"})}),closable:!1,className:J().modal,centered:!0,visible:g,width:400,footer:(0,h.jsxs)("div",{className:J().buttons,children:[(0,h.jsx)(ee.Z,{type:"text",shape:"round",size:"large",className:J().button,onClick:function(){A(!1),window.location.reload()},loading:ia,children:ye.formatMessage({id:"common.decline"})}),(0,h.jsx)(ee.Z,{type:"primary",shape:"round",size:"large",className:J().button,onClick:function(){la()},disabled:!u||u.length<6,loading:ia,children:ye.formatMessage({id:"common.confirm"})})]}),children:[(0,h.jsxs)("div",{className:J().confirmContainer,children:[!!Pe&&!!(Pe!=null&&Pe.toString())>Ie.free&&(0,h.jsx)(xe.Z,{description:ye.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:J().alertContainer}),!!Pe&&(0,h.jsxs)("div",{className:J().field,children:[(0,h.jsxs)("div",{className:J().labal,children:[ye.formatMessage({id:"modal.security.gas"}),(0,h.jsxs)("span",{className:J().small,children:["(",ye.formatMessage({id:"modal.security.estimated"}),")"]}),(0,h.jsx)(Ne.Z,{placement:"bottom",title:ye.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,h.jsx)(S.Z,{className:J().labalIcon})})]}),(0,h.jsx)("div",{className:J().value,children:(0,h.jsx)(ae.Z,{value:Pe,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(N!=null&&N.passphrase)||aa)&&(0,h.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,h.jsxs)("div",{className:J().codeInput,children:[(0,h.jsxs)("div",{className:J().verifyForm,children:[(0,h.jsx)("span",{className:(u==null?void 0:u.slice(0))&&!(u!=null&&u.slice(1,5))&&J().highLight,children:u==null?void 0:u.slice(0,1).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(u==null?void 0:u.slice(1))&&!(u!=null&&u.slice(2,5))&&J().highLight,children:u==null?void 0:u.slice(1,2).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(u==null?void 0:u.slice(2,3))&&!(u!=null&&u.slice(3,5))&&J().highLight,children:u==null?void 0:u.slice(2,3).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(u==null?void 0:u.slice(3,4))&&!(u!=null&&u.slice(4,5))&&J().highLight,children:u==null?void 0:u.slice(3,4).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(u==null?void 0:u.slice(4,5))&&!(u!=null&&u.slice(5))&&J().highLight,children:u==null?void 0:u.slice(4,5).replace(/[^]/,"\u2731")}),(0,h.jsx)("span",{className:(u==null?void 0:u.slice(5))&&J().highLight,children:u==null?void 0:u.slice(5).replace(/[^]/,"\u2731")})]}),(0,h.jsx)(z.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:J().verifyInput,onChange:Wa,value:u,disabled:ia,maxLength:6,visibilityToggle:!1})]})})]})};ge.Z=D},44729:function(ce,ge,t){"use strict";var E=t(71194),je=t(50146),$=t(67294),z=t(55133),a=t.n(z),Ne=t(85893),oe=function(Q){var ee=Q.visable,M=Q.content,ke=Q.footer;return(0,Ne.jsx)(je.Z,{title:!1,closable:!1,className:a().modal,centered:!0,visible:ee,width:650,footer:ke,children:M})};ge.Z=oe},62543:function(ce,ge,t){"use strict";var E=t(67294),je=t(20592),$=t.n(je),z=t(85893),a=function(oe){var xe=oe.children,Q=oe.loading,ee=oe.height,M=oe.styles;return(0,z.jsx)("div",{className:$().skeletonContainer,style:M,children:Q?(0,z.jsx)("div",{className:$().skeleton,style:{height:ee||"10vh"}}):xe})};ge.Z=a},3548:function(ce,ge,t){"use strict";var E=t(67294),je=t(31639),$=t.n(je),z=t(96534),a=t(85893),Ne=function(xe){var Q=xe.value,ee=xe.style;return(0,a.jsxs)("div",{className:$().ad3,style:ee,children:[Q?(0,z.MP)(Q):"--",(0,a.jsx)("span",{className:$().unit,children:"\xA0$AD3"})]})};ge.Z=Ne},22693:function(ce,ge,t){"use strict";t.r(ge),t.d(ge,{default:function(){return $s}});var E=t(67294),je=t(55909),$=t.n(je),z=t(25997),a=t.n(z),Ne=t(58024),oe=t(39144),xe=t(22385),Q=t(31097),ee=t(34792),M=t(48086),ke=t(57663),x=t(71577),Ae=t(12968),ie=t(62462),He=t(402),we=t(3887),Z=t(2824),C=t(43581),Oe=t(54977),Re=t(99165),J=t(57119),ae=t(3548),S=t(96534),_=t(74855),B=t.n(_),w=t(47673),h=t(32787),K=t(74379),D=t(38648),O=t(3182),le=t(94043),g=t.n(le),A=t(69764),u=t(46656),Ye=t(60058),e=t(85893),aa=function(i){var n=i.nicknameModal,r=i.setNicknameModal,l=(0,C.tT)("user"),s=l.nickname,v=l.setNickname,o=(0,C.tT)("currentUser"),m=o.wallet,d=(0,E.useState)(!1),y=(0,Z.Z)(d,2),b=y[0],f=y[1],P=(0,E.useState)(!1),k=(0,Z.Z)(P,2),F=k[0],ue=k[1],R=(0,E.useState)(""),se=(0,Z.Z)(R,2),re=se[0],G=se[1],pe=(0,C.YB)(),Ue=function(){var Me=(0,O.Z)(g().mark(function ne(ve,Ce){var Y;return g().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!(!!m&&!!m.keystore)){U.next=18;break}return U.prev=1,f(!0),U.next=5,(0,Ye.UB)(s,re,m==null?void 0:m.keystore,ve,Ce);case 5:if(Y=U.sent,r(!1),f(!1),!(ve&&Ce)){U.next=10;break}return U.abrupt("return",Y);case 10:U.next=16;break;case 12:U.prev=12,U.t0=U.catch(1),D.default.error({message:U.t0.message,duration:null}),f(!1);case 16:U.next=19;break;case 18:D.default.error({key:"accessDenied",message:pe.formatMessage({id:"error.accessDenied"}),duration:null});case 19:case"end":return U.stop()}},ne,null,[[1,12]])}));return function(ve,Ce){return Me.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(A.Z,{visable:n,title:pe.formatMessage({id:"wallet.nickname.edit"}),content:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.Z,{size:"large",value:s,onChange:function(ne){v(ne.target.value)}}),(0,e.jsx)(x.Z,{block:!0,type:"primary",size:"large",shape:"round",style:{marginTop:20},loading:b,onClick:function(){ue(!0)},children:pe.formatMessage({id:"common.submit"})})]}),close:function(){r(!1)},footer:!1}),(0,e.jsx)(u.Z,{visable:F,setVisable:ue,passphrase:re,setPassphrase:G,func:Ue})]})},ta=aa,Ve=t(62543),N=function(){var i=(0,C.tT)("apiWs"),n=(0,C.tT)("balance"),r=n.balance,l=(0,C.tT)("user"),s=l.nickname,v=(0,C.tT)("currentUser"),o=v.wallet,m=(0,E.useState)(!1),d=(0,Z.Z)(m,2),y=d[0],b=d[1],f=(0,C.YB)(),P=we.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(P,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(ie.Z,{src:"/images/icon/mine.svg",className:a().sectionIcon,preview:!1}),f.formatMessage({id:"account.accountDetails.title"})]}),(0,e.jsx)(Ve.Z,{loading:!i,height:400,children:(0,e.jsx)(oe.Z,{className:$().card,bodyStyle:{padding:0,width:"100%"},style:{marginTop:30},children:(0,e.jsxs)("div",{className:a().accountDetails,children:[(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:f.formatMessage({id:"account.accountDetails.nickname"})}),(0,e.jsxs)("div",{className:a().idCody,children:[(0,e.jsx)("span",{className:a().text,children:s.toString()||"Nickname"}),(0,e.jsx)(x.Z,{size:"middle",shape:"circle",icon:(0,e.jsx)(Oe.Z,{}),className:a().valueButton,onClick:function(){b(!0)}})]})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:f.formatMessage({id:"account.accountDetails.DID"})}),(0,e.jsxs)("div",{className:a().idCody,children:[(0,e.jsx)("span",{className:a().text,children:(0,S.st)(o==null?void 0:o.did)}),(0,e.jsx)(B(),{text:(0,S.st)(o==null?void 0:o.did),onCopy:function(){M.default.success(f.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(x.Z,{size:"middle",shape:"circle",icon:(0,e.jsx)(Re.Z,{}),className:a().valueButton})})]})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:f.formatMessage({id:"account.accountDetails.address"})}),(0,e.jsxs)("div",{className:a().idCody,children:[(0,e.jsx)("span",{className:a().text,children:o==null?void 0:o.account}),(0,e.jsx)(B(),{text:o==null?void 0:o.account,onCopy:function(){M.default.success(f.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(x.Z,{size:"middle",shape:"circle",icon:(0,e.jsx)(Re.Z,{}),className:a().valueButton})})]})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:f.formatMessage({id:"account.accountDetails.walletBalance"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(ae.Z,{value:r==null?void 0:r.total})})]}),(0,e.jsxs)("div",{className:a().balanceDetail,children:[(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[f.formatMessage({id:"account.accountDetails.reservedBalance"}),(0,e.jsx)(Q.Z,{placement:"top",title:f.formatMessage({id:"account.accountDetails.reservedBalance.tip"}),children:(0,e.jsx)(J.Z,{className:a().infoIcon})})]}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(ae.Z,{value:r==null?void 0:r.reserved})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[f.formatMessage({id:"account.accountDetails.availableBalance"}),(0,e.jsx)(Q.Z,{placement:"top",title:f.formatMessage({id:"account.accountDetails.availableBalance.tip"}),children:(0,e.jsx)(J.Z,{className:a().infoIcon})})]}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(ae.Z,{value:r==null?void 0:r.free})})]})]})]})})}),(0,e.jsx)(ta,{nicknameModal:y,setNicknameModal:b})]})},ja=N,Ie=t(47832),xa=function(){var i=(0,C.tT)("apiWs"),n=(0,C.tT)("currentUser"),r=n.wallet,l=(0,E.useState)(),s=(0,Z.Z)(l,2),v=s[0],o=s[1],m=(0,E.useState)(""),d=(0,Z.Z)(m,2),y=d[0],b=d[1],f=(0,E.useState)(!1),P=(0,Z.Z)(f,2),k=P[0],F=P[1],ue=(0,E.useState)(),R=(0,Z.Z)(ue,2),se=R[0],re=R[1],G=(0,C.YB)(),pe=we.Z.Title,Ue=function(){var ne=(0,O.Z)(g().mark(function ve(Ce,Y){var V,U,Ze,Ee;return g().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(!(Ce&&Y)){H.next=2;break}return H.abrupt("return");case 2:if(!(!!r&&!!(r!=null&&r.keystore))){H.next=35;break}if(v!=="enable"){H.next=21;break}if(V=(0,Ie.Gh)(y,r==null?void 0:r.keystore),V){H.next=8;break}return M.default.error(G.formatMessage({id:"error.passphrase.error"})),H.abrupt("return");case 8:if(U=(0,S.M8)().substring(0,6),b(U),localStorage.setItem("parami:wallet:passphrase",U),Ze=(0,Ie.QM)(U,V),Ze){H.next=15;break}return M.default.error(G.formatMessage({id:"error.passphrase.error"})),H.abrupt("return");case 15:localStorage.setItem("parami:wallet:keystore",Ze),o("disable"),M.default.success(G.formatMessage({id:"account.security.passphrase.changeSuccess"})),window.location.reload(),H.next=33;break;case 21:if(se){H.next=24;break}return M.default.error(G.formatMessage({id:"error.passphrase.error"})),H.abrupt("return");case 24:if(Ee=(0,Ie.QM)(y,se),Ee){H.next=28;break}return M.default.error(G.formatMessage({id:"error.passphrase.error"})),H.abrupt("return");case 28:localStorage.setItem("parami:wallet:keystore",Ee),o("enable"),M.default.success(G.formatMessage({id:"account.security.passphrase.changeSuccess"})),localStorage.removeItem("parami:wallet:passphrase"),window.location.reload();case 33:H.next=36;break;case 35:D.default.error({key:"accessDenied",message:G.formatMessage({id:"error.accessDenied"}),duration:null});case 36:case"end":return H.stop()}},ve)}));return function(Ce,Y){return ne.apply(this,arguments)}}(),Me=function(){var ne=(0,O.Z)(g().mark(function ve(){var Ce;return g().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(!!r&&!!r.keystore)){V.next=17;break}if(v!=="enable"){V.next=5;break}F(!0),V.next=15;break;case 5:if(!(v==="disable"&&!!r.passphrase)){V.next=14;break}if(Ce=(0,Ie.Gh)(r==null?void 0:r.passphrase,r==null?void 0:r.keystore),Ce){V.next=10;break}return M.default.error(G.formatMessage({id:"error.passphrase.error"})),V.abrupt("return");case 10:re(Ce),F(!0),V.next=15;break;case 14:D.default.error({key:"accessDenied",message:G.formatMessage({id:"error.accessDenied"}),duration:null});case 15:V.next=18;break;case 17:D.default.error({key:"accessDenied",message:G.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return V.stop()}},ve)}));return function(){return ne.apply(this,arguments)}}();return(0,E.useEffect)(function(){r!=null&&r.passphrase?o("disable"):o("enable")},[r==null?void 0:r.passphrase,se,v]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(pe,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(ie.Z,{src:"/images/icon/safe.svg",className:a().sectionIcon,preview:!1}),G.formatMessage({id:"account.security.title"})]}),(0,e.jsx)(Ve.Z,{loading:!i,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(pe,{level:5,className:a().sectionSubtitle,children:[G.formatMessage({id:"account.security.subtitle"}),(0,e.jsx)(Q.Z,{placement:"top",title:G.formatMessage({id:"account.security.subtitle.tip"}),children:(0,e.jsx)(J.Z,{className:a().infoIcon})})]}),(0,e.jsx)("div",{className:a().security,children:(0,e.jsx)(oe.Z,{className:"".concat($().card," ").concat(a().securityCard),bodyStyle:{padding:0,width:"100%"},children:(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:G.formatMessage({id:"account.security.passphrase"})}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsxs)(x.Z,{size:"large",shape:"round",type:"primary",onClick:function(){Me()},children:[v==="disable"&&G.formatMessage({id:"common.enable"}),v==="enable"&&G.formatMessage({id:"common.disable"})]})})]})})})]})}),(0,e.jsx)(u.Z,{visable:k,setVisable:F,passphrase:y,setPassphrase:b,func:Ue,changePassphrase:!0})]})},va=xa,ia=t(86625),Fe=t.n(ia),ka=t(85008),ma=function(i){var n=i.width,r=i.height,l=(0,C.tT)("user"),s=l.avatar;return(0,e.jsxs)("div",{className:Fe().avatarContainer,children:[!s&&(0,e.jsx)("div",{className:Fe().uploadMask,children:(0,e.jsx)(ka.Z,{className:Fe().icon})}),(0,e.jsx)(ie.Z,{src:s||"/images/logo-square-core.svg",className:Fe().avatar,preview:!1,fallback:"/images/logo-square-core.svg",width:n||200,height:r||200})]})},Pe=ma,Ua=t(20228),ye=t(11382),Wa=t(43185),la=t(35372),Qe=t(51625),Te=t(86582),_e=t(26592),$e=t(82424),Je=t(69610),he=t(54941),Ca=t(77191),oa,fa=new WeakMap,De=new WeakMap,La=function(i){return[i>>5,1<<(i&31)]},as={get:function(i,n){if(typeof n=="string"){var r=Number(n);if(!Number.isNaN(r)){var l=La(r),s=(0,Z.Z)(l,2),v=s[0],o=s[1],m=fa.get(i.buffer);if(m!==void 0)return Number(Boolean(m[v]&o))}}return Reflect.get(i,n)},set:function(i,n,r){if(typeof n=="string"){var l=Number(n);if(!Number.isNaN(l)){var s=fa.get(i.buffer);if(s!==void 0){var v=La(l),o=(0,Z.Z)(v,2),m=o[0],d=o[1];return s[m]=r?s[m]|d:s[m]&~d,!0}}}return Reflect.set(i,n,r)},ownKeys:function(i){var n=De.get(i);return n||De.set(i,n=Array(i.length).fill(void 0).map(function(r,l){return l.toString()})),n},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}}};oa=Symbol.iterator;var ha=function(){function p(i){(0,Je.Z)(this,p),this.buffer=void 0,this.length=void 0;var n=Number(i);return this.length=n,this.buffer=new ArrayBuffer(((n-1>>5)+1)*4),fa.set(this.buffer,new Uint32Array(this.buffer)),Reflect.construct(Proxy,[this,as])}return(0,he.Z)(p,[{key:oa,value:function(){throw new Error("Method not implemented.")}},{key:"at",value:function(n){return this[n]}},{key:"set",value:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=0;l<n.length;l+=1)this[r+l]=n[l]?1:0}},{key:"toString",value:function(){for(var n="",r=0;r<this.length;r+=1)n+=this[r];return n}}]),p}(),sa=(0,$e.Z)("target"),Ka=function(){function p(i){(0,Je.Z)(this,p),this.position=void 0,Object.defineProperty(this,sa,{writable:!0,value:void 0}),(0,_e.Z)(this,sa)[sa]=i,this.position=0}return(0,he.Z)(p,[{key:"read",value:function(n){for(var r=0;r<n.length;r+=1)n[r]=(0,_e.Z)(this,sa)[sa][this.position+r];this.position+=n.length}},{key:"write",value:function(n){(0,_e.Z)(this,sa)[sa].set(n,this.position),this.position+=n.length}},{key:"seek",value:function(n){this.position=n}}]),p}(),Ea=function(){function p(i,n,r){(0,Je.Z)(this,p),this.table=void 0,this.polynomial=void 0,this.initial=void 0,this.final=void 0,this.polynomial=i,this.initial=n,this.final=r}return(0,he.Z)(p,[{key:"makeTable",value:function(){this.table=new Array(256);for(var n=0;n<256;n+=1){for(var r=n,l=0;l<8;l+=1)(r&128)!=0?r=(r<<1^this.polynomial)%256:r=(r<<1)%256;this.table[n]=r}}},{key:"compute",value:function(n){if(this.table||this.makeTable(),!this.table)return 0;for(var r=this.initial,l=0;l<n.length;l+=1)r=this.table[(r^n[l])%256];return r^this.final}}],[{key:"default",value:function(){return p.singleton||(p.singleton=new p(166,0,0)),p.singleton}}]),p}();Ea.singleton=void 0;var ss=function(i){for(var n=[1,0,0,1,0,0,0,1,1,0],r=[1,0,1,1,0,0,1,1],l=[1,0,1,1,0,1,1,0],s=[1,0,1,1,1,1,0,0],v=(i.length-1>>6)+1,o=new ha(v*90),m=new Ka(o),d=0;d<v;d+=1){m.write(n);var y=[];switch(d&3){case 1:y=l;break;case 2:y=s;break;default:y=r;break}m.write(y);for(var b=0,f=[],P=0;P<64;P+=1){var k=i[P+(d<<6)];if(k!==void 0){var F=P&7,ue=(k^y[F])&1;b|=ue<<F,F===7&&(f.push(b),b=0),m.write([Boolean(ue)])}}for(var R=Ea.default().compute(f),se=0;se<8;se+=1){var re=R>>7-se&1;m.write([Boolean(re)])}}return o},rs=function(i){for(var n=new Array(10),r=new Array(8),l=Math.trunc((i.length-1)/90)+1,s=new ha(l<<6),v=new Ka(i),o=0;o<l;o+=1){v.read(n),v.read(r);var m=0,d=[],y=new Array(64);v.read(y);for(var b=0;b<64;b+=1){var f=b&7,P=y[b]?1:0,k=(P^r[f])&1;m|=P<<f,f===7&&(d.push(m),m=0),y[b]=k?1:0}var F=Ea.default().compute(d),ue=0,R=new Array(8);v.read(R);for(var se=0;se<8;se+=1)ue|=R[se]<<7-se;F===ue&&s.set(y,o<<6)}return s};function Ra(p,i,n){var r=p/255,l=i/255,s=n/255,v=Math.max(r,l,s),o=Math.min(r,l,s),m=(v+o)/2;return m}var Vs=function(i){if(console.log("parsing image","width:",i.width,"height:",i.height),i.width!==i.height||i.width<220)throw new Error("image is not square or too small");var n=document.createElement("canvas");n.width=i.width,n.height=i.height;var r=n.getContext("2d");if(r===null)throw new Error("canvas is not supported");r.drawImage(i,0,0);var l=new ha(360),s=.8;l.set(new Array(180).fill(1)),l.set(new Array(180).fill(0),180);for(var v=Math.round(324*i.width/640*10)/10,o=10*Math.PI/9/180,m=Math.PI/9+o/2,d=0;d<180;d+=1){var y=i.width/2+v*Math.cos(m),b=i.height/2+v*Math.sin(m),f=r.getImageData(y,b,1,1),P=f.data,k=Ra(P[0],P[1],P[2]);k>=s&&l.set([0],d),m+=o,(d+1)%45==0&&(m+=2*Math.PI/9)}v=Math.round(342*i.width/640*10)/10,o=2*Math.PI/3/180,m=Math.PI/6+o/2;for(var F=0;F<180;F+=1){var ue=i.width/2+v*Math.cos(m),R=i.height/2+v*Math.sin(m),se=r.getImageData(ue,R,1,1),re=se.data,G=Ra(re[0],re[1],re[2]);G>=s&&l.set([1],F+180),m+=o,(F+1)%45==0&&(m+=2*Math.PI/6)}return rs(l)},ns=function(i,n){if(i.width!==i.height||i.width<220)throw new Error("image is not square or too small");var r=320,l=document.createElement("canvas");l.width=r*2,l.height=r*2;var s=l.getContext("2d");if(s===null)throw new Error("canvas is not supported");s.save();var v=s.createLinearGradient(0,r*2,r*2,0);v.addColorStop(0,"#FE2105"),v.addColorStop(1,"#96E9EA"),s.fillStyle=v,s.beginPath(),s.rect(0,0,r*2,r*2),s.fill(),s.save(),s.restore(),s.beginPath(),s.arc(r,r,r-40,0,2*Math.PI),s.clip(),s.drawImage(i,40,40,r*2-80,r*2-80),s.restore();var o=ss(n),m=Math.PI/9;s.lineWidth=8;for(var d=0;d<180;d+=1)s.save(),s.beginPath(),o[d]===0?s.strokeStyle="white":s.strokeStyle="transparent",s.arc(r,r,r+4,m,m+10*Math.PI/9/180,!1),m+=10*Math.PI/9/180,(d+1)%45==0&&(m+=2*Math.PI/9),s.stroke();m=Math.PI/6,s.lineWidth=7;for(var y=0;y<180;y+=1)s.save(),s.beginPath(),o[y+180]===1?s.strokeStyle="white":s.strokeStyle="transparent",s.arc(r,r,r+22,m,m+2*Math.PI/3/180,!1),m+=2*Math.PI/3/180,(y+1)%45==0&&(m+=2*Math.PI/6),s.stroke();return l},Qs=function(i){return bs58.decode(i).reduce(function(n,r){return n+r.toString(16).padStart(2,"0")},"")},ts=function(p,i){return new Promise(function(n,r){var l=new Image;l.src=p,l.onload=function(){var s=new ha(256),v=8,o=2;s.set((0,Te.Z)(o.toString(2).padStart(8,"0")).map(function(b){return+b}),0);var m=i.replace("0x","");(0,Te.Z)(m).forEach(function(b,f){s.set((0,Te.Z)(parseInt(b,16).toString(2).padStart(4,"0")).map(function(P){return+P}),v+f*4)});var d=ns(l,s),y=d.toDataURL("image/png");n(y)}})},is=t(8870),Fa=t(55347),ls=t(11238),Na=t(81603),os=function(i){var n=i.response,r=n===void 0?{}:n,l=i.message,s=l===void 0?"":l,v=i.data,o=v===void 0?{}:v;if(s==="http error")return{response:r,data:o}},ds=(0,ls.l7)({errorHandler:os,credentials:"omit"}),cs=new Fa.ZP({type:"sr25519"});function us(p,i){return Da.apply(this,arguments)}function Da(){return Da=(0,O.Z)(g().mark(function p(i,n){var r;return g().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return r=new FormData,r.append("file",i),s.abrupt("return",ds(Qe.Z.ipfs.upload,(0,is.Z)({method:"POST",body:r,requestType:"form",getResponse:!0},n||{})));case 3:case"end":return s.stop()}},p)})),Da.apply(this,arguments)}var vs=function(){var p=(0,O.Z)(g().mark(function i(n,r,l,s,v){var o,m,d,y;return g().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(o=window.apiWs.tx.did.setMetadata("pic",n),!(s&&v)){f.next=6;break}return f.next=4,o.paymentInfo(v);case 4:return m=f.sent,f.abrupt("return",m);case 6:if(d=(0,Ie.Gh)(r,l),!(d==null||!d)){f.next=9;break}throw new Error("Wrong password");case 9:return y=cs.createFromUri(d),f.next=12,(0,Na.Y)(o,y);case 12:return f.abrupt("return",f.sent);case 13:case"end":return f.stop()}},i)}));return function(n,r,l,s,v){return p.apply(this,arguments)}}(),ms=t(12128),pa=t.n(ms),$a=t(7789),fs=t(62298),hs=function(i){var n=i.setModalVisable,r=(0,C.tT)("user"),l=r.avatar,s=r.setAvatar,v=(0,C.tT)("currentUser"),o=v.wallet,m=(0,E.useState)(""),d=(0,Z.Z)(m,2),y=d[0],b=d[1],f=(0,E.useState)(!1),P=(0,Z.Z)(f,2),k=P[0],F=P[1],ue=(0,E.useState)(),R=(0,Z.Z)(ue,2),se=R[0],re=R[1],G=(0,E.useState)(!1),pe=(0,Z.Z)(G,2),Ue=pe[0],Me=pe[1],ne=(0,C.YB)(),ve=function(){var Y=(0,O.Z)(g().mark(function V(U){var Ze,Ee;return g().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:Me(!0),(U==null||(Ze=U.event)===null||Ze===void 0?void 0:Ze.percent)===100&&((o==null?void 0:o.did)===null&&C.m8.push(Qe.Z.page.createPage),Ee=new FileReader,Ee.readAsDataURL(U.file.originFileObj),Ee.addEventListener("load",function(We){var Le,j=We==null||(Le=We.target)===null||Le===void 0?void 0:Le.result,Se=new Image;Se.src=j,Se.addEventListener("load",function(){var Ma=Se.width,Xe=Se.height;if(Ma<200||Xe<200){D.default.error({message:ne.formatMessage({id:"error.avatar.small"})});return}})}),ts(URL.createObjectURL(U.file.originFileObj),o==null?void 0:o.did).then(function(){var We=(0,O.Z)(g().mark(function Le(j){var Se;return g().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:Se=j.substring(22),re((0,S.Mi)(Se,"image/png")),s(window.URL.createObjectURL((0,S.Mi)(Se,"image/png"))),F(!0);case 4:case"end":return Xe.stop()}},Le)}));return function(Le){return We.apply(this,arguments)}}()));case 2:case"end":return H.stop()}},V)}));return function(U){return Y.apply(this,arguments)}}(),Ce=function(){var Y=(0,O.Z)(g().mark(function V(U,Ze){var Ee,me,H,We;return g().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(!!o&&!!o.keystore)){j.next=32;break}if(se){j.next=4;break}return D.default.error({message:ne.formatMessage({id:"error.avatar.empty"})}),j.abrupt("return");case 4:return j.prev=4,j.next=7,us(se);case 7:if(Ee=j.sent,me=Ee.response,H=Ee.data,!me.ok){j.next=19;break}return j.next=13,vs("ipfs://".concat(H.Hash),y,o==null?void 0:o.keystore,U,Ze);case 13:if(We=j.sent,n(!1),!(U&&Ze)){j.next=17;break}return j.abrupt("return",We);case 17:j.next=23;break;case 19:if(me.status!==405){j.next=23;break}return D.default.error({message:ne.formatMessage({id:"error.avatar.largeSize"}),duration:null}),Me(!1),j.abrupt("return");case 23:j.next=30;break;case 25:return j.prev=25,j.t0=j.catch(4),D.default.error({message:j.t0.message||j.t0,duration:null}),Me(!1),j.abrupt("return");case 30:j.next=33;break;case 32:D.default.error({key:"accessDenied",message:ne.formatMessage({id:"error.accessDenied"}),duration:null});case 33:case"end":return j.stop()}},V,null,[[4,25]])}));return function(U,Ze){return Y.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ye.Z,{tip:ne.formatMessage({id:"common.uploading"}),spinning:Ue,children:(0,e.jsxs)("div",{className:pa().avatarEdit,children:[l?(0,e.jsx)(Pe,{width:200,height:200}):(0,e.jsx)($a.Z,{zoom:!0,rotate:!0,quality:1,modalTitle:ne.formatMessage({id:"wallet.avatar.uploadAvatar"}),children:(0,e.jsx)(la.Z,{accept:"image/*",showUploadList:!1,onChange:ve,action:Qe.Z.ipfs.upload,children:(0,e.jsx)(Pe,{width:200,height:200})})}),(0,e.jsx)("span",{className:pa().avatarSaveDesc,children:ne.formatMessage({id:"wallet.avatar.saveDesc"})}),(0,e.jsx)("div",{className:pa().buttons,children:(0,e.jsx)($a.Z,{zoom:!0,rotate:!0,quality:1,modalTitle:ne.formatMessage({id:"wallet.avatar.uploadAvatar"}),children:(0,e.jsx)(la.Z,{accept:"image/*",showUploadList:!1,onChange:ve,action:Qe.Z.ipfs.upload,children:(0,e.jsx)(x.Z,{block:!0,type:"primary",size:"large",shape:"round",icon:(0,e.jsx)(fs.Z,{}),className:pa().button,children:ne.formatMessage({id:"wallet.avatar.upload"})})})})})]})}),(0,e.jsx)(u.Z,{visable:k,setVisable:F,passphrase:y,setPassphrase:b,func:Ce})]})},ps=hs,gs=function(i){var n=i.modalVisable,r=i.setModalVisable,l=(0,C.YB)();return(0,e.jsx)(A.Z,{visable:n,title:l.formatMessage({id:"wallet.avatar.edit"}),content:(0,e.jsx)(ps,{setModalVisable:r}),footer:!1,close:function(){return r(!1)}})},ys=gs,Ms=function(){var i=(0,C.tT)("apiWs"),n=(0,E.useState)(!1),r=(0,Z.Z)(n,2),l=r[0],s=r[1],v=(0,C.YB)(),o=we.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(o,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(ie.Z,{src:"/images/icon/camera.svg",className:a().sectionIcon,preview:!1}),v.formatMessage({id:"account.avatar.title"})]}),(0,e.jsx)(Ve.Z,{loading:!i,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(o,{level:5,className:a().sectionSubtitle,children:[v.formatMessage({id:"account.avatar.subtitle"}),(0,e.jsx)(Q.Z,{placement:"top",title:v.formatMessage({id:"account.avatar.subtitle.tip"}),children:(0,e.jsx)(J.Z,{className:a().infoIcon})})]}),(0,e.jsx)("div",{className:a().avatar,children:(0,e.jsx)(oe.Z,{className:"".concat($().card," ").concat(a().avatarCard),bodyStyle:{padding:0,width:"100%",display:"flex",alignContent:"center",justifyContent:"center"},children:(0,e.jsx)("span",{onClick:function(){s(!0)},children:(0,e.jsx)(Pe,{width:200,height:200})})})})]})}),l&&(0,e.jsx)(ys,{modalVisable:!0,setModalVisable:s})]})},bs=Ms,Js=t(17462),Za=t(76772),Xs=t(48736),da=t(27049),js=t(44729),xs=function(){var i=(0,C.tT)("currentUser"),n=i.wallet,r=(0,E.useState)(!1),l=(0,Z.Z)(r,2),s=l[0],v=l[1],o=(0,E.useState)(!1),m=(0,Z.Z)(o,2),d=m[0],y=m[1],b=(0,E.useState)(""),f=(0,Z.Z)(b,2),P=f[0],k=f[1],F=(0,E.useState)(""),ue=(0,Z.Z)(F,2),R=ue[0],se=ue[1],re=(0,C.YB)(),G=function(){var pe=(0,O.Z)(g().mark(function Ue(Me,ne){var ve;return g().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!(Me&&ne)){Y.next=2;break}return Y.abrupt("return");case 2:if(!(!!n&&!!(n!=null&&n.keystore))){Y.next=19;break}if(Y.prev=3,ve=(0,Ie.Gh)((n==null?void 0:n.passphrase)||R,n==null?void 0:n.keystore),ve){Y.next=9;break}return D.default.error({key:"passphraseError",message:re.formatMessage({id:"error.passphrase.error"}),duration:null}),se(""),Y.abrupt("return");case 9:k(ve),v(!0),Y.next=17;break;case 13:Y.prev=13,Y.t0=Y.catch(3),D.default.error({key:"passphraseError",message:re.formatMessage({id:"error.passphrase.error"}),duration:null}),se("");case 17:Y.next=20;break;case 19:D.default.error({key:"accessDenied",message:re.formatMessage({id:"error.accessDenied"}),duration:null});case 20:case"end":return Y.stop()}},Ue,null,[[3,13]])}));return function(Me,ne){return pe.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(oe.Z,{className:"".concat($().card," ").concat(a().exportCard),bodyStyle:{padding:0,width:"100%"},children:(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:re.formatMessage({id:"account.export.exportMnemonic"})}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{size:"large",shape:"round",type:"primary",onClick:function(){y(!0)},children:re.formatMessage({id:"common.export",defaultMessage:"Export"})})})]})}),(0,e.jsx)(js.Z,{visable:s,content:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(da.Z,{children:re.formatMessage({id:"account.export.mnemonic.title"})}),(0,e.jsx)(h.Z,{size:"large",value:P,readOnly:!0,className:a().secretInput}),(0,e.jsx)(Za.Z,{message:re.formatMessage({id:"account.export.warning"}),type:"warning",className:a().secretAlert,showIcon:!0})]}),footer:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:a().bottomButtons,children:[(0,e.jsx)(B(),{text:P,onCopy:function(){return M.default.success(re.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(x.Z,{block:!0,shape:"round",size:"large",className:a().button,icon:(0,e.jsx)(Re.Z,{}),children:re.formatMessage({id:"common.copy"})})}),(0,e.jsx)(x.Z,{block:!0,type:"primary",shape:"round",size:"large",className:a().button,onClick:function(){v(!1)},children:re.formatMessage({id:"common.close"})})]})})}),(0,e.jsx)(u.Z,{visable:d,setVisable:y,passphrase:R,setPassphrase:se,func:G})]})},ks=xs,Cs=function(){var i=(0,C.tT)("apiWs"),n=(0,C.YB)(),r=we.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(r,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(ie.Z,{src:"/images/icon/backup.svg",className:a().sectionIcon,preview:!1}),n.formatMessage({id:"account.export.title"})]}),(0,e.jsx)(Ve.Z,{loading:!i,children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:a().export,children:(0,e.jsx)(ks,{})})})})]})},Es=Cs,Ns=t(63667),za=new Ns.Y({type:"sr25519"}),Ds=function(){var p=(0,O.Z)(g().mark(function i(n,r,l,s,v,o,m){var d,y,b,f;return g().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(d=window.apiWs.tx.linker.linkSociality(r,l),!(o&&m)){k.next=6;break}return k.next=4,d.paymentInfo(m);case 4:return y=k.sent,k.abrupt("return",y);case 6:if(b=(0,Ie.Gh)(s,v),!(b==null||!b)){k.next=9;break}throw new Error("Wrong password");case 9:return f=za.createFromUri(b),k.next=12,(0,Na.Y)(d,f);case 12:return k.abrupt("return",k.sent);case 13:case"end":return k.stop()}},i)}));return function(n,r,l,s,v,o,m){return p.apply(this,arguments)}}(),ga=function(){var p=(0,O.Z)(g().mark(function i(n,r,l,s,v,o,m){var d,y,b,f;return g().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(d=window.apiWs.tx.linker.linkCrypto(n,r,l),!(o&&m)){k.next=6;break}return k.next=4,d.paymentInfo(m);case 4:return y=k.sent,k.abrupt("return",y);case 6:if(b=(0,Ie.Gh)(s,v),!(b==null||!b)){k.next=9;break}throw new Error("Wrong password");case 9:return f=za.createFromUri(b),k.next=12,(0,Na.Y)(d,f);case 12:return k.abrupt("return",k.sent);case 13:case"end":return k.stop()}},i)}));return function(n,r,l,s,v,o,m){return p.apply(this,arguments)}}(),Zs=t(60821),Ss="https://www.sollet.io",ya=new Zs.Z(Ss,"devnet"),ws=function(i){return new Promise(function(){var n=(0,O.Z)(g().mark(function r(l){return g().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return ya.on("connect",function(){var o=(0,O.Z)(g().mark(function m(d){var y,b,f,P;return g().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return console.log("Connected to "+d.toBase58()),y=d.toBase58(),b=new TextEncoder().encode(i),F.next=5,ya.sign(b,"utf8");case 5:f=F.sent,P=f.signature,console.log(P.toString("hex")),l({account:y,signedMsg:P.toString("hex")});case 9:case"end":return F.stop()}},m)}));return function(m){return o.apply(this,arguments)}}()),ya.on("disconnect",function(){return console.log("Disconnected")}),v.next=4,ya.connect();case 4:case"end":return v.stop()}},r)}));return function(r){return n.apply(this,arguments)}}())},Ps=t(67892),Ga=t(19338),_s=t(42484),Ha=t.n(_s),Ya={walletconnect:{package:Ps.Z,options:{infuraId:"836f7f85d3104fae9263dee3bcac66c9"}}};function Bs(p){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,O.Z)(g().mark(function p(i){var n,r,l,s,v,o;return g().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=new(Ha())({cacheProvider:!0,providerOptions:Ya}),d.prev=1,d.next=4,n.connect();case 4:return r=d.sent,l=new Ga.Q(r),s=l.getSigner(),d.next=9,s.getAddress();case 9:return v=d.sent,d.next=12,s.signMessage(i);case 12:return o=d.sent,n.clearCachedProvider(),d.abrupt("return",{account:v,signedMsg:o});case 17:return d.prev=17,d.t0=d.catch(1),console.log(d.t0),M.default.error(d.t0.message),d.abrupt("return",{account:"",signedMsg:""});case 22:case"end":return d.stop()}},p,null,[[1,17]])})),Sa.apply(this,arguments)}function Os(p){return wa.apply(this,arguments)}function wa(){return wa=(0,O.Z)(g().mark(function p(i){var n,r,l,s,v,o;return g().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=new(Ha())({network:"binance",cacheProvider:!0,providerOptions:Ya}),d.prev=1,d.next=4,n.connect();case 4:return r=d.sent,l=new Ga.Q(r),s=l.getSigner(),d.next=9,s.getAddress();case 9:return v=d.sent,d.next=12,s.signMessage(i);case 12:return o=d.sent,n.clearCachedProvider(),d.abrupt("return",{account:v,signedMsg:o});case 17:return d.prev=17,d.t0=d.catch(1),console.log(d.t0),M.default.error(d.t0.message),d.abrupt("return",{account:"",signedMsg:""});case 22:case"end":return d.stop()}},p,null,[[1,17]])})),wa.apply(this,arguments)}var Pa=t(59749),_a=t(57254),ra={validator:{paramiCommunity:"".concat(Qe.Z.main.airdropServer,"/validator")}},Is=function(i){var n=i.bindPlatform,r=i.setBindModal,l=(0,C.tT)("currentUser"),s=l.wallet,v=(0,E.useState)(!1),o=(0,Z.Z)(v,2),m=o[0],d=o[1],y=(0,E.useState)((s==null?void 0:s.passphrase)||""),b=(0,Z.Z)(y,2),f=b[0],P=b[1],k=(0,E.useState)(!1),F=(0,Z.Z)(k,2),ue=F[0],R=F[1],se=(0,E.useState)(""),re=(0,Z.Z)(se,2),G=re[0],pe=re[1],Ue=(0,E.useState)(!1),Me=(0,Z.Z)(Ue,2),ne=Me[0],ve=Me[1],Ce=(0,E.useState)(""),Y=(0,Z.Z)(Ce,2),V=Y[0],U=Y[1],Ze=(0,E.useState)(""),Ee=(0,Z.Z)(Ze,2),me=Ee[0],H=Ee[1],We=(0,E.useState)(""),Le=(0,Z.Z)(We,2),j=Le[0],Se=Le[1],Ma=(0,E.useState)(""),Xe=(0,Z.Z)(Ma,2),Ba=Xe[0],Oa=Xe[1],zs=(0,E.useState)(!1),Va=(0,Z.Z)(zs,2),Ke=Va[0],qe=Va[1],W=(0,C.YB)(),Gs=h.Z.TextArea,ze="",Be="",Qa=function(){var X=(0,O.Z)(g().mark(function q(){var I,T,fe,de,L,te,be,ea,na,Aa,c,ba,Ta,Ja,ua,Xa,qa,es;return g().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:if(!(!!s&&!!(s!=null&&s.keystore))){Ge.next=26;break}if(T=C.m8.location.query,fe=T,de=fe.audience,L=fe.scope,te=L!=null?L:"",be=te.indexOf("sign")>-1,ea="",na=Date.now()/1e3|0,Aa=JSON.stringify({alg:be?"SrDSA":"none",typ:"JWT"}),c=JSON.stringify({iss:window.location.origin,sub:s==null?void 0:s.account,aud:de,iat:na,exp:na+30}),ba="".concat((0,Pa.tH)(Aa),".").concat((0,Pa.tH)(c)),be){Ge.next=14;break}return ea="".concat(ba,"."),window.open("".concat(ra==null||(Ta=ra.validator)===null||Ta===void 0?void 0:Ta.paramiCommunity,"#stamp=").concat(ea,"&t=").concat(Date.now())),Ge.abrupt("return");case 14:if(Ja=new Fa.ZP({type:"sr25519"}),ua=(0,Ie.Gh)(f,s==null?void 0:s.keystore),!(ua==null||!ua)){Ge.next=19;break}return M.default.error(W.formatMessage({id:"error.passphrase.error"})),Ge.abrupt("return");case 19:Xa=Ja.createFromUri(ua),qa=Xa.sign(ba),es="".concat(ba,".").concat((0,Pa.tH)(qa)),ea=es,window.open("".concat(ra==null||(I=ra.validator)===null||I===void 0?void 0:I.paramiCommunity,"#stamp=").concat(ea,"&t=").concat(Date.now())),Ge.next=27;break;case 26:D.default.error({key:"accessDenied",message:W.formatMessage({id:"error.accessDenied"}),duration:null});case 27:case"end":return Ge.stop()}},q)}));return function(){return X.apply(this,arguments)}}(),Hs=function(){var X=(0,O.Z)(g().mark(function q(I,T){var fe;return g().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!(!!s&&!!(s!=null&&s.did)&&!!s.keystore)){L.next=21;break}if(G!==""){L.next=4;break}return M.default.error(W.formatMessage({id:"error.sns.emptyInput"})),L.abrupt("return");case 4:return L.prev=4,L.next=7,Ds(s==null?void 0:s.did,n,G,f,s==null?void 0:s.keystore,I,T);case 7:if(fe=L.sent,R(!1),r(!1),!(I&&T)){L.next=12;break}return L.abrupt("return",fe);case 12:L.next=19;break;case 14:return L.prev=14,L.t0=L.catch(4),D.default.error({message:W.formatMessage({id:L.t0.message||L.t0})}),R(!1),L.abrupt("return");case 19:L.next=22;break;case 21:D.default.error({key:"accessDenied",message:W.formatMessage({id:"error.accessDenied"}),duration:null});case 22:case"end":return L.stop()}},q,null,[[4,14]])}));return function(I,T){return X.apply(this,arguments)}}(),Ia=function(){var X=(0,O.Z)(g().mark(function q(I,T){var fe,de;return g().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(!(!!s&&!!s.keystore)){te.next=21;break}return fe=j,(n==="Polkadot"||n==="Solana")&&(fe="0x00".concat(j)),te.prev=4,te.next=7,ga(n,me,fe,f,s==null?void 0:s.keystore,I,T);case 7:if(de=te.sent,r(!1),R(!1),!(I&&T)){te.next=12;break}return te.abrupt("return",de);case 12:te.next=19;break;case 14:return te.prev=14,te.t0=te.catch(4),D.default.error({message:W.formatMessage({id:te.t0.message||te.t0})}),R(!1),te.abrupt("return");case 19:te.next=22;break;case 21:D.default.error({key:"accessDenied",message:W.formatMessage({id:"error.accessDenied"}),duration:null});case 22:case"end":return te.stop()}},q,null,[[4,14]])}));return function(I,T){return X.apply(this,arguments)}}(),Ys=function(){var X=(0,O.Z)(g().mark(function q(I,T){var fe,de,L,te,be,ea,na;return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(!!s&&!!(s!=null&&s.keystore))){c.next=107;break}R(!0),c.t0=n,c.next=c.t0==="Discord"?5:c.t0==="Telegram"?10:c.t0==="Ethereum"?24:c.t0==="Binance"?51:c.t0==="Solana"?78:104;break;case 5:return c.next=7,Qa();case 7:return R(!1),r(!1),c.abrupt("break",104);case 10:if(!ne){c.next=17;break}return c.next=13,Qa();case 13:R(!1),r(!1),c.next=23;break;case 17:return c.next=19,Hs(I,T);case 19:if(fe=c.sent,!(I&&T)){c.next=22;break}return c.abrupt("return",fe);case 22:return c.abrupt("break",104);case 23:return c.abrupt("break",104);case 24:c.t1=Ba,c.next=c.t1==="walletconnect"?27:44;break;case 27:if(c.prev=27,!(!!me&&!!j||!!ze&&!!Be)){c.next=36;break}return D.default.info({message:"Got an signed message",description:j||Be,duration:2}),c.next=32,ga(n,me||ze,j||Be,f,s==null?void 0:s.keystore,I,T);case 32:if(de=c.sent,r(!1),!(I&&T)){c.next=36;break}return c.abrupt("return",de);case 36:R(!1),c.next=43;break;case 39:c.prev=39,c.t2=c.catch(27),D.default.error({message:W.formatMessage({id:c.t2.message||c.t2}),duration:null}),R(!1);case 43:return c.abrupt("break",50);case 44:return c.next=46,Ia(I,T);case 46:if(L=c.sent,!(I&&T)){c.next=49;break}return c.abrupt("return",L);case 49:return c.abrupt("break",50);case 50:return c.abrupt("break",104);case 51:c.t3=Ba,c.next=c.t3==="walletconnect"?54:71;break;case 54:if(c.prev=54,!(!!me&&!!j||!!ze&&!!Be)){c.next=63;break}return D.default.info({message:"Got an signed message",description:j||Be,duration:2}),c.next=59,ga(n,me||ze,j||Be,f,s==null?void 0:s.keystore,I,T);case 59:if(te=c.sent,r(!1),!(I&&T)){c.next=63;break}return c.abrupt("return",te);case 63:R(!1),c.next=70;break;case 66:c.prev=66,c.t4=c.catch(54),D.default.error({message:W.formatMessage({id:c.t4.message||c.t4}),duration:null}),R(!1);case 70:return c.abrupt("break",77);case 71:return c.next=73,Ia(I,T);case 73:if(be=c.sent,!(I&&T)){c.next=76;break}return c.abrupt("return",be);case 76:return c.abrupt("break",77);case 77:return c.abrupt("break",104);case 78:c.t5=Ba,c.next=c.t5==="sollet"?81:98;break;case 81:if(c.prev=81,!(!!me&&!!j||!!ze&&!!Be)){c.next=90;break}return D.default.info({message:"Got an signed message",description:"0x00".concat(j||Be),duration:2}),c.next=86,ga(n,me||ze,"0x00".concat(j||Be),f,s==null?void 0:s.keystore,I,T);case 86:if(ea=c.sent,r(!1),!(I&&T)){c.next=90;break}return c.abrupt("return",ea);case 90:R(!1),c.next=97;break;case 93:c.prev=93,c.t6=c.catch(81),D.default.error({message:W.formatMessage({id:c.t6.message||c.t6})}),R(!1);case 97:return c.abrupt("break",104);case 98:return c.next=100,Ia(I,T);case 100:if(na=c.sent,!(I&&T)){c.next=103;break}return c.abrupt("return",na);case 103:return c.abrupt("break",104);case 104:c.next=108;break;case 107:D.default.error({key:"accessDenied",message:W.formatMessage({id:"error.accessDenied"}),duration:null});case 108:case"end":return c.stop()}},q,null,[[27,39],[54,66],[81,93]])}));return function(I,T){return X.apply(this,arguments)}}();return(0,E.useEffect)(function(){!!s&&!!(s!=null&&s.did)?U("Link: ".concat((0,S.st)(s==null?void 0:s.did))):D.default.error({key:"accessDenied",message:W.formatMessage({id:"error.accessDenied"}),duration:null})},[]),(0,E.useEffect)(function(){qe(n==="Ethereum"||n==="Binance"||n==="Polkadot"||n==="Solana"||n==="Tron")},[n]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ye.Z,{tip:W.formatMessage({id:"common.submitting"}),spinning:ue,children:(0,e.jsxs)("div",{className:a().bindModal,children:[n==="Telegram"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Pe,{width:200,height:200}),(0,e.jsx)("span",{className:a().avatarSaveDesc,children:W.formatMessage({id:"wallet.avatar.saveDesc"})}),(0,e.jsx)(Za.Z,{message:W.formatMessage({id:"social.sns.setAvatar.telegram"}),type:"warning"}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:W.formatMessage({id:"social.sns.username"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(h.Z,{addonBefore:"@",size:"large",onChange:function(q){return pe("https://t.me/".concat(q.target.value))}})})]}),(0,e.jsx)("div",{className:a().field,children:(0,e.jsx)(x.Z,{block:!0,size:"large",type:"primary",shape:"round",onClick:function(){d(!0)},disabled:!G,children:W.formatMessage({id:"common.submit"})})})]}),n==="Twitter"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Pe,{width:200,height:200}),(0,e.jsx)("span",{className:a().avatarSaveDesc,children:W.formatMessage({id:"wallet.avatar.saveDesc"})}),(0,e.jsx)(Za.Z,{message:W.formatMessage({id:"social.sns.setAvatar"}),type:"warning"}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:W.formatMessage({id:"social.sns.username"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(h.Z,{addonBefore:"@",size:"large",onChange:function(q){return pe("https://twitter.com/".concat(q.target.value))}})})]}),(0,e.jsx)("div",{className:a().field,children:(0,e.jsx)(x.Z,{block:!0,size:"large",type:"primary",shape:"round",onClick:function(){d(!0),ve(!1)},disabled:!G,children:W.formatMessage({id:"common.submit"})})})]}),n==="Discord"&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:a().field,children:(0,e.jsx)(x.Z,{block:!0,size:"large",type:"primary",shape:"round",onClick:function(){d(!0),ve(!0)},children:"Parami Community"})})}),(n==="Ethereum"||n==="Binance")&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(x.Z,{block:!0,type:"primary",size:"large",shape:"round",className:a().iconButton,icon:(0,e.jsx)("img",{src:"/images/sns/walletconnect-white.svg"}),style:{backgroundColor:"#3B99FC"},onClick:(0,O.Z)(g().mark(function X(){var q,I,T,fe,de,L;return g().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!(n==="Ethereum"&&!me&&!j)){be.next=10;break}return be.next=3,Bs(V);case 3:q=be.sent,I=q.account,T=q.signedMsg,ze=I,Be=T,H(I),Se(T);case 10:if(!(n==="Binance"&&!me&&!j)){be.next=20;break}return be.next=13,Os(V);case 13:fe=be.sent,de=fe.account,L=fe.signedMsg,ze=de,Be=L,H(de),Se(L);case 20:Oa("walletconnect"),d(!0);case 22:case"end":return be.stop()}},X)})),children:W.formatMessage({id:"social.blockchain.walletconnet"})}),(0,e.jsx)("div",{style:{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:function(){qe(!Ke)},children:(0,e.jsxs)(da.Z,{children:[W.formatMessage({id:"social.blockchain.manual"}),(0,e.jsx)(x.Z,{type:"link",icon:(0,e.jsx)(_a.Z,{rotate:Ke?-180:0,className:a().expandButtonIcon}),onClick:function(){qe(!Ke)}})]})})]}),n==="Solana"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(x.Z,{block:!0,type:"primary",size:"large",shape:"round",className:a().iconButton,icon:(0,e.jsx)("img",{src:"/images/crypto/solana-sol-logo.svg"}),style:{backgroundColor:"#512da8"},onClick:(0,O.Z)(g().mark(function X(){var q,I,T;return g().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(!(!me&&!j)){de.next=10;break}return de.next=3,ws(V);case 3:q=de.sent,I=q.account,T=q.signedMsg,ze=I,Be=T,H(I),Se(T);case 10:Oa("sollet"),d(!0);case 12:case"end":return de.stop()}},X)})),children:W.formatMessage({id:"social.blockchain.sollet"})}),(0,e.jsx)("div",{style:{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:function(){qe(!Ke)},children:(0,e.jsxs)(da.Z,{children:[W.formatMessage({id:"social.blockchain.manual"}),(0,e.jsx)(x.Z,{type:"link",icon:(0,e.jsx)(_a.Z,{rotate:Ke?-180:0,className:a().expandButtonIcon}),onClick:function(){qe(!Ke)}})]})})]}),(n==="Polkadot"||n==="Tron")&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(x.Z,{block:!0,type:"primary",size:"large",shape:"round",className:a().iconButton,icon:(0,e.jsx)("img",{src:"/images/sns/tokenpocket-white.svg"}),style:{backgroundColor:"#2980FE"},onClick:function(){Oa("tokenpocket"),d(!0)},children:W.formatMessage({id:"social.blockchain.tokenpocket"})}),(0,e.jsx)("div",{style:{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:function(){qe(!Ke)},children:(0,e.jsxs)(da.Z,{children:[W.formatMessage({id:"social.blockchain.manual"}),(0,e.jsx)(x.Z,{type:"link",icon:(0,e.jsx)(_a.Z,{rotate:Ke?-180:0,className:a().expandButtonIcon}),onClick:function(){qe(!Ke)}})]})})]}),(n==="Ethereum"||n==="Binance"||n==="Solana"||n==="Polkadot"||n==="Tron")&&(0,e.jsxs)("div",{className:a().manualContainer,style:{maxHeight:Ke?0:"100vh"},children:[(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:W.formatMessage({id:"social.blockchain.originText"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(B(),{text:V,onCopy:function(){return M.default.success(W.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(h.Z,{readOnly:!0,size:"large",value:V})})})]}),(0,e.jsx)(da.Z,{children:W.formatMessage({id:"social.blockchain.tip"})}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:W.formatMessage({id:"social.blockchain.signed"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(Gs,{size:"large",rows:4,value:j,onChange:function(q){Se(q.target.value)}})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:W.formatMessage({id:"social.blockchain.address"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(h.Z,{size:"large",onChange:function(q){H(q.target.value)}})})]}),(0,e.jsx)("div",{className:a().field,children:(0,e.jsx)(x.Z,{block:!0,size:"large",type:"primary",shape:"round",onClick:function(){P(""),d(!0)},disabled:!me||!j||me.indexOf("0x")==-1||j.indexOf("0x")==-1,children:W.formatMessage({id:"common.submit"})})})]})]})}),(0,e.jsx)(u.Z,{visable:m,setVisable:d,passphrase:f,setPassphrase:P,func:Ys})]})},As=Is,ca=t(7085),Ts=function(i){var n=i.setBindModal,r=i.setBindPlatform,l=(0,C.tT)("sns"),s=(0,C.YB)(),v=we.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(v,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(ie.Z,{src:"/images/icon/sns.svg",className:a().sectionIcon,preview:!1}),s.formatMessage({id:"account.sns.title"})]}),(0,e.jsx)(Ve.Z,{loading:!Object.keys(l).length,height:400,children:(0,e.jsx)("div",{className:a().bind,children:(0,e.jsxs)(oe.Z,{className:"".concat($().card," ").concat(a().bindCard),bodyStyle:{padding:0,width:"100%"},children:[(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)(ie.Z,{className:a().icon,src:"/images/sns/telegram.svg",preview:!1}),(0,e.jsx)("span",{className:a().label,children:"Telegram"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(ye.Z,{indicator:(0,e.jsx)(ca.Z,{spin:!0}),spinning:!Object.keys(l).length,children:(0,e.jsxs)(x.Z,{disabled:l.Telegram!==null,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Telegram")},children:[!l.Telegram&&s.formatMessage({id:"social.bind"}),l.Telegram==="linked"&&s.formatMessage({id:"social.binded"}),l.Telegram==="verifing"&&s.formatMessage({id:"social.verifing"})]})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/discord.svg"}),(0,e.jsx)("span",{className:a().label,children:"Discord"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(ye.Z,{indicator:(0,e.jsx)(ca.Z,{spin:!0}),spinning:!Object.keys(l).length,children:(0,e.jsxs)(x.Z,{disabled:l.Discord!==null,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Discord")},children:[!l.Discord&&s.formatMessage({id:"social.bind"}),l.Discord==="linked"&&s.formatMessage({id:"social.binded"}),l.Discord==="verifing"&&s.formatMessage({id:"social.verifing"})]})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/twitter.svg"}),(0,e.jsx)("span",{className:a().label,children:"Twitter"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Twitter")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/facebook.svg"}),(0,e.jsx)("span",{className:a().label,children:"Facebook"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Facebook")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/mastodon.svg"}),(0,e.jsx)("span",{className:a().label,children:"Mastodon"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Mastodon")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/github.svg"}),(0,e.jsx)("span",{className:a().label,children:"Github"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Github")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/hacker-news.svg"}),(0,e.jsx)("span",{className:a().label,children:"Hacker News"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Github")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/reddit.svg"}),(0,e.jsx)("span",{className:a().label,children:"Reddit"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Reddit")},children:s.formatMessage({id:"social.coming"})})})]})]})})})]})},Us=Ts,Ws=function(i){var n=i.setBindModal,r=i.setBindPlatform,l=(0,C.tT)("sns"),s=(0,C.YB)(),v=we.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(v,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(ie.Z,{src:"/images/icon/chain.svg",className:a().sectionIcon,preview:!1}),s.formatMessage({id:"account.blockchain.title"})]}),(0,e.jsx)(Ve.Z,{loading:!Object.keys(l).length,height:400,children:(0,e.jsx)("div",{className:a().bind,children:(0,e.jsxs)(oe.Z,{className:"".concat($().card," ").concat(a().bindCard),bodyStyle:{padding:0,width:"100%"},children:[(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)(ie.Z,{className:a().icon,src:"/images/crypto/ethereum-eth-logo.svg",preview:!1}),(0,e.jsx)("span",{className:a().label,children:"ETH"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(ye.Z,{indicator:(0,e.jsx)(ca.Z,{spin:!0}),spinning:!Object.keys(l).length,children:(0,e.jsxs)(x.Z,{disabled:l.Ethereum!==null,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Ethereum")},children:[!l.Ethereum&&s.formatMessage({id:"social.bind"}),l.Ethereum==="linked"&&s.formatMessage({id:"social.binded"}),l.Ethereum==="verifing"&&s.formatMessage({id:"social.verifing"})]})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/solana-sol-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"SOL"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(ye.Z,{indicator:(0,e.jsx)(ca.Z,{spin:!0}),spinning:!Object.keys(l).length,children:(0,e.jsxs)(x.Z,{disabled:l.Solana!==null,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Solana")},children:[!l.Solana&&s.formatMessage({id:"social.bind"}),l.Solana==="linked"&&s.formatMessage({id:"social.binded"}),l.Solana==="verifing"&&s.formatMessage({id:"social.verifing"})]})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/binance-bsc-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"BSC"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(ye.Z,{indicator:(0,e.jsx)(ca.Z,{spin:!0}),spinning:!Object.keys(l).length,children:(0,e.jsxs)(x.Z,{disabled:l.Binance!==null,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Binance")},children:[!l.Binance&&s.formatMessage({id:"social.bind"}),l.Binance==="linked"&&s.formatMessage({id:"social.binded"}),l.Binance==="verifing"&&s.formatMessage({id:"social.verifing"})]})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/bitcoin-btc-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"BTC"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Bitcoin")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/eos-eos-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"EOS"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Eosio")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/kusama-ksm-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"KSM"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Kusama")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/polkadot-new-dot-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"DOT"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Polkadot")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/tron-trx-logo.png"}),(0,e.jsx)("span",{className:a().label,children:"TRX"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(x.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){n(!0),r("Tron")},children:s.formatMessage({id:"social.coming"})})})]})]})})})]})},Ls=Ws,Ks=function(){var i=(0,C.tT)("sns"),n=(0,E.useState)(!1),r=(0,Z.Z)(n,2),l=r[0],s=r[1],v=(0,E.useState)(""),o=(0,Z.Z)(v,2),m=o[0],d=o[1],y=C.m8.location.query,b=y,f=b.from,P=(0,C.YB)();return(0,E.useEffect)(function(){!Object.keys(i).length||!!f&&!i[f]&&(s(!0),d(f))},[f,i]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(Us,{setBindModal:s,setBindPlatform:d})}),(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(Ls,{setBindModal:s,setBindPlatform:d})}),(0,e.jsx)(A.Z,{visable:l,title:P.formatMessage({id:"social.bind.sns.title"},{platform:m}),content:(0,e.jsx)(As,{bindPlatform:m,setBindModal:s}),close:function(){s(!1),C.m8.replace(Qe.Z.page.accountPage)},footer:!1})]})},Rs=Ks,Fs=function(){return(0,e.jsx)("div",{className:$().mainTopContainer,children:(0,e.jsxs)("div",{className:a().profileContainer,children:[(0,e.jsxs)("div",{className:a().left,children:[(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(ja,{})}),(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(Rs,{})})]}),(0,e.jsxs)("div",{className:a().right,children:[(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(bs,{})}),(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(va,{})}),(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(Es,{})})]})]})})},$s=Fs},47832:function(ce,ge,t){"use strict";t.d(ge,{QM:function(){return Ne},Gh:function(){return oe}});var E=t(74379),je=t(38648),$=t(81354),z=t.n($),a=function(Q){var ee=Q;if(ee===""||ee===void 0||!ee){je.default.error({message:"Wrong Password",duration:null});return}var M=ee.length%4;M=4-M;for(var ke=0;ke<M;ke+=1)ee=ee.concat("p");return ee},Ne=function(Q,ee){var M=a(Q);if(!(M==null||!M)){var ke=z().enc.Utf8.parse(M),x=z().enc.Utf8.parse(M),Ae=z().enc.Utf8.parse(ee),ie=z().AES.encrypt(Ae,ke,{keySize:128/8,iv:x,mode:z().mode.CBC,padding:z().pad.Pkcs7});return ie.ciphertext.toString()}},oe=function(Q,ee){var M=a(Q);if(!(M==null||!M)){var ke=z().enc.Utf8.parse(M),x=z().enc.Utf8.parse(M),Ae=z().enc.Hex.parse(ee),ie=z().enc.Base64.stringify(Ae),He=z().AES.decrypt(ie,ke,{keySize:128/8,iv:x,mode:z().mode.CBC,padding:z().pad.Pkcs7});return He.toString(z().enc.Utf8)}}},60058:function(ce,ge,t){"use strict";t.d(ge,{kp:function(){return ke},Bc:function(){return x},Rg:function(){return Ae},RA:function(){return ie},sG:function(){return He},qy:function(){return Z},wz:function(){return C},Lu:function(){return Oe},Ob:function(){return Re},UB:function(){return J}});var E=t(8870),je=t(2824),$=t(3182),z=t(94043),a=t.n(z),Ne=t(96534),oe=t(55347),xe=t(46312),Q=t(47832),ee=t(81603),M=new oe.ZP({type:"sr25519"}),ke=function(){var ae=(0,$.Z)(a().mark(function S(){var _;return a().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,xe._)(12);case 2:return _=w.sent,w.abrupt("return",{mnemonic:_});case 4:case"end":return w.stop()}},S)}));return function(){return ae.apply(this,arguments)}}(),x=function(){var ae=(0,$.Z)(a().mark(function S(_,B){var w;return a().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return w="",w=(0,Q.QM)(B,_),K.abrupt("return",{keystore:w});case 3:case"end":return K.stop()}},S)}));return function(_,B){return ae.apply(this,arguments)}}(),Ae=function(){var ae=(0,$.Z)(a().mark(function S(_){var B;return a().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return B=M.createFromUri(_),h.abrupt("return",{address:B.address});case 2:case"end":return h.stop()}},S)}));return function(_){return ae.apply(this,arguments)}}(),ie=function(){var ae=(0,$.Z)(a().mark(function S(_){var B;return a().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,window.apiWs.query.did.didOf(_);case 2:if(B=h.sent,!B.isEmpty){h.next=5;break}return h.abrupt("return",null);case 5:return h.abrupt("return",B.toHuman().toString());case 6:case"end":return h.stop()}},S)}));return function(_){return ae.apply(this,arguments)}}(),He=function(){var ae=(0,$.Z)(a().mark(function S(_,B,w,h){var K,D,O,le;return a().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,window.apiWs.tx.did.register(null);case 2:if(K=A.sent,!(w&&h)){A.next=8;break}return A.next=6,K.paymentInfo(h);case 6:return D=A.sent,A.abrupt("return",D);case 8:if(O=(0,Q.Gh)(_,B),!(O==null||!O)){A.next=11;break}return A.abrupt("return");case 11:return le=M.createFromUri(O),A.next=14,(0,ee.Y)(K,le);case 14:return A.abrupt("return",A.sent);case 15:case"end":return A.stop()}},S)}));return function(_,B,w,h){return ae.apply(this,arguments)}}(),we=null,Z=function(){var ae=(0,$.Z)(a().mark(function S(_){var B;return a().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return B=M.createFromUri(_),h.abrupt("return",{address:B.address});case 2:case"end":return h.stop()}},S)}));return function(_){return ae.apply(this,arguments)}}(),C=function(){var ae=(0,$.Z)(a().mark(function S(){var _;return a().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,window.apiWs.consts.balances.existentialDeposit;case 2:return _=w.sent,w.abrupt("return",_.toString());case 4:case"end":return w.stop()}},S)}));return function(){return ae.apply(this,arguments)}}(),Oe=function(){var ae=(0,$.Z)(a().mark(function S(_){var B,w;return a().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,window.apiWs.query.system.account(_);case 2:if(w=K.sent,!w.isEmpty){K.next=5;break}return K.abrupt("return",!1);case 5:if(((B=w.toHuman())===null||B===void 0?void 0:B.nonce)!==0){K.next=7;break}return K.abrupt("return",!1);case 7:return K.abrupt("return",!0);case 8:case"end":return K.stop()}},S)}));return function(_){return ae.apply(this,arguments)}}(),Re=function(){var ae=(0,$.Z)(a().mark(function S(_){var B,w,h,K,D,O,le;return a().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return B=(0,Ne.Zc)(_),A.next=3,window.apiWs.query.did.metadata(B);case 3:if(w=A.sent,w.isEmpty){A.next=13;break}return h=w.toHuman(),A.next=8,window.apiWs.rpc.did.batchGetMetadata(_,["pic","name"]);case 8:return K=A.sent,D=(0,je.Z)(K,2),O=D[0],le=D[1],A.abrupt("return",(0,E.Z)((0,E.Z)({},h),{},{avatar:O,nickname:le}));case 13:return A.abrupt("return",null);case 14:case"end":return A.stop()}},S)}));return function(_){return ae.apply(this,arguments)}}(),J=function(){var ae=(0,$.Z)(a().mark(function S(_,B,w,h,K){var D,O,le,g;return a().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(D=window.apiWs.tx.did.setMetadata("name",_),!(h&&K)){u.next=6;break}return u.next=4,D.paymentInfo(K);case 4:return O=u.sent,u.abrupt("return",O);case 6:if(le=(0,Q.Gh)(B,w),!(le==null||!le)){u.next=9;break}throw new Error("Wrong password");case 9:return g=M.createFromUri(le),u.next=12,(0,ee.Y)(D,g);case 12:return u.abrupt("return",u.sent);case 13:case"end":return u.stop()}},S)}));return function(_,B,w,h,K){return ae.apply(this,arguments)}}()},80950:function(){},96419:function(){},56353:function(){},8623:function(){},42480:function(){},7748:function(){},56619:function(){},77108:function(){},55024:function(){}}]);

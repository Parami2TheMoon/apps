(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[1789],{55133:function(O){O.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(O){O.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},43777:function(O){O.exports={formContainer:"formContainer___2zmWq",field:"field___WnDlm",title:"title___31j69",value:"value___3pHlH",headerContainer:"headerContainer___1pC4E",titleContainer:"titleContainer___2JsbX",sectionTitle:"sectionTitle___2Npwq",sectionIcon:"sectionIcon___2Fhyf",subtitle:"subtitle___3GRHS",stepContainer:"stepContainer___1Mt0V",previewContainer:"previewContainer___3snig",bidSectionContainer:"bidSectionContainer___3B9pB",currentPrice:"currentPrice___Px9UZ",currentPriceTitle:"currentPriceTitle___2C-bO",currentPriceValue:"currentPriceValue___17Y82",priceField:"priceField___YQDTC",priceFieldTitle:"priceFieldTitle___pgGSv",tokenBalance:"tokenBalance___VwIsx",bidBtnContainer:"bidBtnContainer___2Tl2l",inputError:"inputError___2kycH"}},8556:function(O){O.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(O){O.exports={tag:"tag___sah2p"}},24787:function(O){O.exports={mainContainer:"mainContainer___VzUCC",mainBgContainer:"mainBgContainer___2Nlq7",mainIndexContainer:"mainIndexContainer___1Mqvq",background:"background___25786",logoMark:"logoMark___153gX",mainTopContainer:"mainTopContainer___2Cw6K",pageContainer:"pageContainer___2ssxe",stepContainer:"stepContainer___LPJXV",contentContainer:"contentContainer___2e-al",badge:"badge___3vf4B",dashboardCard:"dashboardCard___3oOcj",windowCard:"windowCard___3FjX2",windowCardBody:"windowCardBody___2zSRs",field:"field___3q5d2",title:"title___1BPSo",value:"value___1TvCY",rowField:"rowField___1vUg5",switchButton:"switchButton___3EjXy",statistic:"statistic___2TWER",modalBody:"modalBody___3SJQA",dividerTitle:"dividerTitle___1UTj3",table:"table___1zfPw",withAfterInput:"withAfterInput___3UZxJ",tabSelector:"tabSelector___2tj32",tabItem:"tabItem___3ymbk",inactive:"inactive___12iuZ",noAssets:"noAssets___FcwbD",topImage:"topImage___mHPfd"}},29303:function(O,T,a){"use strict";var R=a(85893),I=function(j){var p=j.msg;return(0,R.jsx)("span",{style:{color:"#ff5b00"},children:p})};T.Z=I},59109:function(O,T,a){"use strict";var R=a(85893),I=function(j){var p=j.title,b=j.required;return(0,R.jsxs)(R.Fragment,{children:[!!b&&(0,R.jsx)("span",{style:{color:"#ff5b00",paddingRight:"0.2em"},children:"*"}),p||""]})};T.Z=I},46656:function(O,T,a){"use strict";var R=a(71194),I=a(50146),D=a(47673),j=a(32787),p=a(22385),b=a(31097),K=a(17462),Z=a(76772),H=a(57663),$=a(71577),P=a(74379),y=a(38648),r=a(3182),C=a(2824),V=a(402),n=a(3887),w=a(94043),x=a.n(w),A=a(67294),F=a(43581),U=a(55133),E=a.n(U),G=a(3548),k=a(68855),u=a(47832),ce=a(55347),Ne=a(51625),d=a(85893),Oe=n.Z.Title,je=function(J){var ve=J.visable,Pe=J.setVisable,s=J.passphrase,S=J.setPassphrase,l=J.func,L=J.changePassphrase,X=(0,F.tT)("apiWs"),z=(0,F.tT)("currentUser"),c=z.wallet,t=(0,F.tT)("balance"),sa=t.balance,_e=(0,A.useState)(!1),Ce=(0,C.Z)(_e,2),ne=Ce[0],fe=Ce[1],Te=(0,A.useState)(),Q=(0,C.Z)(Te,2),ae=Q[0],ta=Q[1],se=(0,F.YB)(),na=function(q){S(q?q.target.value:"")},re=function(){var le=(0,r.Z)(x().mark(function q(){var ie,he,e,He,ke;return x().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(fe(!0),c!=null&&c.passphrase&&S(c==null?void 0:c.passphrase),!((!s||s.length<6)&&!(c!=null&&c.passphrase))){W.next=5;break}return fe(!1),W.abrupt("return");case 5:if(ie=(c==null?void 0:c.passphrase)||s,!(ie&&c!==null&&c!==void 0&&c.keystore)){W.next=16;break}if(he=(0,u.Gh)(ie,c.keystore),he){W.next=13;break}return y.default.error({key:"passphraseError",message:se.formatMessage({id:"error.passphrase.error"}),duration:null}),S(""),fe(!1),W.abrupt("return");case 13:e=new ce.ZP({type:"sr25519"}),He=e.addFromUri(he),ke=He.address,c!=null&&c.account&&c.account!==ke&&(localStorage.clear(),sessionStorage.clear(),window.location.href=Ne.Z.page.homePage);case 16:if(!l){W.next=25;break}return W.prev=17,W.next=20,l();case 20:W.next=25;break;case 22:W.prev=22,W.t0=W.catch(17),console.log("security modal submit func error fallback",W.t0);case 25:Pe(!1),fe(!1);case 27:case"end":return W.stop()}},q,null,[[17,22]])}));return function(){return le.apply(this,arguments)}}(),Fe=function(){var le=(0,r.Z)(x().mark(function q(){var ie;return x().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!!X&&!!c.account)){e.next=11;break}return e.next=3,l(!0,c.account);case 3:if(ie=e.sent,!ie){e.next=8;break}ta(ie.partialFee),e.next=11;break;case 8:if(L){e.next=11;break}return e.next=11,re();case 11:case"end":return e.stop()}},q)}));return function(){return le.apply(this,arguments)}}();return(0,A.useEffect)(function(){!!X&&!!(c!=null&&c.account)&&ve&&Fe()},[X,c==null?void 0:c.account,ve]),(0,A.useEffect)(function(){!!(c!=null&&c.passphrase)&&ve&&!L&&S(c==null?void 0:c.passphrase)},[c==null?void 0:c.passphrase,s,ve,L]),(0,d.jsxs)(I.Z,{title:(0,d.jsx)(Oe,{level:3,children:se.formatMessage({id:"modal.security.title"})}),closable:!1,className:E().modal,centered:!0,visible:ve,width:400,footer:(0,d.jsxs)("div",{className:E().buttons,children:[(0,d.jsx)($.Z,{type:"text",shape:"round",size:"large",className:E().button,onClick:function(){Pe(!1),window.location.reload()},loading:ne,children:se.formatMessage({id:"common.decline"})}),(0,d.jsx)($.Z,{type:"primary",shape:"round",size:"large",className:E().button,onClick:function(){re()},disabled:!s||s.length<6,loading:ne,children:se.formatMessage({id:"common.confirm"})})]}),children:[(0,d.jsxs)("div",{className:E().confirmContainer,children:[!!ae&&!!(ae!=null&&ae.toString())>sa.free&&(0,d.jsx)(Z.Z,{description:se.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:E().alertContainer}),!!ae&&(0,d.jsxs)("div",{className:E().field,children:[(0,d.jsxs)("div",{className:E().labal,children:[se.formatMessage({id:"modal.security.gas"}),(0,d.jsxs)("span",{className:E().small,children:["(",se.formatMessage({id:"modal.security.estimated"}),")"]}),(0,d.jsx)(b.Z,{placement:"bottom",title:se.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,d.jsx)(k.Z,{className:E().labalIcon})})]}),(0,d.jsx)("div",{className:E().value,children:(0,d.jsx)(G.Z,{value:ae,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(c!=null&&c.passphrase)||L)&&(0,d.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,d.jsxs)("div",{className:E().codeInput,children:[(0,d.jsxs)("div",{className:E().verifyForm,children:[(0,d.jsx)("span",{className:(s==null?void 0:s.slice(0))&&!(s!=null&&s.slice(1,5))&&E().highLight,children:s==null?void 0:s.slice(0,1).replace(/[^]/,"\u2731")}),(0,d.jsx)("span",{className:(s==null?void 0:s.slice(1))&&!(s!=null&&s.slice(2,5))&&E().highLight,children:s==null?void 0:s.slice(1,2).replace(/[^]/,"\u2731")}),(0,d.jsx)("span",{className:(s==null?void 0:s.slice(2,3))&&!(s!=null&&s.slice(3,5))&&E().highLight,children:s==null?void 0:s.slice(2,3).replace(/[^]/,"\u2731")}),(0,d.jsx)("span",{className:(s==null?void 0:s.slice(3,4))&&!(s!=null&&s.slice(4,5))&&E().highLight,children:s==null?void 0:s.slice(3,4).replace(/[^]/,"\u2731")}),(0,d.jsx)("span",{className:(s==null?void 0:s.slice(4,5))&&!(s!=null&&s.slice(5))&&E().highLight,children:s==null?void 0:s.slice(4,5).replace(/[^]/,"\u2731")}),(0,d.jsx)("span",{className:(s==null?void 0:s.slice(5))&&E().highLight,children:s==null?void 0:s.slice(5).replace(/[^]/,"\u2731")})]}),(0,d.jsx)(j.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:E().verifyInput,onChange:na,value:s,disabled:ne,maxLength:6,visibilityToggle:!1})]})})]})};T.Z=je},3548:function(O,T,a){"use strict";var R=a(67294),I=a(31639),D=a.n(I),j=a(96534),p=a(85893),b=function(Z){var H=Z.value,$=Z.style;return(0,p.jsxs)("div",{className:D().ad3,style:$,children:[H?(0,j.MP)(H):"--",(0,p.jsx)("span",{className:D().unit,children:"\xA0$AD3"})]})};T.Z=b},57651:function(O,T,a){"use strict";var R=a(67294),I=a(31639),D=a.n(I),j=a(96534),p=a(85893),b=function(Z){var H=Z.value,$=Z.symbol,P=Z.decimals,y=P===void 0?18:P;return(0,p.jsxs)("div",{className:D().ad3,children:[H?(0,j.MP)(H.replaceAll(",",""),y):"--",$&&(0,p.jsxs)("span",{className:D().unit,children:["\xA0$",$]})]})};T.Z=b},74432:function(O,T,a){"use strict";a.r(T),a.d(T,{default:function(){return ss}});var R=a(71194),I=a(50146),D=a(13062),j=a(36725),p=a(89032),b=a(1635),K=a(58024),Z=a(39144),H=a(71153),$=a(60331),P=a(43185),y=a(35372),r=a(57663),C=a(71577),V=a(47673),n=a(32787),w=a(12968),x=a(62462),A=a(86582),F=a(34792),U=a(48086),E=a(74379),G=a(38648),k=a(3182),u=a(2824),ce=a(19273),Ne=a(35556),d=a(97880),Oe=a(43358),je=a(90927),aa=a(7359),J=a(27279),ve=a(402),Pe=a(3887),s=a(94043),S=a.n(s),l=a(67294),L=a(43581),X=a(51615),z=a(59109),c=a(43777),t=a.n(c),sa=a(55909),_e=a.n(sa),Ce=a(33044),ne=a(51625),fe=a(84391),Te=a(7085),Q=a(96534),ae=a(29303),ta=a(32433),se=a(11561),na=a(79762),re=a(59749),Fe=a(13580),le=a(57651),q=a(61715),ie=a(1615),he=a(46656),e=a(85893),He=function(la){var xe,pe,Me,Be,_=la.ad,be=(0,l.useState)(!1),Ge=(0,u.Z)(be,2),ia=Ge[0],Ue=Ge[1],me=(0,l.useState)(),ze=(0,u.Z)(me,2),Le=ze[0],We=ze[1],ye=(0,l.useState)("Not interested, claim it now"),Re=(0,u.Z)(ye,2),oa=Re[0],Ve=Re[1],oe=((xe=_==null?void 0:_.instructions)!==null&&xe!==void 0?xe:[]).map(function(M){return M.tag}).filter(Boolean),Xe=(0,l.useCallback)(function(){Le&&(clearTimeout(Le),We(null)),Ue(!0)},[Le]),Ye=function(){var te=setTimeout(function(){Ue(!1)},200);We(te)};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"advertisementContainer",children:[(0,e.jsxs)("div",{className:"ownerInfo",children:[(0,e.jsx)("span",{children:"\u{1F4E2} This hNFT is reserved."}),(0,e.jsx)("a",{className:"claimLink",href:"",target:"_blank",children:"I am the owner"})]}),(0,e.jsxs)("div",{className:"sponsorInfo",children:[(_==null?void 0:_.icon)&&(0,e.jsx)("img",{referrerPolicy:"no-referrer",className:"sponsorIcon",src:_==null?void 0:_.icon}),(0,e.jsxs)("span",{className:"sponsorText",children:[(0,e.jsx)("span",{className:"sponsorName",children:"".concat(((pe=_==null?void 0:_.sponsorName)!==null&&pe!==void 0?pe:"Parami").slice(0,30))}),"is sponsoring this hNFT"]}),(0,e.jsx)("div",{className:"bidBtn",onClick:function(){},children:"BID"})]}),(_==null?void 0:_.poster)&&(0,e.jsx)("img",{src:_==null?void 0:_.poster,referrerPolicy:"no-referrer",className:"adMediaImg"}),!(_!=null&&_.poster)&&(0,e.jsx)("div",{className:"posterPlaceHolder",children:"Your poster goes here"}),(0,e.jsxs)("div",{className:"adDescription",children:[(0,e.jsx)("span",{className:"descriptionText",children:(Me=_==null?void 0:_.content)!==null&&Me!==void 0?Me:"View Ads. Get Paid."}),(oe==null?void 0:oe.length)>0&&(0,e.jsx)("span",{className:"tags",children:oe.map(function(M,te){return(0,e.jsxs)("span",{className:"tag",children:["#",M]},te)})})]}),(0,e.jsxs)("div",{className:"claimSection",children:[(0,e.jsx)("div",{className:"infoText",children:"Due to your Preference Score you are rewarded:"}),(0,e.jsxs)("div",{className:"rewardRow",children:[(0,e.jsxs)("div",{className:"rewardInfo",children:[(0,e.jsx)("img",{referrerPolicy:"no-referrer",className:"kolIcon",src:"/images/logo-round-core.svg"}),(0,e.jsxs)("span",{className:"rewardAmount",children:[(0,e.jsx)("span",{className:"rewardNumber",children:"300.00"}),(0,e.jsxs)("span",{className:"rewardToken",children:[_==null?void 0:_.assetName," NFT Power"]})]})]}),(0,e.jsx)("div",{className:"buttons",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"claimBtn actionBtn",onMouseEnter:Xe,onMouseLeave:Ye,children:"Claim"}),(0,e.jsx)("div",{className:"instructionsBtn actionBtn",onClick:function(){},children:"Buy more"})]})})]})]}),ia&&(0,e.jsxs)("div",{className:"instructions",onMouseEnter:Xe,onMouseLeave:Ye,children:[(0,e.jsx)("div",{className:"popoverArrow"}),(0,e.jsxs)("div",{className:"popoverContent",children:[(0,e.jsx)("div",{className:"instructionTitle",children:"Follow the tips below if you are interested"}),(_==null||(Be=_.instructions)===null||Be===void 0?void 0:Be.length)>0&&(0,e.jsx)(e.Fragment,{children:_.instructions.map(function(M,te){return(0,e.jsxs)("div",{className:"instruction",onClick:function(){Ve("Claim")},children:[(0,e.jsx)("span",{className:"instructionText",children:M.text}),(0,e.jsxs)("span",{className:"instructionTag",children:["#",M.tag]}),(0,e.jsxs)("span",{className:"instructionScore",children:["+",M.score]})]})})}),(0,e.jsx)("div",{className:"instructionClaimBtnContainer",children:(0,e.jsx)("div",{className:"instructionClaimBtn actionBtn",onClick:function(){},children:oa})})]})]})]})})},ke=He,ha=a(84986),W=a(48764).Buffer,Ie=24*60*60/12,Qa=Pe.Z.Title,qa=J.Z.Panel,$e=je.Z.Option,ra=d.Z.Step,Ze;(function(Ae){Ae.ICON="icon",Ae.POSTER="poster"})(Ze||(Ze={}));var es={text:"Follow Parami on Twitter",tag:"Twitter",score:1,link:"https://twitter.com/intent/follow?screen_name=ParamiProtocol"};function as(Ae){(0,ce.Z)(Ae);var la=(0,l.useState)(""),xe=(0,u.Z)(la,2),pe=xe[0],Me=xe[1],Be=(0,l.useState)("View Ads. Get Paid."),_=(0,u.Z)(Be,2),be=_[0],Ge=_[1],ia=(0,l.useState)(),Ue=(0,u.Z)(ia,2),me=Ue[0],ze=Ue[1],Le=(0,l.useState)(),We=(0,u.Z)(Le,2),ye=We[0],Re=We[1],oa=(0,l.useState)(),Ve=(0,u.Z)(oa,2),oe=Ve[0],Xe=Ve[1],Ye=(0,L.tT)("currentUser"),M=Ye.wallet,te=(0,L.tT)("apiWs"),pa=(0,l.useState)([es]),ga=(0,u.Z)(pa,2),ge=ga[0],Ea=ga[1],ts=(0,l.useState)(!1),ja=(0,u.Z)(ts,2),ns=ja[0],ua=ja[1],rs=(0,l.useState)(10),Pa=(0,u.Z)(rs,2),da=Pa[0],ls=Pa[1],is=(0,l.useState)(1*Ie),Ca=(0,u.Z)(is,2),xa=Ca[0],os=Ca[1],us=(0,l.useState)(3),Ma=(0,u.Z)(us,2),ya=Ma[0],ds=Ma[1],cs=(0,l.useState)(1),Da=(0,u.Z)(cs,2),De=Da[0],vs=Da[1],ms=(0,l.useState)(10),Sa=(0,u.Z)(ms,2),Se=Sa[0],_s=Sa[1],fs=(0,l.useState)(""),Na=(0,u.Z)(fs,2),ca=Na[0],va=Na[1],hs=(0,l.useState)(""),Oa=(0,u.Z)(hs,2),ma=Oa[0],_a=Oa[1],ps=(0,l.useState)(""),Ta=(0,u.Z)(ps,2),Je=Ta[0],gs=Ta[1],Es=(0,l.useState)(),Ia=(0,u.Z)(Es,2),Ee=Ia[0],js=Ia[1],Ps=(0,l.useState)(),Za=(0,u.Z)(Ps,2),ue=Za[0],fa=Za[1],Aa=Math.max(Number((0,re.mI)((0,re.At)(Je),18))*1.2,1),Cs=(0,L.tT)("balance"),tt=Cs.balance,xs=(0,l.useState)(),Ba=(0,u.Z)(xs,2),ee=Ba[0],Ms=Ba[1],ys=(0,l.useState)(),ba=(0,u.Z)(ys,2),nt=ba[0],Ds=ba[1],Ss=(0,l.useState)(""),Ua=(0,u.Z)(Ss,2),Ke=Ua[0],Ns=Ua[1],Os=(0,l.useState)(!1),La=(0,u.Z)(Os,2),Ts=La[0],Wa=La[1],Is=(0,l.useState)(""),Ra=(0,u.Z)(Is,2),we=Ra[0],Ka=Ra[1],Zs=(0,l.useState)(),wa=(0,u.Z)(Zs,2),As=wa[0],Bs=wa[1],bs=(0,l.useState)(!1),Fa=(0,u.Z)(bs,2),Us=Fa[0],Qe=Fa[1],Ls=(0,l.useState)(0),Ha=(0,u.Z)(Ls,2),qe=Ha[0],Ws=Ha[1],Rs=(0,l.useState)(),ka=(0,u.Z)(Rs,2),$a=ka[0],Ks=ka[1],ws=(0,l.useState)(!1),Ga=(0,u.Z)(ws,2),Fs=Ga[0],za=Ga[1],Hs=(0,l.useState)(!1),Va=(0,u.Z)(Hs,2),ks=Va[0],Xa=Va[1],$s=(0,l.useState)(),Ya=(0,u.Z)($s,2),Gs=Ya[0],zs=Ya[1],Y=(0,X.UO)(),Vs={instructions:ge,icon:ye,sponsorName:pe,poster:oe,content:be,assetName:ee==null?void 0:ee.name},Xs=function(){var o=(0,k.Z)(S().mark(function i(m){var g,f;return S().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,q.Li)(m);case 2:if(g=v.sent,g){v.next=5;break}return v.abrupt("return","0");case 5:return v.next=7,(0,Fe.L7)(g.budgetPot,g.fractionId);case 7:if(f=v.sent,f){v.next=10;break}return v.abrupt("return","0");case 10:return v.abrupt("return",(0,re.At)(f.balance));case 11:case"end":return v.stop()}},i)}));return function(m){return o.apply(this,arguments)}}(),Ys=function(){var o=(0,k.Z)(S().mark(function i(m){var g,f,B,v;return S().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,Fe.Ay)(m);case 2:if(g=h.sent,!g.isEmpty){h.next=6;break}return G.default.error({message:"Loading Asset Error",description:"tokenAssetId: ".concat(m)}),h.abrupt("return");case 6:return f=g.toHuman(),Ms(f),h.next=10,(0,Ce.Vo)(m,(0,Q.Vm)("1"));case 10:return B=h.sent,Ds(B.toString()),h.next=14,Xs(m);case 14:v=h.sent,gs(v),Js(m);case 17:case"end":return h.stop()}},i)}));return function(m){return o.apply(this,arguments)}}(),Js=function(){var o=(0,k.Z)(S().mark(function i(m){var g;return S().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,te.query.assets.account(Number(m),M.account,function(v){var N,h=(N=v.toHuman())!==null&&N!==void 0?N:{balance:""},ea=h.balance;Ns((0,re.At)(ea))});case 2:g=B.sent,Ks(function(){return g});case 4:case"end":return B.stop()}},i)}));return function(m){return o.apply(this,arguments)}}();(0,l.useEffect)(function(){return $a},[$a]),(0,l.useEffect)(function(){te&&Y.nftId&&Ys(Y.nftId)},[te,Y]),(0,l.useEffect)(function(){te&&M.did&&(0,Ce.q5)(M.did).then(function(o){ze(o)})},[te,M]),(0,l.useEffect)(function(){if(me){if(M){var o;Me(((o=me.nickname)===null||o===void 0?void 0:o.toString())||(0,Q.st)(M.did))}if(me.avatar&&me.avatar.startsWith("ipfs://")){var i=me.avatar.substring(7);Re(ne.Z.ipfs.endpoint+i)}}},[me,M]);var Ja=function(i){return function(m){if(m.file.status==="done"){var g=m.file.response.Hash,f=ne.Z.ipfs.endpoint+g;i===Ze.POSTER?Xe(f):Re(f);return}m.file.status==="error"&&U.default.error("Upload Image Error")}};(0,l.useEffect)(function(){_a(""),va(""),Se<De&&_a("Payout Max cannot be less than Payout Min")},[Se]),(0,l.useEffect)(function(){_a(""),va(""),De>Se&&va("Payout Min cannot be more than Payout Max")},[De]),(0,l.useEffect)(function(){fa(void 0),Wa(!1),Ee!==void 0&&(Ee<Aa?fa({type:"price",msg:"price too low"}):(0,re.HM)("".concat(Ee),18)>(0,Q.XE)(Ke)&&(fa({type:"balance",msg:"Insufficient Balance, please swap more token"}),Wa(!0)))},[Ee]);var Qs=function(){var o=(0,k.Z)(S().mark(function i(m,g){var f;return S().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,(0,q.nn)(Gs,Y.nftId,(0,Q.Vm)(Ee.toString()),we,M==null?void 0:M.keystore,m,g);case 3:if(f=v.sent,!(m&&g)){v.next=6;break}return v.abrupt("return",f);case 6:console.log("bid success"),Qe(!1),G.default.success({message:"Bid Success"}),v.next=16;break;case 11:return v.prev=11,v.t0=v.catch(0),G.default.error({message:v.t0.message||v.t0,duration:null}),Qe(!1),v.abrupt("return");case 16:case"end":return v.stop()}},i,null,[[0,11]])}));return function(m,g){return o.apply(this,arguments)}}(),qs=function(){var o=(0,k.Z)(S().mark(function i(){var m;return S().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return Qe(!0),f.next=3,at();case 3:m=f.sent,Bs(m),za(!0);case 6:case"end":return f.stop()}},i)}));return function(){return o.apply(this,arguments)}}(),et=function(){var o=(0,k.Z)(S().mark(function i(m,g){var f,B;return S().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.prev=0,N.next=3,(0,q.T2)(As,we,M==null?void 0:M.keystore,m,g);case 3:if(f=N.sent,!(m&&g)){N.next=7;break}return console.log("preTx ",f),N.abrupt("return",f);case 7:console.log("post tx",f),B=f.ad.Created[0][0],zs(B),Ws(1),Xa(!0),N.next=19;break;case 14:return N.prev=14,N.t0=N.catch(0),G.default.error({message:N.t0.message||N.t0,duration:null}),Qe(!1),N.abrupt("return");case 19:case"end":return N.stop()}},i,null,[[0,14]])}));return function(m,g){return o.apply(this,arguments)}}(),at=function(){var o=(0,k.Z)(S().mark(function i(){var m,g,f,B,v,N,h,ea;return S().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return m={media:oe,icon:ye,content:be,instructions:ge,sponsorName:pe},de.next=3,W.from(JSON.stringify(m));case 3:return g=de.sent,de.next=6,(0,ha.U)(g);case 6:if(f=de.sent,B=f.response,v=f.data,B.ok){de.next=11;break}throw"Create Metadata Error";case 11:return N="ipfs://".concat(v.Hash),h=(0,Q.Zc)(ne.Z.advertisement.defaultDelegatedDid),ea=Array.from(new Set((0,A.Z)(ge.map(function(st){return st.tag}).filter(Boolean)))),de.abrupt("return",{tags:ea,metadata:N,rewardRate:da.toString(),lifetime:xa,payoutBase:(0,Q.Vm)(ya.toString()),payoutMin:(0,Q.Vm)(De.toString()),payoutMax:(0,Q.Vm)(Se.toString()),delegatedAccount:h});case 15:case"end":return de.stop()}},i)}));return function(){return o.apply(this,arguments)}}(),rt=function(){var o=(0,k.Z)(S().mark(function i(m,g){var f,B,v;return S().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,f=((0,re.HM)("".concat(Ee),18)-(0,Q.XE)(Ke)).toString(),h.next=4,(0,Ce.UG)(Y==null?void 0:Y.nftId,f);case 4:return B=h.sent,console.log("token number",f),console.log("ad3 number",B),h.next=9,(0,ie.Ht)(Y==null?void 0:Y.nftId,f,B,we,M==null?void 0:M.keystore,m,g);case 9:if(v=h.sent,!(m&&g)){h.next=12;break}return h.abrupt("return",v);case 12:h.next=18;break;case 14:return h.prev=14,h.t0=h.catch(0),G.default.error({message:h.t0.message||h.t0,duration:null}),h.abrupt("return");case 18:case"end":return h.stop()}},i,null,[[0,14]])}));return function(m,g){return o.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:_e().mainTopContainer,children:(0,e.jsxs)("div",{className:_e().pageContainer,children:[(0,e.jsxs)("div",{className:t().headerContainer,children:[(0,e.jsx)("div",{className:t().titleContainer,children:(0,e.jsxs)(Qa,{level:1,className:t().sectionTitle,children:[(0,e.jsx)(x.Z,{src:"/images/icon/vip.svg",className:t().sectionIcon,preview:!1}),"Bid on HNFT"]})}),(0,e.jsxs)("div",{className:t().subtitle,children:["Place your advertisement on ",ee==null?void 0:ee.name]})]}),(0,e.jsxs)(j.Z,{style:{width:"100%"},gutter:20,children:[(0,e.jsx)(b.Z,{span:12,children:(0,e.jsx)(Z.Z,{title:"Config your Ad",className:_e().card,children:(0,e.jsxs)("div",{className:t().formContainer,children:[(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(z.Z,{title:"Sponsor Name",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(n.Z,{size:"large",value:pe,onChange:function(i){return Me(i.target.value)},placeholder:"Advertisement Sponsor Name"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(z.Z,{title:"Content"})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(n.Z,{size:"large",value:be,onChange:function(i){return Ge(i.target.value)},placeholder:"Advertisement Content"})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(z.Z,{title:"Ad Icon",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(y.Z,{showUploadList:!1,action:ne.Z.ipfs.upload,onChange:Ja(Ze.ICON),children:ye?(0,e.jsx)("img",{src:ye,style:{width:"100%",maxWidth:"100px"}}):(0,e.jsx)(C.Z,{icon:(0,e.jsx)(fe.Z,{}),children:"Click to Upload"})})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(z.Z,{title:"Poster",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(y.Z,{showUploadList:!1,action:ne.Z.ipfs.upload,onChange:Ja(Ze.POSTER),children:oe?(0,e.jsx)("img",{src:oe,style:{width:"100%",maxWidth:"400px"}}):(0,e.jsx)(C.Z,{icon:(0,e.jsx)(fe.Z,{}),children:"Click to Upload"})})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(z.Z,{title:"instructions",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(C.Z,{onClick:function(){return ua(!0)},children:"Add New Instruction"})})]}),ge.length>0&&(0,e.jsx)("div",{className:t().field,children:ge.map(function(o){return(0,e.jsx)("p",{children:(0,e.jsxs)($.Z,{closable:!0,onClose:function(m){m.preventDefault(),Ea(ge.filter(function(g){return g!==o}))},children:[o.text,!!o.tag&&(0,e.jsx)(se.Z,{tag:o.tag}),!!o.score&&(0,e.jsx)(na.Z,{score:o.score}),!!o.link&&(0,e.jsx)("a",{href:o.link,target:"_blank",children:"(link)"})]})})})}),(0,e.jsx)(J.Z,{ghost:!0,children:(0,e.jsxs)(qa,{header:"Advanced Settings",children:[(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(z.Z,{title:"Reward Rate",required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(n.Z,{className:t().withAfterInput,placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,onChange:function(i){return ls(Number(i.target.value))},suffix:"%",value:da}),(0,e.jsxs)("span",{className:t().fieldInfo,children:["Referrer gets ",da,"% from each referral."]})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(z.Z,{title:"lifetime",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsxs)(je.Z,{size:"large",style:{width:"100%"},placeholder:"Please select a lifetime",onChange:function(i){os(Number(i))},value:xa,children:[(0,e.jsx)($e,{value:1*Ie,children:"1 day"}),(0,e.jsx)($e,{value:3*Ie,children:"3 days"}),(0,e.jsx)($e,{value:7*Ie,children:"7 days"}),(0,e.jsx)($e,{value:15*Ie,children:"15 days"})]})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(z.Z,{title:"Payout Base",required:!0})}),(0,e.jsx)("div",{className:t().value,children:(0,e.jsx)(n.Z,{className:t().withAfterInput,placeholder:"0.00",size:"large",type:"number",value:ya,maxLength:18,min:0,onChange:function(i){return ds(Number(i.target.value))}})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(z.Z,{title:"Payout Min",required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(n.Z,{className:"".concat(t().withAfterInput," ").concat(ca?t().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,min:0,max:Se,value:De,onChange:function(i){return vs(Number(i.target.value))}}),ca&&(0,e.jsx)(ae.Z,{msg:ca})]})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("div",{className:t().title,children:(0,e.jsx)(z.Z,{title:"Payout Max",required:!0})}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(n.Z,{className:"".concat(t().withAfterInput," ").concat(ma?t().inputError:""),placeholder:"0.00",size:"large",type:"number",maxLength:18,value:Se,min:De,onChange:function(i){return _s(Number(i.target.value))}}),ma&&(0,e.jsx)(ae.Z,{msg:ma})]})]})]},"1")})]})})}),(0,e.jsxs)(b.Z,{span:12,children:[(0,e.jsx)(Z.Z,{title:"Ad Preview",className:_e().card,children:(0,e.jsx)("div",{className:t().previewContainer,children:(0,e.jsx)(ke,{ad:Vs})})}),(0,e.jsx)(Z.Z,{title:"Bid your price",className:_e().card,style:{marginTop:"20px"},children:(0,e.jsxs)("div",{className:t().bidSectionContainer,children:[(0,e.jsxs)("div",{className:t().currentPrice,children:[(0,e.jsx)("div",{className:t().currentPriceTitle,children:(0,e.jsx)(z.Z,{title:"Current Price"})}),(0,e.jsx)("div",{className:t().currentPriceValue,children:(0,e.jsx)(le.Z,{value:Je!=null?Je:"",symbol:ee==null?void 0:ee.symbol})})]}),(0,e.jsxs)("div",{className:t().priceField,children:[(0,e.jsx)("div",{className:t().priceFieldTitle,children:"Offer a price"}),(0,e.jsx)("small",{children:"The bid must be higher than ".concat(Aa," (20% higher than the current price)")}),(0,e.jsxs)("div",{className:t().value,children:[(0,e.jsx)(n.Z,{value:Ee,className:"".concat(t().withAfterInput," ").concat(ue?t().inputError:""),size:"large",type:"number",placeholder:"Price",onChange:function(i){js(Number(i.target.value))}}),(ue==null?void 0:ue.type)==="price"&&(0,e.jsx)(ae.Z,{msg:ue.msg}),(ue==null?void 0:ue.type)==="balance"&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("span",{className:t().balanceError,children:["Insufficient Balance, please ",(0,e.jsx)("a",{target:"_blank",href:"/swap/".concat(Y==null?void 0:Y.nftId),children:"swap more token"})]})})]}),(0,e.jsx)("div",{className:t().tokenBalance,children:(0,e.jsxs)("span",{children:["balance: ",(0,e.jsx)(le.Z,{value:Ke!=null?Ke:"",symbol:ee==null?void 0:ee.symbol})]})})]}),Ts&&!1,(0,e.jsx)("div",{className:t().bidBtnContainer,children:(0,e.jsx)(C.Z,{block:!0,size:"large",shape:"round",type:"primary",disabled:!!ue,loading:!1,onClick:function(){console.log("submit"),qs()},children:"bid"})})]})})]})]})]})}),ns&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ta.Z,{onCancel:function(){return ua(!1)},onCreateInstruction:function(i){Ea([].concat((0,A.Z)(ge),[i])),ua(!1)}})}),(0,e.jsx)(he.Z,{visable:Fs,setVisable:za,passphrase:we,setPassphrase:Ka,func:et}),(0,e.jsx)(he.Z,{visable:ks,setVisable:Xa,passphrase:we,setPassphrase:Ka,func:Qs}),Us&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(I.Z,{title:"Bid Advertisement",visible:!0,closable:!1,footer:null,children:(0,e.jsxs)(d.Z,{direction:"vertical",size:"default",current:qe,className:t().stepContainer,children:[(0,e.jsx)(ra,{title:"Generate Advertisement",icon:qe===0?(0,e.jsx)(Te.Z,{}):!1}),(0,e.jsx)(ra,{title:"Bid Advertisement on HNFT",icon:qe===1?(0,e.jsx)(Te.Z,{}):!1}),(0,e.jsx)(ra,{title:"Completing",icon:qe===2?(0,e.jsx)(Te.Z,{}):!1})]})})})]})}var ss=as},79762:function(O,T,a){"use strict";var R=a(67294),I=a(8556),D=a.n(I),j=a(85893);function p(b){var K=b.score;return(0,j.jsxs)("span",{className:D().scoreContainer,children:[K>=0&&(0,j.jsxs)("span",{className:D().positive,children:["+",K]}),K<0&&(0,j.jsxs)("span",{className:D().negative,children:["-",Math.abs(K)]})]})}T.Z=p},11561:function(O,T,a){"use strict";var R=a(67294),I=a(28531),D=a.n(I),j=a(85893);function p(b){var K=b.tag;return(0,j.jsx)("span",{className:D().tag,children:K})}T.Z=p},32433:function(O,T,a){"use strict";var R=a(71194),I=a(50146),D=a(47673),j=a(32787),p=a(2824),b=a(43358),K=a(90927),Z=a(59109),H=a(67294),$=a(24787),P=a.n($),y=a(43581),r=a(85893),C=K.Z.Option;function V(n){var w=n.onCreateInstruction,x=n.onCancel,A=(0,H.useState)(),F=(0,p.Z)(A,2),U=F[0],E=F[1],G=(0,H.useState)(),k=(0,p.Z)(G,2),u=k[0],ce=k[1],Ne=(0,H.useState)(),d=(0,p.Z)(Ne,2),Oe=d[0],je=d[1],aa=(0,H.useState)(),J=(0,p.Z)(aa,2),ve=J[0],Pe=J[1],s=(0,y.tT)("tagOptions"),S=s.tagOptions,l=function(){U&&w({text:U,tag:u,score:Oe,link:ve})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(I.Z,{visible:!0,title:"New Instruction",onOk:function(){return l()},onCancel:x,children:[(0,r.jsxs)("div",{className:P().field,children:[(0,r.jsx)("div",{className:P().title,children:(0,r.jsx)(Z.Z,{title:"Instruction Text",required:!0})}),(0,r.jsx)("div",{className:P().value,children:(0,r.jsx)(j.Z,{size:"large",onChange:function(X){return E(X.target.value)},placeholder:"Instruction Text"})})]}),(0,r.jsxs)("div",{className:P().field,children:[(0,r.jsx)("div",{className:P().title,children:(0,r.jsx)(Z.Z,{title:"Tag"})}),(0,r.jsx)("div",{className:P().value,children:(0,r.jsx)(K.Z,{allowClear:!0,style:{width:"100%"},placeholder:"Please select",onChange:function(X){return ce(X)},children:S.map(function(L){return(0,r.jsx)(C,{value:L.tag,children:L.tag},L.key)})})})]}),(0,r.jsxs)("div",{className:P().field,children:[(0,r.jsx)("div",{className:P().title,children:(0,r.jsx)(Z.Z,{title:"score"})}),(0,r.jsx)("div",{className:P().value,children:(0,r.jsx)(j.Z,{size:"large",type:"number",step:1,max:5,min:-5,value:Oe,onChange:function(X){var z=Math.min(5,Math.max(-5,parseInt(X.target.value,10)));je(z)},placeholder:"score"})})]}),(0,r.jsxs)("div",{className:P().field,children:[(0,r.jsx)("div",{className:P().title,children:(0,r.jsx)(Z.Z,{title:"link"})}),(0,r.jsx)("div",{className:P().value,children:(0,r.jsx)(j.Z,{size:"large",onChange:function(X){return Pe(X.target.value)},placeholder:"link"})})]})]})})}T.Z=V},13580:function(O,T,a){"use strict";a.d(T,{Ay:function(){return b},f5:function(){return K},r7:function(){return Z},L7:function(){return H},jd:function(){return $}});var R=a(11849),I=a(2824),D=a(3182),j=a(94043),p=a.n(j),b=function(){var P=(0,D.Z)(p().mark(function y(r){var C;return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.apiWs.query.assets.metadata(Number(r));case 2:return C=n.sent,n.abrupt("return",C);case 4:case"end":return n.stop()}},y)}));return function(r){return P.apply(this,arguments)}}(),K=function(){var P=(0,D.Z)(p().mark(function y(r){var C;return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.apiWs.query.assets.asset(Number(r));case 2:return C=n.sent,n.abrupt("return",C);case 4:case"end":return n.stop()}},y)}));return function(r){return P.apply(this,arguments)}}(),Z=function(){var P=(0,D.Z)(p().mark(function y(r){var C;return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.apiWs.query.assets.account.entries(r);case 2:return C=n.sent,n.abrupt("return",C);case 4:case"end":return n.stop()}},y)}));return function(r){return P.apply(this,arguments)}}(),H=function(){var P=(0,D.Z)(p().mark(function y(r,C){var V,n;return p().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,window.apiWs.query.assets.account(Number(C),r);case 2:if(V=x.sent,!V.isEmpty){x.next=5;break}return x.abrupt("return",null);case 5:return n=V.toHuman(),x.abrupt("return",n);case 7:case"end":return x.stop()}},y)}));return function(r,C){return P.apply(this,arguments)}}(),$=function(){var P=(0,D.Z)(p().mark(function y(){var r,C;return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.apiWs.query.assets.metadata.entries();case 2:return r=n.sent,C=(r!=null?r:[]).map(function(w){var x=(0,I.Z)(w,2),A=x[0],F=x[1],U=A.toHuman();return U?(0,R.Z)((0,R.Z)({},F.toHuman()),{},{id:U[0].replaceAll(",","")}):null}).filter(Boolean),n.abrupt("return",C);case 5:case"end":return n.stop()}},y)}));return function(){return P.apply(this,arguments)}}()},84986:function(O,T,a){"use strict";a.d(T,{U:function(){return r},g:function(){return V}});var R=a(11849),I=a(3182),D=a(94043),j=a.n(D),p=a(51625),b=a(55347),K=a(11238),Z=a(47832),H=a(81603),$=function(w){var x=w.response,A=x===void 0?{}:x,F=w.message,U=F===void 0?"":F,E=w.data,G=E===void 0?{}:E;if(U==="http error")return{response:A,data:G}},P=(0,K.l7)({errorHandler:$,credentials:"omit"}),y=new b.ZP({type:"sr25519"});function r(n,w){return C.apply(this,arguments)}function C(){return C=(0,I.Z)(j().mark(function n(w,x){var A;return j().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return A=new FormData,A.append("file",w),U.abrupt("return",P(p.Z.ipfs.upload,(0,R.Z)({method:"POST",body:A,requestType:"form",getResponse:!0},x||{})));case 3:case"end":return U.stop()}},n)})),C.apply(this,arguments)}var V=function(){var n=(0,I.Z)(j().mark(function w(x,A,F,U,E){var G,k,u,ce;return j().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(G=window.apiWs.tx.did.setMetadata("pic",x),!(U&&E)){d.next=6;break}return d.next=4,G.paymentInfo(E);case 4:return k=d.sent,d.abrupt("return",k);case 6:if(u=(0,Z.Gh)(A,F),!(u==null||!u)){d.next=9;break}throw new Error("Wrong password");case 9:return ce=y.createFromUri(u),d.next=12,(0,H.Y)(G,ce);case 12:return d.abrupt("return",d.sent);case 13:case"end":return d.stop()}},w)}));return function(x,A,F,U,E){return n.apply(this,arguments)}}()}}]);

(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[9811],{55133:function(v){v.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(v){v.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},66620:function(v){v.exports={visaCard:"visaCard___bphzJ",subTitle:"subTitle___1LQU-",buttons:"buttons___2add8",or:"or___2GkXi",button:"button___1CjWQ"}},46656:function(v,T,a){"use strict";var la=a(71194),R=a(50146),k=a(47673),x=a(32787),G=a(22385),b=a(31097),oa=a(17462),U=a(76772),z=a(57663),A=a(71577),X=a(74379),J=a(38648),q=a(3182),$=a(2824),da=a(402),I=a(3887),aa=a(94043),L=a.n(aa),D=a(67294),M=a(43581),ea=a(55133),i=a.n(ea),sa=a(3548),E=a(68855),j=a(47832),ta=a(55347),l=a(51625),n=a(85893),na=I.Z.Title,ca=function(r){var f=r.visable,S=r.setVisable,e=r.passphrase,h=r.setPassphrase,N=r.func,O=r.changePassphrase,W=(0,M.tT)("apiWs"),ia=(0,M.tT)("currentUser"),s=ia.wallet,ra=(0,M.tT)("balance"),H=ra.balance,y=(0,D.useState)(!1),B=(0,$.Z)(y,2),V=B[0],P=B[1],Y=(0,D.useState)(),Q=(0,$.Z)(Y,2),_=Q[0],C=Q[1],c=(0,M.YB)(),g=function(d){h(d?d.target.value:"")},K=function(){var m=(0,q.Z)(L().mark(function d(){var p,u,o,Z,F;return L().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(P(!0),s!=null&&s.passphrase&&h(s==null?void 0:s.passphrase),!((!e||e.length<6)&&!(s!=null&&s.passphrase))){t.next=5;break}return P(!1),t.abrupt("return");case 5:if(p=(s==null?void 0:s.passphrase)||e,!(p&&s!==null&&s!==void 0&&s.keystore)){t.next=16;break}if(u=(0,j.Gh)(p,s.keystore),u){t.next=13;break}return J.default.error({key:"passphraseError",message:c.formatMessage({id:"error.passphrase.error"}),duration:null}),h(""),P(!1),t.abrupt("return");case 13:o=new ta.ZP({type:"sr25519"}),Z=o.addFromUri(u),F=Z.address,s!=null&&s.account&&s.account!==F&&(localStorage.clear(),sessionStorage.clear(),window.location.href=l.Z.page.homePage);case 16:if(!N){t.next=25;break}return t.prev=17,t.next=20,N();case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(17),console.log("security modal submit func error fallback",t.t0);case 25:S(!1),P(!1);case 27:case"end":return t.stop()}},d,null,[[17,22]])}));return function(){return m.apply(this,arguments)}}(),w=function(){var m=(0,q.Z)(L().mark(function d(){var p;return L().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(!!W&&!!s.account)){o.next=11;break}return o.next=3,N(!0,s.account);case 3:if(p=o.sent,!p){o.next=8;break}C(p.partialFee),o.next=11;break;case 8:if(O){o.next=11;break}return o.next=11,K();case 11:case"end":return o.stop()}},d)}));return function(){return m.apply(this,arguments)}}();return(0,D.useEffect)(function(){!!W&&!!(s!=null&&s.account)&&f&&w()},[W,s==null?void 0:s.account,f]),(0,D.useEffect)(function(){!!(s!=null&&s.passphrase)&&f&&!O&&h(s==null?void 0:s.passphrase)},[s==null?void 0:s.passphrase,e,f,O]),(0,n.jsxs)(R.Z,{"data-inspector-line":"108","data-inspector-column":"4","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",title:(0,n.jsx)(na,{"data-inspector-line":"110","data-inspector-column":"8","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",level:3,children:c.formatMessage({id:"modal.security.title"})}),closable:!1,className:i().modal,centered:!0,visible:f,width:400,footer:(0,n.jsxs)("div",{"data-inspector-line":"122","data-inspector-column":"8","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:i().buttons,children:[(0,n.jsx)(A.Z,{"data-inspector-line":"123","data-inspector-column":"10","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",type:"text",shape:"round",size:"large",className:i().button,onClick:function(){S(!1),window.location.reload()},loading:V,children:c.formatMessage({id:"common.decline"})}),(0,n.jsx)(A.Z,{"data-inspector-line":"138","data-inspector-column":"10","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",type:"primary",shape:"round",size:"large",className:i().button,onClick:function(){K()},disabled:!e||e.length<6,loading:V,children:c.formatMessage({id:"common.confirm"})})]}),children:[(0,n.jsxs)("div",{"data-inspector-line":"156","data-inspector-column":"6","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:i().confirmContainer,children:[!!_&&!!(_!=null&&_.toString())>H.free&&(0,n.jsx)(U.Z,{"data-inspector-line":"158","data-inspector-column":"10","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",description:c.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:i().alertContainer}),!!_&&(0,n.jsxs)("div",{"data-inspector-line":"171","data-inspector-column":"10","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:i().field,children:[(0,n.jsxs)("div",{"data-inspector-line":"172","data-inspector-column":"12","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:i().labal,children:[c.formatMessage({id:"modal.security.gas"}),(0,n.jsxs)("span",{"data-inspector-line":"176","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:i().small,children:["(",c.formatMessage({id:"modal.security.estimated"}),")"]}),(0,n.jsx)(b.Z,{"data-inspector-line":"181","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",placement:"bottom",title:c.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,n.jsx)(E.Z,{"data-inspector-line":"188","data-inspector-column":"16","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:i().labalIcon})})]}),(0,n.jsx)("div",{"data-inspector-line":"193","data-inspector-column":"12","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:i().value,children:(0,n.jsx)(sa.Z,{"data-inspector-line":"194","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",value:_,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(s!=null&&s.passphrase)||O)&&(0,n.jsx)("div",{"data-inspector-line":"206","data-inspector-column":"8","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,n.jsxs)("div",{"data-inspector-line":"215","data-inspector-column":"10","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:i().codeInput,children:[(0,n.jsxs)("div",{"data-inspector-line":"216","data-inspector-column":"12","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:i().verifyForm,children:[(0,n.jsx)("span",{"data-inspector-line":"217","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(0))&&!(e!=null&&e.slice(1,5))&&i().highLight,children:e==null?void 0:e.slice(0,1).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{"data-inspector-line":"220","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(1))&&!(e!=null&&e.slice(2,5))&&i().highLight,children:e==null?void 0:e.slice(1,2).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{"data-inspector-line":"223","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(2,3))&&!(e!=null&&e.slice(3,5))&&i().highLight,children:e==null?void 0:e.slice(2,3).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{"data-inspector-line":"226","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(3,4))&&!(e!=null&&e.slice(4,5))&&i().highLight,children:e==null?void 0:e.slice(3,4).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{"data-inspector-line":"229","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(4,5))&&!(e!=null&&e.slice(5))&&i().highLight,children:e==null?void 0:e.slice(4,5).replace(/[^]/,"\u2731")}),(0,n.jsx)("span",{"data-inspector-line":"232","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(5))&&i().highLight,children:e==null?void 0:e.slice(5).replace(/[^]/,"\u2731")})]}),(0,n.jsx)(x.Z.Password,{"data-inspector-line":"234","data-inspector-column":"12","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",autoFocus:!0,autoComplete:"new-password",size:"large",className:i().verifyInput,onChange:g,value:e,disabled:V,maxLength:6,visibilityToggle:!1})]})})]})};T.Z=ca},3548:function(v,T,a){"use strict";var la=a(67294),R=a(31639),k=a.n(R),x=a(96534),G=a(85893),b=function(U){var z=U.value,A=U.style;return(0,G.jsxs)("div",{"data-inspector-line":"10","data-inspector-column":"4","data-inspector-relative-path":"src/components/Token/AD3.tsx",className:k().ad3,style:A,children:[z?(0,x.MP)(z):"--",(0,G.jsx)("span",{"data-inspector-line":"16","data-inspector-column":"6","data-inspector-relative-path":"src/components/Token/AD3.tsx",className:k().unit,children:"\xA0$AD3"})]})};T.Z=b},62066:function(v,T,a){"use strict";a.r(T);var la=a(58024),R=a(39144),k=a(57663),x=a(71577),G=a(17462),b=a(76772),oa=a(74379),U=a(38648),z=a(34792),A=a(48086),X=a(3182),J=a(2824),q=a(402),$=a(3887),da=a(94043),I=a.n(da),aa=a(46656),L=a(63667),D=a(67294),M=a(43581),ea=a(55909),i=a.n(ea),sa=a(66620),E=a.n(sa),j=a(59749),ta=a(47832),l=a(85893),n=$.Z.Title,na=function(){var _a=(0,M.tT)("currentUser"),r=_a.wallet,f=(0,D.useState)(!1),S=(0,J.Z)(f,2),e=S[0],h=S[1],N=(0,D.useState)(""),O=(0,J.Z)(N,2),W=O[0],ia=O[1],s=(0,M.YB)(),ra=M.m8.location.query,H=ra,y=H.audience,B=H.scope,V=B!=null?B:"",P=V.indexOf("sign")>-1,Y=function(){var _=(0,X.Z)(I().mark(function C(c,g){var K,w,m,d,p,u,o,Z,F;return I().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c&&g)){t.next=2;break}return t.abrupt("return");case 2:if(!(!!r&&!!(r!=null&&r.keystore))){t.next=23;break}if(K=Date.now()/1e3|0,w=JSON.stringify({alg:P?"SrDSA":"none",typ:"JWT"}),m=JSON.stringify({iss:window.location.origin,sub:r==null?void 0:r.account,aud:y,iat:K,exp:K+30}),d="".concat((0,j.tH)(w),".").concat((0,j.tH)(m)),P){t.next=11;break}return window.opener.postMessage("".concat(d,"."),y),window.close(),t.abrupt("return");case 11:if(p=new L.Y({type:"sr25519"}),u=(0,ta.Gh)(W,r==null?void 0:r.keystore),!(u==null||!u)){t.next=16;break}return A.default.error(s.formatMessage({id:"error.passphrase.error"})),t.abrupt("return");case 16:o=p.createFromUri(u),Z=o.sign(d),F="".concat(d,".").concat((0,j.tH)(Z)),window.opener.postMessage(F,y),window.close(),t.next=24;break;case 23:U.default.error({key:"accessDenied",message:s.formatMessage({id:"error.accessDenied"}),duration:null});case 24:case"end":return t.stop()}},C)}));return function(c,g){return _.apply(this,arguments)}}(),Q=function(){var _=(0,X.Z)(I().mark(function C(){return I().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:window.opener.postMessage("eyJhbGciOiJub25lIiwidHlwIjoiSldUIn0.e30.",y),window.close();case 2:case"end":return g.stop()}},C)}));return function(){return _.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{"data-inspector-line":"89","data-inspector-column":"6","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:i().mainBgContainer,style:{height:"100vh"},children:(0,l.jsxs)("div",{"data-inspector-line":"95","data-inspector-column":"8","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:i().pageContainer,children:[(0,l.jsxs)(R.Z,{"data-inspector-line":"96","data-inspector-column":"10","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:E().visaCard,children:[(0,l.jsx)(n,{"data-inspector-line":"97","data-inspector-column":"12","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",level:2,style:{fontWeight:"bold",textAlign:"center"},children:s.formatMessage({id:"visa.title"})}),(0,l.jsx)("span",{"data-inspector-line":"108","data-inspector-column":"12","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:E().subTitle,children:s.formatMessage({id:"visa.subtitle"})}),(0,l.jsx)(b.Z,{"data-inspector-line":"115","data-inspector-column":"12","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",style:{textAlign:"center",marginTop:50},message:"Audience",description:y,type:"info"}),(0,l.jsxs)("div",{"data-inspector-line":"124","data-inspector-column":"12","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:E().buttons,children:[(0,l.jsx)(x.Z,{"data-inspector-line":"125","data-inspector-column":"14","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",type:"primary",shape:"round",size:"large",className:E().button,style:{backgroundImage:"linear-gradient(-225deg, #FE2105 0%, #FF5B00 38%, #96E9EA 100%)"},onClick:function(){P?h(!0):Y()},children:s.formatMessage({id:"visa.stamp"})}),(0,l.jsx)("span",{"data-inspector-line":"145","data-inspector-column":"14","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:E().or,children:s.formatMessage({id:"index.or"})}),(0,l.jsx)(x.Z,{"data-inspector-line":"150","data-inspector-column":"14","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",shape:"round",size:"large",className:E().button,onClick:Q,children:s.formatMessage({id:"visa.decline"})})]})]}),(0,l.jsx)("img",{"data-inspector-line":"162","data-inspector-column":"10","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",src:"/images/logo-text-black.svg",style:{display:"block",width:150,opacity:.3,marginBottom:20,marginTop:50}})]})}),(0,l.jsx)(aa.Z,{"data-inspector-line":"174","data-inspector-column":"6","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",visable:e,setVisable:h,passphrase:W,setPassphrase:ia,func:Y})]})};T.default=na}}]);

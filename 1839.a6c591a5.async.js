(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[1839],{55133:function(E){E.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},78849:function(E){E.exports={assetsContainer:"assetsContainer___Z5bUh",searchInput:"searchInput___1JXe0",noAssets:"noAssets___C74Sw",title:"title___3wIRn",field:"field___3uBaJ",icon:"icon___33dPd",name:"name___2mo8c",value:"value___1kvlK"}},31639:function(E){E.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},69764:function(E,D,s){"use strict";var Y=s(71194),P=s(50146),A=s(57663),O=s(71577),T=s(402),h=s(3887),N=s(67294),r=s(55133),v=s.n(r),u=s(54549),i=s(85893),L=h.Z.Title,j=function(t){var $=t.visable,x=t.title,f=t.content,y=t.footer,p=t.close,l=t.bodyStyle,n=t.width;return(0,i.jsx)(P.Z,{title:x?(0,i.jsx)(L,{level:5,className:v().title,children:x}):null,closable:!!p,closeIcon:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(O.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,i.jsx)(u.Z,{onClick:p})})}),className:v().modal,centered:!0,visible:$,width:n!=null?n:650,footer:y,bodyStyle:l,children:f})};D.Z=j},46656:function(E,D,s){"use strict";var Y=s(71194),P=s(50146),A=s(47673),O=s(32787),T=s(22385),h=s(31097),N=s(17462),r=s(76772),v=s(57663),u=s(71577),i=s(74379),L=s(38648),j=s(3182),F=s(2824),t=s(402),$=s(3887),x=s(94043),f=s.n(x),y=s(67294),p=s(43581),l=s(55133),n=s.n(l),ls=s(3548),k=s(68855),Q=s(47832),w=s(55347),q=s(51625),_=s(85893),ss=$.Z.Title,H=function(m){var C=m.visable,G=m.setVisable,e=m.passphrase,B=m.setPassphrase,b=m.func,W=m.changePassphrase,c=m.directSubmit,M=c===void 0?!1:c,z=(0,p.tT)("apiWs"),V=(0,p.tT)("currentUser"),a=V.wallet,_s=(0,p.tT)("balance"),R=_s.balance,rs=(0,y.useState)(!1),ns=(0,F.Z)(rs,2),es=ns[0],J=ns[1],ds=(0,y.useState)(),ts=(0,F.Z)(ds,2),S=ts[0],us=ts[1],I=(0,p.YB)(),cs=function(U){B(U?U.target.value:"")},as=function(){var Z=(0,j.Z)(f().mark(function U(){var K,X,d,is,os;return f().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(J(!0),a!=null&&a.passphrase&&B(a==null?void 0:a.passphrase),!((!e||e.length<6)&&!(a!=null&&a.passphrase))){o.next=5;break}return J(!1),o.abrupt("return");case 5:if(K=(a==null?void 0:a.passphrase)||e,!(K&&a!==null&&a!==void 0&&a.keystore)){o.next=16;break}if(X=(0,Q.Gh)(K,a.keystore),X){o.next=13;break}return L.default.error({key:"passphraseError",message:I.formatMessage({id:"error.passphrase.error"}),duration:null}),B(""),J(!1),o.abrupt("return");case 13:d=new w.ZP({type:"sr25519"}),is=d.addFromUri(X),os=is.address,a!=null&&a.account&&a.account!==os&&(localStorage.clear(),sessionStorage.clear(),window.location.href=q.Z.page.homePage);case 16:if(!b){o.next=25;break}return o.prev=17,o.next=20,b();case 20:o.next=25;break;case 22:o.prev=22,o.t0=o.catch(17),console.log("security modal submit func error fallback",o.t0);case 25:G(!1),J(!1);case 27:case"end":return o.stop()}},U,null,[[17,22]])}));return function(){return Z.apply(this,arguments)}}(),vs=function(){var Z=(0,j.Z)(f().mark(function U(){var K;return f().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(!!z&&!!a.account)){d.next=11;break}return d.next=3,b(!0,a.account);case 3:if(K=d.sent,!K){d.next=8;break}us(K.partialFee),d.next=11;break;case 8:if(W){d.next=11;break}return d.next=11,as();case 11:case"end":return d.stop()}},U)}));return function(){return Z.apply(this,arguments)}}();return(0,y.useEffect)(function(){!!z&&!!(a!=null&&a.account)&&C&&!M&&vs()},[z,a==null?void 0:a.account,C,M]),(0,y.useEffect)(function(){!!(a!=null&&a.passphrase)&&C&&!W&&B(a==null?void 0:a.passphrase)},[a==null?void 0:a.passphrase,e,C,W]),(0,y.useEffect)(function(){e&&C&&M&&as()},[e,C,M]),(0,_.jsxs)(P.Z,{title:(0,_.jsx)(ss,{level:3,children:I.formatMessage({id:"modal.security.title"})}),closable:!1,className:n().modal,centered:!0,visible:C,width:400,footer:(0,_.jsxs)("div",{className:n().buttons,children:[(0,_.jsx)(u.Z,{type:"text",shape:"round",size:"large",className:n().button,onClick:function(){G(!1),window.location.reload()},loading:es,children:I.formatMessage({id:"common.decline"})}),(0,_.jsx)(u.Z,{type:"primary",shape:"round",size:"large",className:n().button,onClick:function(){as()},disabled:!e||e.length<6,loading:es,children:I.formatMessage({id:"common.confirm"})})]}),children:[(0,_.jsxs)("div",{className:n().confirmContainer,children:[!!S&&!!(S!=null&&S.toString())>R.free&&(0,_.jsx)(r.Z,{description:I.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:n().alertContainer}),!!S&&(0,_.jsxs)("div",{className:n().field,children:[(0,_.jsxs)("div",{className:n().labal,children:[I.formatMessage({id:"modal.security.gas"}),(0,_.jsxs)("span",{className:n().small,children:["(",I.formatMessage({id:"modal.security.estimated"}),")"]}),(0,_.jsx)(h.Z,{placement:"bottom",title:I.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,_.jsx)(k.Z,{className:n().labalIcon})})]}),(0,_.jsx)("div",{className:n().value,children:(0,_.jsx)(ls.Z,{value:S,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(a!=null&&a.passphrase)||W)&&(0,_.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,_.jsxs)("div",{className:n().codeInput,children:[(0,_.jsxs)("div",{className:n().verifyForm,children:[(0,_.jsx)("span",{className:(e==null?void 0:e.slice(0))&&!(e!=null&&e.slice(1,5))&&n().highLight,children:e==null?void 0:e.slice(0,1).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(e==null?void 0:e.slice(1))&&!(e!=null&&e.slice(2,5))&&n().highLight,children:e==null?void 0:e.slice(1,2).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(e==null?void 0:e.slice(2,3))&&!(e!=null&&e.slice(3,5))&&n().highLight,children:e==null?void 0:e.slice(2,3).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(e==null?void 0:e.slice(3,4))&&!(e!=null&&e.slice(4,5))&&n().highLight,children:e==null?void 0:e.slice(3,4).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(e==null?void 0:e.slice(4,5))&&!(e!=null&&e.slice(5))&&n().highLight,children:e==null?void 0:e.slice(4,5).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(e==null?void 0:e.slice(5))&&n().highLight,children:e==null?void 0:e.slice(5).replace(/[^]/,"\u2731")})]}),(0,_.jsx)(O.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:n().verifyInput,onChange:cs,value:e,disabled:es,maxLength:6,visibilityToggle:!1})]})})]})};D.Z=H},86326:function(E,D,s){"use strict";var Y=s(12968),P=s(62462),A=s(20228),O=s(11382),T=s(47673),h=s(32787),N=s(3182),r=s(2824),v=s(94043),u=s.n(v),i=s(67294),L=s(69764),j=s(43581),F=s(78849),t=s.n(F),$=s(57651),x=s(32689),f=s(96486),y=s.n(f),p=s(76570),l=s(85893),n=function(k){var Q=k.onClose,w=k.onSelectAsset,q=(0,j.tT)("currentUser"),_=q.wallet,ss=(0,i.useState)(),H=(0,r.Z)(ss,2),g=H[0],m=H[1],C=(0,i.useState)(),G=(0,r.Z)(C,2),e=G[0],B=G[1],b=(0,i.useRef)(),W=(0,i.useCallback)((0,f.debounce)(function(){var c=(0,N.Z)(u().mark(function M(z){var V,a;return u().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,x.nk)(_.account,z);case 2:a=R.sent,m((V=a.data.tokens)!==null&&V!==void 0?V:[]);case 4:case"end":return R.stop()}},M)}));return function(M){return c.apply(this,arguments)}}(),200),[_]);return(0,i.useEffect)(function(){m(void 0),W(e!=null?e:"")},[e,W]),(0,i.useEffect)(function(){b.current.focus({cursor:"start"})},[]),(0,l.jsx)(L.Z,{visable:!0,title:"Select Asset",content:(0,l.jsxs)("div",{className:t().assetsContainer,children:[(0,l.jsx)("div",{className:t().searchInput,children:(0,l.jsx)(h.Z,{value:e,onChange:function(M){return B(M.target.value)},ref:b,placeholder:"Search name or symbol",prefix:(0,l.jsx)(p.Z,{})})}),e&&e.length>0&&!g&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(O.Z,{tip:"Loading Assets"})}),e&&e.length>0&&g&&g.length===0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:t().noAssets,children:"Could not find any assets."})}),g&&g.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:t().title,children:[(0,l.jsx)("span",{children:"Token"}),(0,l.jsx)("span",{children:"Available Balance"})]}),g==null?void 0:g.map(function(c){return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:t().field,onClick:function(){return w(c)},children:[(0,l.jsxs)("span",{className:t().title,children:[(0,l.jsx)(P.Z,{className:t().icon,src:c.icon||"/images/logo-round-core.svg",fallback:"/images/logo-round-core.svg",preview:!1}),(0,l.jsx)("span",{className:t().name,children:c.symbol})]}),(0,l.jsx)("span",{className:t().value,children:(0,l.jsx)($.Z,{value:c.balance,symbol:c.symbol})})]},c.id)})})]})]}),close:Q,footer:null})};D.Z=n},3548:function(E,D,s){"use strict";var Y=s(67294),P=s(31639),A=s.n(P),O=s(96534),T=s(85893),h=function(r){var v=r.value,u=r.style;return(0,T.jsxs)("div",{className:A().ad3,style:u,children:[v?(0,O.MP)(v):"--",(0,T.jsx)("span",{className:A().unit,children:"\xA0$AD3"})]})};D.Z=h},57651:function(E,D,s){"use strict";var Y=s(67294),P=s(31639),A=s.n(P),O=s(96534),T=s(85893),h=function(r){var v=r.value,u=r.symbol,i=r.decimals,L=i===void 0?18:i;return(0,T.jsxs)("div",{className:A().ad3,children:[v?(0,O.MP)(v.replaceAll(",",""),L):"--",u&&(0,T.jsxs)("span",{className:A().unit,children:["\xA0$",u]})]})};D.Z=h}}]);

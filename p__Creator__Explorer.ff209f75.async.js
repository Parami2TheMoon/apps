(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[8172],{2752:function(B){B.exports={claimInfoContainer:"claimInfoContainer___2QBl-",scoreChange:"scoreChange___21g3Z"}},8556:function(B){B.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(B){B.exports={tag:"tag___sah2p"}},90802:function(B){B.exports={explorerContainer:"explorerContainer___2tn58",dashboard:"dashboard___1yzjn",header:"header___7HFGw",buttons:"buttons____mn0V",button:"button___2bNYM",confirm:"confirm___14R24",topIcon:"topIcon___lcz8T",title:"title___3OHiQ",field:"field___1rYhg",value:"value___VpweH",notUser:"notUser___1H3wh",desc:"desc___3002O",buttonImport:"buttonImport___1UVlX",notSupport:"notSupport___3AII_",icon:"icon___2lOpA",text:"text___2HCAz",loading:"loading___38OsL",loadingTip:"loadingTip___2K2wM",avatar:"avatar___1Itlz",rotate:"rotate___3cdkL",image_blur:"image_blur___1JtdU"}},8070:function(B,z,e){"use strict";e.r(z),e.d(z,{default:function(){return va}});var Re=e(48736),J=e(27049),Y=e(57663),A=e(71577),le=e(12968),L=e(62462),v=e(3182),he=e(74379),ee=e(38648),m=e(2824),ae=e(94043),p=e.n(ae),l=e(67294),Ke=e(34792),ke=e(48086),na=e(58024),pe=e(39144),ge=e(22385),$e=e(31097),ze=e(55909),ye=e.n(ze),g=e(37550),c=e.n(g),C=e(43581),Z=e(28991),He={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 464H528V448h312v128zm0 264H184V184h656v200H496c-17.7 0-32 14.3-32 32v192c0 17.7 14.3 32 32 32h344v200zM580 512a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"wallet",theme:"outlined"},te=He,X=e(27029),oe=function(u,x){return l.createElement(X.Z,(0,Z.Z)((0,Z.Z)({},u),{},{ref:x,icon:te}))};oe.displayName="WalletOutlined";var we=l.forwardRef(oe),Fe=e(57119),Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},Me=Ve,O=function(u,x){return l.createElement(X.Z,(0,Z.Z)((0,Z.Z)({},u),{},{ref:x,icon:Me}))};O.displayName="ShareAltOutlined";var Ee=l.forwardRef(O),Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M911.5 700.7a8 8 0 00-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 00-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"}}]},name:"money-collect",theme:"outlined"},Ce=Ge,Oe=function(u,x){return l.createElement(X.Z,(0,Z.Z)((0,Z.Z)({},u),{},{ref:x,icon:Ce}))};Oe.displayName="MoneyCollectOutlined";var je=l.forwardRef(Oe),ie=e(96534),De=e(20640),de=e.n(De),Je=e(57641),Ye=e(11561),_=e(79762),Q=e(51625),a=e(85893),Pe=function(u){var x,I=u.ad,re=u.nftId,Ae=u.referrer,W=u.asset,_e=u.avatar,xe=u.did,f=u.adData,R=u.balance,la=u.notAccess,Ze=u.adImageOnLoad,Te=Ze===void 0?function(){}:Ze,Be=(0,C.tT)("currentUser"),y=Be.wallet,ea=(0,l.useState)(!1),ce=(0,m.Z)(ea,2),Le=ce[0],se=ce[1],aa=(0,l.useState)(!1),ue=(0,m.Z)(aa,2),H=ue[0],ve=ue[1],me=(0,C.tT)("apiWs"),w=(0,C.YB)(),F=y!=null&&y.did?"".concat(window.location.origin,"/").concat(xe,"/").concat(re,"?referrer=").concat(y==null?void 0:y.did):"".concat(window.location.origin,"/").concat(xe,"/").concat(re),ta=(0,ie.st)(f==null?void 0:f.creator).substring(8),ra=function(){var d=(0,v.Z)(p().mark(function T(q,M,V){var be;return p().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,q.query.ad.payout(M,V);case 2:be=G.sent,be.isEmpty?ve(!1):ve(!0);case 4:case"end":return G.stop()}},T)}));return function(q,M,V){return d.apply(this,arguments)}}();(0,l.useEffect)(function(){me&&f!==null&&f!==void 0&&f.id&&y!==null&&y!==void 0&&y.did&&ra(me,f==null?void 0:f.id,y==null?void 0:y.did)},[me,f,y]);var We=function(T){return(0,a.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",className:c().actionBtn,icon:(0,a.jsx)(we,{}),onClick:function(){C.m8.push("/wallet")},children:T})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:c().advertisementContainer,children:[(0,a.jsx)("div",{className:c().container,children:(0,a.jsx)("div",{className:c().topBar,children:(0,a.jsxs)("div",{className:c().sponsored,children:[(0,a.jsx)(L.Z,{src:_e||"/images/logo-round-core.svg",className:c().avatar,preview:!1,id:"avatar",fallback:"/images/logo-round-core.svg"}),(0,a.jsx)("span",{children:w.formatMessage({id:"creator.explorer.advertisement.sponsoredBy"},{did:"".concat(ta)})})]})})}),(0,a.jsx)(pe.Z,{className:"".concat(ye().card," ").concat(c().adCard),style:{maxWidth:"650px",border:"none",marginBottom:"30px"},bodyStyle:{padding:0,width:"100%"},children:(0,a.jsxs)("div",{className:c().advertisement,children:[(0,a.jsx)("div",{className:c().adMedia,children:(0,a.jsx)(L.Z,{src:I==null?void 0:I.media,placeholder:!0,preview:!1,className:c().adMediaImg,onLoad:Te})}),(I==null?void 0:I.instructions)&&(I==null||(x=I.instructions)===null||x===void 0?void 0:x.length)>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:c().instructions,children:[(0,a.jsxs)("div",{className:c().instructionTitle,children:["Follow the instructions to improve your DID reputation score",(0,a.jsx)($e.Z,{placement:"top",title:"Your DID reputation score is a number attached to your DID that can be increased by performing tasks. The higher your DID reputation score, the higher the reward.",children:(0,a.jsx)(Fe.Z,{style:{marginLeft:"5px"}})})]}),I.instructions.map(function(d,T){return(0,a.jsxs)("div",{className:"".concat(c().instruction," ").concat(d.link?c().withLink:""),onClick:function(){!!d.link&&window.open("".concat(Q.Z.main.weeklySite,"?redirect=").concat(d.link,"&nftId=").concat(re,"&did=").concat(y==null?void 0:y.did,"&ad=").concat(f==null?void 0:f.id,"&referrer=").concat(Ae,"&tag=").concat(d.tag,"&score=").concat(d.score))},children:[(0,a.jsx)("span",{className:c().instructionText,children:d.text}),!!d.tag&&(0,a.jsx)(Ye.Z,{tag:d.tag}),!!d.score&&(0,a.jsx)(_.Z,{score:parseInt(d.score,10)})]},T)})]})})]})}),(0,a.jsxs)("div",{className:c().buttonContainer,children:[H&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",className:c().actionBtn,icon:(0,a.jsx)(Ee,{}),onClick:(0,v.Z)(p().mark(function d(){var T;return p().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(T={title:"Para Metaverse Identity",text:w.formatMessage({id:"creator.explorer.shareMessage"}),url:F},!(navigator.canShare&&navigator.canShare(T))){M.next=12;break}return M.prev=2,M.next=5,navigator.share(T);case 5:M.next=10;break;case 7:M.prev=7,M.t0=M.catch(2),console.log(M.t0);case 10:M.next=14;break;case 12:de()(F+" ".concat(w.formatMessage({id:"creator.explorer.shareMessage"},{token:"$".concat(W==null?void 0:W.symbol)}))),ke.default.success(w.formatMessage({id:"common.copied"}));case 14:case"end":return M.stop()}},d,null,[[2,7]])})),children:w.formatMessage({id:"creator.explorer.advertisement.share"},{token:"$".concat(W==null?void 0:W.symbol)})}),We("Check your reward and score")]}),!H&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,a.jsx)(je,{}),className:c().claimBtn,onClick:function(){return se(!0)},children:"Claim your $".concat(W==null?void 0:W.symbol)})})]}),Le&&(0,a.jsx)(Je.Z,{adId:f==null?void 0:f.id,nftId:re,referrer:Ae,onClose:function(){return se(!1)},onClaim:function(){se(!1),ve(!0)}})]})})},Xe=Pe,Qe=e(90802),o=e.n(Qe),U=e(51615),j=e(28943),N=e(61715),S=e(69764),K=e(13580),E=e(29791),qe=e(32689),i=e(59749),Se=e(81372),ua=function(){var u,x,I=(0,C.tT)("apiWs"),re=(0,C.tT)("currentUser"),Ae=re.wallet,W=(0,C.tT)("bodyChange"),_e=W.bodyHeight,xe=(0,l.useState)(!0),f=(0,m.Z)(xe,2),R=f[0],la=f[1],Ze=(0,l.useState)(""),Te=(0,m.Z)(Ze,2),Be=Te[0],y=Te[1],ea=(0,l.useState)(!0),ce=(0,m.Z)(ea,2),Le=ce[0],se=ce[1],aa=(0,l.useState)(),ue=(0,m.Z)(aa,2),H=ue[0],ve=ue[1],me=(0,l.useState)(),w=(0,m.Z)(me,2),F=w[0],ta=w[1],ra=(0,l.useState)(!1),We=(0,m.Z)(ra,2),d=We[0],T=We[1],q=(0,l.useState)(),M=(0,m.Z)(q,2),V=M[0],be=M[1],oa=(0,l.useState)(),G=(0,m.Z)(oa,2),fe=G[0],ma=G[1],fa=(0,l.useState)(null),ia=(0,m.Z)(fa,2),ha=ia[0],pa=ia[1],ga=(0,l.useState)(""),da=(0,m.Z)(ga,2),ya=da[0],Ma=da[1],k=(0,C.YB)(),Ea=(0,C.md)(),Ca=(u=document.getElementById("avatar"))===null||u===void 0?void 0:u.offsetTop,Oa=(x=document.getElementById("avatar"))===null||x===void 0?void 0:x.offsetLeft,ja=document.body.clientWidth,h=(0,U.UO)(),Da=C.m8.location.query,Pa=Da,Sa=Pa.referrer,Ue=h!=null&&h.kol?"did"+(h==null?void 0:h.kol):(0,ie.st)(Ae.did),ca=(0,ie.Zc)(Ue),sa=function(s){ee.default.error({message:s.message,duration:null})},Ia=function(){var n=(0,v.Z)(p().mark(function s(){var r;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,N.qX)(h.nftID);case 2:if(r=t.sent,r){t.next=6;break}return C.m8.replace("".concat(window.location.pathname,"/dao")),t.abrupt("return");case 6:be(r);case 7:case"end":return t.stop()}},s)}));return function(){return n.apply(this,arguments)}}(),Aa=function(){var n=(0,v.Z)(p().mark(function s(r){var D,t,ne,P,Ne;return p().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!((r==null||(D=r.metadata)===null||D===void 0?void 0:D.indexOf("ipfs://"))<0)){b.next=2;break}return b.abrupt("return");case 2:return ne=r==null||(t=r.metadata)===null||t===void 0?void 0:t.substring(7),b.next=5,fetch(Q.Z.ipfs.endpoint+ne);case 5:return P=b.sent,b.next=8,P.json();case 8:if(Ne=b.sent,Ne){b.next=11;break}return b.abrupt("return");case 11:pa(Ne);case 12:case"end":return b.stop()}},s)}));return function(r){return n.apply(this,arguments)}}();(0,l.useEffect)(function(){if(V)try{var n=V.ad;if(!(n!=null&&n.metadata))return;ma(n),Aa(n),(0,K.L7)(V.budgetPot,V.fractionId).then(function(s){var r;Ma((0,i.At)((r=s==null?void 0:s.balance)!==null&&r!==void 0?r:""))}).catch(function(s){console.error("GetBalanceOfBudgetPot error:",s)})}catch(s){sa(s)}},[V]);var _a=function(){var n=(0,v.Z)(p().mark(function s(){var r;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,j.JI)(ca);case 3:if(r=t.sent,!r.isEmpty){t.next=7;break}return se(!1),t.abrupt("return");case 7:window.location.href="".concat(window.location.origin,"/").concat(Ue,"/").concat(r),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),ee.default.error({message:t.t0.message,duration:null}),t.abrupt("return");case 14:case"end":return t.stop()}},s,null,[[0,10]])}));return function(){return n.apply(this,arguments)}}();(0,l.useEffect)(function(){var n;document.title="".concat((n=F==null?void 0:F.name)!==null&&n!==void 0?n:Ue," - Para Metaverse Identity")},[F]);var xa=function(){var n=(0,v.Z)(p().mark(function s(){var r;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,j.X6)(h==null?void 0:h.nftID);case 2:if(r=t.sent,r){t.next=7;break}return ee.default.error({message:k.formatMessage({id:"error.nft.notFound"}),duration:null}),C.m8.goBack(),t.abrupt("return");case 7:if((r==null?void 0:r.owner)===ca){t.next=11;break}return ee.default.error({message:k.formatMessage({id:"error.nft.notFound"}),duration:null}),C.m8.goBack(),t.abrupt("return");case 11:ve(r);case 12:case"end":return t.stop()}},s)}));return function(){return n.apply(this,arguments)}}();(0,l.useEffect)(function(){var n=function(){var s=(0,v.Z)(p().mark(function r(){var D,t;return p().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,K.Ay)(H==null?void 0:H.tokenAssetId);case 2:if(D=P.sent,!D.isEmpty){P.next=6;break}return se(!1),P.abrupt("return");case 6:t=D.toHuman(),ta(t);case 8:case"end":return P.stop()}},r)}));return function(){return s.apply(this,arguments)}}();if(H)try{n()}catch(s){sa(s)}},[H]);var Za=function(){var n=(0,v.Z)(p().mark(function s(){var r,D,t,ne,P;return p().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,qe.T9)(h==null?void 0:h.nftID);case 2:if(r=$.sent,D=r.data,!(D!=null&&D.token)){$.next=11;break}return $.next=7,(0,qe.nH)(D.token.icon);case 7:t=$.sent,ne=t.data,P=t.response,(P==null?void 0:P.status)===200&&y(window.URL.createObjectURL(ne));case 11:case"end":return $.stop()}},s)}));return function(){return n.apply(this,arguments)}}();return(0,l.useEffect)(function(){if(I&&!(h!=null&&h.nftID)&&_a(),Ea.canWalletUser||(localStorage.setItem("parami:wallet:redirect",window.location.href),T(!0)),I)try{Ia(),xa(),Za()}catch(n){sa(n)}},[I]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(Se.ZP,{children:[(0,a.jsx)("title",{children:"Checkout this Ad"}),(0,a.jsx)("meta",{name:"description",content:"View Ad, Get Paid."}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:url",content:"https://app.parami.io/"}),(0,a.jsx)("meta",{property:"og:site_name",content:"Parami Ad"}),(0,a.jsx)("meta",{property:"og:title",content:"Checkout this ad and claim your tokens"}),(0,a.jsx)("meta",{property:"og:image",content:"https://pbs.twimg.com/profile_banners/1351514784273891329/1640271011/600x200"})]}),(0,a.jsxs)("div",{className:o().explorerContainer,children:[Le&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.Z,{src:Be||"/images/default-avatar.svg",fallback:"/images/default-avatar.svg",className:o().avatar,style:{top:R?(_e-400)/2:Ca,left:R?(ja-200)/2:Oa,width:R?200:30,height:R?200:30,animation:R?1:0,position:R?"fixed":"absolute",display:R||fe&&Object.keys(fe).length?"flex":"none"},preview:!1}),(0,a.jsx)("div",{className:o().loading,style:{opacity:R?1:0,zIndex:R?15:-1,height:_e,minHeight:"100vh"},children:(0,a.jsx)("span",{className:o().loadingTip,children:k.formatMessage({id:"creator.explorer.loading.tip",defaultMessage:"Let's find out more about the NFT.{br} Surprise awaits..."},{br:(0,a.jsx)("br",{})})})})]}),Le&&fe&&Object.keys(fe).length>0&&(0,a.jsx)("div",{className:ye().pageContainer,style:{paddingTop:50,maxWidth:"100%"},children:(0,a.jsx)(Xe,{ad:ha,nftId:h==null?void 0:h.nftID,referrer:Sa,asset:F,avatar:Be,did:Ue,adData:fe,balance:ya,notAccess:d,adImageOnLoad:function(){la(!1)}})}),(0,a.jsx)(E.Z,{})]}),(0,a.jsx)(S.Z,{visable:d,title:k.formatMessage({id:"error.identity.notUser"}),content:(0,a.jsx)("div",{className:o().notUser,children:(0,a.jsxs)("div",{className:o().buttons,children:[(0,a.jsxs)(A.Z,{block:!0,size:"large",type:"primary",shape:"round",className:o().button,onClick:function(){C.m8.push(Q.Z.page.createPage)},children:[(0,a.jsx)("div",{className:o().title,children:k.formatMessage({id:"index.createAccount"})}),(0,a.jsx)("span",{className:o().desc,children:k.formatMessage({id:"index.createAccount.desc"})})]}),(0,a.jsx)(J.Z,{children:k.formatMessage({id:"index.or"})}),(0,a.jsxs)(A.Z,{block:!0,ghost:!0,size:"large",type:"link",shape:"round",className:"".concat(o().button," ").concat(o().buttonImport),onClick:function(){C.m8.push(Q.Z.page.recoverPage)},children:[(0,a.jsx)("div",{className:o().title,children:k.formatMessage({id:"index.importAccount"})}),(0,a.jsx)("span",{className:o().desc,children:k.formatMessage({id:"index.importAccount.desc"})})]})]})}),close:void 0,footer:!1})]})},va=ua},57641:function(B,z,e){"use strict";var Re=e(57663),J=e(71577),Y=e(20228),A=e(11382),le=e(74379),L=e(38648),v=e(3182),he=e(2824),ee=e(94043),m=e.n(ee),ae=e(67294),p=e(69764),l=e(2752),Ke=e.n(l),ke=e(32689),na=e(46656),pe=e(61715),ge=e(43581),$e=e(69854),ze=e(11561),ye=e(79762),g=e(85893),c=function(Z){var He=Z.onClose,te=Z.adId,X=Z.nftId,oe=Z.referrer,we=oe===void 0?null:oe,Fe=Z.onClaim,Ve=(0,ae.useState)(),Me=(0,he.Z)(Ve,2),O=Me[0],Ee=Me[1],Ge=(0,ae.useState)(!1),Ce=(0,he.Z)(Ge,2),Oe=Ce[0],je=Ce[1],ie=(0,ae.useState)(""),De=(0,he.Z)(ie,2),de=De[0],Je=De[1],Ye=(0,ge.tT)("currentUser"),_=Ye.wallet,Q=(0,ge.tT)("apiWs"),a=(0,ge.YB)(),Pe=function(){var o=(0,v.Z)(m().mark(function U(){var j;return m().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,$e.Wv)(te);case 2:j=S.sent,Ee({scores:(j!=null?j:[]).map(function(K){return{tag:K.name,score:-5}})});case 4:case"end":return S.stop()}},U)}));return function(){return o.apply(this,arguments)}}(),Xe=function(){var o=(0,v.Z)(m().mark(function U(){var j,N,S;return m().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,E.next=3,(0,ke.Rh)(te,X,_==null?void 0:_.did);case 3:j=E.sent,N=j.response,S=j.data,N.ok?Ee(S):Pe(),E.next=13;break;case 9:E.prev=9,E.t0=E.catch(0),console.log(E.t0),Pe();case 13:case"end":return E.stop()}},U,null,[[0,9]])}));return function(){return o.apply(this,arguments)}}();(0,ae.useEffect)(function(){Q&&Xe()},[Q]);var Qe=function(){var o=(0,v.Z)(m().mark(function U(j,N){var S,K,E;return m().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(_!=null&&_.keystore){i.next=3;break}return L.default.error({key:"accessDenied",message:a.formatMessage({id:"error.accessDenied"}),duration:null}),i.abrupt("return");case 3:if(i.prev=3,E=((S=O.scores)!==null&&S!==void 0?S:[]).map(function(Se){return[Se.tag,Se.score]}),!(O&&O.signature)){i.next=11;break}return i.next=8,(0,pe.nm)(te,X,_==null?void 0:_.did,E,O.referer,O.signature,O.signer_account,de,_.keystore,j,N);case 8:K=i.sent,i.next=14;break;case 11:return i.next=13,(0,pe.HS)(te,X,E,we,de,_.keystore,j,N);case 13:K=i.sent;case 14:if(!(j&&N)){i.next=16;break}return i.abrupt("return",K);case 16:L.default.success({message:"Claim Token Success"}),Fe(),i.next=24;break;case 20:i.prev=20,i.t0=i.catch(3),console.log(i.t0),L.default.error({message:"Claim Ad Token Error",description:"".concat(i.t0)});case 24:case"end":return i.stop()}},U,null,[[3,20]])}));return function(j,N){return o.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.Z,{visable:!0,title:"Claim your token",content:(0,g.jsx)("div",{className:Ke().claimInfoContainer,children:(0,g.jsx)(A.Z,{spinning:!O,children:O&&O.scores&&O.scores.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("p",{children:"Claim now and have your score updated:"}),O.scores.map(function(o){return(0,g.jsxs)("div",{className:Ke().scoreChange,children:[(0,g.jsx)(ze.Z,{tag:o.tag}),(0,g.jsx)(ye.Z,{score:parseInt(o.score,10)})]})}),!O.signature&&(0,g.jsx)("p",{children:"Not happy with the reward? Follow the instructions before claiming."})]})})}),footer:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(J.Z,{block:!0,type:"primary",shape:"round",size:"large",disabled:!O,onClick:function(){return je(!0)},children:"Claim"})}),close:function(){return He()}}),(0,g.jsx)(na.Z,{visable:Oe,setVisable:je,passphrase:de,setPassphrase:Je,func:Qe})]})};z.Z=c},79762:function(B,z,e){"use strict";var Re=e(67294),J=e(8556),Y=e.n(J),A=e(85893);function le(L){var v=L.score;return(0,A.jsxs)("span",{className:Y().scoreContainer,children:[v>=0&&(0,A.jsxs)("span",{className:Y().positive,children:["+",v]}),v<0&&(0,A.jsxs)("span",{className:Y().negative,children:["-",Math.abs(v)]})]})}z.Z=le},11561:function(B,z,e){"use strict";var Re=e(67294),J=e(28531),Y=e.n(J),A=e(85893);function le(L){var v=L.tag;return(0,A.jsx)("span",{className:Y().tag,children:v})}z.Z=le}}]);

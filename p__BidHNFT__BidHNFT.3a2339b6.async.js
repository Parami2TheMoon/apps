(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[1789],{43777:function(C){C.exports={formContainer:"formContainer___2zmWq",field:"field___WnDlm",title:"title___31j69",value:"value___3pHlH",instructionContainer:"instructionContainer___1KG6_",instruction:"instruction___1XuPQ",instructionText:"instructionText___VUerv",removeInstruction:"removeInstruction___3V_Sf",headerContainer:"headerContainer___1pC4E",titleContainer:"titleContainer___2JsbX",sectionTitle:"sectionTitle___2Npwq",sectionIcon:"sectionIcon___2Fhyf",subtitle:"subtitle___3GRHS",stepContainer:"stepContainer___1Mt0V",previewContainer:"previewContainer___3snig",inputError:"inputError___2kycH"}},53036:function(C){C.exports={bidSectionContainer:"bidSectionContainer___11Txd",currentPrice:"currentPrice___2lCQW",currentPriceTitle:"currentPriceTitle___1mVFe",currentPriceValue:"currentPriceValue___1h5iP",priceField:"priceField___3IP6j",priceFieldTitle:"priceFieldTitle___1vhsZ",tokenBalance:"tokenBalance___30s9v",bidBtnContainer:"bidBtnContainer___3bE4c"}},8556:function(C){C.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(C){C.exports={tag:"tag___sah2p"}},24787:function(C){C.exports={mainContainer:"mainContainer___VzUCC",mainBgContainer:"mainBgContainer___2Nlq7",mainIndexContainer:"mainIndexContainer___1Mqvq",background:"background___25786",logoMark:"logoMark___153gX",mainTopContainer:"mainTopContainer___2Cw6K",pageContainer:"pageContainer___2ssxe",stepContainer:"stepContainer___LPJXV",contentContainer:"contentContainer___2e-al",badge:"badge___3vf4B",dashboardCard:"dashboardCard___3oOcj",windowCard:"windowCard___3FjX2",windowCardBody:"windowCardBody___2zSRs",field:"field___3q5d2",title:"title___1BPSo",value:"value___1TvCY",rowField:"rowField___1vUg5",switchButton:"switchButton___3EjXy",statistic:"statistic___2TWER",modalBody:"modalBody___3SJQA",dividerTitle:"dividerTitle___1UTj3",table:"table___1zfPw",withAfterInput:"withAfterInput___3UZxJ",tabSelector:"tabSelector___2tj32",tabItem:"tabItem___3ymbk",inactive:"inactive___12iuZ",noAssets:"noAssets___FcwbD",topImage:"topImage___mHPfd"}},51406:function(C,h,a){"use strict";var P=a(22385),m=a(31097),R=a(67294),s=a(85893),p=function(O){var B,V,Z,g,t=O.ad,u=O.kolIcon,E=((B=t==null?void 0:t.instructions)!==null&&B!==void 0?B:[]).map(function(f){return f.tag}).filter(Boolean),A=(V=t==null?void 0:t.sponsorName)!==null&&V!==void 0?V:"Parami",d=A.length>15?"".concat(A.slice(0,6),"...").concat(A.slice(-6)):null,j=t!=null&&t.contractAddress&&t!==null&&t!==void 0&&t.tokenId?(0,s.jsx)("a",{href:"https://opensea.io/assets/ethereum/".concat(t.contractAddress,"/").concat(t.tokenId),target:"_blank",children:"hNFT"}):"hNFT",S=(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"ownerInfo",children:(0,s.jsx)(m.Z,{title:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{children:["\u{1F4E2} This ",j," is reserved."]}),(0,s.jsx)("a",{className:"claimLink",href:"/claimHnft/".concat(t.nftId),target:"_blank",children:"I am the owner"})]}),children:(0,s.jsx)("span",{className:"claimInfoMark",children:(0,s.jsx)("i",{className:"fa-solid fa-circle-exclamation"})})})})});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"advertisementContainer",children:(0,s.jsxs)(s.Fragment,{children:[S,(0,s.jsxs)("div",{className:"sponsorInfo",children:[(t==null?void 0:t.icon)&&(0,s.jsx)("img",{referrerPolicy:"no-referrer",className:"sponsorIcon",src:t==null?void 0:t.icon}),(0,s.jsxs)("span",{className:"sponsorText",children:[!!d&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(m.Z,{title:A,children:(0,s.jsx)("span",{className:"sponsorName",children:d})})}),!d&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("span",{className:"sponsorName",children:A})}),(0,s.jsxs)("span",{children:["is sponsoring this ",j,". "]}),(0,s.jsx)("a",{className:"bidLink",href:"/bid/".concat(t.nftId),target:"_blank",children:"Bid on this ad space"})]})]}),(0,s.jsxs)("div",{className:"adSection",children:[(0,s.jsx)("div",{className:"adSectionArrow front"}),(0,s.jsx)("div",{className:"adSectionArrow back"}),(0,s.jsxs)("div",{className:"adContent",children:[(0,s.jsxs)("div",{className:"adDescription",children:[(0,s.jsx)("span",{className:"descriptionText",children:(Z=(g=t==null?void 0:t.content)!==null&&g!==void 0?g:t==null?void 0:t.description)!==null&&Z!==void 0?Z:"View Ads. Get Paid."}),(E==null?void 0:E.length)>0&&(0,s.jsx)("span",{className:"tags",children:E.map(function(f,D){return(0,s.jsxs)("span",{className:"tag",children:["#",f]},D)})})]}),!(t!=null&&t.poster)&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"posterSection",children:(0,s.jsx)("div",{className:"posterPlaceHolder",children:"please upload your poster"})})}),(t==null?void 0:t.poster)&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"posterSection",children:[(0,s.jsx)("img",{src:t==null?void 0:t.poster,referrerPolicy:"no-referrer",className:"adMediaImg"}),(0,s.jsxs)("div",{className:"mask",children:[(0,s.jsxs)("div",{className:"infoText",children:["You will be rewarded",(0,s.jsx)(m.Z,{title:"Rewards are calculated based on your DID preference score",children:(0,s.jsx)("span",{className:"rewardInfoMark",children:(0,s.jsx)("i",{className:"fa-solid fa-circle-exclamation"})})})]}),(0,s.jsx)("div",{className:"rewardRow",children:(0,s.jsxs)("div",{className:"rewardInfo",children:[(0,s.jsx)("img",{referrerPolicy:"no-referrer",className:"kolIcon",src:u}),(0,s.jsxs)("span",{className:"rewardAmount",children:[(0,s.jsx)("span",{className:"rewardNumber",children:"300.00"}),(0,s.jsxs)("span",{className:"rewardToken",children:[t==null?void 0:t.assetName," NFT Power"]})]})]})}),(0,s.jsx)("div",{className:"btnContainer",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"actionBtn left",onClick:function(){},children:"Claim"}),(0,s.jsx)("div",{className:"actionBtn right",onClick:function(){},children:"Claim & Learn more"})]})})]}),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"hoverHint",children:(0,s.jsx)("div",{className:"hintIcon",children:(0,s.jsx)("i",{className:"fa-solid fa-arrow-up-right-from-square"})})})})]})})]})]})]})})})};h.Z=p},29303:function(C,h,a){"use strict";var P=a(85893),m=function(s){var p=s.msg;return(0,P.jsx)("span",{style:{color:"#ff5b00"},children:p})};h.Z=m},59109:function(C,h,a){"use strict";var P=a(85893),m=function(s){var p=s.title,W=s.required;return(0,P.jsxs)(P.Fragment,{children:[!!W&&(0,P.jsx)("span",{style:{color:"#ff5b00",paddingRight:"0.2em"},children:"*"}),p||""]})};h.Z=m},55410:function(C,h,a){"use strict";a.d(h,{n:function(){return P}});var P;(function(m){m.ICON="icon",m.POSTER="poster"})(P||(P={}))},91087:function(C,h,a){"use strict";a.d(h,{p:function(){return P}});var P=24*60*60/12},75836:function(C,h,a){"use strict";a.r(h),a.d(h,{default:function(){return as}});var P=a(71194),m=a(50146),R=a(13062),s=a(36725),p=a(89032),W=a(1635),O=a(58024),B=a(39144),V=a(77883),Z=a(70507),g=a(43185),t=a(35372),u=a(57663),E=a(71577),A=a(47673),d=a(32787),j=a(12968),S=a(62462),f=a(34792),D=a(48086),i=a(3182),$=a(74379),U=a(38648),l=a(2824),ee=a(19273),L=a(35556),ae=a(97880),N=a(43358),xe=a(90927),ha=a(7359),Be=a(27279),qe=a(402),ea=a(3887),aa=a(94043),y=a.n(aa),r=a(67294),ve=a(43581),J=a(51615),I=a(59109),sa=a(43777),n=a.n(sa),La=a(55909),Ce=a.n(La),Fa=a(33044),Ae=a(51625),pa=a(84391),Wa=a(54549),ta=a(7085),Ue=a(96534),be=a(29303),Ka=a(32433),wa=a(11561),Ha=a(79762),na=a(61715),_a=a(46656),ka=a(51406),Pe=a(55410),ga=a(94452),Va=a(32689),ja=a(57651),za=a(53036),G=a.n(za),de=a(59749),$a=a(13580),Ga=a(54374),e=a(85893);function Xa(me){var M=me.asset,re=me.onBid,Le=me.formValid,Ne=(0,ve.tT)("apiWs"),ia=(0,ve.tT)("currentUser"),Fe=ia.wallet,Me=(0,r.useState)(""),We=(0,l.Z)(Me,2),Ze=We[0],Ke=We[1],ie=(0,r.useState)(),we=(0,l.Z)(ie,2),te=we[0],ye=we[1],fe=(0,r.useState)(),Ie=(0,l.Z)(fe,2),Y=Ie[0],he=Ie[1],le=(0,r.useState)(),He=(0,l.Z)(le,2),pe=He[0],K=He[1],_e=(0,r.useState)(""),ke=(0,l.Z)(_e,2),ne=ke[0],w=ke[1],Ve=(0,r.useState)(),ze=(0,l.Z)(Ve,2),Te=ze[0],la=ze[1],Oe=(0,r.useState)(),$e=(0,l.Z)(Oe,2),Ge=$e[0],ue=$e[1];(0,r.useEffect)(function(){return Te},[Te]);var oa=function(){var z=(0,i.Z)(y().mark(function X(Q){var H,q;return y().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,na.Li)(Q);case 2:if(H=b.sent,H){b.next=5;break}return b.abrupt("return","0");case 5:return b.next=7,(0,$a.L7)(H.budgetPot,H.fractionId);case 7:if(q=b.sent,q){b.next=10;break}return b.abrupt("return","0");case 10:return b.abrupt("return",(0,de.At)(q.balance));case 11:case"end":return b.stop()}},X)}));return function(Q){return z.apply(this,arguments)}}(),da=function(){var z=(0,i.Z)(y().mark(function X(){var Q,H;return y().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,oa(M.id);case 2:Q=k.sent,Ke(Q),H=Math.ceil(Math.max(Number((0,de.mI)((0,de.At)(Q),18))*1.2,1)),K(H),ye(H),Xe(M.id);case 8:case"end":return k.stop()}},X)}));return function(){return z.apply(this,arguments)}}(),Xe=function(){var z=(0,i.Z)(y().mark(function X(Q){var H;return y().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,Ne.query.assets.account(Number(Q),Fe.account,function(b){var ge,oe=(ge=b.toHuman())!==null&&ge!==void 0?ge:{balance:""},ua=oe.balance;w((0,de.At)(ua))});case 2:H=k.sent,la(function(){return H});case 4:case"end":return k.stop()}},X)}));return function(Q){return z.apply(this,arguments)}}();return(0,r.useEffect)(function(){M&&Ne&&da()},[M,Ne]),(0,r.useEffect)(function(){he(void 0),te!==void 0&&(pe&&te<pe?he({type:"price",msg:"price too low"}):(0,de.HM)("".concat(te),18)>(0,Ue.XE)(ne)&&he({type:"balance",msg:"Insufficient Balance, please swap more token"}))},[te,ne,pe]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:G().bidSectionContainer,children:[(0,e.jsxs)("div",{className:G().currentPrice,children:[(0,e.jsx)("div",{className:G().currentPriceTitle,children:(0,e.jsx)(I.Z,{title:"Current Price"})}),(0,e.jsx)("div",{className:G().currentPriceValue,children:(0,e.jsx)(ja.Z,{value:Ze!=null?Ze:"",symbol:M==null?void 0:M.symbol})})]}),(0,e.jsxs)("div",{className:G().priceField,children:[(0,e.jsx)("div",{className:G().priceFieldTitle,children:"Offer a price"}),(0,e.jsx)("small",{children:"\u2265 ".concat(pe)}),(0,e.jsxs)("div",{className:G().value,children:[(0,e.jsx)(Z.Z,{value:te,className:"".concat(G().withAfterInput," ").concat(Y?G().inputError:""),size:"large",type:"number",placeholder:"Price",onChange:function(X){ye(X)}}),(Y==null?void 0:Y.type)==="price"&&(0,e.jsx)(be.Z,{msg:Y.msg}),(Y==null?void 0:Y.type)==="balance"&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("span",{className:G().balanceError,children:["Insufficient Balance, please ",(0,e.jsx)("a",{target:"_blank",onClick:function(){ue(!0)},children:"swap more token"})]})})]}),(0,e.jsx)("div",{className:G().tokenBalance,children:(0,e.jsxs)("span",{children:["balance: ",(0,e.jsx)(ja.Z,{value:ne!=null?ne:"",symbol:M==null?void 0:M.symbol})]})})]}),(0,e.jsx)("div",{className:G().bidBtnContainer,children:(0,e.jsx)(E.Z,{block:!0,size:"large",shape:"round",type:"primary",disabled:!!Y||!Le,loading:!1,onClick:function(){re(te)},children:"bid"})})]}),Ge&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(m.Z,{title:"Swap token",visible:!0,footer:null,onCancel:function(){return ue(!1)},children:(0,e.jsx)(Ga.Z,{assetId:M==null?void 0:M.id,canSelectAsset:!1,onSwapped:function(){ue(!1)},initTokenNumber:(0,de.mI)((0,de.HM)("".concat(te),18)-(0,Ue.XE)(ne),18)})})})]})}var Ja=Xa,Ee=a(91087),Ya=ea.Z.Title,Qa=Be.Z.Panel,Re=xe.Z.Option,ra=ae.Z.Step,qa={text:"Follow Parami on Twitter",tag:"Twitter",score:1,link:"https://twitter.com/intent/follow?screen_name=ParamiProtocol"},Se=function(M){if(M&&M.length){var re;return(re=M[0].url)!==null&&re!==void 0?re:""}return""};function es(me){(0,ee.Z)(me);var M=(0,r.useState)(""),re=(0,l.Z)(M,2),Le=re[0],Ne=re[1],ia=(0,r.useState)("View Ads. Get Paid."),Fe=(0,l.Z)(ia,2),Me=Fe[0],We=Fe[1],Ze=(0,r.useState)(),Ke=(0,l.Z)(Ze,2),ie=Ke[0],we=Ke[1],te=(0,r.useState)([]),ye=(0,l.Z)(te,2),fe=ye[0],Ie=ye[1],Y=(0,r.useState)([]),he=(0,l.Z)(Y,2),le=he[0],He=he[1],pe=(0,ve.tT)("currentUser"),K=pe.wallet,_e=(0,ve.tT)("apiWs"),ke=(0,r.useState)(qa),ne=(0,l.Z)(ke,2),w=ne[0],Ve=ne[1],ze=(0,r.useState)(!1),Te=(0,l.Z)(ze,2),la=Te[0],Oe=Te[1],$e=(0,r.useState)(10),Ge=(0,l.Z)($e,2),ue=Ge[0],oa=Ge[1],da=(0,r.useState)(1*Ee.p),Xe=(0,l.Z)(da,2),z=Xe[0],X=Xe[1],Q=(0,r.useState)(3),H=(0,l.Z)(Q,2),q=H[0],k=H[1],b=(0,r.useState)(1),ge=(0,l.Z)(b,2),oe=ge[0],ua=ge[1],ss=(0,r.useState)(10),xa=(0,l.Z)(ss,2),je=xa[0],ts=xa[1],ns=(0,r.useState)(""),Ca=(0,l.Z)(ns,2),ca=Ca[0],va=Ca[1],rs=(0,r.useState)(""),Pa=(0,l.Z)(rs,2),ma=Pa[0],fa=Pa[1],is=(0,r.useState)(),Ea=(0,l.Z)(is,2),ls=Ea[0],os=Ea[1],ds=(0,r.useState)(),Sa=(0,l.Z)(ds,2),se=Sa[0],us=Sa[1],cs=(0,r.useState)(""),Na=(0,l.Z)(cs,2),Je=Na[0],Ma=Na[1],vs=(0,r.useState)(),Za=(0,l.Z)(vs,2),ms=Za[0],fs=Za[1],hs=(0,r.useState)(!1),ya=(0,l.Z)(hs,2),ps=ya[0],Ye=ya[1],_s=(0,r.useState)(0),Ia=(0,l.Z)(_s,2),Qe=Ia[0],gs=Ia[1],js=(0,r.useState)(!1),Ta=(0,l.Z)(js,2),xs=Ta[0],Oa=Ta[1],Cs=(0,r.useState)(!1),Da=(0,l.Z)(Cs,2),Ps=Da[0],Ba=Da[1],Es=(0,r.useState)(),Aa=(0,l.Z)(Es,2),Ss=Aa[0],Ns=Aa[1],De=(0,J.UO)();(0,r.useEffect)(function(){var v=Se(le);if(v){var o=new Image;o.src=v,o.crossOrigin="anonymous",o.onload=function(){o.height<200&&U.default.warn({message:"Poster too small",description:"Recommended poster size: height > 200"})}}},[le]);var Ua={instructions:w?[w]:[],icon:Se(fe),sponsorName:Le,poster:Se(le),content:Me,assetName:se==null?void 0:se.name},Ms=!!Ua.poster&&q>=1,Zs=function(){var v=(0,i.Z)(y().mark(function o(x){var T,_;return y().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,Va.T9)(x);case 2:if(T=c.sent,_=T.data,_!=null&&_.token){c.next=7;break}return U.default.error({message:"Loading Asset Error",description:"tokenAssetId: ".concat(x)}),c.abrupt("return");case 7:us(_.token);case 8:case"end":return c.stop()}},o)}));return function(x){return v.apply(this,arguments)}}();(0,r.useEffect)(function(){_e&&De.nftId&&Zs(De.nftId)},[_e,De]),(0,r.useEffect)(function(){_e&&K.did&&(0,Fa.q5)(K.did).then(function(v){we(v)})},[_e,K]),(0,r.useEffect)(function(){if(ie&&K){var v;if(Ne(((v=ie.nickname)===null||v===void 0?void 0:v.toString())||(0,Ue.st)(K.did)),ie.avatar&&ie.avatar.startsWith("ipfs://")){var o=ie.avatar.substring(7);Ie([{uid:"-1",status:"done",name:"User Avatar",url:Ae.Z.ipfs.endpoint+o}])}}},[ie,K]);var ba=function(o){return function(){var x=(0,i.Z)(y().mark(function T(_){return y().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,ga.q)(_,o);case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},T)}));return function(T){return x.apply(this,arguments)}}()},Ra=function(o){return function(x){var T=x.fileList;if(x.file.status==="done"){var _=x.file.response.Hash,ce=Ae.Z.ipfs.endpoint+_;T[0].url=ce}x.file.status==="error"&&D.default.error("Upload Image Error"),o===Pe.n.POSTER?He(T):Ie(T)}};(0,r.useEffect)(function(){fa(""),va(""),je<oe&&fa("Payout Max cannot be less than Payout Min")},[je]),(0,r.useEffect)(function(){fa(""),va(""),oe>je&&va("Payout Min cannot be more than Payout Max")},[oe]);var ys=function(){var v=(0,i.Z)(y().mark(function o(x,T){var _;return y().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,na.nn)(Ss,De.nftId,(0,Ue.Vm)(ls.toString()),Je,K==null?void 0:K.keystore,x,T);case 3:if(_=c.sent,!(x&&T)){c.next=6;break}return c.abrupt("return",_);case 6:Ye(!1),U.default.success({message:"Bid Success",duration:0,description:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("span",{children:["Your AD is active now. You could also share this ",(0,e.jsx)("a",{href:"/ad/?nftId=".concat(De.nftId),target:"_blank",children:"ad link"})," to others."]})})}),c.next=15;break;case 10:return c.prev=10,c.t0=c.catch(0),U.default.error({message:c.t0.message||c.t0,duration:null}),Ye(!1),c.abrupt("return");case 15:case"end":return c.stop()}},o,null,[[0,10]])}));return function(x,T){return v.apply(this,arguments)}}(),Is=function(){var v=(0,i.Z)(y().mark(function o(){var x;return y().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return Ye(!0),_.next=3,(0,ga.T)({poster:Se(le),icon:Se(fe),content:Me,instructions:w?[w]:[],sponsorName:Le,rewardRate:ue,lifetime:z,payoutBase:q,payoutMin:oe,payoutMax:je});case 3:x=_.sent,fs(x),Oa(!0);case 6:case"end":return _.stop()}},o)}));return function(){return v.apply(this,arguments)}}(),Ts=function(){var v=(0,i.Z)(y().mark(function o(x,T){var _,ce;return y().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,(0,na.T2)(ms,Je,K==null?void 0:K.keystore,x,T);case 3:if(_=F.sent,!(x&&T)){F.next=6;break}return F.abrupt("return",_);case 6:ce=_.ad.Created[0][0],Ns(ce),gs(1),Ba(!0),F.next=17;break;case 12:return F.prev=12,F.t0=F.catch(0),U.default.error({message:F.t0.message||F.t0,duration:null}),Ye(!1),F.abrupt("return");case 17:case"end":return F.stop()}},o,null,[[0,12]])}));return function(x,T){return v.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:Ce().mainTopContainer,children:(0,e.jsxs)("div",{className:Ce().pageContainer,children:[(0,e.jsxs)("div",{className:n().headerContainer,children:[(0,e.jsx)("div",{className:n().titleContainer,children:(0,e.jsxs)(Ya,{level:1,className:n().sectionTitle,children:[(0,e.jsx)(S.Z,{src:"/images/icon/vip.svg",className:n().sectionIcon,preview:!1}),"Bid on HNFT"]})}),(0,e.jsxs)("div",{className:n().subtitle,children:["Place your advertisement on ",se==null?void 0:se.name]})]}),(0,e.jsxs)(s.Z,{style:{width:"100%"},gutter:20,children:[(0,e.jsx)(W.Z,{span:12,children:(0,e.jsx)(B.Z,{title:"Config your Ad",className:Ce().card,children:(0,e.jsxs)("div",{className:n().formContainer,children:[(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(I.Z,{title:"Content",required:!0})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)(d.Z,{size:"large",value:Me,onChange:function(o){return We(o.target.value)},placeholder:"Advertisement Content"})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(I.Z,{title:"Ad Icon",required:!0})}),(0,e.jsx)("div",{className:n().field,children:(0,e.jsx)(t.Z,{multiple:!1,showUploadList:{showPreviewIcon:!1},fileList:fe,action:Ae.Z.ipfs.upload,listType:"picture",onChange:Ra(Pe.n.ICON),beforeUpload:ba(Pe.n.ICON),children:fe.length===0&&(0,e.jsx)(E.Z,{icon:(0,e.jsx)(pa.Z,{}),children:"Click to Upload"})})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(I.Z,{title:"Poster",required:!0})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)(t.Z,{multiple:!1,showUploadList:{showPreviewIcon:!1},fileList:le,listType:"picture",action:Ae.Z.ipfs.upload,onChange:Ra(Pe.n.POSTER),beforeUpload:ba(Pe.n.POSTER),children:le.length===0&&(0,e.jsx)(E.Z,{icon:(0,e.jsx)(pa.Z,{}),children:"Click to Upload"})})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(I.Z,{title:"instruction",required:!0})}),!w&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:n().value,children:(0,e.jsx)(E.Z,{onClick:function(){return Oe(!0)},children:"Add New Instruction"})})})]}),w&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:n().field,children:(0,e.jsxs)("div",{className:n().instructionContainer,children:[(0,e.jsxs)("div",{className:n().instruction,onClick:function(){window.open(w.link)},children:[(0,e.jsx)("span",{className:n().instructionText,children:w.text}),!!w.tag&&(0,e.jsx)(wa.Z,{tag:w.tag}),!!w.score&&(0,e.jsx)(Ha.Z,{score:w.score})]}),(0,e.jsx)("div",{className:n().removeInstruction,onClick:function(){Ve(void 0)},children:(0,e.jsx)(Wa.Z,{})})]})})}),(0,e.jsx)(Be.Z,{ghost:!0,children:(0,e.jsxs)(Qa,{header:"Advanced Settings",children:[(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(I.Z,{title:"Reward Rate",required:!0})}),(0,e.jsxs)("div",{className:n().value,children:[(0,e.jsx)(Z.Z,{className:n().withAfterInput,placeholder:"0.00",size:"large",maxLength:18,min:0,onChange:function(o){return oa(o)},value:ue}),(0,e.jsxs)("span",{className:n().fieldInfo,children:["Referrer gets ",ue,"% from each referral."]})]})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(I.Z,{title:"lifetime",required:!0})}),(0,e.jsx)("div",{className:n().value,children:(0,e.jsxs)(xe.Z,{size:"large",style:{width:"100%"},placeholder:"Please select a lifetime",onChange:function(o){X(Number(o))},value:z,children:[(0,e.jsx)(Re,{value:1*Ee.p,children:"1 day"}),(0,e.jsx)(Re,{value:3*Ee.p,children:"3 days"}),(0,e.jsx)(Re,{value:7*Ee.p,children:"7 days"}),(0,e.jsx)(Re,{value:15*Ee.p,children:"15 days"})]})})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(I.Z,{title:"Payout Base",required:!0})}),(0,e.jsxs)("div",{className:n().value,children:[(0,e.jsx)(Z.Z,{className:n().withAfterInput,placeholder:"0.00",size:"large",value:q,maxLength:18,min:0,onChange:function(o){return k(o)}}),(!q||q<1)&&(0,e.jsx)(be.Z,{msg:"Payout Base cannot be less than 1"})]})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(I.Z,{title:"Payout Min",required:!0})}),(0,e.jsxs)("div",{className:n().value,children:[(0,e.jsx)(Z.Z,{className:"".concat(n().withAfterInput," ").concat(ca?n().inputError:""),placeholder:"0.00",size:"large",maxLength:18,min:0,max:je,value:oe,onChange:function(o){return ua(o)}}),ca&&(0,e.jsx)(be.Z,{msg:ca})]})]}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)("div",{className:n().title,children:(0,e.jsx)(I.Z,{title:"Payout Max",required:!0})}),(0,e.jsxs)("div",{className:n().value,children:[(0,e.jsx)(Z.Z,{className:"".concat(n().withAfterInput," ").concat(ma?n().inputError:""),placeholder:"0.00",size:"large",maxLength:18,value:je,min:oe,onChange:function(o){return ts(o)}}),ma&&(0,e.jsx)(be.Z,{msg:ma})]})]})]},"1")})]})})}),(0,e.jsxs)(W.Z,{span:12,children:[(0,e.jsx)(B.Z,{title:"Ad Preview",className:Ce().card,children:(0,e.jsx)("div",{className:n().previewContainer,children:(0,e.jsx)(ka.Z,{ad:Ua,kolIcon:se==null?void 0:se.icon})})}),(0,e.jsx)(B.Z,{title:"Bid your price",className:Ce().card,style:{marginTop:"20px"},children:(0,e.jsx)(Ja,{asset:se,onBid:function(o){os(o),Is()},formValid:Ms})})]})]})]})}),la&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Ka.Z,{onCancel:function(){return Oe(!1)},onCreateInstruction:function(o){Ve(o),Oe(!1)}})}),(0,e.jsx)(_a.Z,{visable:xs,setVisable:Oa,passphrase:Je,setPassphrase:Ma,func:Ts}),(0,e.jsx)(_a.Z,{visable:Ps,setVisable:Ba,passphrase:Je,setPassphrase:Ma,func:ys}),ps&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(m.Z,{title:"Bid Advertisement",visible:!0,closable:!1,footer:null,children:(0,e.jsxs)(ae.Z,{direction:"vertical",size:"default",current:Qe,className:n().stepContainer,children:[(0,e.jsx)(ra,{title:"Generate Advertisement",icon:Qe===0?(0,e.jsx)(ta.Z,{}):!1}),(0,e.jsx)(ra,{title:"Bid Advertisement on HNFT",icon:Qe===1?(0,e.jsx)(ta.Z,{}):!1}),(0,e.jsx)(ra,{title:"Completing",icon:Qe===2?(0,e.jsx)(ta.Z,{}):!1})]})})})]})}var as=es},79762:function(C,h,a){"use strict";var P=a(67294),m=a(8556),R=a.n(m),s=a(85893);function p(W){var O=W.score;return(0,s.jsxs)("span",{className:R().scoreContainer,children:[O>=0&&(0,s.jsxs)("span",{className:R().positive,children:["+",O]}),O<0&&(0,s.jsxs)("span",{className:R().negative,children:["-",Math.abs(O)]})]})}h.Z=p},11561:function(C,h,a){"use strict";var P=a(67294),m=a(28531),R=a.n(m),s=a(85893);function p(W){var O=W.tag;return(0,s.jsx)("span",{className:R().tag,children:O})}h.Z=p},32433:function(C,h,a){"use strict";var P=a(71194),m=a(50146),R=a(47673),s=a(32787),p=a(2824),W=a(43358),O=a(90927),B=a(59109),V=a(67294),Z=a(24787),g=a.n(Z),t=a(43581),u=a(85893),E=O.Z.Option;function A(d){var j=d.onCreateInstruction,S=d.onCancel,f=(0,V.useState)(),D=(0,p.Z)(f,2),i=D[0],$=D[1],U=(0,V.useState)(),l=(0,p.Z)(U,2),ee=l[0],L=l[1],ae=(0,V.useState)(),N=(0,p.Z)(ae,2),xe=N[0],ha=N[1],Be=(0,V.useState)(),qe=(0,p.Z)(Be,2),ea=qe[0],aa=qe[1],y=(0,t.tT)("tagOptions"),r=y.tagOptions,ve=function(){i&&j({text:i,tag:ee,score:xe,link:ea})};return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(m.Z,{visible:!0,title:"New Instruction",onOk:function(){return ve()},onCancel:S,children:[(0,u.jsxs)("div",{className:g().field,children:[(0,u.jsx)("div",{className:g().title,children:(0,u.jsx)(B.Z,{title:"Instruction Text",required:!0})}),(0,u.jsx)("div",{className:g().value,children:(0,u.jsx)(s.Z,{size:"large",onChange:function(I){return $(I.target.value)},placeholder:"Instruction Text"})})]}),(0,u.jsxs)("div",{className:g().field,children:[(0,u.jsx)("div",{className:g().title,children:(0,u.jsx)(B.Z,{title:"Tag"})}),(0,u.jsx)("div",{className:g().value,children:(0,u.jsx)(O.Z,{allowClear:!0,style:{width:"100%"},placeholder:"Please select",onChange:function(I){return L(I)},children:r.map(function(J){return(0,u.jsx)(E,{value:J.tag,children:J.tag},J.key)})})})]}),(0,u.jsxs)("div",{className:g().field,children:[(0,u.jsx)("div",{className:g().title,children:(0,u.jsx)(B.Z,{title:"score"})}),(0,u.jsx)("div",{className:g().value,children:(0,u.jsx)(s.Z,{size:"large",type:"number",step:1,max:5,min:-5,value:xe,onChange:function(I){var sa=Math.min(5,Math.max(-5,parseInt(I.target.value,10)));ha(sa)},placeholder:"score"})})]}),(0,u.jsxs)("div",{className:g().field,children:[(0,u.jsx)("div",{className:g().title,children:(0,u.jsx)(B.Z,{title:"link"})}),(0,u.jsx)("div",{className:g().value,children:(0,u.jsx)(s.Z,{size:"large",onChange:function(I){return aa(I.target.value)},placeholder:"link"})})]})]})})}h.Z=A},84986:function(C,h,a){"use strict";a.d(h,{U:function(){return u},g:function(){return A}});var P=a(11849),m=a(3182),R=a(94043),s=a.n(R),p=a(51625),W=a(55347),O=a(11238),B=a(47832),V=a(81603),Z=function(j){var S=j.response,f=S===void 0?{}:S,D=j.message,i=D===void 0?"":D,$=j.data,U=$===void 0?{}:$;if(i==="http error")return{response:f,data:U}},g=(0,O.l7)({errorHandler:Z,credentials:"omit"}),t=new W.ZP({type:"sr25519"});function u(d,j){return E.apply(this,arguments)}function E(){return E=(0,m.Z)(s().mark(function d(j,S){var f;return s().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return f=new FormData,f.append("file",j),i.abrupt("return",g(p.Z.ipfs.upload,(0,P.Z)({method:"POST",body:f,requestType:"form",getResponse:!0},S||{})));case 3:case"end":return i.stop()}},d)})),E.apply(this,arguments)}var A=function(){var d=(0,m.Z)(s().mark(function j(S,f,D,i,$){var U,l,ee,L;return s().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(U=window.apiWs.tx.did.setMetadata("pic",S),!(i&&$)){N.next=6;break}return N.next=4,U.paymentInfo($);case 4:return l=N.sent,N.abrupt("return",l);case 6:if(ee=(0,B.Gh)(f,D),!(ee==null||!ee)){N.next=9;break}throw new Error("Wrong password");case 9:return L=t.createFromUri(ee),N.next=12,(0,V.Y)(U,L);case 12:return N.abrupt("return",N.sent);case 13:case"end":return N.stop()}},j)}));return function(S,f,D,i,$){return d.apply(this,arguments)}}()},94452:function(C,h,a){"use strict";a.d(h,{q:function(){return t},T:function(){return u}});var P=a(86582),m=a(11849),R=a(3182),s=a(94043),p=a.n(s),W=a(51625),O=a(55410),B=a(84986),V=a(41741),Z=a(96534),g=a(48764).Buffer,t=function(){var E=(0,R.Z)(p().mark(function A(d,j){var S,f;return p().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(d.type!=="image/gif"){i.next=2;break}return i.abrupt("return",d);case 2:return S=j===O.n.ICON?{maxSizeMB:.1,maxWidthOrHeight:60,useWebWorker:!0}:{maxSizeMB:.5,maxWidthOrHeight:400,useWebWorker:!0},i.prev=3,i.next=6,(0,V.Z)(d,S);case 6:return f=i.sent,i.abrupt("return",f);case 10:return i.prev=10,i.t0=i.catch(3),console.log("image compression failed",i.t0),i.abrupt("return",d);case 14:case"end":return i.stop()}},A,null,[[3,10]])}));return function(d,j){return E.apply(this,arguments)}}(),u=function(){var E=(0,R.Z)(p().mark(function A(d){var j,S,f,D,i,$,U,l;return p().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return j={media:d.poster,icon:d.icon,content:d.content,instructions:d.instructions.map(function(ae){var N;return(0,m.Z)((0,m.Z)({},ae),{},{link:encodeURIComponent((N=ae.link)!==null&&N!==void 0?N:"")})}),sponsorName:d.sponsorName},L.next=3,g.from(JSON.stringify(j));case 3:return S=L.sent,L.next=6,(0,B.U)(S);case 6:if(f=L.sent,D=f.response,i=f.data,D.ok){L.next=11;break}throw"Create Metadata Error";case 11:return $="ipfs://".concat(i.Hash),U=(0,Z.Zc)(W.Z.advertisement.defaultDelegatedDid),l=Array.from(new Set((0,P.Z)(d.instructions.map(function(ae){return ae.tag}).filter(Boolean)))),L.abrupt("return",{tags:l,metadata:$,rewardRate:d.rewardRate.toString(),lifetime:d.lifetime,payoutBase:(0,Z.Vm)(d.payoutBase.toString()),payoutMin:(0,Z.Vm)(d.payoutMin.toString()),payoutMax:(0,Z.Vm)(d.payoutMax.toString()),delegatedAccount:U});case 15:case"end":return L.stop()}},A)}));return function(d){return E.apply(this,arguments)}}()}}]);

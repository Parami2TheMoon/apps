(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[8172],{55133:function(k){k.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},2752:function(k){k.exports={claimInfoContainer:"claimInfoContainer___2QBl-",scoreChange:"scoreChange___21g3Z"}},8556:function(k){k.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(k){k.exports={tag:"tag___sah2p"}},90802:function(k){k.exports={explorerContainer:"explorerContainer___2tn58",dashboard:"dashboard___1yzjn",header:"header___7HFGw",buttons:"buttons____mn0V",button:"button___2bNYM",confirm:"confirm___14R24",topIcon:"topIcon___lcz8T",title:"title___3OHiQ",field:"field___1rYhg",value:"value___VpweH",notUser:"notUser___1H3wh",desc:"desc___3002O",buttonImport:"buttonImport___1UVlX",notSupport:"notSupport___3AII_",icon:"icon___2lOpA",text:"text___2HCAz",loading:"loading___38OsL",loadingTip:"loadingTip___2K2wM",avatar:"avatar___1Itlz",rotate:"rotate___3cdkL",image_blur:"image_blur___1JtdU"}},69764:function(k,ee,e){"use strict";var Fe=e(71194),ae=e(50146),ye=e(57663),A=e(71577),Ne=e(402),J=e(3887),P=e(67294),He=e(55133),w=e.n(He),g=e(54549),ce=e(85893),v=J.Z.Title,l=function(se){var Ve=se.visable,Ie=se.title,be=se.content,Me=se.footer,ue=se.close,te=se.bodyStyle,E=se.width;return(0,ce.jsx)(ae.Z,{title:Ie?(0,ce.jsx)(v,{level:5,className:w().title,children:Ie}):null,closable:!!ue,closeIcon:(0,ce.jsx)(ce.Fragment,{children:(0,ce.jsx)(A.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,ce.jsx)(g.Z,{onClick:ue})})}),className:w().modal,centered:!0,visible:Ve,width:E!=null?E:650,footer:Me,bodyStyle:te,children:be})};ee.Z=l},46656:function(k,ee,e){"use strict";var Fe=e(71194),ae=e(50146),ye=e(47673),A=e(32787),Ne=e(22385),J=e(31097),P=e(17462),He=e(76772),w=e(57663),g=e(71577),ce=e(74379),v=e(38648),l=e(3182),$e=e(2824),se=e(402),Ve=e(3887),Ie=e(94043),be=e.n(Ie),Me=e(67294),ue=e(43581),te=e(55133),E=e.n(te),y=e(3548),j=e(68855),Ee=e(47832),ta=e(55347),ra=e(51625),m=e(85893),Ge=Ve.Z.Title,na=function(Ce){var xe=Ce.visable,Ue=Ce.setVisable,s=Ce.passphrase,Ze=Ce.setPassphrase,Re=Ce.func,Ae=Ce.changePassphrase,Ke=(0,ue.tT)("apiWs"),ke=(0,ue.tT)("currentUser"),r=ke.wallet,la=(0,ue.tT)("balance"),fa=la.balance,Ye=(0,Me.useState)(!1),Te=(0,$e.Z)(Ye,2),we=Te[0],Be=Te[1],Je=(0,Me.useState)(),ze=(0,$e.Z)(Je,2),re=ze[0],Xe=ze[1],X=(0,ue.YB)(),Qe=function(z){Ze(z?z.target.value:"")},a=function(){var je=(0,l.Z)(be().mark(function z(){var $,Le,U,qe,N;return be().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(Be(!0),r!=null&&r.passphrase&&Ze(r==null?void 0:r.passphrase),!((!s||s.length<6)&&!(r!=null&&r.passphrase))){F.next=5;break}return Be(!1),F.abrupt("return");case 5:if($=(r==null?void 0:r.passphrase)||s,!($&&r!==null&&r!==void 0&&r.keystore)){F.next=16;break}if(Le=(0,Ee.Gh)($,r.keystore),Le){F.next=13;break}return v.default.error({key:"passphraseError",message:X.formatMessage({id:"error.passphrase.error"}),duration:null}),Ze(""),Be(!1),F.abrupt("return");case 13:U=new ta.ZP({type:"sr25519"}),qe=U.addFromUri(Le),N=qe.address,r!=null&&r.account&&r.account!==N&&(localStorage.clear(),sessionStorage.clear(),window.location.href=ra.Z.page.homePage);case 16:if(!Re){F.next=19;break}return F.next=19,Re();case 19:Ue(!1),Be(!1);case 21:case"end":return F.stop()}},z)}));return function(){return je.apply(this,arguments)}}(),ia=function(){var je=(0,l.Z)(be().mark(function z(){var $;return be().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!(!!Ke&&!!r.account)){U.next=11;break}return U.next=3,Re(!0,r.account);case 3:if($=U.sent,!$){U.next=8;break}Xe($.partialFee),U.next=11;break;case 8:if(Ae){U.next=11;break}return U.next=11,a();case 11:case"end":return U.stop()}},z)}));return function(){return je.apply(this,arguments)}}();return(0,Me.useEffect)(function(){!!Ke&&!!(r!=null&&r.account)&&xe&&ia()},[Ke,r==null?void 0:r.account,xe]),(0,Me.useEffect)(function(){!!(r!=null&&r.passphrase)&&xe&&!Ae&&Ze(r==null?void 0:r.passphrase)},[r==null?void 0:r.passphrase,s,xe,Ae]),(0,m.jsxs)(ae.Z,{title:(0,m.jsx)(Ge,{level:3,children:X.formatMessage({id:"modal.security.title"})}),closable:!1,className:E().modal,centered:!0,visible:xe,width:400,footer:(0,m.jsxs)("div",{className:E().buttons,children:[(0,m.jsx)(g.Z,{type:"text",shape:"round",size:"large",className:E().button,onClick:function(){Ue(!1),window.location.reload()},loading:we,children:X.formatMessage({id:"common.decline"})}),(0,m.jsx)(g.Z,{type:"primary",shape:"round",size:"large",className:E().button,onClick:function(){a()},disabled:!s||s.length<6,loading:we,children:X.formatMessage({id:"common.confirm"})})]}),children:[(0,m.jsxs)("div",{className:E().confirmContainer,children:[!!re&&!!(re!=null&&re.toString())>fa.free&&(0,m.jsx)(He.Z,{description:X.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:E().alertContainer}),!!re&&(0,m.jsxs)("div",{className:E().field,children:[(0,m.jsxs)("div",{className:E().labal,children:[X.formatMessage({id:"modal.security.gas"}),(0,m.jsxs)("span",{className:E().small,children:["(",X.formatMessage({id:"modal.security.estimated"}),")"]}),(0,m.jsx)(J.Z,{placement:"bottom",title:X.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,m.jsx)(j.Z,{className:E().labalIcon})})]}),(0,m.jsx)("div",{className:E().value,children:(0,m.jsx)(y.Z,{value:re,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(r!=null&&r.passphrase)||Ae)&&(0,m.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,m.jsxs)("div",{className:E().codeInput,children:[(0,m.jsxs)("div",{className:E().verifyForm,children:[(0,m.jsx)("span",{className:(s==null?void 0:s.slice(0))&&!(s!=null&&s.slice(1,5))&&E().highLight,children:s==null?void 0:s.slice(0,1).replace(/[^]/,"\u2731")}),(0,m.jsx)("span",{className:(s==null?void 0:s.slice(1))&&!(s!=null&&s.slice(2,5))&&E().highLight,children:s==null?void 0:s.slice(1,2).replace(/[^]/,"\u2731")}),(0,m.jsx)("span",{className:(s==null?void 0:s.slice(2,3))&&!(s!=null&&s.slice(3,5))&&E().highLight,children:s==null?void 0:s.slice(2,3).replace(/[^]/,"\u2731")}),(0,m.jsx)("span",{className:(s==null?void 0:s.slice(3,4))&&!(s!=null&&s.slice(4,5))&&E().highLight,children:s==null?void 0:s.slice(3,4).replace(/[^]/,"\u2731")}),(0,m.jsx)("span",{className:(s==null?void 0:s.slice(4,5))&&!(s!=null&&s.slice(5))&&E().highLight,children:s==null?void 0:s.slice(4,5).replace(/[^]/,"\u2731")}),(0,m.jsx)("span",{className:(s==null?void 0:s.slice(5))&&E().highLight,children:s==null?void 0:s.slice(5).replace(/[^]/,"\u2731")})]}),(0,m.jsx)(A.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:E().verifyInput,onChange:Qe,value:s,disabled:we,maxLength:6,visibilityToggle:!1})]})})]})};ee.Z=na},97985:function(k,ee,e){"use strict";e.r(ee),e.d(ee,{default:function(){return ba}});var Fe=e(48736),ae=e(27049),ye=e(57663),A=e(71577),Ne=e(12968),J=e(62462),P=e(3182),He=e(74379),w=e(38648),g=e(2824),ce=e(94043),v=e.n(ce),l=e(67294),$e=e(34792),se=e(48086),Ve=e(58024),Ie=e(39144),be=e(22385),Me=e(31097),ue=e(55909),te=e.n(ue),E=e(37550),y=e.n(E),j=e(43581),Ee=e(28991),ta={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 464H528V448h312v128zm0 264H184V184h656v200H496c-17.7 0-32 14.3-32 32v192c0 17.7 14.3 32 32 32h344v200zM580 512a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"wallet",theme:"outlined"},ra=ta,m=e(27029),Ge=function(f,T){return l.createElement(m.Z,(0,Ee.Z)((0,Ee.Z)({},f),{},{ref:T,icon:ra}))};Ge.displayName="WalletOutlined";var na=l.forwardRef(Ge),ma=e(57119),Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},xe=Ce,Ue=function(f,T){return l.createElement(m.Z,(0,Ee.Z)((0,Ee.Z)({},f),{},{ref:T,icon:xe}))};Ue.displayName="ShareAltOutlined";var s=l.forwardRef(Ue),Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M911.5 700.7a8 8 0 00-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 00-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"}}]},name:"money-collect",theme:"outlined"},Re=Ze,Ae=function(f,T){return l.createElement(m.Z,(0,Ee.Z)((0,Ee.Z)({},f),{},{ref:T,icon:Re}))};Ae.displayName="MoneyCollectOutlined";var Ke=l.forwardRef(Ae),ke=e(96534),r=e(20640),la=e.n(r),fa=e(20228),Ye=e(11382),Te=e(69764),we=e(2752),Be=e.n(we),Je=e(32689),ze=e(46656),re=e(61715),Xe=e(69854),X=e(11561),Qe=e(79762),a=e(85893),ia=function(f){var T=f.onClose,_=f.adId,V=f.nftId,ve=f.referrer,I=ve===void 0?null:ve,Oe=f.onClaim,me=(0,l.useState)(),u=(0,g.Z)(me,2),d=u[0],fe=u[1],he=(0,l.useState)(!1),pe=(0,g.Z)(he,2),ne=pe[0],O=pe[1],Se=(0,l.useState)(""),H=(0,g.Z)(Se,2),G=H[0],le=H[1],_e=(0,j.tT)("currentUser"),x=_e.wallet,B=(0,j.YB)(),ie=function(){var S=(0,P.Z)(v().mark(function D(){var Z;return v().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,Xe.Wv)(_);case 2:Z=h.sent,fe({scores:(Z!=null?Z:[]).map(function(L){return{tag:L.name,score:-5}})});case 4:case"end":return h.stop()}},D)}));return function(){return S.apply(this,arguments)}}(),De=function(){var S=(0,P.Z)(v().mark(function D(){var Z,C,h,L;return v().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,(0,Xe.Wv)(_);case 3:Z=p.sent,console.log(Z),p.next=10;break;case 7:p.prev=7,p.t0=p.catch(0),console.log(p.t0);case 10:return p.prev=10,p.next=13,(0,Je.Rh)(_,V,x==null?void 0:x.did);case 13:C=p.sent,h=C.response,L=C.data,h.ok?fe(L):ie(),p.next=23;break;case 19:p.prev=19,p.t1=p.catch(10),console.log(p.t1),ie();case 23:case"end":return p.stop()}},D,null,[[0,7],[10,19]])}));return function(){return S.apply(this,arguments)}}();(0,l.useEffect)(function(){De()},[]);var ge=function(){var S=(0,P.Z)(v().mark(function D(Z,C){var h,L,R;return v().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(x!=null&&x.keystore){M.next=3;break}return w.default.error({key:"accessDenied",message:B.formatMessage({id:"error.accessDenied"}),duration:null}),M.abrupt("return");case 3:if(M.prev=3,R=((h=d.scores)!==null&&h!==void 0?h:[]).map(function(n){return[n.tag,n.score]}),!(d&&d.signature)){M.next=11;break}return M.next=8,(0,re.nm)(_,V,x==null?void 0:x.did,R,d.referer,d.signature,d.signer_account,G,x.keystore,Z,C);case 8:L=M.sent,M.next=14;break;case 11:return M.next=13,(0,re.HS)(_,V,R,I,G,x.keystore,Z,C);case 13:L=M.sent;case 14:if(!(Z&&C)){M.next=16;break}return M.abrupt("return",L);case 16:w.default.success({message:"Claim Token Success"}),Oe(),M.next=24;break;case 20:M.prev=20,M.t0=M.catch(3),console.log(M.t0),w.default.error({message:"Claim Ad Token Error",description:"".concat(M.t0)});case 24:case"end":return M.stop()}},D,null,[[3,20]])}));return function(Z,C){return S.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Te.Z,{visable:!0,title:"Claim your token",content:(0,a.jsx)("div",{className:Be().claimInfoContainer,children:(0,a.jsx)(Ye.Z,{spinning:!d,children:d&&d.scores&&d.scores.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Claim now and have your score updated:"}),d.scores.map(function(S){return(0,a.jsxs)("div",{className:Be().scoreChange,children:[(0,a.jsx)(X.Z,{tag:S.tag}),(0,a.jsx)(Qe.Z,{score:parseInt(S.score,10)})]})}),!d.signature&&(0,a.jsx)("p",{children:"Not happy with the reward? Follow the instructions before claiming."})]})})}),footer:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",disabled:!d,onClick:function(){return O(!0)},children:"Claim"})}),close:function(){return T()}}),(0,a.jsx)(ze.Z,{visable:ne,setVisable:O,passphrase:G,setPassphrase:le,func:ge})]})},je=ia,z=e(51625),$=e(59749),Le=function(f){var T,_=f.ad,V=f.nftId,ve=f.referrer,I=f.asset,Oe=f.avatar,me=f.did,u=f.adData,d=f.balance,fe=f.notAccess,he=f.adImageOnLoad,pe=he===void 0?function(){}:he,ne=(0,j.tT)("currentUser"),O=ne.wallet,Se=(0,l.useState)(!1),H=(0,g.Z)(Se,2),G=H[0],le=H[1],_e=(0,l.useState)(!1),x=(0,g.Z)(_e,2),B=x[0],ie=x[1],De=(0,l.useState)(!1),ge=(0,g.Z)(De,2),S=ge[0],D=ge[1],Z=(0,j.tT)("apiWs"),C=(0,j.YB)(),h=O!=null&&O.did?"".concat(window.location.origin,"/").concat(me,"/").concat(V,"?referrer=").concat(O==null?void 0:O.did):"".concat(window.location.origin,"/").concat(me,"/").concat(V),L=(0,ke.st)(u==null?void 0:u.creator).substring(8),R=d&&u.payoutMax&&BigInt(d)<BigInt((0,$.At)(u.payoutMax));(0,l.useEffect)(function(){R&&!fe&&!B&&D(!0)},[R,fe,B]);var p=function(){var n=(0,P.Z)(v().mark(function Y(Pe,b,ea){var aa;return v().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,Pe.query.ad.payout(b,ea);case 2:aa=Q.sent,aa.isEmpty?ie(!1):ie(!0);case 4:case"end":return Q.stop()}},Y)}));return function(Pe,b,ea){return n.apply(this,arguments)}}();(0,l.useEffect)(function(){Z&&u!==null&&u!==void 0&&u.id&&O!==null&&O!==void 0&&O.did&&p(Z,u==null?void 0:u.id,O==null?void 0:O.did)},[Z,u,O]);var M=function(Y){return(0,a.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",className:y().actionBtn,icon:(0,a.jsx)(na,{}),onClick:function(){j.m8.push("/wallet")},children:Y})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:y().advertisementContainer,children:[(0,a.jsx)("div",{className:y().container,children:(0,a.jsx)("div",{className:y().topBar,children:(0,a.jsxs)("div",{className:y().sponsored,children:[(0,a.jsx)(J.Z,{src:Oe||"/images/logo-round-core.svg",className:y().avatar,preview:!1,id:"avatar",fallback:"/images/logo-round-core.svg"}),(0,a.jsx)("span",{children:C.formatMessage({id:"creator.explorer.advertisement.sponsoredBy"},{did:"".concat(L)})})]})})}),(0,a.jsx)(Ie.Z,{className:"".concat(te().card," ").concat(y().adCard),style:{maxWidth:"650px",border:"none",marginBottom:"30px"},bodyStyle:{padding:0,width:"100%"},children:(0,a.jsxs)("div",{className:y().advertisement,children:[(0,a.jsx)("div",{className:y().adMedia,children:(0,a.jsx)(J.Z,{src:_==null?void 0:_.media,placeholder:!0,preview:!1,className:y().adMediaImg,onLoad:pe})}),(_==null?void 0:_.instructions)&&(_==null||(T=_.instructions)===null||T===void 0?void 0:T.length)>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:y().instructions,children:[(0,a.jsxs)("div",{className:y().instructionTitle,children:["Follow the instructions to improve your DID reputation score",(0,a.jsx)(Me.Z,{placement:"top",title:"Your DID reputation score is a number attached to your DID that can be increased by performing tasks. The higher your DID reputation score, the higher the reward.",children:(0,a.jsx)(ma.Z,{style:{marginLeft:"5px"}})})]}),_.instructions.map(function(n,Y){return(0,a.jsxs)("div",{className:"".concat(y().instruction," ").concat(n.link?y().withLink:""),onClick:function(){!!n.link&&window.open("".concat(z.Z.main.weeklySite,"?redirect=").concat(n.link,"&nftId=").concat(V,"&did=").concat(O==null?void 0:O.did,"&ad=").concat(u==null?void 0:u.id,"&referrer=").concat(ve,"&tag=").concat(n.tag,"&score=").concat(n.score))},children:[(0,a.jsx)("span",{className:y().instructionText,children:n.text}),!!n.tag&&(0,a.jsx)(X.Z,{tag:n.tag}),!!n.score&&(0,a.jsx)(Qe.Z,{score:parseInt(n.score,10)})]},Y)})]})})]})}),(0,a.jsxs)("div",{className:y().buttonContainer,children:[B&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",className:y().actionBtn,icon:(0,a.jsx)(s,{}),onClick:(0,P.Z)(v().mark(function n(){var Y;return v().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(Y={title:"Para Metaverse Identity",text:C.formatMessage({id:"creator.explorer.shareMessage"}),url:h},!(navigator.canShare&&navigator.canShare(Y))){b.next=12;break}return b.prev=2,b.next=5,navigator.share(Y);case 5:b.next=10;break;case 7:b.prev=7,b.t0=b.catch(2),console.log(b.t0);case 10:b.next=14;break;case 12:la()(h+" ".concat(C.formatMessage({id:"creator.explorer.shareMessage"},{token:"$".concat(I==null?void 0:I.symbol)}))),se.default.success(C.formatMessage({id:"common.copied"}));case 14:case"end":return b.stop()}},n,null,[[2,7]])})),children:C.formatMessage({id:"creator.explorer.advertisement.share"},{token:"$".concat(I==null?void 0:I.symbol)})}),M("Check your reward and score")]}),!B&&(0,a.jsxs)(a.Fragment,{children:[R&&M("Check your wallet and score"),!R&&(0,a.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,a.jsx)(Ke,{}),className:y().claimBtn,onClick:function(){return le(!0)},children:"Claim your $".concat(I==null?void 0:I.symbol)})]})]}),G&&(0,a.jsx)(je,{adId:u==null?void 0:u.id,nftId:V,referrer:ve,onClose:function(){return le(!1)},onClaim:function(){le(!1),ie(!0)}}),S&&(0,a.jsx)(Te.Z,{visable:!0,content:(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:"Oops, all rewards have been claimed for this Ad. However the next Ad is coming soon, come back later or follow our twitter to get informed."})}),footer:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",onClick:function(){return D(!1)},children:"OK"})})})]})})},U=Le,qe=e(90802),N=e.n(qe),ha=e(51615),F=e(28943),Ga=e(47673),pa=e(32787),Ya=e(402),Ca=e(3887),ja=e(3548),Oa=Ca.Z.Title,Sa=function(f){var T=f.nft,_=(0,j.tT)("balance"),V=_.balance,ve=(0,j.tT)("currentUser"),I=ve.wallet,Oe=(0,l.useState)(!1),me=(0,g.Z)(Oe,2),u=me[0],d=me[1],fe=(0,l.useState)(!1),he=(0,g.Z)(fe,2),pe=he[0],ne=he[1],O=(0,l.useState)("0"),Se=(0,g.Z)(O,2),H=Se[0],G=Se[1],le=(0,l.useState)(""),_e=(0,g.Z)(le,2),x=_e[0],B=_e[1],ie=(0,l.useState)(!1),De=(0,g.Z)(ie,2),ge=De[0],S=De[1],D=(0,j.YB)(),Z=function(){var C=(0,P.Z)(v().mark(function h(L,R){var p;return v().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(!!I&&!!(I!=null&&I.keystore))){n.next=18;break}return n.prev=1,n.next=4,(0,F.MW)(T.tokenAssetId,(0,$.HM)(H,18).toString(),x,I==null?void 0:I.keystore,L,R);case 4:if(p=n.sent,ne(!1),d(!1),!(L&&R)){n.next=9;break}return n.abrupt("return",p);case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(1),w.default.error({message:n.t0.message||n.t0,duration:null}),d(!1),n.abrupt("return");case 16:n.next=19;break;case 18:w.default.error({key:"accessDenied",message:D.formatMessage({id:"error.accessDenied"}),duration:null});case 19:case"end":return n.stop()}},h,null,[[1,11]])}));return function(L,R){return C.apply(this,arguments)}}();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(Ye.Z,{tip:D.formatMessage({id:"common.submitting"}),spinning:u,wrapperClassName:te().pageContainer,children:[(0,a.jsx)(Ie.Z,{className:te().card,bodyStyle:{width:"100%"},children:(0,a.jsxs)("div",{className:y().trade,children:[(0,a.jsx)(Oa,{level:3,style:{fontWeight:"bold",textAlign:"center"},className:te().title,children:D.formatMessage({id:"creator.explorer.support"})}),(0,a.jsx)(pa.Z,{autoFocus:!0,size:"large",placeholder:"0",bordered:!1,className:"".concat(y().input," bigInput"),value:H,onChange:function(h){G(h.target.value)},disabled:u,type:"number"}),(0,a.jsx)(ae.Z,{}),(0,a.jsx)(A.Z,{block:!0,shape:"round",type:"primary",size:"large",onClick:function(){ne(!0)},children:D.formatMessage({id:"creator.explorer.support"})})]})}),(0,a.jsx)(Te.Z,{visable:pe,title:D.formatMessage({id:"creator.explorer.support"}),content:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:y().tradeModal,children:[(0,a.jsx)(pa.Z,{autoFocus:!0,size:"large",placeholder:D.formatMessage({id:"stake.add.number.placeholder"}),bordered:!1,className:"".concat(y().input," bigInput"),value:H,onChange:function(h){G(h.target.value)},disabled:u,type:"number"}),(0,a.jsxs)("div",{className:y().field,children:[(0,a.jsx)("span",{className:y().title,children:D.formatMessage({id:"creator.explorer.availableBalance"})}),(0,a.jsx)("span",{className:y().value,children:(0,a.jsx)(ja.Z,{value:V.free})})]})]})}),footer:(0,a.jsx)(A.Z,{block:!0,shape:"round",type:"primary",size:"large",loading:u,disabled:(0,$.HM)(H,18)<=BigInt(0)||(0,$.HM)(H,18)>BigInt(V.free),onClick:function(){d(!0),S(!0)},children:D.formatMessage({id:"common.submit"})}),close:function(){ne(!1)}}),(0,a.jsx)(ze.Z,{visable:ge,setVisable:S,passphrase:x,setPassphrase:B,func:Z})]})})},_a=Sa,ga=e(13580),Da=e(33044),Pa=e(29791),Ia=function(){var f,T,_=(0,j.tT)("apiWs"),V=(0,j.tT)("currentUser"),ve=V.wallet,I=(0,j.tT)("bodyChange"),Oe=I.bodyHeight,me=(0,l.useState)(!0),u=(0,g.Z)(me,2),d=u[0],fe=u[1],he=(0,l.useState)(""),pe=(0,g.Z)(he,2),ne=pe[0],O=pe[1],Se=(0,l.useState)(!0),H=(0,g.Z)(Se,2),G=H[0],le=H[1],_e=(0,l.useState)(),x=(0,g.Z)(_e,2),B=x[0],ie=x[1],De=(0,l.useState)(),ge=(0,g.Z)(De,2),S=ge[0],D=ge[1],Z=(0,l.useState)(),C=(0,g.Z)(Z,2),h=C[0],L=C[1],R=(0,l.useState)(!1),p=(0,g.Z)(R,2),M=p[0],n=p[1],Y=(0,l.useState)(),Pe=(0,g.Z)(Y,2),b=Pe[0],ea=Pe[1],aa=(0,l.useState)(),oa=(0,g.Z)(aa,2),Q=oa[0],xa=oa[1],Za=(0,l.useState)(null),ya=(0,g.Z)(Za,2),Aa=ya[0],Ta=ya[1],Ba=(0,l.useState)(""),Ma=(0,g.Z)(Ba,2),Na=Ma[0],La=Ma[1],oe=(0,j.YB)(),Ea=(0,j.md)(),Wa=(f=document.getElementById("avatar"))===null||f===void 0?void 0:f.offsetTop,Ua=(T=document.getElementById("avatar"))===null||T===void 0?void 0:T.offsetLeft,Ra=document.body.clientWidth,W=(0,ha.UO)(),Ka=j.m8.location.query,ka=Ka,wa=ka.referrer,sa=W!=null&&W.kol?"did"+(W==null?void 0:W.kol):(0,ke.st)(ve.did),da=(0,ke.Zc)(sa),ca=function(c){w.default.error({message:c.message,duration:null})},za=function(){var o=(0,P.Z)(v().mark(function c(){var i;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,re.qX)(W.nftID);case 2:if(i=t.sent,i){t.next=6;break}return j.m8.replace("".concat(window.location.pathname,"/dao")),t.abrupt("return");case 6:ea(i);case 7:case"end":return t.stop()}},c)}));return function(){return o.apply(this,arguments)}}(),Fa=function(){var o=(0,P.Z)(v().mark(function c(i){var K,t,ua,de,va;return v().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!((i==null||(K=i.metadata)===null||K===void 0?void 0:K.indexOf("ipfs://"))<0)){q.next=2;break}return q.abrupt("return");case 2:return ua=i==null||(t=i.metadata)===null||t===void 0?void 0:t.substring(7),q.next=5,fetch(z.Z.ipfs.endpoint+ua);case 5:return de=q.sent,q.next=8,de.json();case 8:if(va=q.sent,va){q.next=11;break}return q.abrupt("return");case 11:Ta(va);case 12:case"end":return q.stop()}},c)}));return function(i){return o.apply(this,arguments)}}();(0,l.useEffect)(function(){if(b)try{var o=b.ad;if(!(o!=null&&o.metadata))return;xa(o),Fa(o),(0,ga.L7)(b.budgetPot,b.fractionId).then(function(c){var i;La((0,$.At)((i=c==null?void 0:c.balance)!==null&&i!==void 0?i:""))}).catch(function(c){console.error("GetBalanceOfBudgetPot error:",c)})}catch(c){ca(c)}},[b]);var Ha=function(){var o=(0,P.Z)(v().mark(function c(){var i;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,F.JI)(da);case 3:if(i=t.sent,!i.isEmpty){t.next=7;break}return le(!1),t.abrupt("return");case 7:window.location.href="".concat(window.location.origin,"/").concat(sa,"/").concat(i),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),w.default.error({message:t.t0.message,duration:null}),t.abrupt("return");case 14:case"end":return t.stop()}},c,null,[[0,10]])}));return function(){return o.apply(this,arguments)}}(),$a=function(){var o=(0,P.Z)(v().mark(function c(){var i;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Da.q5)(da);case 2:if(i=t.sent,i){t.next=7;break}return w.default.error({message:oe.formatMessage({id:"error.identity.notFound"}),duration:null}),j.m8.goBack(),t.abrupt("return");case 7:ie(i);case 9:case"end":return t.stop()}},c)}));return function(){return o.apply(this,arguments)}}();(0,l.useEffect)(function(){var o;document.title="".concat((o=h==null?void 0:h.name)!==null&&o!==void 0?o:sa," - Para Metaverse Identity")},[h]),(0,l.useEffect)(function(){if(B&&(B==null?void 0:B.avatar.indexOf("ipfs://"))>-1){var o,c=B==null||(o=B.avatar)===null||o===void 0?void 0:o.substring(7);(0,Je.nH)(z.Z.ipfs.endpoint+c).then(function(i){var K=i.response,t=i.data;(K==null?void 0:K.status)===200&&O(window.URL.createObjectURL(t))})}},[B]);var Va=function(){var o=(0,P.Z)(v().mark(function c(){var i;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,F.X6)(W==null?void 0:W.nftID);case 2:if(i=t.sent,i){t.next=7;break}return w.default.error({message:oe.formatMessage({id:"error.nft.notFound"}),duration:null}),j.m8.goBack(),t.abrupt("return");case 7:if((i==null?void 0:i.owner)===da){t.next=11;break}return w.default.error({message:oe.formatMessage({id:"error.nft.notFound"}),duration:null}),j.m8.goBack(),t.abrupt("return");case 11:D(i);case 12:case"end":return t.stop()}},c)}));return function(){return o.apply(this,arguments)}}();return(0,l.useEffect)(function(){var o=function(){var c=(0,P.Z)(v().mark(function i(){var K,t;return v().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,(0,ga.Ay)(S==null?void 0:S.tokenAssetId);case 2:if(K=de.sent,!K.isEmpty){de.next=6;break}return le(!1),de.abrupt("return");case 6:t=K.toHuman(),L(t);case 8:case"end":return de.stop()}},i)}));return function(){return c.apply(this,arguments)}}();if(S)try{o()}catch(c){ca(c)}},[S]),(0,l.useEffect)(function(){if(_&&!(W!=null&&W.nftID)&&Ha(),Ea.canWalletUser||(localStorage.setItem("parami:wallet:redirect",window.location.href),n(!0)),_)try{za(),Va(),$a()}catch(o){ca(o)}},[_]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:N().explorerContainer,children:[G&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.Z,{src:ne||"/images/default-avatar.svg",fallback:"/images/default-avatar.svg",className:N().avatar,style:{top:d?(Oe-400)/2:Wa,left:d?(Ra-200)/2:Ua,width:d?200:30,height:d?200:30,animation:d?1:0,position:d?"fixed":"absolute",display:d||Q&&Object.keys(Q).length?"flex":"none"},preview:!1}),(0,a.jsx)("div",{className:N().loading,style:{opacity:d?1:0,zIndex:d?15:-1,height:Oe,minHeight:"100vh"},children:(0,a.jsx)("span",{className:N().loadingTip,children:oe.formatMessage({id:"creator.explorer.loading.tip",defaultMessage:"Let's find out more about the NFT.{br} Surprise awaits..."},{br:(0,a.jsx)("br",{})})})})]}),!G&&Ea.canWalletUser&&S&&(0,a.jsx)("div",{className:te().pageContainer,style:{paddingTop:50,maxWidth:1920},children:(0,a.jsx)(_a,{nft:S})}),G&&Q&&Object.keys(Q).length>0&&(0,a.jsx)("div",{className:te().pageContainer,style:{paddingTop:50,maxWidth:"100%"},children:(0,a.jsx)(U,{ad:Aa,nftId:W==null?void 0:W.nftID,referrer:wa,asset:h,avatar:ne,did:sa,adData:Q,balance:Na,notAccess:M,adImageOnLoad:function(){fe(!1)}})}),(0,a.jsx)(Pa.Z,{})]}),(0,a.jsx)(Te.Z,{visable:M,title:oe.formatMessage({id:"error.identity.notUser"}),content:(0,a.jsx)("div",{className:N().notUser,children:(0,a.jsxs)("div",{className:N().buttons,children:[(0,a.jsxs)(A.Z,{block:!0,size:"large",type:"primary",shape:"round",className:N().button,onClick:function(){j.m8.push(z.Z.page.createPage)},children:[(0,a.jsx)("div",{className:N().title,children:oe.formatMessage({id:"index.createAccount"})}),(0,a.jsx)("span",{className:N().desc,children:oe.formatMessage({id:"index.createAccount.desc"})})]}),(0,a.jsx)(ae.Z,{children:oe.formatMessage({id:"index.or"})}),(0,a.jsxs)(A.Z,{block:!0,ghost:!0,size:"large",type:"link",shape:"round",className:"".concat(N().button," ").concat(N().buttonImport),onClick:function(){j.m8.push(z.Z.page.recoverPage)},children:[(0,a.jsx)("div",{className:N().title,children:oe.formatMessage({id:"index.importAccount"})}),(0,a.jsx)("span",{className:N().desc,children:oe.formatMessage({id:"index.importAccount.desc"})})]})]})}),close:void 0,footer:!1})]})},ba=Ia},79762:function(k,ee,e){"use strict";var Fe=e(67294),ae=e(8556),ye=e.n(ae),A=e(85893);function Ne(J){var P=J.score;return(0,A.jsxs)("span",{className:ye().scoreContainer,children:[P>=0&&(0,A.jsxs)("span",{className:ye().positive,children:["+",P]}),P<0&&(0,A.jsxs)("span",{className:ye().negative,children:["-",Math.abs(P)]})]})}ee.Z=Ne},11561:function(k,ee,e){"use strict";var Fe=e(67294),ae=e(28531),ye=e.n(ae),A=e(85893);function Ne(J){var P=J.tag;return(0,A.jsx)("span",{className:ye().tag,children:P})}ee.Z=Ne}}]);

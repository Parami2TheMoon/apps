(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[2072],{55133:function(R){R.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(R){R.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},69764:function(R,L,e){"use strict";var w=e(71194),I=e(50146),M=e(57663),u=e(71577),D=e(402),O=e(3887),b=e(67294),C=e(55133),g=e.n(C),m=e(54549),d=e(85893),W=O.Z.Title,A=function(T){var S=T.visable,P=T.title,o=T.content,l=T.footer,_=T.close,c=T.bodyStyle;return(0,d.jsx)(I.Z,{title:P?(0,d.jsx)(W,{level:5,className:g().title,children:P}):null,closable:!!_,closeIcon:(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(u.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,d.jsx)(m.Z,{onClick:_})})}),className:g().modal,centered:!0,visible:S,width:650,footer:l,bodyStyle:c,children:o})};L.Z=A},46656:function(R,L,e){"use strict";var w=e(71194),I=e(50146),M=e(47673),u=e(32787),D=e(22385),O=e(31097),b=e(17462),C=e(76772),g=e(57663),m=e(71577),d=e(74379),W=e(38648),A=e(3182),K=e(2824),T=e(402),S=e(3887),P=e(94043),o=e.n(P),l=e(67294),_=e(43581),c=e(55133),a=e.n(c),f=e(3548),E=e(68855),p=e(47832),v=e(55347),y=e(51625),t=e(85893),i=S.Z.Title,x=function(r){var h=r.visable,J=r.setVisable,n=r.passphrase,$=r.setPassphrase,V=r.func,Y=r.changePassphrase,Q=(0,_.tT)("apiWs"),te=(0,_.tT)("currentUser"),s=te.wallet,se=(0,_.tT)("balance"),ie=se.balance,oe=(0,l.useState)(!1),q=(0,K.Z)(oe,2),X=q[0],z=q[1],le=(0,l.useState)(),ee=(0,K.Z)(le,2),G=ee[0],_e=ee[1],k=(0,_.YB)(),ue=function(N){$(N?N.target.value:"")},ne=function(){var F=(0,A.Z)(o().mark(function N(){var Z,H,U,re,ae;return o().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(z(!0),s!=null&&s.passphrase&&$(s==null?void 0:s.passphrase),!((!n||n.length<6)&&!(s!=null&&s.passphrase))){B.next=5;break}return z(!1),B.abrupt("return");case 5:if(Z=(s==null?void 0:s.passphrase)||n,!(Z&&s!==null&&s!==void 0&&s.keystore)){B.next=16;break}if(H=(0,p.Gh)(Z,s.keystore),H){B.next=13;break}return W.default.error({key:"passphraseError",message:k.formatMessage({id:"error.passphrase.error"}),duration:null}),$(""),z(!1),B.abrupt("return");case 13:U=new v.ZP({type:"sr25519"}),re=U.addFromUri(H),ae=re.address,s!=null&&s.account&&s.account!==ae&&(localStorage.clear(),sessionStorage.clear(),window.location.href=y.Z.page.homePage);case 16:if(!V){B.next=19;break}return B.next=19,V();case 19:J(!1),z(!1);case 21:case"end":return B.stop()}},N)}));return function(){return F.apply(this,arguments)}}(),de=function(){var F=(0,A.Z)(o().mark(function N(){var Z;return o().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!(!!Q&&!!s.account)){U.next=11;break}return U.next=3,V(!0,s.account);case 3:if(Z=U.sent,!Z){U.next=8;break}_e(Z.partialFee),U.next=11;break;case 8:if(Y){U.next=11;break}return U.next=11,ne();case 11:case"end":return U.stop()}},N)}));return function(){return F.apply(this,arguments)}}();return(0,l.useEffect)(function(){!!Q&&!!(s!=null&&s.account)&&h&&de()},[Q,s==null?void 0:s.account,h]),(0,l.useEffect)(function(){!!(s!=null&&s.passphrase)&&h&&!Y&&$(s==null?void 0:s.passphrase)},[s==null?void 0:s.passphrase,n,h,Y]),(0,t.jsxs)(I.Z,{title:(0,t.jsx)(i,{level:3,children:k.formatMessage({id:"modal.security.title"})}),closable:!1,className:a().modal,centered:!0,visible:h,width:400,footer:(0,t.jsxs)("div",{className:a().buttons,children:[(0,t.jsx)(m.Z,{type:"text",shape:"round",size:"large",className:a().button,onClick:function(){J(!1),window.location.reload()},loading:X,children:k.formatMessage({id:"common.decline"})}),(0,t.jsx)(m.Z,{type:"primary",shape:"round",size:"large",className:a().button,onClick:function(){ne()},disabled:!n||n.length<6,loading:X,children:k.formatMessage({id:"common.confirm"})})]}),children:[(0,t.jsxs)("div",{className:a().confirmContainer,children:[!!G&&!!(G!=null&&G.toString())>ie.free&&(0,t.jsx)(C.Z,{description:k.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:a().alertContainer}),!!G&&(0,t.jsxs)("div",{className:a().field,children:[(0,t.jsxs)("div",{className:a().labal,children:[k.formatMessage({id:"modal.security.gas"}),(0,t.jsxs)("span",{className:a().small,children:["(",k.formatMessage({id:"modal.security.estimated"}),")"]}),(0,t.jsx)(O.Z,{placement:"bottom",title:k.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,t.jsx)(E.Z,{className:a().labalIcon})})]}),(0,t.jsx)("div",{className:a().value,children:(0,t.jsx)(f.Z,{value:G,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(s!=null&&s.passphrase)||Y)&&(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,t.jsxs)("div",{className:a().codeInput,children:[(0,t.jsxs)("div",{className:a().verifyForm,children:[(0,t.jsx)("span",{className:(n==null?void 0:n.slice(0))&&!(n!=null&&n.slice(1,5))&&a().highLight,children:n==null?void 0:n.slice(0,1).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(n==null?void 0:n.slice(1))&&!(n!=null&&n.slice(2,5))&&a().highLight,children:n==null?void 0:n.slice(1,2).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(n==null?void 0:n.slice(2,3))&&!(n!=null&&n.slice(3,5))&&a().highLight,children:n==null?void 0:n.slice(2,3).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(n==null?void 0:n.slice(3,4))&&!(n!=null&&n.slice(4,5))&&a().highLight,children:n==null?void 0:n.slice(3,4).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(n==null?void 0:n.slice(4,5))&&!(n!=null&&n.slice(5))&&a().highLight,children:n==null?void 0:n.slice(4,5).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(n==null?void 0:n.slice(5))&&a().highLight,children:n==null?void 0:n.slice(5).replace(/[^]/,"\u2731")})]}),(0,t.jsx)(u.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:a().verifyInput,onChange:ue,value:n,disabled:X,maxLength:6,visibilityToggle:!1})]})})]})};L.Z=x},3548:function(R,L,e){"use strict";var w=e(67294),I=e(31639),M=e.n(I),u=e(96534),D=e(85893),O=function(C){var g=C.value,m=C.style;return(0,D.jsxs)("div",{className:M().ad3,style:m,children:[g?(0,u.MP)(g):"--",(0,D.jsx)("span",{className:M().unit,children:"\xA0$AD3"})]})};L.Z=O},57651:function(R,L,e){"use strict";var w=e(67294),I=e(31639),M=e.n(I),u=e(96534),D=e(85893),O=function(C){var g=C.value,m=C.symbol;return(0,D.jsxs)("div",{className:M().ad3,children:[g?(0,u.MP)(g.replaceAll(",","")):"--",m&&(0,D.jsxs)("span",{className:M().unit,children:["\xA0$",m]})]})};L.Z=O},47832:function(R,L,e){"use strict";e.d(L,{QM:function(){return O},Gh:function(){return b}});var w=e(74379),I=e(38648),M=e(81354),u=e.n(M),D=function(g){var m=g;if(m===""||m===void 0||!m){I.default.error({message:"Wrong Password",duration:null});return}var d=m.length%4;d=4-d;for(var W=0;W<d;W+=1)m=m.concat("p");return m},O=function(g,m){var d=D(g);if(!(d==null||!d)){var W=u().enc.Utf8.parse(d),A=u().enc.Utf8.parse(d),K=u().enc.Utf8.parse(m),T=u().AES.encrypt(K,W,{keySize:128/8,iv:A,mode:u().mode.CBC,padding:u().pad.Pkcs7});return T.ciphertext.toString()}},b=function(g,m){var d=D(g);if(!(d==null||!d)){var W=u().enc.Utf8.parse(d),A=u().enc.Utf8.parse(d),K=u().enc.Hex.parse(m),T=u().enc.Base64.stringify(K),S=u().AES.decrypt(T,W,{keySize:128/8,iv:A,mode:u().mode.CBC,padding:u().pad.Pkcs7});return S.toString(u().enc.Utf8)}}},1615:function(R,L,e){"use strict";e.d(L,{Ht:function(){return C},$1:function(){return m},rL:function(){return W},HF:function(){return A},w5:function(){return S}});var w=e(3182),I=e(94043),M=e.n(I),u=e(63667),D=e(47832),O=e(81603),b=new u.Y({type:"sr25519"}),C=function(){var P=(0,w.Z)(M().mark(function o(l,_,c,a,f,E,p){var v,y,t,i,x;return M().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.system.number();case 2:if(v=r.sent,y=window.apiWs.tx.swap.buyTokens(l,_,c,v.toNumber()+5),!(E&&p)){r.next=9;break}return r.next=7,y.paymentInfo(p);case 7:return t=r.sent,r.abrupt("return",t);case 9:if(i=(0,D.Gh)(a,f),!(i==null||!i)){r.next=12;break}throw new Error("Wrong password");case 12:return x=b.createFromUri(i),r.next=15,(0,O.Y)(y,x);case 15:return r.abrupt("return",r.sent);case 16:case"end":return r.stop()}},o)}));return function(l,_,c,a,f,E,p){return P.apply(this,arguments)}}(),g=null,m=function(){var P=(0,w.Z)(M().mark(function o(l,_,c,a,f,E,p){var v,y,t,i,x;return M().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.system.number();case 2:if(v=r.sent,y=window.apiWs.tx.swap.buyCurrency(l,_,c,v.toNumber()+5),!(E&&p)){r.next=9;break}return r.next=7,y.paymentInfo(p);case 7:return t=r.sent,r.abrupt("return",t);case 9:if(i=(0,D.Gh)(a,f),!(i==null||!i)){r.next=12;break}throw new Error("Wrong password");case 12:return x=b.createFromUri(i),r.next=15,(0,O.Y)(y,x);case 15:return r.abrupt("return",r.sent);case 16:case"end":return r.stop()}},o)}));return function(l,_,c,a,f,E,p){return P.apply(this,arguments)}}(),d=null,W=function(){var P=(0,w.Z)(M().mark(function o(l,_,c,a,f,E,p,v){var y,t,i,x,j;return M().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,window.apiWs.query.system.number();case 2:if(y=h.sent,t=window.apiWs.tx.swap.addLiquidity(l,_,c,a,y.toNumber()+5),!(p&&v)){h.next=9;break}return h.next=7,t.paymentInfo(v);case 7:return i=h.sent,h.abrupt("return",i);case 9:if(x=(0,D.Gh)(f,E),!(x==null||!x)){h.next=12;break}throw new Error("Wrong password");case 12:return j=b.createFromUri(x),h.next=15,(0,O.Y)(t,j);case 15:return h.abrupt("return",h.sent);case 16:case"end":return h.stop()}},o)}));return function(l,_,c,a,f,E,p,v){return P.apply(this,arguments)}}(),A=function(){var P=(0,w.Z)(M().mark(function o(l,_,c,a,f,E,p){var v,y,t,i,x;return M().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.system.number();case 2:if(v=r.sent,y=window.apiWs.tx.swap.removeLiquidity(l,_,c,v.toNumber()+5),!(E&&p)){r.next=9;break}return r.next=7,y.paymentInfo(p);case 7:return t=r.sent,r.abrupt("return",t);case 9:if(i=(0,D.Gh)(a,f),!(i==null||!i)){r.next=12;break}throw new Error("Wrong password");case 12:return x=b.createFromUri(i),r.next=15,(0,O.Y)(y,x);case 15:return r.abrupt("return",r.sent);case 16:case"end":return r.stop()}},o)}));return function(l,_,c,a,f,E,p){return P.apply(this,arguments)}}(),K=null,T=null,S=function(){var P=(0,w.Z)(M().mark(function o(l,_,c,a,f){var E,p,v,y;return M().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(E=window.apiWs.tx.swap.acquireReward(l),!(a&&f)){i.next=6;break}return i.next=4,E.paymentInfo(f);case 4:return p=i.sent,i.abrupt("return",p);case 6:if(v=(0,D.Gh)(_,c),!(v==null||!v)){i.next=9;break}throw new Error("Wrong password");case 9:return y=b.createFromUri(v),i.next=12,(0,O.Y)(E,y);case 12:return i.abrupt("return",i.sent);case 13:case"end":return i.stop()}},o)}));return function(l,_,c,a,f){return P.apply(this,arguments)}}()},80950:function(){},96419:function(){},56353:function(){},8623:function(){},42480:function(){},7748:function(){},56619:function(){},77108:function(){},55024:function(){}}]);

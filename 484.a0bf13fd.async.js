(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[484],{55133:function(E){E.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(E){E.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},15126:function(E){E.exports={assetsContainer:"assetsContainer___1wFua",searchInput:"searchInput___3mMwv",noAssets:"noAssets___2Gid1",title:"title___swkHP",field:"field___3Hj7T",icon:"icon___39vsT",name:"name___3pUYc",value:"value___1rjpK"}},69764:function(E,m,s){"use strict";var H=s(71194),M=s(50146),g=s(57663),D=s(71577),C=s(402),P=s(3887),S=s(67294),r=s(55133),v=s.n(r),c=s(54549),i=s(85893),I=P.Z.Title,j=function(t){var $=t.visable,x=t.title,O=t.content,U=t.footer,h=t.close,l=t.bodyStyle,n=t.width;return(0,i.jsx)(M.Z,{title:x?(0,i.jsx)(I,{level:5,className:v().title,children:x}):null,closable:!!h,closeIcon:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(D.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,i.jsx)(c.Z,{onClick:h})})}),className:v().modal,centered:!0,visible:$,width:n!=null?n:650,footer:U,bodyStyle:l,children:O})};m.Z=j},46656:function(E,m,s){"use strict";var H=s(71194),M=s(50146),g=s(47673),D=s(32787),C=s(22385),P=s(31097),S=s(17462),r=s(76772),v=s(57663),c=s(71577),i=s(74379),I=s(38648),j=s(3182),F=s(2824),t=s(402),$=s(3887),x=s(94043),O=s.n(x),U=s(67294),h=s(43581),l=s(55133),n=s.n(l),as=s(3548),V=s(68855),J=s(47832),w=s(55347),q=s(51625),_=s(85893),ss=$.Z.Title,Y=function(p){var L=p.visable,G=p.setVisable,e=p.passphrase,B=p.setPassphrase,b=p.func,W=p.changePassphrase,d=(0,h.tT)("apiWs"),K=(0,h.tT)("currentUser"),a=K.wallet,z=(0,h.tT)("balance"),k=z.balance,ls=(0,U.useState)(!1),T=(0,F.Z)(ls,2),es=T[0],Q=T[1],os=(0,U.useState)(),_s=(0,F.Z)(os,2),N=_s[0],rs=_s[1],A=(0,h.YB)(),ds=function(y){B(y?y.target.value:"")},ns=function(){var Z=(0,j.Z)(O().mark(function y(){var R,X,u,ts,is;return O().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(Q(!0),a!=null&&a.passphrase&&B(a==null?void 0:a.passphrase),!((!e||e.length<6)&&!(a!=null&&a.passphrase))){o.next=5;break}return Q(!1),o.abrupt("return");case 5:if(R=(a==null?void 0:a.passphrase)||e,!(R&&a!==null&&a!==void 0&&a.keystore)){o.next=16;break}if(X=(0,J.Gh)(R,a.keystore),X){o.next=13;break}return I.default.error({key:"passphraseError",message:A.formatMessage({id:"error.passphrase.error"}),duration:null}),B(""),Q(!1),o.abrupt("return");case 13:u=new w.ZP({type:"sr25519"}),ts=u.addFromUri(X),is=ts.address,a!=null&&a.account&&a.account!==is&&(localStorage.clear(),sessionStorage.clear(),window.location.href=q.Z.page.homePage);case 16:if(!b){o.next=25;break}return o.prev=17,o.next=20,b();case 20:o.next=25;break;case 22:o.prev=22,o.t0=o.catch(17),console.log("security modal submit func error fallback",o.t0);case 25:G(!1),Q(!1);case 27:case"end":return o.stop()}},y,null,[[17,22]])}));return function(){return Z.apply(this,arguments)}}(),us=function(){var Z=(0,j.Z)(O().mark(function y(){var R;return O().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(!!d&&!!a.account)){u.next=11;break}return u.next=3,b(!0,a.account);case 3:if(R=u.sent,!R){u.next=8;break}rs(R.partialFee),u.next=11;break;case 8:if(W){u.next=11;break}return u.next=11,ns();case 11:case"end":return u.stop()}},y)}));return function(){return Z.apply(this,arguments)}}();return(0,U.useEffect)(function(){!!d&&!!(a!=null&&a.account)&&L&&us()},[d,a==null?void 0:a.account,L]),(0,U.useEffect)(function(){!!(a!=null&&a.passphrase)&&L&&!W&&B(a==null?void 0:a.passphrase)},[a==null?void 0:a.passphrase,e,L,W]),(0,_.jsxs)(M.Z,{title:(0,_.jsx)(ss,{level:3,children:A.formatMessage({id:"modal.security.title"})}),closable:!1,className:n().modal,centered:!0,visible:L,width:400,footer:(0,_.jsxs)("div",{className:n().buttons,children:[(0,_.jsx)(c.Z,{type:"text",shape:"round",size:"large",className:n().button,onClick:function(){G(!1),window.location.reload()},loading:es,children:A.formatMessage({id:"common.decline"})}),(0,_.jsx)(c.Z,{type:"primary",shape:"round",size:"large",className:n().button,onClick:function(){ns()},disabled:!e||e.length<6,loading:es,children:A.formatMessage({id:"common.confirm"})})]}),children:[(0,_.jsxs)("div",{className:n().confirmContainer,children:[!!N&&!!(N!=null&&N.toString())>k.free&&(0,_.jsx)(r.Z,{description:A.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:n().alertContainer}),!!N&&(0,_.jsxs)("div",{className:n().field,children:[(0,_.jsxs)("div",{className:n().labal,children:[A.formatMessage({id:"modal.security.gas"}),(0,_.jsxs)("span",{className:n().small,children:["(",A.formatMessage({id:"modal.security.estimated"}),")"]}),(0,_.jsx)(P.Z,{placement:"bottom",title:A.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,_.jsx)(V.Z,{className:n().labalIcon})})]}),(0,_.jsx)("div",{className:n().value,children:(0,_.jsx)(as.Z,{value:N,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(a!=null&&a.passphrase)||W)&&(0,_.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,_.jsxs)("div",{className:n().codeInput,children:[(0,_.jsxs)("div",{className:n().verifyForm,children:[(0,_.jsx)("span",{className:(e==null?void 0:e.slice(0))&&!(e!=null&&e.slice(1,5))&&n().highLight,children:e==null?void 0:e.slice(0,1).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(e==null?void 0:e.slice(1))&&!(e!=null&&e.slice(2,5))&&n().highLight,children:e==null?void 0:e.slice(1,2).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(e==null?void 0:e.slice(2,3))&&!(e!=null&&e.slice(3,5))&&n().highLight,children:e==null?void 0:e.slice(2,3).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(e==null?void 0:e.slice(3,4))&&!(e!=null&&e.slice(4,5))&&n().highLight,children:e==null?void 0:e.slice(3,4).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(e==null?void 0:e.slice(4,5))&&!(e!=null&&e.slice(5))&&n().highLight,children:e==null?void 0:e.slice(4,5).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(e==null?void 0:e.slice(5))&&n().highLight,children:e==null?void 0:e.slice(5).replace(/[^]/,"\u2731")})]}),(0,_.jsx)(D.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:n().verifyInput,onChange:ds,value:e,disabled:es,maxLength:6,visibilityToggle:!1})]})})]})};m.Z=Y},3548:function(E,m,s){"use strict";var H=s(67294),M=s(31639),g=s.n(M),D=s(96534),C=s(85893),P=function(r){var v=r.value,c=r.style;return(0,C.jsxs)("div",{className:g().ad3,style:c,children:[v?(0,D.MP)(v):"--",(0,C.jsx)("span",{className:g().unit,children:"\xA0$AD3"})]})};m.Z=P},57651:function(E,m,s){"use strict";var H=s(67294),M=s(31639),g=s.n(M),D=s(96534),C=s(85893),P=function(r){var v=r.value,c=r.symbol,i=r.decimals,I=i===void 0?18:i;return(0,C.jsxs)("div",{className:g().ad3,children:[v?(0,D.MP)(v.replaceAll(",",""),I):"--",c&&(0,C.jsxs)("span",{className:g().unit,children:["\xA0$",c]})]})};m.Z=P},1115:function(E,m,s){"use strict";var H=s(12968),M=s(62462),g=s(20228),D=s(11382),C=s(47673),P=s(32787),S=s(3182),r=s(2824),v=s(94043),c=s.n(v),i=s(67294),I=s(69764),j=s(43581),F=s(15126),t=s.n(F),$=s(57651),x=s(32689),O=s(96486),U=s.n(O),h=s(76570),l=s(85893),n=function(V){var J=V.onClose,w=V.onSelectAsset,q=(0,j.tT)("currentUser"),_=q.wallet,ss=(0,i.useState)(),Y=(0,r.Z)(ss,2),f=Y[0],p=Y[1],L=(0,i.useState)(),G=(0,r.Z)(L,2),e=G[0],B=G[1],b=(0,i.useRef)(),W=(0,i.useCallback)((0,O.debounce)(function(){var d=(0,S.Z)(c().mark(function K(a){var z,k;return c().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,x.nk)(_.account,a);case 2:k=T.sent,p((z=k.data.tokens)!==null&&z!==void 0?z:[]);case 4:case"end":return T.stop()}},K)}));return function(K){return d.apply(this,arguments)}}(),200),[_]);return(0,i.useEffect)(function(){p(void 0),W(e!=null?e:"")},[e,W]),(0,i.useEffect)(function(){b.current.focus({cursor:"start"})},[]),(0,l.jsx)(I.Z,{visable:!0,title:"Select Asset",content:(0,l.jsxs)("div",{className:t().assetsContainer,children:[(0,l.jsx)("div",{className:t().searchInput,children:(0,l.jsx)(P.Z,{value:e,onChange:function(K){return B(K.target.value)},ref:b,placeholder:"Search name or symbol",prefix:(0,l.jsx)(h.Z,{})})}),e&&e.length>0&&!f&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(D.Z,{tip:"Loading Assets"})}),e&&e.length>0&&f&&f.length===0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:t().noAssets,children:"Could not find any assets."})}),f&&f.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:t().title,children:[(0,l.jsx)("span",{children:"Token"}),(0,l.jsx)("span",{children:"Available Balance"})]}),f==null?void 0:f.map(function(d){return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:t().field,onClick:function(){return w(d)},children:[(0,l.jsxs)("span",{className:t().title,children:[(0,l.jsx)(M.Z,{className:t().icon,src:d.icon||"/images/logo-round-core.svg",fallback:"/images/logo-round-core.svg",preview:!1}),(0,l.jsx)("span",{className:t().name,children:d.symbol})]}),(0,l.jsx)("span",{className:t().value,children:(0,l.jsx)($.Z,{value:d.balance,symbol:d.symbol})})]},d.id)})})]})]}),close:J,footer:null})};m.Z=n}}]);

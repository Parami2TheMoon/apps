(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[3661],{86625:function(H){H.exports={avatarContainer:"avatarContainer___1Aoxp",uploadMask:"uploadMask___11JDR",icon:"icon___1117q",avatar:"avatar___2qKmO"}},55133:function(H){H.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},20592:function(H){H.exports={skeletonContainer:"skeletonContainer___3qdtO",skeleton:"skeleton___36Byl","skeleton-loading":"skeleton-loading___2Ztrp"}},31639:function(H){H.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},12128:function(H){H.exports={avatarEdit:"avatarEdit___2rn_w",avatar:"avatar___1zpOm",avatarSaveDesc:"avatarSaveDesc___3cKY-",buttons:"buttons___11ym9",button:"button___2udbH",avatarContainer:"avatarContainer___180Pb",uploadMask:"uploadMask___9XamC",icon:"icon___3uhd1"}},38192:function(H){H.exports={telegramBtnContainer:"telegramBtnContainer___3W7ZZ",telegramLoginBtn:"telegramLoginBtn___2FClu",loginBtnMock:"loginBtnMock___2L_QJ"}},25997:function(H){H.exports={profileContainer:"profileContainer___2nGCO",left:"left___1G5dN",right:"right___2Su-s",section:"section___3CJr3",sectionTitle:"sectionTitle___2kDsM",sectionIcon:"sectionIcon___2WyRQ",sectionSubtitle:"sectionSubtitle___3t2OE",infoIcon:"infoIcon___19K8j",accountDetails:"accountDetails___25A-0",field:"field___34c8I",title:"title___3JnK1",value:"value___1dF_X",idCody:"idCody___3XRW3",text:"text___2tQNf",valueButton:"valueButton___2VKWf",balanceDetail:"balanceDetail___1c8Ny",security:"security___2MyqC",export:"export___1cl7p",securityCard:"securityCard___3BZ1j",exportCard:"exportCard___IK54n",bind:"bind___1NG3G",bindCard:"bindCard___2gkYY",icon:"icon___3DBKc",label:"label___3oThi",avatar:"avatar___3CXeA",avatarCard:"avatarCard___FF6wf",bindModal:"bindModal___1ZZCZ",iconButton:"iconButton___2vvgh",manualContainer:"manualContainer___L8KYo",expandButtonIcon:"expandButtonIcon___jnIxI",secretInput:"secretInput___3qkm_",secretAlert:"secretAlert___eaj_E",bottomButtons:"bottomButtons___11aqf",button:"button___3Gzcf",bindList:"bindList___16Uzs"}},69764:function(H,ue,r){"use strict";var b=r(71194),ve=r(50146),Q=r(57663),ne=r(71577),a=r(402),pe=r(3887),ae=r(67294),Ce=r(55133),te=r.n(Ce),be=r(54549),R=r(85893),Fe=pe.Z.Title,N=function(se){var Be=se.visable,J=se.title,j=se.content,p=se.footer,me=se.close,de=se.bodyStyle,D=se.width;return(0,R.jsx)(ve.Z,{title:J?(0,R.jsx)(Fe,{level:5,className:te().title,children:J}):null,closable:!!me,closeIcon:(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(ne.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,R.jsx)(be.Z,{onClick:me})})}),className:te().modal,centered:!0,visible:Be,width:D!=null?D:650,footer:p,bodyStyle:de,children:j})};ue.Z=N},46656:function(H,ue,r){"use strict";var b=r(71194),ve=r(50146),Q=r(47673),ne=r(32787),a=r(22385),pe=r(31097),ae=r(17462),Ce=r(76772),te=r(57663),be=r(71577),R=r(74379),Fe=r(38648),N=r(3182),ze=r(2824),se=r(402),Be=r(3887),J=r(94043),j=r.n(J),p=r(67294),me=r(43581),de=r(55133),D=r.n(de),De=r(3548),Pe=r(68855),Ae=r(47832),Ue=r(55347),ya=r(51625),E=r(85893),Ia=Be.Z.Title,T=function($e){var k=$e.visable,qe=$e.setVisable,m=$e.passphrase,Je=$e.setPassphrase,e=$e.func,ea=$e.changePassphrase,ra=(0,me.tT)("apiWs"),Ge=(0,me.tT)("currentUser"),S=Ge.wallet,ba=(0,me.tT)("balance"),we=ba.balance,ja=(0,p.useState)(!1),ca=(0,ze.Z)(ja,2),na=ca[0],Le=ca[1],xa=(0,p.useState)(),ua=(0,ze.Z)(xa,2),Ee=ua[0],Aa=ua[1],fe=(0,me.YB)(),Ua=function(Se){Je(Se?Se.target.value:"")},ta=function(){var _e=(0,N.Z)(j().mark(function Se(){var We,Ye,ce,ka,ia;return j().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(Le(!0),S!=null&&S.passphrase&&Je(S==null?void 0:S.passphrase),!((!m||m.length<6)&&!(S!=null&&S.passphrase))){je.next=5;break}return Le(!1),je.abrupt("return");case 5:if(We=(S==null?void 0:S.passphrase)||m,!(We&&S!==null&&S!==void 0&&S.keystore)){je.next=16;break}if(Ye=(0,Ae.Gh)(We,S.keystore),Ye){je.next=13;break}return Fe.default.error({key:"passphraseError",message:fe.formatMessage({id:"error.passphrase.error"}),duration:null}),Je(""),Le(!1),je.abrupt("return");case 13:ce=new Ue.ZP({type:"sr25519"}),ka=ce.addFromUri(Ye),ia=ka.address,S!=null&&S.account&&S.account!==ia&&(localStorage.clear(),sessionStorage.clear(),window.location.href=ya.Z.page.homePage);case 16:if(!e){je.next=19;break}return je.next=19,e();case 19:qe(!1),Le(!1);case 21:case"end":return je.stop()}},Se)}));return function(){return _e.apply(this,arguments)}}(),Ne=function(){var _e=(0,N.Z)(j().mark(function Se(){var We;return j().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(!(!!ra&&!!S.account)){ce.next=11;break}return ce.next=3,e(!0,S.account);case 3:if(We=ce.sent,!We){ce.next=8;break}Aa(We.partialFee),ce.next=11;break;case 8:if(ea){ce.next=11;break}return ce.next=11,ta();case 11:case"end":return ce.stop()}},Se)}));return function(){return _e.apply(this,arguments)}}();return(0,p.useEffect)(function(){!!ra&&!!(S!=null&&S.account)&&k&&Ne()},[ra,S==null?void 0:S.account,k]),(0,p.useEffect)(function(){!!(S!=null&&S.passphrase)&&k&&!ea&&Je(S==null?void 0:S.passphrase)},[S==null?void 0:S.passphrase,m,k,ea]),(0,E.jsxs)(ve.Z,{title:(0,E.jsx)(Ia,{level:3,children:fe.formatMessage({id:"modal.security.title"})}),closable:!1,className:D().modal,centered:!0,visible:k,width:400,footer:(0,E.jsxs)("div",{className:D().buttons,children:[(0,E.jsx)(be.Z,{type:"text",shape:"round",size:"large",className:D().button,onClick:function(){qe(!1),window.location.reload()},loading:na,children:fe.formatMessage({id:"common.decline"})}),(0,E.jsx)(be.Z,{type:"primary",shape:"round",size:"large",className:D().button,onClick:function(){ta()},disabled:!m||m.length<6,loading:na,children:fe.formatMessage({id:"common.confirm"})})]}),children:[(0,E.jsxs)("div",{className:D().confirmContainer,children:[!!Ee&&!!(Ee!=null&&Ee.toString())>we.free&&(0,E.jsx)(Ce.Z,{description:fe.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:D().alertContainer}),!!Ee&&(0,E.jsxs)("div",{className:D().field,children:[(0,E.jsxs)("div",{className:D().labal,children:[fe.formatMessage({id:"modal.security.gas"}),(0,E.jsxs)("span",{className:D().small,children:["(",fe.formatMessage({id:"modal.security.estimated"}),")"]}),(0,E.jsx)(pe.Z,{placement:"bottom",title:fe.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,E.jsx)(Pe.Z,{className:D().labalIcon})})]}),(0,E.jsx)("div",{className:D().value,children:(0,E.jsx)(De.Z,{value:Ee,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(S!=null&&S.passphrase)||ea)&&(0,E.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,E.jsxs)("div",{className:D().codeInput,children:[(0,E.jsxs)("div",{className:D().verifyForm,children:[(0,E.jsx)("span",{className:(m==null?void 0:m.slice(0))&&!(m!=null&&m.slice(1,5))&&D().highLight,children:m==null?void 0:m.slice(0,1).replace(/[^]/,"\u2731")}),(0,E.jsx)("span",{className:(m==null?void 0:m.slice(1))&&!(m!=null&&m.slice(2,5))&&D().highLight,children:m==null?void 0:m.slice(1,2).replace(/[^]/,"\u2731")}),(0,E.jsx)("span",{className:(m==null?void 0:m.slice(2,3))&&!(m!=null&&m.slice(3,5))&&D().highLight,children:m==null?void 0:m.slice(2,3).replace(/[^]/,"\u2731")}),(0,E.jsx)("span",{className:(m==null?void 0:m.slice(3,4))&&!(m!=null&&m.slice(4,5))&&D().highLight,children:m==null?void 0:m.slice(3,4).replace(/[^]/,"\u2731")}),(0,E.jsx)("span",{className:(m==null?void 0:m.slice(4,5))&&!(m!=null&&m.slice(5))&&D().highLight,children:m==null?void 0:m.slice(4,5).replace(/[^]/,"\u2731")}),(0,E.jsx)("span",{className:(m==null?void 0:m.slice(5))&&D().highLight,children:m==null?void 0:m.slice(5).replace(/[^]/,"\u2731")})]}),(0,E.jsx)(ne.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:D().verifyInput,onChange:Ua,value:m,disabled:na,maxLength:6,visibilityToggle:!1})]})})]})};ue.Z=T},44729:function(H,ue,r){"use strict";var b=r(71194),ve=r(50146),Q=r(67294),ne=r(55133),a=r.n(ne),pe=r(85893),ae=function(te){var be=te.visable,R=te.content,Fe=te.footer;return(0,pe.jsx)(ve.Z,{title:!1,closable:!1,className:a().modal,centered:!0,visible:be,width:650,footer:Fe,children:R})};ue.Z=ae},62543:function(H,ue,r){"use strict";var b=r(67294),ve=r(20592),Q=r.n(ve),ne=r(85893),a=function(ae){var Ce=ae.children,te=ae.loading,be=ae.height,R=ae.styles;return(0,ne.jsx)("div",{className:Q().skeletonContainer,style:R,children:te?(0,ne.jsx)("div",{className:Q().skeleton,style:{height:be||"10vh"}}):Ce})};ue.Z=a},3548:function(H,ue,r){"use strict";var b=r(67294),ve=r(31639),Q=r.n(ve),ne=r(96534),a=r(85893),pe=function(Ce){var te=Ce.value,be=Ce.style;return(0,a.jsxs)("div",{className:Q().ad3,style:be,children:[te?(0,ne.MP)(te):"--",(0,a.jsx)("span",{className:Q().unit,children:"\xA0$AD3"})]})};ue.Z=pe},55067:function(H,ue,r){"use strict";r.r(ue),r.d(ue,{default:function(){return zs}});var b=r(67294),ve=r(55909),Q=r.n(ve),ne=r(25997),a=r.n(ne),pe=r(58024),ae=r(39144),Ce=r(22385),te=r(31097),be=r(34792),R=r(48086),Fe=r(57663),N=r(71577),ze=r(12968),se=r(62462),Be=r(402),J=r(3887),j=r(2824),p=r(43581),me=r(54977),de=r(99165),D=r(57119),De=r(3548),Pe=r(96534),Ae=r(74855),Ue=r.n(Ae),ya=r(47673),E=r(32787),Ia=r(74379),T=r(38648),X=r(3182),$e=r(94043),k=r.n($e),qe=r(69764),m=r(46656),Je=r(75397),e=r(85893),ea=function(l){var t=l.nicknameModal,n=l.setNicknameModal,i=(0,p.tT)("user"),s=i.nickname,v=i.setNickname,c=(0,p.tT)("currentUser"),u=c.wallet,o=(0,b.useState)(!1),M=(0,j.Z)(o,2),f=M[0],h=M[1],Z=(0,b.useState)(!1),y=(0,j.Z)(Z,2),I=y[0],q=y[1],C=(0,b.useState)(""),P=(0,j.Z)(C,2),L=P[0],A=P[1],ee=(0,p.YB)(),Me=function(){var ie=(0,X.Z)(k().mark(function Y(W,ge){var F;return k().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(!!u&&!!u.keystore)){_.next=18;break}return _.prev=1,h(!0),_.next=5,(0,Je.UB)(s,L,u==null?void 0:u.keystore,W,ge);case 5:if(F=_.sent,n(!1),h(!1),!(W&&ge)){_.next=10;break}return _.abrupt("return",F);case 10:_.next=16;break;case 12:_.prev=12,_.t0=_.catch(1),T.default.error({message:_.t0.message,duration:null}),h(!1);case 16:_.next=19;break;case 18:T.default.error({key:"accessDenied",message:ee.formatMessage({id:"error.accessDenied"}),duration:null});case 19:case"end":return _.stop()}},Y,null,[[1,12]])}));return function(W,ge){return ie.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(qe.Z,{visable:t,title:ee.formatMessage({id:"wallet.nickname.edit"}),content:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E.Z,{size:"large",value:s,onChange:function(Y){v(Y.target.value)}}),(0,e.jsx)(N.Z,{block:!0,type:"primary",size:"large",shape:"round",style:{marginTop:20},loading:f,onClick:function(){q(!0)},children:ee.formatMessage({id:"common.submit"})})]}),close:function(){n(!1)},footer:!1}),(0,e.jsx)(m.Z,{visable:I,setVisable:q,passphrase:L,setPassphrase:A,func:Me})]})},ra=ea,Ge=r(62543),S=function(){var l=(0,p.tT)("apiWs"),t=(0,p.tT)("balance"),n=t.balance,i=(0,p.tT)("user"),s=i.nickname,v=(0,p.tT)("currentUser"),c=v.wallet,u=(0,b.useState)(!1),o=(0,j.Z)(u,2),M=o[0],f=o[1],h=(0,p.YB)(),Z=J.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Z,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(se.Z,{src:"/images/icon/mine.svg",className:a().sectionIcon,preview:!1}),h.formatMessage({id:"account.accountDetails.title"})]}),(0,e.jsx)(Ge.Z,{loading:!l,height:400,children:(0,e.jsx)(ae.Z,{className:Q().card,bodyStyle:{padding:0,width:"100%"},style:{marginTop:30},children:(0,e.jsxs)("div",{className:a().accountDetails,children:[(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:h.formatMessage({id:"account.accountDetails.nickname"})}),(0,e.jsxs)("div",{className:a().idCody,children:[(0,e.jsx)("span",{className:a().text,children:s.toString()||"Nickname"}),(0,e.jsx)(N.Z,{size:"middle",shape:"circle",icon:(0,e.jsx)(me.Z,{}),className:a().valueButton,onClick:function(){f(!0)}})]})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:h.formatMessage({id:"account.accountDetails.DID"})}),(0,e.jsxs)("div",{className:a().idCody,children:[(0,e.jsx)("span",{className:a().text,children:(0,Pe.st)(c==null?void 0:c.did)}),(0,e.jsx)(Ue(),{text:(0,Pe.st)(c==null?void 0:c.did),onCopy:function(){R.default.success(h.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(N.Z,{size:"middle",shape:"circle",icon:(0,e.jsx)(de.Z,{}),className:a().valueButton})})]})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:h.formatMessage({id:"account.accountDetails.address"})}),(0,e.jsxs)("div",{className:a().idCody,children:[(0,e.jsx)("span",{className:a().text,children:c==null?void 0:c.account}),(0,e.jsx)(Ue(),{text:c==null?void 0:c.account,onCopy:function(){R.default.success(h.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(N.Z,{size:"middle",shape:"circle",icon:(0,e.jsx)(de.Z,{}),className:a().valueButton})})]})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:h.formatMessage({id:"account.accountDetails.walletBalance"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(De.Z,{value:n==null?void 0:n.total})})]}),(0,e.jsxs)("div",{className:a().balanceDetail,children:[(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[h.formatMessage({id:"account.accountDetails.reservedBalance"}),(0,e.jsx)(te.Z,{placement:"top",title:h.formatMessage({id:"account.accountDetails.reservedBalance.tip"}),children:(0,e.jsx)(D.Z,{className:a().infoIcon})})]}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(De.Z,{value:n==null?void 0:n.reserved})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[h.formatMessage({id:"account.accountDetails.availableBalance"}),(0,e.jsx)(te.Z,{placement:"top",title:h.formatMessage({id:"account.accountDetails.availableBalance.tip"}),children:(0,e.jsx)(D.Z,{className:a().infoIcon})})]}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(De.Z,{value:n==null?void 0:n.free})})]})]})]})})}),(0,e.jsx)(ra,{nicknameModal:M,setNicknameModal:f})]})},ba=S,we=r(47832),ja=function(){var l=(0,p.tT)("apiWs"),t=(0,p.tT)("currentUser"),n=t.wallet,i=(0,b.useState)(),s=(0,j.Z)(i,2),v=s[0],c=s[1],u=(0,b.useState)(""),o=(0,j.Z)(u,2),M=o[0],f=o[1],h=(0,b.useState)(!1),Z=(0,j.Z)(h,2),y=Z[0],I=Z[1],q=(0,b.useState)(),C=(0,j.Z)(q,2),P=C[0],L=C[1],A=(0,p.YB)(),ee=J.Z.Title,Me=function(){var Y=(0,X.Z)(k().mark(function W(ge,F){var z,_,xe,ye;return k().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(!(ge&&F)){K.next=2;break}return K.abrupt("return");case 2:if(!(!!n&&!!(n!=null&&n.keystore))){K.next=35;break}if(v!=="enable"){K.next=21;break}if(z=(0,we.Gh)(M,n==null?void 0:n.keystore),z){K.next=8;break}return R.default.error(A.formatMessage({id:"error.passphrase.error"})),K.abrupt("return");case 8:if(_=(0,Pe.M8)().substring(0,6),f(_),localStorage.setItem("parami:wallet:passphrase",_),xe=(0,we.QM)(_,z),xe){K.next=15;break}return R.default.error(A.formatMessage({id:"error.passphrase.error"})),K.abrupt("return");case 15:localStorage.setItem("parami:wallet:keystore",xe),c("disable"),R.default.success(A.formatMessage({id:"account.security.passphrase.changeSuccess"})),window.location.reload(),K.next=33;break;case 21:if(P){K.next=24;break}return R.default.error(A.formatMessage({id:"error.passphrase.error"})),K.abrupt("return");case 24:if(ye=(0,we.QM)(M,P),ye){K.next=28;break}return R.default.error(A.formatMessage({id:"error.passphrase.error"})),K.abrupt("return");case 28:localStorage.setItem("parami:wallet:keystore",ye),c("enable"),R.default.success(A.formatMessage({id:"account.security.passphrase.changeSuccess"})),localStorage.removeItem("parami:wallet:passphrase"),window.location.reload();case 33:K.next=36;break;case 35:T.default.error({key:"accessDenied",message:A.formatMessage({id:"error.accessDenied"}),duration:null});case 36:case"end":return K.stop()}},W)}));return function(ge,F){return Y.apply(this,arguments)}}(),ie=function(){var Y=(0,X.Z)(k().mark(function W(){var ge;return k().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!(!!n&&!!n.keystore)){z.next=17;break}if(v!=="enable"){z.next=5;break}I(!0),z.next=15;break;case 5:if(!(v==="disable"&&!!n.passphrase)){z.next=14;break}if(ge=(0,we.Gh)(n==null?void 0:n.passphrase,n==null?void 0:n.keystore),ge){z.next=10;break}return R.default.error(A.formatMessage({id:"error.passphrase.error"})),z.abrupt("return");case 10:L(ge),I(!0),z.next=15;break;case 14:T.default.error({key:"accessDenied",message:A.formatMessage({id:"error.accessDenied"}),duration:null});case 15:z.next=18;break;case 17:T.default.error({key:"accessDenied",message:A.formatMessage({id:"error.accessDenied"}),duration:null});case 18:case"end":return z.stop()}},W)}));return function(){return Y.apply(this,arguments)}}();return(0,b.useEffect)(function(){n!=null&&n.passphrase?c("disable"):c("enable")},[n==null?void 0:n.passphrase,P,v]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(ee,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(se.Z,{src:"/images/icon/safe.svg",className:a().sectionIcon,preview:!1}),A.formatMessage({id:"account.security.title"})]}),(0,e.jsx)(Ge.Z,{loading:!l,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(ee,{level:5,className:a().sectionSubtitle,children:[A.formatMessage({id:"account.security.subtitle"}),(0,e.jsx)(te.Z,{placement:"top",title:A.formatMessage({id:"account.security.subtitle.tip"}),children:(0,e.jsx)(D.Z,{className:a().infoIcon})})]}),(0,e.jsx)("div",{className:a().security,children:(0,e.jsx)(ae.Z,{className:"".concat(Q().card," ").concat(a().securityCard),bodyStyle:{padding:0,width:"100%"},children:(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:A.formatMessage({id:"account.security.passphrase"})}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsxs)(N.Z,{size:"large",shape:"round",type:"primary",onClick:function(){ie()},children:[v==="disable"&&A.formatMessage({id:"common.enable"}),v==="enable"&&A.formatMessage({id:"common.disable"})]})})]})})})]})}),(0,e.jsx)(m.Z,{visable:y,setVisable:I,passphrase:M,setPassphrase:f,func:Me,changePassphrase:!0})]})},ca=ja,na=r(86625),Le=r.n(na),xa=r(85008),ua=function(l){var t=l.width,n=l.height,i=(0,p.tT)("user"),s=i.avatar;return(0,e.jsxs)("div",{className:Le().avatarContainer,children:[!s&&(0,e.jsx)("div",{className:Le().uploadMask,children:(0,e.jsx)(xa.Z,{className:Le().icon})}),(0,e.jsx)(se.Z,{src:s||"/images/logo-square-core.svg",className:Le().avatar,preview:!1,fallback:"/images/logo-square-core.svg",width:t||200,height:n||200})]})},Ee=ua,Aa=r(20228),fe=r(11382),Ua=r(43185),ta=r(35372),Ne=r(51625),_e=r(86582),Se=r(26592),We=r(82424),Ye=r(69610),ce=r(54941),ka=r(77191),ia,va=new WeakMap,je=new WeakMap,La=function(l){return[l>>5,1<<(l&31)]},as={get:function(l,t){if(typeof t=="string"){var n=Number(t);if(!Number.isNaN(n)){var i=La(n),s=(0,j.Z)(i,2),v=s[0],c=s[1],u=va.get(l.buffer);if(u!==void 0)return Number(Boolean(u[v]&c))}}return Reflect.get(l,t)},set:function(l,t,n){if(typeof t=="string"){var i=Number(t);if(!Number.isNaN(i)){var s=va.get(l.buffer);if(s!==void 0){var v=La(i),c=(0,j.Z)(v,2),u=c[0],o=c[1];return s[u]=n?s[u]|o:s[u]&~o,!0}}}return Reflect.set(l,t,n)},ownKeys:function(l){var t=je.get(l);return t||je.set(l,t=Array(l.length).fill(void 0).map(function(n,i){return i.toString()})),t},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}}};ia=Symbol.iterator;var ma=function(){function g(l){(0,Ye.Z)(this,g),this.buffer=void 0,this.length=void 0;var t=Number(l);return this.length=t,this.buffer=new ArrayBuffer(((t-1>>5)+1)*4),va.set(this.buffer,new Uint32Array(this.buffer)),Reflect.construct(Proxy,[this,as])}return(0,ce.Z)(g,[{key:ia,value:function(){throw new Error("Method not implemented.")}},{key:"at",value:function(t){return this[t]}},{key:"set",value:function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=0;i<t.length;i+=1)this[n+i]=t[i]?1:0}},{key:"toString",value:function(){for(var t="",n=0;n<this.length;n+=1)t+=this[n];return t}}]),g}(),Xe=(0,We.Z)("target"),Wa=function(){function g(l){(0,Ye.Z)(this,g),this.position=void 0,Object.defineProperty(this,Xe,{writable:!0,value:void 0}),(0,Se.Z)(this,Xe)[Xe]=l,this.position=0}return(0,ce.Z)(g,[{key:"read",value:function(t){for(var n=0;n<t.length;n+=1)t[n]=(0,Se.Z)(this,Xe)[Xe][this.position+n];this.position+=t.length}},{key:"write",value:function(t){(0,Se.Z)(this,Xe)[Xe].set(t,this.position),this.position+=t.length}},{key:"seek",value:function(t){this.position=t}}]),g}(),Ca=function(){function g(l,t,n){(0,Ye.Z)(this,g),this.table=void 0,this.polynomial=void 0,this.initial=void 0,this.final=void 0,this.polynomial=l,this.initial=t,this.final=n}return(0,ce.Z)(g,[{key:"makeTable",value:function(){this.table=new Array(256);for(var t=0;t<256;t+=1){for(var n=t,i=0;i<8;i+=1)(n&128)!=0?n=(n<<1^this.polynomial)%256:n=(n<<1)%256;this.table[t]=n}}},{key:"compute",value:function(t){if(this.table||this.makeTable(),!this.table)return 0;for(var n=this.initial,i=0;i<t.length;i+=1)n=this.table[(n^t[i])%256];return n^this.final}}],[{key:"default",value:function(){return g.singleton||(g.singleton=new g(166,0,0)),g.singleton}}]),g}();Ca.singleton=void 0;var ss=function(l){for(var t=[1,0,0,1,0,0,0,1,1,0],n=[1,0,1,1,0,0,1,1],i=[1,0,1,1,0,1,1,0],s=[1,0,1,1,1,1,0,0],v=(l.length-1>>6)+1,c=new ma(v*90),u=new Wa(c),o=0;o<v;o+=1){u.write(t);var M=[];switch(o&3){case 1:M=i;break;case 2:M=s;break;default:M=n;break}u.write(M);for(var f=0,h=[],Z=0;Z<64;Z+=1){var y=l[Z+(o<<6)];if(y!==void 0){var I=Z&7,q=(y^M[I])&1;f|=q<<I,I===7&&(h.push(f),f=0),u.write([Boolean(q)])}}for(var C=Ca.default().compute(h),P=0;P<8;P+=1){var L=C>>7-P&1;u.write([Boolean(L)])}}return c},rs=function(l){for(var t=new Array(10),n=new Array(8),i=Math.trunc((l.length-1)/90)+1,s=new ma(i<<6),v=new Wa(l),c=0;c<i;c+=1){v.read(t),v.read(n);var u=0,o=[],M=new Array(64);v.read(M);for(var f=0;f<64;f+=1){var h=f&7,Z=M[f]?1:0,y=(Z^n[h])&1;u|=Z<<h,h===7&&(o.push(u),u=0),M[f]=y?1:0}var I=Ca.default().compute(o),q=0,C=new Array(8);v.read(C);for(var P=0;P<8;P+=1)q|=C[P]<<7-P;I===q&&s.set(M,c<<6)}return s};function Ra(g,l,t){var n=g/255,i=l/255,s=t/255,v=Math.max(n,i,s),c=Math.min(n,i,s),u=(v+c)/2;return u}var Hs=function(l){if(console.log("parsing image","width:",l.width,"height:",l.height),l.width!==l.height||l.width<220)throw new Error("image is not square or too small");var t=document.createElement("canvas");t.width=l.width,t.height=l.height;var n=t.getContext("2d");if(n===null)throw new Error("canvas is not supported");n.drawImage(l,0,0);var i=new ma(360),s=.8;i.set(new Array(180).fill(1)),i.set(new Array(180).fill(0),180);for(var v=Math.round(324*l.width/640*10)/10,c=10*Math.PI/9/180,u=Math.PI/9+c/2,o=0;o<180;o+=1){var M=l.width/2+v*Math.cos(u),f=l.height/2+v*Math.sin(u),h=n.getImageData(M,f,1,1),Z=h.data,y=Ra(Z[0],Z[1],Z[2]);y>=s&&i.set([0],o),u+=c,(o+1)%45==0&&(u+=2*Math.PI/9)}v=Math.round(342*l.width/640*10)/10,c=2*Math.PI/3/180,u=Math.PI/6+c/2;for(var I=0;I<180;I+=1){var q=l.width/2+v*Math.cos(u),C=l.height/2+v*Math.sin(u),P=n.getImageData(q,C,1,1),L=P.data,A=Ra(L[0],L[1],L[2]);A>=s&&i.set([1],I+180),u+=c,(I+1)%45==0&&(u+=2*Math.PI/6)}return rs(i)},ns=function(l,t){if(l.width!==l.height||l.width<220)throw new Error("image is not square or too small");var n=320,i=document.createElement("canvas");i.width=n*2,i.height=n*2;var s=i.getContext("2d");if(s===null)throw new Error("canvas is not supported");s.save();var v=s.createLinearGradient(0,n*2,n*2,0);v.addColorStop(0,"#FE2105"),v.addColorStop(1,"#96E9EA"),s.fillStyle=v,s.beginPath(),s.rect(0,0,n*2,n*2),s.fill(),s.save(),s.restore(),s.beginPath(),s.arc(n,n,n-40,0,2*Math.PI),s.clip(),s.drawImage(l,40,40,n*2-80,n*2-80),s.restore();var c=ss(t),u=Math.PI/9;s.lineWidth=8;for(var o=0;o<180;o+=1)s.save(),s.beginPath(),c[o]===0?s.strokeStyle="white":s.strokeStyle="transparent",s.arc(n,n,n+4,u,u+10*Math.PI/9/180,!1),u+=10*Math.PI/9/180,(o+1)%45==0&&(u+=2*Math.PI/9),s.stroke();u=Math.PI/6,s.lineWidth=7;for(var M=0;M<180;M+=1)s.save(),s.beginPath(),c[M+180]===1?s.strokeStyle="white":s.strokeStyle="transparent",s.arc(n,n,n+22,u,u+2*Math.PI/3/180,!1),u+=2*Math.PI/3/180,(M+1)%45==0&&(u+=2*Math.PI/6),s.stroke();return i},Qs=function(l){return bs58.decode(l).reduce(function(t,n){return t+n.toString(16).padStart(2,"0")},"")},ts=function(g,l){return new Promise(function(t,n){var i=new Image;i.src=g,i.onload=function(){var s=new ma(256),v=8,c=2;s.set((0,_e.Z)(c.toString(2).padStart(8,"0")).map(function(f){return+f}),0);var u=l.replace("0x","");(0,_e.Z)(u).forEach(function(f,h){s.set((0,_e.Z)(parseInt(f,16).toString(2).padStart(4,"0")).map(function(Z){return+Z}),v+h*4)});var o=ns(i,s),M=o.toDataURL("image/png");t(M)}})},Ka=r(84986),is=r(12128),fa=r.n(is),Fa=r(7789),ls=r(62298),os=function(l){var t=l.setModalVisable,n=(0,p.tT)("user"),i=n.avatar,s=n.setAvatar,v=(0,p.tT)("currentUser"),c=v.wallet,u=(0,b.useState)(""),o=(0,j.Z)(u,2),M=o[0],f=o[1],h=(0,b.useState)(!1),Z=(0,j.Z)(h,2),y=Z[0],I=Z[1],q=(0,b.useState)(),C=(0,j.Z)(q,2),P=C[0],L=C[1],A=(0,b.useState)(!1),ee=(0,j.Z)(A,2),Me=ee[0],ie=ee[1],Y=(0,p.YB)(),W=function(){var F=(0,X.Z)(k().mark(function z(_){var xe,ye;return k().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:ie(!0),(_==null||(xe=_.event)===null||xe===void 0?void 0:xe.percent)===100&&((c==null?void 0:c.did)===null&&p.m8.push(Ne.Z.page.createPage),ye=new FileReader,ye.readAsDataURL(_.file.originFileObj),ye.addEventListener("load",function(Oe){var Te,x=Oe==null||(Te=Oe.target)===null||Te===void 0?void 0:Te.result,ke=new Image;ke.src=x,ke.addEventListener("load",function(){var pa=ke.width,Ve=ke.height;if(pa<200||Ve<200){T.default.error({message:Y.formatMessage({id:"error.avatar.small"})});return}})}),ts(URL.createObjectURL(_.file.originFileObj),c==null?void 0:c.did).then(function(){var Oe=(0,X.Z)(k().mark(function Te(x){var ke;return k().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:ke=x.substring(22),L((0,Pe.Mi)(ke,"image/png")),s(window.URL.createObjectURL((0,Pe.Mi)(ke,"image/png"))),I(!0);case 4:case"end":return Ve.stop()}},Te)}));return function(Te){return Oe.apply(this,arguments)}}()));case 2:case"end":return K.stop()}},z)}));return function(_){return F.apply(this,arguments)}}(),ge=function(){var F=(0,X.Z)(k().mark(function z(_,xe){var ye,le,K,Oe;return k().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!(!!c&&!!c.keystore)){x.next=32;break}if(P){x.next=4;break}return T.default.error({message:Y.formatMessage({id:"error.avatar.empty"})}),x.abrupt("return");case 4:return x.prev=4,x.next=7,(0,Ka.U)(P);case 7:if(ye=x.sent,le=ye.response,K=ye.data,!le.ok){x.next=19;break}return x.next=13,(0,Ka.g)("ipfs://".concat(K.Hash),M,c==null?void 0:c.keystore,_,xe);case 13:if(Oe=x.sent,!(_&&xe)){x.next=16;break}return x.abrupt("return",Oe);case 16:t(!1),x.next=23;break;case 19:if(le.status!==405){x.next=23;break}return T.default.error({message:Y.formatMessage({id:"error.avatar.largeSize"}),duration:null}),ie(!1),x.abrupt("return");case 23:x.next=30;break;case 25:return x.prev=25,x.t0=x.catch(4),T.default.error({message:x.t0.message||x.t0,duration:null}),ie(!1),x.abrupt("return");case 30:x.next=33;break;case 32:T.default.error({key:"accessDenied",message:Y.formatMessage({id:"error.accessDenied"}),duration:null});case 33:case"end":return x.stop()}},z,null,[[4,25]])}));return function(_,xe){return F.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(fe.Z,{tip:Y.formatMessage({id:"common.uploading"}),spinning:Me,children:(0,e.jsxs)("div",{className:fa().avatarEdit,children:[i?(0,e.jsx)(Ee,{width:200,height:200}):(0,e.jsx)(Fa.Z,{zoom:!0,rotate:!0,quality:1,modalTitle:Y.formatMessage({id:"wallet.avatar.uploadAvatar"}),children:(0,e.jsx)(ta.Z,{accept:"image/*",showUploadList:!1,onChange:W,action:Ne.Z.ipfs.upload,children:(0,e.jsx)(Ee,{width:200,height:200})})}),(0,e.jsx)("span",{className:fa().avatarSaveDesc,children:Y.formatMessage({id:"wallet.avatar.saveDesc"})}),(0,e.jsx)("div",{className:fa().buttons,children:(0,e.jsx)(Fa.Z,{zoom:!0,rotate:!0,quality:1,modalTitle:Y.formatMessage({id:"wallet.avatar.uploadAvatar"}),children:(0,e.jsx)(ta.Z,{accept:"image/*",showUploadList:!1,onChange:W,action:Ne.Z.ipfs.upload,children:(0,e.jsx)(N.Z,{block:!0,type:"primary",size:"large",shape:"round",icon:(0,e.jsx)(ls.Z,{}),className:fa().button,children:Y.formatMessage({id:"wallet.avatar.upload"})})})})})]})}),(0,e.jsx)(m.Z,{visable:y,setVisable:I,passphrase:M,setPassphrase:f,func:ge})]})},ds=os,cs=function(l){var t=l.modalVisable,n=l.setModalVisable,i=(0,p.YB)();return(0,e.jsx)(qe.Z,{visable:t,title:i.formatMessage({id:"wallet.avatar.edit"}),content:(0,e.jsx)(ds,{setModalVisable:n}),footer:!1,close:function(){return n(!1)}})},us=cs,vs=function(){var l=(0,p.tT)("apiWs"),t=(0,b.useState)(!1),n=(0,j.Z)(t,2),i=n[0],s=n[1],v=(0,p.YB)(),c=J.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(c,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(se.Z,{src:"/images/icon/camera.svg",className:a().sectionIcon,preview:!1}),v.formatMessage({id:"account.avatar.title"})]}),(0,e.jsx)(Ge.Z,{loading:!l,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(c,{level:5,className:a().sectionSubtitle,children:[v.formatMessage({id:"account.avatar.subtitle"}),(0,e.jsx)(te.Z,{placement:"top",title:v.formatMessage({id:"account.avatar.subtitle.tip"}),children:(0,e.jsx)(D.Z,{className:a().infoIcon})})]}),(0,e.jsx)("div",{className:a().avatar,children:(0,e.jsx)(ae.Z,{className:"".concat(Q().card," ").concat(a().avatarCard),bodyStyle:{padding:0,width:"100%",display:"flex",alignContent:"center",justifyContent:"center"},children:(0,e.jsx)("span",{onClick:function(){s(!0)},children:(0,e.jsx)(Ee,{width:200,height:200})})})})]})}),i&&(0,e.jsx)(us,{modalVisable:!0,setModalVisable:s})]})},ms=vs,Js=r(17462),Ea=r(76772),Xs=r(48736),la=r(27049),fs=r(44729),hs=function(){var l=(0,p.tT)("currentUser"),t=l.wallet,n=(0,b.useState)(!1),i=(0,j.Z)(n,2),s=i[0],v=i[1],c=(0,b.useState)(!1),u=(0,j.Z)(c,2),o=u[0],M=u[1],f=(0,b.useState)(""),h=(0,j.Z)(f,2),Z=h[0],y=h[1],I=(0,b.useState)(""),q=(0,j.Z)(I,2),C=q[0],P=q[1],L=(0,p.YB)(),A=function(){var ee=(0,X.Z)(k().mark(function Me(ie,Y){var W;return k().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!(ie&&Y)){F.next=2;break}return F.abrupt("return");case 2:if(!(!!t&&!!(t!=null&&t.keystore))){F.next=19;break}if(F.prev=3,W=(0,we.Gh)((t==null?void 0:t.passphrase)||C,t==null?void 0:t.keystore),W){F.next=9;break}return T.default.error({key:"passphraseError",message:L.formatMessage({id:"error.passphrase.error"}),duration:null}),P(""),F.abrupt("return");case 9:y(W),v(!0),F.next=17;break;case 13:F.prev=13,F.t0=F.catch(3),T.default.error({key:"passphraseError",message:L.formatMessage({id:"error.passphrase.error"}),duration:null}),P("");case 17:F.next=20;break;case 19:T.default.error({key:"accessDenied",message:L.formatMessage({id:"error.accessDenied"}),duration:null});case 20:case"end":return F.stop()}},Me,null,[[3,13]])}));return function(ie,Y){return ee.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ae.Z,{className:"".concat(Q().card," ").concat(a().exportCard),bodyStyle:{padding:0,width:"100%"},children:(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:L.formatMessage({id:"account.export.exportMnemonic"})}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(N.Z,{size:"large",shape:"round",type:"primary",onClick:function(){M(!0)},children:L.formatMessage({id:"common.export",defaultMessage:"Export"})})})]})}),(0,e.jsx)(fs.Z,{visable:s,content:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(la.Z,{children:L.formatMessage({id:"account.export.mnemonic.title"})}),(0,e.jsx)(E.Z,{size:"large",value:Z,readOnly:!0,className:a().secretInput}),(0,e.jsx)(Ea.Z,{message:L.formatMessage({id:"account.export.warning"}),type:"warning",className:a().secretAlert,showIcon:!0})]}),footer:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:a().bottomButtons,children:[(0,e.jsx)(Ue(),{text:Z,onCopy:function(){return R.default.success(L.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(N.Z,{block:!0,shape:"round",size:"large",className:a().button,icon:(0,e.jsx)(de.Z,{}),children:L.formatMessage({id:"common.copy"})})}),(0,e.jsx)(N.Z,{block:!0,type:"primary",shape:"round",size:"large",className:a().button,onClick:function(){v(!1)},children:L.formatMessage({id:"common.close"})})]})})}),(0,e.jsx)(m.Z,{visable:o,setVisable:M,passphrase:C,setPassphrase:P,func:A})]})},gs=hs,ps=function(){var l=(0,p.tT)("apiWs"),t=(0,p.YB)(),n=J.Z.Title;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(se.Z,{src:"/images/icon/backup.svg",className:a().sectionIcon,preview:!1}),t.formatMessage({id:"account.export.title"})]}),(0,e.jsx)(Ge.Z,{loading:!l,children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:a().export,children:(0,e.jsx)(gs,{})})})})]})},Ms=ps,ys=r(63667),za=r(81603),$a=new ys.Y({type:"sr25519"}),bs=function(){var g=(0,X.Z)(k().mark(function l(t,n,i,s,v,c,u){var o,M,f,h;return k().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(o=window.apiWs.tx.linker.linkSociality(n,i),!(c&&u)){y.next=6;break}return y.next=4,o.paymentInfo(u);case 4:return M=y.sent,y.abrupt("return",M);case 6:if(f=(0,we.Gh)(s,v),!(f==null||!f)){y.next=9;break}throw new Error("Wrong password");case 9:return h=$a.createFromUri(f),y.next=12,(0,za.Y)(o,h);case 12:return y.abrupt("return",y.sent);case 13:case"end":return y.stop()}},l)}));return function(t,n,i,s,v,c,u){return g.apply(this,arguments)}}(),ha=function(){var g=(0,X.Z)(k().mark(function l(t,n,i,s,v,c,u){var o,M,f,h;return k().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(o=window.apiWs.tx.linker.linkCrypto(t,n,i),!(c&&u)){y.next=6;break}return y.next=4,o.paymentInfo(u);case 4:return M=y.sent,y.abrupt("return",M);case 6:if(f=(0,we.Gh)(s,v),!(f==null||!f)){y.next=9;break}throw new Error("Wrong password");case 9:return h=$a.createFromUri(f),y.next=12,(0,za.Y)(o,h);case 12:return y.abrupt("return",y.sent);case 13:case"end":return y.stop()}},l)}));return function(t,n,i,s,v,c,u){return g.apply(this,arguments)}}(),js=r(60821),xs="https://www.sollet.io",ga=new js.Z(xs,"devnet"),ks=function(l){return new Promise(function(){var t=(0,X.Z)(k().mark(function n(i){return k().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return ga.on("connect",function(){var c=(0,X.Z)(k().mark(function u(o){var M,f,h,Z;return k().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return console.log("Connected to "+o.toBase58()),M=o.toBase58(),f=new TextEncoder().encode(l),I.next=5,ga.sign(f,"utf8");case 5:h=I.sent,Z=h.signature,console.log(Z.toString("hex")),i({account:M,signedMsg:Z.toString("hex")});case 9:case"end":return I.stop()}},u)}));return function(u){return c.apply(this,arguments)}}()),ga.on("disconnect",function(){return console.log("Disconnected")}),v.next=4,ga.connect();case 4:case"end":return v.stop()}},n)}));return function(n){return t.apply(this,arguments)}}())},Cs=r(67892),Ga=r(19338),Es=r(42484),Ya=r.n(Es),Va={walletconnect:{package:Cs.Z,options:{infuraId:"836f7f85d3104fae9263dee3bcac66c9"}}};function Ns(g){return Na.apply(this,arguments)}function Na(){return Na=(0,X.Z)(k().mark(function g(l){var t,n,i,s,v,c;return k().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new(Ya())({cacheProvider:!0,providerOptions:Va}),o.prev=1,o.next=4,t.connect();case 4:return n=o.sent,i=new Ga.Q(n),s=i.getSigner(),o.next=9,s.getAddress();case 9:return v=o.sent,o.next=12,s.signMessage(l);case 12:return c=o.sent,t.clearCachedProvider(),o.abrupt("return",{account:v,signedMsg:c});case 17:return o.prev=17,o.t0=o.catch(1),console.log(o.t0),R.default.error(o.t0.message),o.abrupt("return",{account:"",signedMsg:""});case 22:case"end":return o.stop()}},g,null,[[1,17]])})),Na.apply(this,arguments)}function Ss(g){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,X.Z)(k().mark(function g(l){var t,n,i,s,v,c;return k().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=new(Ya())({network:"binance",cacheProvider:!0,providerOptions:Va}),o.prev=1,o.next=4,t.connect();case 4:return n=o.sent,i=new Ga.Q(n),s=i.getSigner(),o.next=9,s.getAddress();case 9:return v=o.sent,o.next=12,s.signMessage(l);case 12:return c=o.sent,t.clearCachedProvider(),o.abrupt("return",{account:v,signedMsg:c});case 17:return o.prev=17,o.t0=o.catch(1),console.log(o.t0),R.default.error(o.t0.message),o.abrupt("return",{account:"",signedMsg:""});case 22:case"end":return o.stop()}},g,null,[[1,17]])})),Sa.apply(this,arguments)}var Za=r(59749),Da=r(57254),Zs=r(55347),aa={validator:{paramiCommunity:"".concat(Ne.Z.main.airdropServer,"/validator")}},Ds=function(l){var t=l.bindPlatform,n=l.setBindModal,i=(0,p.tT)("currentUser"),s=i.wallet,v=(0,b.useState)(!1),c=(0,j.Z)(v,2),u=c[0],o=c[1],M=(0,b.useState)((s==null?void 0:s.passphrase)||""),f=(0,j.Z)(M,2),h=f[0],Z=f[1],y=(0,b.useState)(!1),I=(0,j.Z)(y,2),q=I[0],C=I[1],P=(0,b.useState)(""),L=(0,j.Z)(P,2),A=L[0],ee=L[1],Me=(0,b.useState)(!1),ie=(0,j.Z)(Me,2),Y=ie[0],W=ie[1],ge=(0,b.useState)(""),F=(0,j.Z)(ge,2),z=F[0],_=F[1],xe=(0,b.useState)(""),ye=(0,j.Z)(xe,2),le=ye[0],K=ye[1],Oe=(0,b.useState)(""),Te=(0,j.Z)(Oe,2),x=Te[0],ke=Te[1],pa=(0,b.useState)(""),Ve=(0,j.Z)(pa,2),Ba=Ve[0],wa=Ve[1],$s=(0,b.useState)(!1),Ha=(0,j.Z)($s,2),Ie=Ha[0],He=Ha[1],O=(0,p.YB)(),Gs=E.Z.TextArea,Re="",Ze="",Qa=function(){var $=(0,X.Z)(k().mark(function G(){var B,w,oe,re,U,V,he,Qe,sa,Oa,d,Ma,Ta,Ja,da,Xa,qa,es;return k().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(!(!!s&&!!(s!=null&&s.keystore))){Ke.next=26;break}if(w=p.m8.location.query,oe=w,re=oe.audience,U=oe.scope,V=U!=null?U:"",he=V.indexOf("sign")>-1,Qe="",sa=Date.now()/1e3|0,Oa=JSON.stringify({alg:he?"SrDSA":"none",typ:"JWT"}),d=JSON.stringify({iss:window.location.origin,sub:s==null?void 0:s.account,aud:re,iat:sa,exp:sa+30}),Ma="".concat((0,Za.tH)(Oa),".").concat((0,Za.tH)(d)),he){Ke.next=14;break}return Qe="".concat(Ma,"."),window.open("".concat(aa==null||(Ta=aa.validator)===null||Ta===void 0?void 0:Ta.paramiCommunity,"#stamp=").concat(Qe,"&t=").concat(Date.now())),Ke.abrupt("return");case 14:if(Ja=new Zs.ZP({type:"sr25519"}),da=(0,we.Gh)(h,s==null?void 0:s.keystore),!(da==null||!da)){Ke.next=19;break}return R.default.error(O.formatMessage({id:"error.passphrase.error"})),Ke.abrupt("return");case 19:Xa=Ja.createFromUri(da),qa=Xa.sign(Ma),es="".concat(Ma,".").concat((0,Za.tH)(qa)),Qe=es,window.open("".concat(aa==null||(B=aa.validator)===null||B===void 0?void 0:B.paramiCommunity,"#stamp=").concat(Qe,"&t=").concat(Date.now())),Ke.next=27;break;case 26:T.default.error({key:"accessDenied",message:O.formatMessage({id:"error.accessDenied"}),duration:null});case 27:case"end":return Ke.stop()}},G)}));return function(){return $.apply(this,arguments)}}(),Ys=function(){var $=(0,X.Z)(k().mark(function G(B,w){var oe;return k().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!(!!s&&!!(s!=null&&s.did)&&!!s.keystore)){U.next=21;break}if(A!==""){U.next=4;break}return R.default.error(O.formatMessage({id:"error.sns.emptyInput"})),U.abrupt("return");case 4:return U.prev=4,U.next=7,bs(s==null?void 0:s.did,t,A,h,s==null?void 0:s.keystore,B,w);case 7:if(oe=U.sent,C(!1),n(!1),!(B&&w)){U.next=12;break}return U.abrupt("return",oe);case 12:U.next=19;break;case 14:return U.prev=14,U.t0=U.catch(4),T.default.error({message:O.formatMessage({id:U.t0.message||U.t0})}),C(!1),U.abrupt("return");case 19:U.next=22;break;case 21:T.default.error({key:"accessDenied",message:O.formatMessage({id:"error.accessDenied"}),duration:null});case 22:case"end":return U.stop()}},G,null,[[4,14]])}));return function(B,w){return $.apply(this,arguments)}}(),_a=function(){var $=(0,X.Z)(k().mark(function G(B,w){var oe,re;return k().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(!!s&&!!s.keystore)){V.next=21;break}return oe=x,(t==="Polkadot"||t==="Solana")&&(oe="0x00".concat(x)),V.prev=4,V.next=7,ha(t,le,oe,h,s==null?void 0:s.keystore,B,w);case 7:if(re=V.sent,n(!1),C(!1),!(B&&w)){V.next=12;break}return V.abrupt("return",re);case 12:V.next=19;break;case 14:return V.prev=14,V.t0=V.catch(4),T.default.error({message:O.formatMessage({id:V.t0.message||V.t0})}),C(!1),V.abrupt("return");case 19:V.next=22;break;case 21:T.default.error({key:"accessDenied",message:O.formatMessage({id:"error.accessDenied"}),duration:null});case 22:case"end":return V.stop()}},G,null,[[4,14]])}));return function(B,w){return $.apply(this,arguments)}}(),Vs=function(){var $=(0,X.Z)(k().mark(function G(B,w){var oe,re,U,V,he,Qe,sa;return k().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(!!s&&!!(s!=null&&s.keystore))){d.next=107;break}C(!0),d.t0=t,d.next=d.t0==="Discord"?5:d.t0==="Telegram"?10:d.t0==="Ethereum"?24:d.t0==="Binance"?51:d.t0==="Solana"?78:104;break;case 5:return d.next=7,Qa();case 7:return C(!1),n(!1),d.abrupt("break",104);case 10:if(!Y){d.next=17;break}return d.next=13,Qa();case 13:C(!1),n(!1),d.next=23;break;case 17:return d.next=19,Ys(B,w);case 19:if(oe=d.sent,!(B&&w)){d.next=22;break}return d.abrupt("return",oe);case 22:return d.abrupt("break",104);case 23:return d.abrupt("break",104);case 24:d.t1=Ba,d.next=d.t1==="walletconnect"?27:44;break;case 27:if(d.prev=27,!(!!le&&!!x||!!Re&&!!Ze)){d.next=36;break}return T.default.info({message:"Got an signed message",description:x||Ze,duration:2}),d.next=32,ha(t,le||Re,x||Ze,h,s==null?void 0:s.keystore,B,w);case 32:if(re=d.sent,n(!1),!(B&&w)){d.next=36;break}return d.abrupt("return",re);case 36:C(!1),d.next=43;break;case 39:d.prev=39,d.t2=d.catch(27),T.default.error({message:O.formatMessage({id:d.t2.message||d.t2}),duration:null}),C(!1);case 43:return d.abrupt("break",50);case 44:return d.next=46,_a(B,w);case 46:if(U=d.sent,!(B&&w)){d.next=49;break}return d.abrupt("return",U);case 49:return d.abrupt("break",50);case 50:return d.abrupt("break",104);case 51:d.t3=Ba,d.next=d.t3==="walletconnect"?54:71;break;case 54:if(d.prev=54,!(!!le&&!!x||!!Re&&!!Ze)){d.next=63;break}return T.default.info({message:"Got an signed message",description:x||Ze,duration:2}),d.next=59,ha(t,le||Re,x||Ze,h,s==null?void 0:s.keystore,B,w);case 59:if(V=d.sent,n(!1),!(B&&w)){d.next=63;break}return d.abrupt("return",V);case 63:C(!1),d.next=70;break;case 66:d.prev=66,d.t4=d.catch(54),T.default.error({message:O.formatMessage({id:d.t4.message||d.t4}),duration:null}),C(!1);case 70:return d.abrupt("break",77);case 71:return d.next=73,_a(B,w);case 73:if(he=d.sent,!(B&&w)){d.next=76;break}return d.abrupt("return",he);case 76:return d.abrupt("break",77);case 77:return d.abrupt("break",104);case 78:d.t5=Ba,d.next=d.t5==="sollet"?81:98;break;case 81:if(d.prev=81,!(!!le&&!!x||!!Re&&!!Ze)){d.next=90;break}return T.default.info({message:"Got an signed message",description:"0x00".concat(x||Ze),duration:2}),d.next=86,ha(t,le||Re,"0x00".concat(x||Ze),h,s==null?void 0:s.keystore,B,w);case 86:if(Qe=d.sent,n(!1),!(B&&w)){d.next=90;break}return d.abrupt("return",Qe);case 90:C(!1),d.next=97;break;case 93:d.prev=93,d.t6=d.catch(81),T.default.error({message:O.formatMessage({id:d.t6.message||d.t6})}),C(!1);case 97:return d.abrupt("break",104);case 98:return d.next=100,_a(B,w);case 100:if(sa=d.sent,!(B&&w)){d.next=103;break}return d.abrupt("return",sa);case 103:return d.abrupt("break",104);case 104:d.next=108;break;case 107:T.default.error({key:"accessDenied",message:O.formatMessage({id:"error.accessDenied"}),duration:null});case 108:case"end":return d.stop()}},G,null,[[27,39],[54,66],[81,93]])}));return function(B,w){return $.apply(this,arguments)}}();return(0,b.useEffect)(function(){!!s&&!!(s!=null&&s.did)?_("Link: ".concat((0,Pe.st)(s==null?void 0:s.did))):T.default.error({key:"accessDenied",message:O.formatMessage({id:"error.accessDenied"}),duration:null})},[]),(0,b.useEffect)(function(){He(t==="Ethereum"||t==="Binance"||t==="Polkadot"||t==="Solana"||t==="Tron")},[t]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(fe.Z,{tip:O.formatMessage({id:"common.submitting"}),spinning:q,children:(0,e.jsxs)("div",{className:a().bindModal,children:[t==="Telegram"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ee,{width:200,height:200}),(0,e.jsx)("span",{className:a().avatarSaveDesc,children:O.formatMessage({id:"wallet.avatar.saveDesc"})}),(0,e.jsx)(Ea.Z,{message:O.formatMessage({id:"social.sns.setAvatar.telegram"}),type:"warning"}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:O.formatMessage({id:"social.sns.username"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(E.Z,{addonBefore:"@",size:"large",onChange:function(G){return ee("https://t.me/".concat(G.target.value))}})})]}),(0,e.jsx)("div",{className:a().field,children:(0,e.jsx)(N.Z,{block:!0,size:"large",type:"primary",shape:"round",onClick:function(){o(!0)},disabled:!A,children:O.formatMessage({id:"common.submit"})})})]}),t==="Twitter"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ee,{width:200,height:200}),(0,e.jsx)("span",{className:a().avatarSaveDesc,children:O.formatMessage({id:"wallet.avatar.saveDesc"})}),(0,e.jsx)(Ea.Z,{message:O.formatMessage({id:"social.sns.setAvatar"}),type:"warning"}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:O.formatMessage({id:"social.sns.username"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(E.Z,{addonBefore:"@",size:"large",onChange:function(G){return ee("https://twitter.com/".concat(G.target.value))}})})]}),(0,e.jsx)("div",{className:a().field,children:(0,e.jsx)(N.Z,{block:!0,size:"large",type:"primary",shape:"round",onClick:function(){o(!0),W(!1)},disabled:!A,children:O.formatMessage({id:"common.submit"})})})]}),t==="Discord"&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:a().field,children:(0,e.jsx)(N.Z,{block:!0,size:"large",type:"primary",shape:"round",onClick:function(){o(!0),W(!0)},children:"Parami Community"})})}),(t==="Ethereum"||t==="Binance")&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N.Z,{block:!0,type:"primary",size:"large",shape:"round",className:a().iconButton,icon:(0,e.jsx)("img",{src:"/images/sns/walletconnect-white.svg"}),style:{backgroundColor:"#3B99FC"},onClick:(0,X.Z)(k().mark(function $(){var G,B,w,oe,re,U;return k().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(!(t==="Ethereum"&&!le&&!x)){he.next=10;break}return he.next=3,Ns(z);case 3:G=he.sent,B=G.account,w=G.signedMsg,Re=B,Ze=w,K(B),ke(w);case 10:if(!(t==="Binance"&&!le&&!x)){he.next=20;break}return he.next=13,Ss(z);case 13:oe=he.sent,re=oe.account,U=oe.signedMsg,Re=re,Ze=U,K(re),ke(U);case 20:wa("walletconnect"),o(!0);case 22:case"end":return he.stop()}},$)})),children:O.formatMessage({id:"social.blockchain.walletconnet"})}),(0,e.jsx)("div",{style:{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:function(){He(!Ie)},children:(0,e.jsxs)(la.Z,{children:[O.formatMessage({id:"social.blockchain.manual"}),(0,e.jsx)(N.Z,{type:"link",icon:(0,e.jsx)(Da.Z,{rotate:Ie?-180:0,className:a().expandButtonIcon}),onClick:function(){He(!Ie)}})]})})]}),t==="Solana"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N.Z,{block:!0,type:"primary",size:"large",shape:"round",className:a().iconButton,icon:(0,e.jsx)("img",{src:"/images/crypto/solana-sol-logo.svg"}),style:{backgroundColor:"#512da8"},onClick:(0,X.Z)(k().mark(function $(){var G,B,w;return k().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!(!le&&!x)){re.next=10;break}return re.next=3,ks(z);case 3:G=re.sent,B=G.account,w=G.signedMsg,Re=B,Ze=w,K(B),ke(w);case 10:wa("sollet"),o(!0);case 12:case"end":return re.stop()}},$)})),children:O.formatMessage({id:"social.blockchain.sollet"})}),(0,e.jsx)("div",{style:{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:function(){He(!Ie)},children:(0,e.jsxs)(la.Z,{children:[O.formatMessage({id:"social.blockchain.manual"}),(0,e.jsx)(N.Z,{type:"link",icon:(0,e.jsx)(Da.Z,{rotate:Ie?-180:0,className:a().expandButtonIcon}),onClick:function(){He(!Ie)}})]})})]}),(t==="Polkadot"||t==="Tron")&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N.Z,{block:!0,type:"primary",size:"large",shape:"round",className:a().iconButton,icon:(0,e.jsx)("img",{src:"/images/sns/tokenpocket-white.svg"}),style:{backgroundColor:"#2980FE"},onClick:function(){wa("tokenpocket"),o(!0)},children:O.formatMessage({id:"social.blockchain.tokenpocket"})}),(0,e.jsx)("div",{style:{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:function(){He(!Ie)},children:(0,e.jsxs)(la.Z,{children:[O.formatMessage({id:"social.blockchain.manual"}),(0,e.jsx)(N.Z,{type:"link",icon:(0,e.jsx)(Da.Z,{rotate:Ie?-180:0,className:a().expandButtonIcon}),onClick:function(){He(!Ie)}})]})})]}),(t==="Ethereum"||t==="Binance"||t==="Solana"||t==="Polkadot"||t==="Tron")&&(0,e.jsxs)("div",{className:a().manualContainer,style:{maxHeight:Ie?0:"100vh"},children:[(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:O.formatMessage({id:"social.blockchain.originText"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(Ue(),{text:z,onCopy:function(){return R.default.success(O.formatMessage({id:"common.copied"}))},children:(0,e.jsx)(E.Z,{readOnly:!0,size:"large",value:z})})})]}),(0,e.jsx)(la.Z,{children:O.formatMessage({id:"social.blockchain.tip"})}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:O.formatMessage({id:"social.blockchain.signed"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(Gs,{size:"large",rows:4,value:x,onChange:function(G){ke(G.target.value)}})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsx)("div",{className:a().title,children:O.formatMessage({id:"social.blockchain.address"})}),(0,e.jsx)("div",{className:a().value,children:(0,e.jsx)(E.Z,{size:"large",onChange:function(G){K(G.target.value)}})})]}),(0,e.jsx)("div",{className:a().field,children:(0,e.jsx)(N.Z,{block:!0,size:"large",type:"primary",shape:"round",onClick:function(){Z(""),o(!0)},disabled:!le||!x||le.indexOf("0x")==-1||x.indexOf("0x")==-1,children:O.formatMessage({id:"common.submit"})})})]})]})}),(0,e.jsx)(m.Z,{visable:u,setVisable:o,passphrase:h,setPassphrase:Z,func:Vs})]})},Ps=Ds,Bs=r(38192),Pa=r.n(Bs),oa=r(7085),ws=r(50671),_s=r(32689),Os=r(17728),Ts=r.n(Os),Is=function(l){var t=l.setBindModal,n=l.setBindPlatform,i=(0,p.tT)("sns"),s=(0,p.tT)("currentUser"),v=s.wallet,c=(0,b.useState)(),u=(0,j.Z)(c,2),o=u[0],M=u[1],f=(0,p.YB)(),h=J.Z.Title,Z=function(){window.location.href="".concat(Ne.Z.main.airdropServer,"/twitterLogin?state=bind")},y=function(){var P=window.location.origin+"/oauth/discord";window.location.href="".concat(Ne.Z.airdropService.discord.oauthEndpoint,"?response_type=token&state=bind&client_id=").concat(Ne.Z.airdropService.discord.clientId,"&scope=identify&redirect_uri=").concat(P)},I=function(P){console.log(P),P.bot=Ne.Z.airdropService.telegram.botName,M({platform:"Telegram",ticket:P})};(0,b.useEffect)(function(){var C=(0,ws.Y)();C.platform&&(console.log("[kai] set params"),M({platform:C.platform,ticket:C}))},[]),(0,b.useEffect)(function(){o!=null&&o.platform&&q(o.platform,o.ticket)},[o]);var q=function(){var C=(0,X.Z)(k().mark(function P(L,A){var ee,Me,ie;return k().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!v.did){W.next=16;break}return T.default.info({message:"Binding ".concat(L," account...")}),W.next=4,(0,_s.et)({did:v.did,site:L,ticket:A});case 4:if(ee=W.sent,Me=ee.response,ie=ee.data,Me){W.next=10;break}return T.default.error({message:"Network Error",description:"Please try again later"}),W.abrupt("return");case 10:if(Me.status!==204){W.next=15;break}return T.default.success({message:"Bind ".concat(L," account success!")}),p.m8.push("/profile"),W.abrupt("return");case 15:T.default.error({message:"".concat(ie)});case 16:case"end":return W.stop()}},P)}));return function(L,A){return C.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(h,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(se.Z,{src:"/images/icon/sns.svg",className:a().sectionIcon,preview:!1}),f.formatMessage({id:"account.sns.title"})]}),(0,e.jsx)(Ge.Z,{loading:!Object.keys(i).length,height:400,children:(0,e.jsx)("div",{className:a().bind,children:(0,e.jsxs)(ae.Z,{className:"".concat(Q().card," ").concat(a().bindCard),bodyStyle:{padding:0,width:"100%"},children:[(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)(se.Z,{className:a().icon,src:"/images/sns/telegram.svg",preview:!1}),(0,e.jsx)("span",{className:a().label,children:"Telegram"})]}),(0,e.jsx)("div",{className:a().button+(i.Telegram?"":" ".concat(Pa().telegramBtnContainer)),children:(0,e.jsxs)(fe.Z,{indicator:(0,e.jsx)(oa.Z,{spin:!0}),spinning:!Object.keys(i).length,children:[!i.Telegram&&(0,e.jsx)(Ts(),{dataOnauth:I,botName:Ne.Z.airdropService.telegram.botName,className:Pa().telegramLoginBtn}),(0,e.jsxs)(N.Z,{disabled:i.Telegram!==null,size:"large",shape:"round",type:"primary",className:Pa().loginBtnMock,children:[!i.Telegram&&f.formatMessage({id:"social.bind"}),i.Telegram==="linked"&&f.formatMessage({id:"social.binded"}),i.Telegram==="verifing"&&f.formatMessage({id:"social.verifing"})]})]})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/discord.svg"}),(0,e.jsx)("span",{className:a().label,children:"Discord"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(fe.Z,{indicator:(0,e.jsx)(oa.Z,{spin:!0}),spinning:!Object.keys(i).length,children:(0,e.jsxs)(N.Z,{disabled:i.Discord!==null,size:"large",shape:"round",type:"primary",onClick:y,children:[!i.Discord&&f.formatMessage({id:"social.bind"}),i.Discord==="linked"&&f.formatMessage({id:"social.binded"}),i.Discord==="verifing"&&f.formatMessage({id:"social.verifing"})]})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/twitter.svg"}),(0,e.jsx)("span",{className:a().label,children:"Twitter"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsxs)(N.Z,{disabled:i.Twitter!==null,size:"large",shape:"round",type:"primary",onClick:Z,children:[!i.Twitter&&f.formatMessage({id:"social.bind"}),i.Twitter==="linked"&&f.formatMessage({id:"social.binded"}),i.Twitter==="verifing"&&f.formatMessage({id:"social.verifing"})]})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/facebook.svg"}),(0,e.jsx)("span",{className:a().label,children:"Facebook"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(N.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Facebook")},children:f.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/mastodon.svg"}),(0,e.jsx)("span",{className:a().label,children:"Mastodon"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(N.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Mastodon")},children:f.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/github.svg"}),(0,e.jsx)("span",{className:a().label,children:"Github"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(N.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Github")},children:f.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/hacker-news.svg"}),(0,e.jsx)("span",{className:a().label,children:"Hacker News"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(N.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Github")},children:f.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/sns/reddit.svg"}),(0,e.jsx)("span",{className:a().label,children:"Reddit"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(N.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Reddit")},children:f.formatMessage({id:"social.coming"})})})]})]})})})]})},As=Is,Us=r(51615),Ls=function(l){var t=l.setBindModal,n=l.setBindPlatform,i=(0,p.tT)("sns"),s=(0,p.YB)(),v=J.Z.Title,c=(0,Us.UO)();return(0,b.useEffect)(function(){(c==null?void 0:c.bind)==="ethereum"&&(t(!0),n("Ethereum"))},[c]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(v,{level:3,className:a().sectionTitle,children:[(0,e.jsx)(se.Z,{src:"/images/icon/chain.svg",className:a().sectionIcon,preview:!1}),s.formatMessage({id:"account.blockchain.title"})]}),(0,e.jsx)(Ge.Z,{loading:!Object.keys(i).length,height:400,children:(0,e.jsx)("div",{className:a().bind,children:(0,e.jsxs)(ae.Z,{className:"".concat(Q().card," ").concat(a().bindCard),bodyStyle:{padding:0,width:"100%"},children:[(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)(se.Z,{className:a().icon,src:"/images/crypto/ethereum-eth-logo.svg",preview:!1}),(0,e.jsx)("span",{className:a().label,children:"ETH"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(fe.Z,{indicator:(0,e.jsx)(oa.Z,{spin:!0}),spinning:!Object.keys(i).length,children:(0,e.jsxs)(N.Z,{disabled:i.Ethereum!==null,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Ethereum")},children:[!i.Ethereum&&s.formatMessage({id:"social.bind"}),i.Ethereum==="linked"&&s.formatMessage({id:"social.binded"}),i.Ethereum==="verifing"&&s.formatMessage({id:"social.verifing"})]})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/solana-sol-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"SOL"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(fe.Z,{indicator:(0,e.jsx)(oa.Z,{spin:!0}),spinning:!Object.keys(i).length,children:(0,e.jsxs)(N.Z,{disabled:i.Solana!==null,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Solana")},children:[!i.Solana&&s.formatMessage({id:"social.bind"}),i.Solana==="linked"&&s.formatMessage({id:"social.binded"}),i.Solana==="verifing"&&s.formatMessage({id:"social.verifing"})]})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/binance-bsc-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"BSC"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(fe.Z,{indicator:(0,e.jsx)(oa.Z,{spin:!0}),spinning:!Object.keys(i).length,children:(0,e.jsxs)(N.Z,{disabled:i.Binance!==null,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Binance")},children:[!i.Binance&&s.formatMessage({id:"social.bind"}),i.Binance==="linked"&&s.formatMessage({id:"social.binded"}),i.Binance==="verifing"&&s.formatMessage({id:"social.verifing"})]})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/bitcoin-btc-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"BTC"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(N.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Bitcoin")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/eos-eos-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"EOS"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(N.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Eosio")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/kusama-ksm-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"KSM"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(N.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Kusama")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/polkadot-new-dot-logo.svg"}),(0,e.jsx)("span",{className:a().label,children:"DOT"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(N.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Polkadot")},children:s.formatMessage({id:"social.coming"})})})]}),(0,e.jsxs)("div",{className:a().field,children:[(0,e.jsxs)("div",{className:a().title,children:[(0,e.jsx)("img",{className:a().icon,src:"/images/crypto/tron-trx-logo.png"}),(0,e.jsx)("span",{className:a().label,children:"TRX"})]}),(0,e.jsx)("div",{className:a().button,children:(0,e.jsx)(N.Z,{disabled:!0,size:"large",shape:"round",type:"primary",onClick:function(){t(!0),n("Tron")},children:s.formatMessage({id:"social.coming"})})})]})]})})})]})},Ws=Ls,Rs=function(){var l=(0,p.tT)("sns"),t=(0,b.useState)(!1),n=(0,j.Z)(t,2),i=n[0],s=n[1],v=(0,b.useState)(""),c=(0,j.Z)(v,2),u=c[0],o=c[1],M=p.m8.location.query,f=M,h=f.from,Z=(0,p.YB)();return(0,b.useEffect)(function(){!Object.keys(l).length||!!h&&!l[h]&&(s(!0),o(h))},[h,l]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(As,{setBindModal:s,setBindPlatform:o})}),(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(Ws,{setBindModal:s,setBindPlatform:o})}),(0,e.jsx)(qe.Z,{visable:i,title:Z.formatMessage({id:"social.bind.sns.title"},{platform:u}),content:(0,e.jsx)(Ps,{bindPlatform:u,setBindModal:s}),close:function(){s(!1),p.m8.replace(Ne.Z.page.accountPage)},footer:!1})]})},Ks=Rs,Fs=function(){return(0,e.jsx)("div",{className:Q().mainTopContainer,children:(0,e.jsxs)("div",{className:a().profileContainer,children:[(0,e.jsxs)("div",{className:a().left,children:[(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(ba,{})}),(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(Ks,{})})]}),(0,e.jsxs)("div",{className:a().right,children:[(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(ms,{})}),(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(ca,{})}),(0,e.jsx)("div",{className:a().section,children:(0,e.jsx)(Ms,{})})]})]})})},zs=Fs},84986:function(H,ue,r){"use strict";r.d(ue,{U:function(){return N},g:function(){return se}});var b=r(11849),ve=r(3182),Q=r(94043),ne=r.n(Q),a=r(51625),pe=r(55347),ae=r(11238),Ce=r(47832),te=r(81603),be=function(J){var j=J.response,p=j===void 0?{}:j,me=J.message,de=me===void 0?"":me,D=J.data,De=D===void 0?{}:D;if(de==="http error")return{response:p,data:De}},R=(0,ae.l7)({errorHandler:be,credentials:"omit"}),Fe=new pe.ZP({type:"sr25519"});function N(Be,J){return ze.apply(this,arguments)}function ze(){return ze=(0,ve.Z)(ne().mark(function Be(J,j){var p;return ne().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return p=new FormData,p.append("file",J),de.abrupt("return",R(a.Z.ipfs.upload,(0,b.Z)({method:"POST",body:p,requestType:"form",getResponse:!0},j||{})));case 3:case"end":return de.stop()}},Be)})),ze.apply(this,arguments)}var se=function(){var Be=(0,ve.Z)(ne().mark(function J(j,p,me,de,D){var De,Pe,Ae,Ue;return ne().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(De=window.apiWs.tx.did.setMetadata("pic",j),!(de&&D)){E.next=6;break}return E.next=4,De.paymentInfo(D);case 4:return Pe=E.sent,E.abrupt("return",Pe);case 6:if(Ae=(0,Ce.Gh)(p,me),!(Ae==null||!Ae)){E.next=9;break}throw new Error("Wrong password");case 9:return Ue=Fe.createFromUri(Ae),E.next=12,(0,te.Y)(De,Ue);case 12:return E.abrupt("return",E.sent);case 13:case"end":return E.stop()}},J)}));return function(j,p,me,de,D){return Be.apply(this,arguments)}}()},50671:function(H,ue,r){"use strict";r.d(ue,{Y:function(){return ne}});var b=r(11849),ve=r(80129),Q=r.n(ve),ne=function(){try{var pe=new URL(window.location.href);return(0,b.Z)((0,b.Z)({},Q().parse(pe.search.substring(1))),Q().parse(pe.hash.substring(1)))}catch(ae){return console.log("Parse url params error",ae),{}}}}}]);

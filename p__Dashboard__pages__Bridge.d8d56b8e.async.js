(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[5808],{55133:function(p){p.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(p){p.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},3778:function(p){p.exports={addressContainer:"addressContainer___6KKsj",ethLogo:"ethLogo___2CFry",ethLogoImg:"ethLogoImg___HRF52",currentAddress:"currentAddress___PFX7-",prefix:"prefix___peVe8",address:"address___jGccQ"}},76705:function(p){p.exports={loginCard:"loginCard___29ISC",title:"title___1Nywl",appList:"appList___3WcLg",appItem:"appItem___3n4xF",appIcon:"appIcon___3I5gJ",info:"info___AECmK",name:"name___1p-lf",icon:"icon___3Ijcm",desc:"desc___1DhqV",rightArrow:"rightArrow___Np2km",getWallet:"getWallet___3Nr1f",modalContainer:"modalContainer___2uiYJ",logo:"logo___3P-qd"}},28633:function(p){p.exports={selectContainer:"selectContainer___1_GbB",selectHeader:"selectHeader___9PjRk",selectHeaderSectionTitle:"selectHeaderSectionTitle___2UWhg",fromNetwork:"fromNetwork___3jU-L",fromNetworkIcon:"fromNetworkIcon___39QEQ",selectWrapper:"selectWrapper___3-vMT",selectItem:"selectItem___3K2bP",itemInfo:"itemInfo___5kjKy",itemInfoIcon:"itemInfoIcon___1gcUp",itemNameSymbol:"itemNameSymbol___1Vl81",itemName:"itemName___2dXQJ",itemSymbol:"itemSymbol___3oD6j",itemBalance:"itemBalance___36hic"}},76824:function(p){p.exports={modal:"modal___2kgj1",spinContainer:"spinContainer___1KYK8",alertContainer:"alertContainer___3owY0",buttons:"buttons___En-Xg",button:"button___SXVEF",fieldsContainer:"fieldsContainer___XT086",field:"field___22Tmv",label:"label___2u_4k",small:"small___1wJL4",labelIcon:"labelIcon___2JQT2",value:"value___1L63r"}},57129:function(p){p.exports={bridgeContainer:"bridgeContainer___KUa_y",leftContainer:"leftContainer___BhZ7T",innerWrapper:"innerWrapper___bZZx8",description:"description___3-8tl",points:"points___35dws",bottomSection:"bottomSection___3tOew",background:"background___8FvqH",rightContainer:"rightContainer___SWVmp",bridgeTabs:"bridgeTabs___1q5d5",bridgeTabsItem:"bridgeTabsItem___2dz-9",active:"active___1gpqP",bridgeBody:"bridgeBody___K06_-",fromLabel:"fromLabel___36_v-",toLabel:"toLabel___nk7uU",destinationLabel:"destinationLabel___2BpNo",formSection:"formSection___38r3Z",chainAndBalanceDetails:"chainAndBalanceDetails___2tWhw",tokenAndAmountDetails:"tokenAndAmountDetails___2QCCc",tokenDetails:"tokenDetails___5YGpq",chainIcon:"chainIcon___1kqp4",tokenDetailsTokenName:"tokenDetailsTokenName___2ZJGy",tokenDetailsArrow:"tokenDetailsArrow___1MP8-",amountDetails:"amountDetails___1ebLK",amountDetailsMaxButton:"amountDetailsMaxButton___1FzoW",downArrowSection:"downArrowSection___2uyH-",toChainAndBalanceDetails:"toChainAndBalanceDetails___16F2K",chainDetails:"chainDetails___1CxCG",chainDetailsChainName:"chainDetailsChainName___25YMo",balanceDetails:"balanceDetails___3lQpW",balanceDetailsLabel:"balanceDetailsLabel___39XMY",balanceDetailsBalance:"balanceDetailsBalance___1gKPg",transferButton:"transferButton___1hXV4",destinationDetails:"destinationDetails___Ut9dq",destinationMyAddressButton:"destinationMyAddressButton___5f5Zy",processContainer:"processContainer___3kyyc",title:"title___32jxA",cardContainer:"cardContainer___2qpms",listHash:"listHash___3ya_j",field:"field___vgM6V",value:"value___1DSzY"}},24787:function(p){p.exports={mainContainer:"mainContainer___VzUCC",mainBgContainer:"mainBgContainer___2Nlq7",mainIndexContainer:"mainIndexContainer___1Mqvq",background:"background___25786",logoMark:"logoMark___153gX",mainTopContainer:"mainTopContainer___2Cw6K",pageContainer:"pageContainer___2ssxe",stepContainer:"stepContainer___LPJXV",contentContainer:"contentContainer___2e-al",badge:"badge___3vf4B",dashboardCard:"dashboardCard___3oOcj",windowCard:"windowCard___3FjX2",windowCardBody:"windowCardBody___2zSRs",field:"field___3q5d2",title:"title___1BPSo",value:"value___1TvCY",rowField:"rowField___1vUg5",switchButton:"switchButton___3EjXy",statistic:"statistic___2TWER",modalBody:"modalBody___3SJQA",dividerTitle:"dividerTitle___1UTj3",table:"table___1zfPw",withAfterInput:"withAfterInput___3UZxJ",tabSelector:"tabSelector___2tj32",tabItem:"tabItem___3ymbk",inactive:"inactive___12iuZ",noAssets:"noAssets___FcwbD",topImage:"topImage___mHPfd"}},69764:function(p,$,a){"use strict";var Ne=a(71194),x=a(50146),ve=a(57663),h=a(71577),L=a(402),Y=a(3887),r=a(67294),i=a(55133),o=a.n(i),ee=a(54549),P=a(85893),Te=Y.Z.Title,s=function(W){var Se=W.visable,_=W.title,Be=W.content,de=W.footer,D=W.close,H=W.bodyStyle;return(0,P.jsx)(x.Z,{title:_?(0,P.jsx)(Te,{level:5,className:o().title,children:_}):null,closable:!!D,closeIcon:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(h.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,P.jsx)(ee.Z,{onClick:D})})}),className:o().modal,centered:!0,visible:Se,width:650,footer:de,bodyStyle:H,children:Be})};$.Z=s},3548:function(p,$,a){"use strict";var Ne=a(67294),x=a(31639),ve=a.n(x),h=a(96534),L=a(85893),Y=function(i){var o=i.value,ee=i.style;return(0,L.jsxs)("div",{className:ve().ad3,style:ee,children:[o?(0,h.MP)(o):"--",(0,L.jsx)("span",{className:ve().unit,children:"\xA0$AD3"})]})};$.Z=Y},47515:function(p,$,a){"use strict";var Ne=a(12968),x=a(62462),ve=a(67294),h=a(3778),L=a.n(h),Y=a(43581),r=a(85893),i=function(){var ee=(0,Y.tT)("web3"),P=ee.Account;return(0,r.jsx)(r.Fragment,{children:P&&(0,r.jsxs)("div",{className:L().addressContainer,children:[(0,r.jsxs)("div",{className:L().ethLogo,children:[(0,r.jsx)(x.Z,{src:"/images/crypto/eth-circle.svg",preview:!1,className:L().ethLogoImg}),"ETH Address"]}),(0,r.jsxs)("div",{className:L().currentAddress,children:[(0,r.jsx)("span",{className:L().prefix,children:"Current Address:"}),(0,r.jsx)("span",{className:L().address,children:P})]})]})})};$.Z=i},38655:function(p,$,a){"use strict";var Ne=a(58024),x=a(39144),ve=a(57663),h=a(71577),L=a(48736),Y=a(27049),r=a(3182),i=a(402),o=a(3887),ee=a(94043),P=a.n(ee),Te=a(67294),s=a(43581),Ae=a(24787),W=a.n(Ae),Se=a(76705),_=a.n(Se),Be=a(8812),de=a(89583),D=a(85893),H=function(){var ae=(0,s.tT)("web3"),He=ae.connect,b=(0,s.YB)(),ye=o.Z.Title;return(0,D.jsx)("div",{className:W().mainContainer,children:(0,D.jsx)("div",{className:W().contentContainer,children:(0,D.jsxs)(x.Z,{className:_().loginCard,bodyStyle:{padding:32,width:"100%"},children:[(0,D.jsx)(ye,{level:4,className:_().title,children:b.formatMessage({id:"dashboard.bridge.login",defaultMessage:"Login"})}),(0,D.jsx)("div",{className:_().appList,children:(0,D.jsxs)("div",{className:_().appItem,onClick:(0,r.Z)(P().mark(function Pe(){return P().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,He();case 2:case"end":return se.stop()}},Pe)})),children:[(0,D.jsx)("div",{className:_().info,children:(0,D.jsxs)("span",{className:_().name,children:[(0,D.jsx)(de.OZg,{className:_().icon}),"Connect Wallet"]})}),(0,D.jsx)(Be.Z,{className:_().rightArrow})]})}),(0,D.jsx)(Y.Z,{}),(0,D.jsxs)("div",{className:_().getWallet,children:[b.formatMessage({id:"dashboard.bridge.dontHaveWallet",defaultMessage:"Don't have wallet?"}),(0,D.jsx)(h.Z,{type:"link",size:"middle",children:b.formatMessage({id:"dashboard.bridge.downloadHere",defaultMessage:"Download here"})})]})]})})})};$.Z=H},79245:function(p,$,a){"use strict";a.r($),a.d($,{default:function(){return Pa}});var Ne=a(12968),x=a(62462),ve=a(74379),h=a(38648),L=a(402),Y=a(3887),r=a(2824),i=a(67294),o=a(43581),ee=a(24787),P=a.n(ee),Te=a(57129),s=a.n(Te),Ae=a(94184),W=a.n(Ae),Se=a(57663),_=a(71577),Be=a(47673),de=a(32787),D=a(22385),H=a(31097),Qe=a(91220),ae=a(3182),He=a(94043),b=a.n(He),ye=a(57254),Pe=a(21059),Ue=a(49101),se=a(2593),Ke=a(7290),Ve=a(77616),Re={bridge:{destId:0,destinationChainId:233,address:"0xDb59E0cA1644D1F93D1b85261c0D414656bA98F9"},resource:{id:"0x000000000000000000000000000000a56889c89dddcbb363cbd6a8d11de9e100"},ERC20HandlerContract:{address:"0x4A00CC0DA9333658CAC63Ddc074681BfF218aeFD"}},ce=a(3548),U=a(59749),ta=a(96534),na=a(75397),ia=a(28633),E=a.n(ia),Ge=a(69764),e=a(85893),ra=function(n){var m=n.selectModal,v=n.setSelectModal,t=n.chain,f=(0,o.tT)("web3"),M=f.ChainName,u=(0,o.YB)();return(0,e.jsx)(Ge.Z,{title:void 0,visable:m,content:(0,e.jsxs)("div",{className:E().selectContainer,children:[(0,e.jsx)("div",{className:E().selectHeader,children:(0,e.jsx)("div",{className:E().selectHeaderSectionTitle,children:u.formatMessage({id:"dashboard.bridge.selectToken",defaultMessage:"Select a token from {chain}"},{chain:t==="ethereum"?(0,e.jsxs)("div",{className:E().fromNetwork,children:[(0,e.jsx)(x.Z,{src:"/images/crypto/ethereum-eth-logo.svg",preview:!1,className:E().fromNetworkIcon}),(0,e.jsx)("span",{className:E().chainDetailsChainName,children:M})]}):(0,e.jsxs)("div",{className:E().fromNetwork,children:[(0,e.jsx)(x.Z,{src:"/images/logo-core-colored-fit-into-round.svg",preview:!1,className:E().fromNetworkIcon}),(0,e.jsx)("span",{className:E().chainDetailsChainName,children:"Parami chain"})]})})})}),(0,e.jsx)("div",{className:E().selectWrapper,children:(0,e.jsxs)("div",{className:E().selectItem,children:[(0,e.jsxs)("div",{className:E().itemInfo,children:[(0,e.jsx)(x.Z,{src:"/images/crypto/usdt-circle.svg",preview:!1,className:E().itemInfoIcon}),(0,e.jsxs)("div",{className:E().itemNameSymbol,children:[(0,e.jsx)("div",{className:E().itemName,children:"USDT"}),(0,e.jsx)("div",{className:E().itemSymbol,children:"Tether USD"})]})]}),(0,e.jsx)("div",{className:E().itemBalance,children:"0"})]})})]}),footer:!1,close:function(){v(!1)},bodyStyle:{padding:0}})},qe=ra,la=a(6221),da=a(48352),oa=a(48764).Buffer,ca=function(n){var m=n.setLoading,v=n.setStep,t=n.setETHHash,f=n.setParamiHash,M=(0,o.tT)("apiWs"),u=(0,o.tT)("currentUser"),c=u.dashboard,O=(0,o.tT)("web3"),S=O.Account,R=O.ChainName,w=O.Provider,te=O.Signer,F=O.ChainId,X=(0,o.tT)("paramiEvents"),k=X.Events,j=X.SubParamiEvents,he=(0,i.useState)(),N=(0,r.Z)(he,2),J=N[0],ne=N[1],Q=(0,o.tT)("dashboard.balance"),V=Q.balance,ie=(0,o.tT)("contracts"),C=ie.Ad3Contract,ue=ie.BridgeContract,fe=(0,i.useState)(""),je=(0,r.Z)(fe,2),ge=je[0],Ie=je[1],ke=(0,i.useState)(BigInt(0)),Ce=(0,r.Z)(ke,2),re=Ce[0],Ze=Ce[1],ze=(0,i.useState)(""),xe=(0,r.Z)(ze,2),G=xe[0],be=xe[1],$e=(0,i.useState)(!1),Me=(0,r.Z)($e,2),Oe=Me[0],De=Me[1],Ye=(0,i.useState)(""),Ee=(0,r.Z)(Ye,2),me=Ee[0],_e=Ee[1],q=(0,i.useState)(!1),Le=(0,r.Z)(q,2),Xe=Le[0],We=Le[1],g=(0,o.YB)(),I,le=function(B,y){return"".concat(B.event.section,":").concat(B.event.method)==="chainBridge:ProposalSucceeded"&&BigInt(B.event.data[1].toString())===y},z=function(){var Z=(0,ae.Z)(b().mark(function B(){var y;return b().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(!w||!te)){T.next=2;break}return T.abrupt("return");case 2:return T.prev=2,T.next=5,C==null?void 0:C.balanceOf(S);case 5:y=T.sent,Ie(se.O$.from(y).toString()),T.next=12;break;case 9:T.prev=9,T.t0=T.catch(2),h.default.error({message:T.t0.message||T.t0,duration:null});case 12:case"end":return T.stop()}},B,null,[[2,9]])}));return function(){return Z.apply(this,arguments)}}(),d=function(){var Z=(0,ae.Z)(b().mark(function B(){var y,pe,T,Je,sa;return b().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(!w||!te)){l.next=2;break}return l.abrupt("return");case 2:if(y=me,!(me.indexOf("did:ad3")>-1)){l.next=15;break}return l.prev=4,l.next=7,(0,na.Ob)(me);case 7:pe=l.sent,pe||h.default.error({message:"Invalid DID",duration:null}),y=pe.account,l.next=15;break;case 12:l.prev=12,l.t0=l.catch(4),h.default.error({message:l.t0.message||l.t0,duration:null});case 15:return y="0x".concat(oa.from((0,la.m)(y)).toString("hex")),T="0x"+Ke.$m(se.O$.from(Ve.vz(G,18)).toHexString(),32).substring(2)+Ke.$m(Ke.Dv((y.length-2)/2),32).substring(2)+y.substring(2),l.prev=17,m(!0),h.default.info({message:"Approve Token Access"}),l.next=22,C==null?void 0:C.approve(da.q7.erc20handler[F],se.O$.from(Ve.vz(G.toString(),18)));case 22:return l.next=24,l.sent.wait();case 24:return h.default.info({message:"Deposit Token"}),l.next=27,ue==null?void 0:ue.deposit(Re.bridge.destinationChainId,Re.resource.id,T);case 27:return l.next=29,l.sent.wait();case 29:return Je=l.sent,sa=BigInt(Je.logs[2].topics[3]),Ze(sa),t(Je.transactionHash),v(2),De(!0),l.next=37,j();case 37:I=l.sent,ne(function(){return I}),l.next=45;break;case 41:l.prev=41,l.t1=l.catch(17),h.default.error({message:l.t1.message||l.t1,duration:null}),m(!1);case 45:case"end":return l.stop()}},B,null,[[4,12],[17,41]])}));return function(){return Z.apply(this,arguments)}}();return(0,i.useEffect)(function(){if(Oe){var Z=(0,Qe.Z)(k),B;try{for(Z.s();!(B=Z.n()).done;){var y=B.value;console.log("event","".concat(y.event.section,":").concat(y.event.method)),le(y,re)&&(De(!1),v(3),J&&J(),h.default.success({message:"Deposit Success"}),f(y.blockHash))}}catch(pe){Z.e(pe)}finally{Z.f()}}},[k,re,Oe,J]),(0,i.useEffect)(function(){!S||!C||M&&z()},[te,w,C,S,M]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:s().fromLabel,children:g.formatMessage({id:"dashboard.bridge.from",defaultMessage:"From"})}),(0,e.jsxs)("div",{className:s().formSection,children:[(0,e.jsxs)("div",{className:s().chainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(x.Z,{src:"/images/crypto/ethereum-eth-logo.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:R})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[g.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(H.Z,{placement:"top",title:(0,U.mI)(ge,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(ce.Z,{value:ge})})})]})]}),(0,e.jsxs)("div",{className:s().tokenAndAmountDetails,children:[(0,e.jsxs)("div",{className:s().tokenDetails,onClick:function(){We(!0)},children:[(0,e.jsx)(x.Z,{src:"/images/logo-round-core.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().tokenDetailsTokenName,children:"AD3"}),(0,e.jsx)(ye.Z,{className:s().tokenDetailsArrow})]}),(0,e.jsxs)("div",{className:s().amountDetails,children:[(0,e.jsx)(de.Z,{placeholder:"0.00",type:"number",size:"large",value:G,onChange:function(B){be(B.target.value)}}),(0,e.jsx)(_.Z,{className:s().amountDetailsMaxButton,type:"link",size:"small",onClick:function(){be((0,U.mI)(ge,18))},children:g.formatMessage({id:"dashboard.bridge.max",defaultMessage:"MAX"})})]})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(Pe.Z,{})}),(0,e.jsx)("div",{className:s().toLabel,children:g.formatMessage({id:"dashboard.bridge.to",defaultMessage:"To"})}),(0,e.jsxs)("div",{className:s().toChainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(x.Z,{src:"/images/logo-core-colored-fit-into-round.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:"Parami chain"})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[g.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(H.Z,{placement:"top",title:(0,U.mI)(V==null?void 0:V.total,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(ce.Z,{value:V==null?void 0:V.total})})})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(Ue.Z,{})}),(0,e.jsx)("div",{className:s().destinationLabel,children:g.formatMessage({id:"dashboard.bridge.destinationAddress",defaultMessage:"Destination Address"})}),(0,e.jsxs)("div",{className:s().destinationDetails,children:[(0,e.jsx)(de.Z,{placeholder:"did:ad3:......",type:"text",size:"large",value:me,onChange:function(B){_e(B.target.value)}}),(0,e.jsx)(_.Z,{className:s().destinationMyAddressButton,type:"default",size:"small",onClick:function(){_e((0,ta.st)(c.did))},children:g.formatMessage({id:"dashboard.bridge.me",defaultMessage:"ME"})})]}),(0,e.jsx)(_.Z,{block:!0,type:"primary",size:"large",shape:"round",className:s().transferButton,onClick:function(){d()},disabled:!G||!me||(0,U.HM)(G,18)<=BigInt(0),children:g.formatMessage({id:"dashboard.bridge.transfer",defaultMessage:"Transfer"})}),(0,e.jsx)(qe,{selectModal:Xe,setSelectModal:We,chain:"ethereum"})]})},ua=ca,Ia=a(34792),ma=a(48086),va=a(81773),ha=a(81603),fa=function(){var K=(0,ae.Z)(b().mark(function n(m,v,t){var f,M;return b().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,va.R0)(m.meta.source);case 2:return f=c.sent,M=window.apiWs.tx.xAssets.transferNative(v,t,Re.bridge.destId),c.next=6,(0,ha.u)(M,f,m);case 6:return c.abrupt("return",c.sent);case 7:case"end":return c.stop()}},n)}));return function(m,v,t){return K.apply(this,arguments)}}(),ga=function(){var K=(0,ae.Z)(b().mark(function n(){var m;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.apiWs.query.xAssets.nativeFee();case 3:if(m=t.sent,!m.isEmpty){t.next=7;break}return h.default.error({message:"Query nativeFee Error",description:"result is empty"}),t.abrupt("return");case 7:return t.abrupt("return",{fee:m.toHuman()});case 10:return t.prev=10,t.t0=t.catch(0),h.default.error({message:"Query nativeFee Error",description:JSON.stringify(t.t0)}),t.abrupt("return");case 14:case"end":return t.stop()}},n,null,[[0,10]])}));return function(){return K.apply(this,arguments)}}(),_a=function(n){return/^0x[a-fA-F0-9]{40}$/.test(n)},Za=function(n){return/^(bc1|[13])[a-zA-HJ-NP-Z0-9]{25,39}$/.test(n)},Oa=function(n){try{return encodeAddress(isHex(n)?hexToU8a(n):decodeAddress(n)),!0}catch(m){return!1}},La=a(71194),pa=a(50146),Wa=a(17462),ja=a(76772),Ha=a(20228),we=a(11382),Ca=a(76824),A=a.n(Ca),xa=Y.Z.Title,ba=function(n){var m=n.onCancel,v=n.onConfirm,t=n.amount,f=(0,i.useState)(),M=(0,r.Z)(f,2),u=M[0],c=M[1],O=(0,i.useState)(),S=(0,r.Z)(O,2),R=S[0],w=S[1],te=(0,i.useState)(!1),F=(0,r.Z)(te,2),X=F[0],k=F[1];return(0,i.useEffect)(function(){ga().then(function(j){c(j)})},[t]),(0,i.useEffect)(function(){if(u){var j=((0,U.HM)(t,18)-BigInt(u.fee.replaceAll(",",""))).toString();w(j),k(!!j&&BigInt(j)<=0)}},[u]),(0,e.jsxs)(pa.Z,{title:(0,e.jsx)(xa,{level:3,style:{marginBottom:0},children:"Confirm Transaction"}),closable:!1,className:A().modal,centered:!0,visible:!0,width:400,footer:(0,e.jsxs)("div",{className:A().buttons,children:[(0,e.jsx)(_.Z,{type:"text",shape:"round",size:"large",className:A().button,onClick:m,children:"Decline"}),(0,e.jsx)(_.Z,{type:"primary",shape:"round",size:"large",className:A().button,onClick:v,disabled:!u||X,children:"Confirm"})]}),children:[!u&&(0,e.jsx)("div",{className:A().spinContainer,children:(0,e.jsx)(we.Z,{})}),u&&(0,e.jsxs)(e.Fragment,{children:[X&&(0,e.jsx)(ja.Z,{description:"Insufficient Amount",type:"error",showIcon:!0,banner:!0,className:A().alertContainer}),(0,e.jsxs)("div",{className:A().fieldsContainer,children:[(0,e.jsxs)("div",{className:A().field,children:[(0,e.jsx)("div",{className:A().label,children:"Transfer Amount:"}),(0,e.jsx)("div",{className:A().value,children:(0,e.jsx)(ce.Z,{value:(0,U.HM)(t,18).toString(),style:{fontSize:"0.8rem",fontWeight:900}})})]}),(0,e.jsxs)("div",{className:A().field,children:[(0,e.jsx)("div",{className:A().label,children:"Fee:"}),(0,e.jsx)("div",{className:A().value,children:(0,e.jsx)(ce.Z,{value:u.fee.replaceAll(",",""),style:{fontSize:"0.8rem",fontWeight:900}})})]}),(0,e.jsxs)("div",{className:A().field,children:[(0,e.jsx)("div",{className:A().label,children:"Will Receive:"}),(0,e.jsx)("div",{className:A().value,children:(0,e.jsx)(ce.Z,{value:R!=null?R:"",style:{fontSize:"0.8rem",fontWeight:900,color:X?"red":""}})})]})]})]})]})},Ma=ba,Da=function(n){var m=n.setLoading,v=n.setStep,t=n.setETHHash,f=n.setParamiHash,M=(0,o.tT)("apiWs"),u=(0,o.tT)("web3"),c=u.Account,O=u.ChainName,S=u.Provider,R=u.Signer,w=(0,o.tT)("currentUser"),te=w.dashboard,F=(0,o.tT)("dashboard.bridgeEvents"),X=F.SubBridgeEvents,k=F.UnsubBridgeEvents,j=F.ProposalEvent,he=(0,o.tT)("dashboard.balance"),N=he.balance,J=(0,o.tT)("contracts"),ne=J.Ad3Contract,Q=J.BridgeContract,V=(0,i.useState)(""),ie=(0,r.Z)(V,2),C=ie[0],ue=ie[1],fe=(0,i.useState)(BigInt(0)),je=(0,r.Z)(fe,2),ge=je[0],Ie=je[1],ke=(0,i.useState)(""),Ce=(0,r.Z)(ke,2),re=Ce[0],Ze=Ce[1],ze=(0,i.useState)(),xe=(0,r.Z)(ze,2),G=xe[0],be=xe[1],$e=(0,i.useState)(!1),Me=(0,r.Z)($e,2),Oe=Me[0],De=Me[1],Ye=(0,i.useState)(!1),Ee=(0,r.Z)(Ye,2),me=Ee[0],_e=Ee[1],q=(0,o.YB)(),Le=function(){var g=(0,ae.Z)(b().mark(function I(){var le;return b().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(!S||!R)){d.next=2;break}return d.abrupt("return");case 2:return d.prev=2,d.next=5,ne==null?void 0:ne.balanceOf(c);case 5:le=d.sent,ue(se.O$.from(le).toString()),d.next=12;break;case 9:d.prev=9,d.t0=d.catch(2),h.default.error({message:d.t0.message||d.t0,duration:null});case 12:case"end":return d.stop()}},I,null,[[2,9]])}));return function(){return g.apply(this,arguments)}}(),Xe=function(){var g=(0,ae.Z)(b().mark(function I(){return b().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!(!S||!R)){z.next=2;break}return z.abrupt("return");case 2:if(_a(G)){z.next=6;break}return ma.default.error("Please input ETH Address!"),m(!1),z.abrupt("return");case 6:_e(!0);case 7:case"end":return z.stop()}},I)}));return function(){return g.apply(this,arguments)}}(),We=function(){var g=(0,ae.Z)(b().mark(function I(){var le;return b().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,m(!0),d.next=4,fa(JSON.parse(te.accountMeta),(0,U.HM)(re,18).toString(),G);case 4:le=d.sent,Ie(BigInt(le.chainBridge.FungibleTransfer[0][1])),f(le.blockHash),v(2),Q?X(Q):h.default.error({message:"No bridge contract"}),d.next=16;break;case 12:d.prev=12,d.t0=d.catch(0),h.default.error({message:d.t0.message||d.t0,duration:null}),m(!1);case 16:case"end":return d.stop()}},I,null,[[0,12]])}));return function(){return g.apply(this,arguments)}}();return(0,i.useEffect)(function(){(j==null?void 0:j.depositNonce)===ge&&(j==null?void 0:j.status)==="Executed"&&(v(3),Ie(BigInt(0)),h.default.success({message:"Withdraw Success"}),j.txHash&&t(j.txHash),Q&&k(Q))},[Q,j,k,ge]),(0,i.useEffect)(function(){!c||!ne||M&&Le()},[R,S,ne,c,M]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:s().fromLabel,children:q.formatMessage({id:"dashboard.bridge.from",defaultMessage:"From"})}),(0,e.jsxs)("div",{className:s().formSection,children:[(0,e.jsxs)("div",{className:s().chainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(x.Z,{src:"/images/logo-core-colored-fit-into-round.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:"Parami chain"})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[q.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance Available"}),":"]}),(0,e.jsx)(H.Z,{placement:"top",title:(0,U.mI)(N==null?void 0:N.free,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(ce.Z,{value:N==null?void 0:N.free})})})]})]}),(0,e.jsxs)("div",{className:s().tokenAndAmountDetails,children:[(0,e.jsxs)("div",{className:s().tokenDetails,onClick:function(){De(!0)},children:[(0,e.jsx)(x.Z,{src:"/images/logo-round-core.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().tokenDetailsTokenName,children:"AD3"}),(0,e.jsx)(ye.Z,{className:s().tokenDetailsArrow})]}),(0,e.jsxs)("div",{className:s().amountDetails,children:[(0,e.jsx)(de.Z,{placeholder:"0.00",type:"number",size:"large",value:re,onChange:function(I){Ze(I.target.value)}}),(0,e.jsx)(_.Z,{className:s().amountDetailsMaxButton,type:"link",size:"small",onClick:function(){Ze((0,U.mI)(N==null?void 0:N.free,18))},children:q.formatMessage({id:"dashboard.bridge.max",defaultMessage:"MAX"})})]})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(Pe.Z,{})}),(0,e.jsx)("div",{className:s().toLabel,children:q.formatMessage({id:"dashboard.bridge.to",defaultMessage:"To"})}),(0,e.jsxs)("div",{className:s().toChainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(x.Z,{src:"/images/crypto/ethereum-eth-logo.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:O})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[q.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(H.Z,{placement:"top",title:(0,U.mI)(C,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(ce.Z,{value:C})})})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(Ue.Z,{})}),(0,e.jsx)("div",{className:s().destinationLabel,children:q.formatMessage({id:"dashboard.bridge.destinationAddress",defaultMessage:"Destination Address"})}),(0,e.jsxs)("div",{className:s().destinationDetails,children:[(0,e.jsx)(de.Z,{placeholder:"0x......",type:"text",size:"large",value:G,onChange:function(I){be(I.target.value)}}),(0,e.jsx)(_.Z,{className:s().destinationMyAddressButton,type:"default",size:"small",onClick:function(){be(c)},children:q.formatMessage({id:"dashboard.bridge.me",defaultMessage:"ME"})})]}),(0,e.jsx)(_.Z,{block:!0,type:"primary",size:"large",shape:"round",className:s().transferButton,onClick:function(){Xe()},disabled:!re||!G||(0,U.HM)(re,18)<=BigInt(0)||(0,U.HM)(re,18)>BigInt(N==null?void 0:N.free),children:q.formatMessage({id:"dashboard.bridge.transfer",defaultMessage:"Transfer"})}),(0,e.jsx)(qe,{selectModal:Oe,setSelectModal:De,chain:"parami"}),me&&(0,e.jsx)(Ma,{onCancel:function(){return _e(!1)},onConfirm:function(){_e(!1),We()},amount:re})]})},Ea=Da,Na=a(47515),Ta=a(38655),Ua=a(35556),Fe=a(97880),ea=a(51625),aa=a(7085),Aa=a(72643),oe=Fe.Z.Step,Sa=function(n){var m=n.tab,v=n.step,t=n.ethHash,f=n.paramiHash,M=n.onClose,u=(0,o.tT)("web3"),c=u.ChainId,O=(0,i.useCallback)(function(){window.open("".concat(Aa.E[c!=null?c:1]).concat(t),"_blank")},[c,t]);return(0,e.jsx)(Ge.Z,{visable:!0,content:(0,e.jsxs)("div",{className:s().processContainer,children:[m==="deposit"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Fe.Z,{progressDot:!0,size:"small",current:v,children:[(0,e.jsx)(oe,{title:"Enter information"}),(0,e.jsx)(oe,{title:"Ethereum chain"}),(0,e.jsx)(oe,{title:"Parami chain"}),(0,e.jsx)(oe,{title:"Tokens transferred"})]}),(0,e.jsxs)("div",{className:s().title,children:[v===1&&(0,e.jsx)("span",{children:"Ethereum chain"}),v===2&&(0,e.jsx)("span",{children:"Parami chain"}),v===3&&(0,e.jsx)("span",{children:"Tokens transferred"})]}),(0,e.jsx)("div",{className:s().cardContainer,children:t&&f?(0,e.jsxs)("div",{className:s().listHash,children:[(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"Parami chain"}),(0,e.jsx)("span",{className:s().value,onClick:function(){window.open("".concat(ea.Z.explorer.block,"/").concat(f),"_blank")},children:(0,e.jsx)(H.Z,{placement:"topLeft",title:f,children:f})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"ETH chain"}),(0,e.jsx)("span",{className:s().value,onClick:O,children:(0,e.jsx)(H.Z,{placement:"topLeft",title:t,children:t})})]})]}):(0,e.jsx)(we.Z,{indicator:(0,e.jsx)(aa.Z,{style:{fontSize:24},spin:!0}),tip:"Transfering..."})})]}),m==="withdraw"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Fe.Z,{progressDot:!0,size:"small",current:v,children:[(0,e.jsx)(oe,{title:"Enter information"}),(0,e.jsx)(oe,{title:"Parami chain"}),(0,e.jsx)(oe,{title:"Ethereum chain"}),(0,e.jsx)(oe,{title:"Tokens transferred"})]}),(0,e.jsxs)("div",{className:s().title,children:[v===1&&(0,e.jsx)("span",{children:"Parami chain"}),v===2&&(0,e.jsx)("span",{children:"Ethereum chain"}),v===3&&(0,e.jsx)("span",{children:"Tokens transferred"})]}),(0,e.jsx)("div",{className:s().cardContainer,children:t&&f?(0,e.jsxs)("div",{className:s().listHash,children:[(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"Parami chain"}),(0,e.jsx)("span",{className:s().value,onClick:function(){window.open("".concat(ea.Z.explorer.block,"/").concat(f),"_blank")},children:(0,e.jsx)(H.Z,{placement:"topLeft",title:f,children:f})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"ETH chain"}),(0,e.jsx)("span",{className:s().value,onClick:function(){window.open("https://etherscan.io/tx/".concat(t),"_blank")},children:(0,e.jsx)(H.Z,{placement:"topLeft",title:t,children:t})})]})]}):(0,e.jsx)(we.Z,{indicator:(0,e.jsx)(aa.Z,{style:{fontSize:24},spin:!0}),tip:"Transfering..."})})]})]}),footer:!1,close:t&&f?M:void 0})},Ba=Sa,ya=function(){var n=(0,o.tT)("web3"),m=n.Account,v=n.connect,t=n.ChainId,f=(0,i.useState)("deposit"),M=(0,r.Z)(f,2),u=M[0],c=M[1],O=(0,i.useState)(!1),S=(0,r.Z)(O,2),R=S[0],w=S[1],te=(0,i.useState)(1),F=(0,r.Z)(te,2),X=F[0],k=F[1],j=(0,i.useState)(),he=(0,r.Z)(j,2),N=he[0],J=he[1],ne=(0,i.useState)(),Q=(0,r.Z)(ne,2),V=Q[0],ie=Q[1],C=(0,o.YB)(),ue=Y.Z.Title;return(0,i.useEffect)(function(){v()},[]),(0,i.useEffect)(function(){t&&t!==3&&h.default.warning({message:"Parami Bridge currently only supports Ropsten Testnet",description:"Please switch network in your wallet"})},[t]),(0,e.jsxs)(e.Fragment,{children:[m?(0,e.jsx)("div",{className:P().mainBgContainer,children:(0,e.jsxs)("div",{className:P().contentContainer,children:[(0,e.jsx)(Na.Z,{}),(0,e.jsxs)("div",{className:s().bridgeContainer,children:[(0,e.jsxs)("div",{className:s().leftContainer,children:[(0,e.jsxs)("div",{className:s().innerWrapper,children:[(0,e.jsx)(ue,{level:2,children:C.formatMessage({id:"dashboard.bridge.title",defaultMessage:"Parami Bridge"})}),(0,e.jsx)("span",{className:s().description,children:C.formatMessage({id:"dashboard.bridge.description",defaultMessage:"The safe, fast and most secure way to bring cross-chain assets to Parami chain."})}),(0,e.jsxs)("div",{className:s().points,children:[(0,e.jsx)("a",{children:C.formatMessage({id:"dashboard.bridge.howItWorks",defaultMessage:"How it works?"})}),(0,e.jsx)("a",{children:C.formatMessage({id:"dashboard.bridge.faq",defaultMessage:"FAQ"})}),(0,e.jsx)("a",{children:C.formatMessage({id:"dashboard.bridge.userGuide",defaultMessage:"User guide"})})]})]}),(0,e.jsx)("div",{className:s().bottomSection,children:(0,e.jsx)(x.Z,{src:"/images/background/chainbridge.svg",preview:!1,className:s().background})})]}),(0,e.jsxs)("div",{className:s().rightContainer,children:[(0,e.jsxs)("div",{className:s().bridgeTabs,children:[(0,e.jsx)("div",{className:W()(s().bridgeTabsItem,u==="deposit"?s().active:""),onClick:function(){return c("deposit")},children:C.formatMessage({id:"dashboard.bridge.deposit",defaultMessage:"Deposit"})}),(0,e.jsx)("div",{className:W()(s().bridgeTabsItem,u==="withdraw"?s().active:""),onClick:function(){return c("withdraw")},children:C.formatMessage({id:"dashboard.bridge.withdraw",defaultMessage:"Withdraw"})})]}),(0,e.jsxs)("div",{className:s().bridgeBody,children:[u==="deposit"&&(0,e.jsx)(ua,{setLoading:w,setStep:k,setETHHash:J,setParamiHash:ie}),u==="withdraw"&&(0,e.jsx)(Ea,{setLoading:w,setStep:k,setETHHash:J,setParamiHash:ie})]})]})]})]})}):(0,e.jsx)(Ta.Z,{}),R&&(0,e.jsx)(Ba,{tab:u,step:X,ethHash:N,paramiHash:V,onClose:function(){w(!1),k(1),J(""),ie("")}})]})},Pa=ya}}]);

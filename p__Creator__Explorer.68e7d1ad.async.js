(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[8172],{2752:function(L){L.exports={claimInfoContainer:"claimInfoContainer___2QBl-",scoreChange:"scoreChange___21g3Z"}},8556:function(L){L.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(L){L.exports={tag:"tag___sah2p"}},90802:function(L){L.exports={explorerContainer:"explorerContainer___2tn58",dashboard:"dashboard___1yzjn",header:"header___7HFGw",buttons:"buttons____mn0V",button:"button___2bNYM",confirm:"confirm___14R24",topIcon:"topIcon___lcz8T",title:"title___3OHiQ",field:"field___1rYhg",value:"value___VpweH",notUser:"notUser___1H3wh",desc:"desc___3002O",buttonImport:"buttonImport___1UVlX",notSupport:"notSupport___3AII_",icon:"icon___2lOpA",text:"text___2HCAz",loading:"loading___38OsL",loadingTip:"loadingTip___2K2wM",avatar:"avatar___1Itlz",rotate:"rotate___3cdkL",image_blur:"image_blur___1JtdU"}},8070:function(L,z,e){"use strict";e.r(z),e.d(z,{default:function(){return ha}});var we=e(48736),Y=e(27049),G=e(57663),P=e(71577),ne=e(12968),b=e(62462),h=e(3182),pe=e(74379),X=e(38648),d=e(2824),ee=e(94043),p=e.n(ee),l=e(67294),ze=e(34792),He=e(48086),ca=e(58024),ge=e(39144),Me=e(22385),$e=e(31097),Fe=e(55909),ye=e.n(Fe),g=e(37550),m=e.n(g),E=e(43581),_=e(28991),Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 464H528V448h312v128zm0 264H184V184h656v200H496c-17.7 0-32 14.3-32 32v192c0 17.7 14.3 32 32 32h344v200zM580 512a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"wallet",theme:"outlined"},ae=Ve,Q=e(27029),le=function(f,A){return l.createElement(Q.Z,(0,_.Z)((0,_.Z)({},f),{},{ref:A,icon:ae}))};le.displayName="WalletOutlined";var Je=l.forwardRef(le),Ye=e(57119),Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},Ee=Ge,C=function(f,A){return l.createElement(Q.Z,(0,_.Z)((0,_.Z)({},f),{},{ref:A,icon:Ee}))};C.displayName="ShareAltOutlined";var Ce=l.forwardRef(C),Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M911.5 700.7a8 8 0 00-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 00-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"}}]},name:"money-collect",theme:"outlined"},Oe=Xe,Se=function(f,A){return l.createElement(Q.Z,(0,_.Z)((0,_.Z)({},f),{},{ref:A,icon:Oe}))};Se.displayName="MoneyCollectOutlined";var De=l.forwardRef(Se),oe=e(96534),Pe=e(20640),ie=e.n(Pe),Qe=e(57641),qe=e(11561),I=e(79762),H=e(51625),je=e(59749),de=e(69764),a=e(85893),ea=function(f){var A,j=f.ad,te=f.nftId,Ze=f.referrer,W=f.asset,_e=f.avatar,xe=f.did,c=f.adData,T=f.balance,Te=f.notAccess,Be=f.adImageOnLoad,Le=Be===void 0?function(){}:Be,be=(0,E.tT)("currentUser"),y=be.wallet,aa=(0,l.useState)(!1),ce=(0,d.Z)(aa,2),We=ce[0],re=ce[1],ta=(0,l.useState)(!1),ue=(0,d.Z)(ta,2),Z=ue[0],ve=ue[1],ra=(0,l.useState)(!1),me=(0,d.Z)(ra,2),q=me[0],Ue=me[1],fe=(0,E.tT)("apiWs"),F=(0,E.YB)(),V=y!=null&&y.did?"".concat(window.location.origin,"/").concat(xe,"/").concat(te,"?referrer=").concat(y==null?void 0:y.did):"".concat(window.location.origin,"/").concat(xe,"/").concat(te),sa=(0,oe.st)(c==null?void 0:c.creator).substring(8),se=T&&c.payoutMax&&BigInt(T)<BigInt((0,je.At)(c.payoutMax));(0,l.useEffect)(function(){se&&!Te&&!Z&&Ue(!0)},[se,Te,Z]);var Ne=function(){var u=(0,h.Z)(p().mark(function B(J,v,Re){var Ke;return p().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,J.query.ad.payout(v,Re);case 2:Ke=U.sent,Ke.isEmpty?ve(!1):ve(!0);case 4:case"end":return U.stop()}},B)}));return function(J,v,Re){return u.apply(this,arguments)}}();(0,l.useEffect)(function(){fe&&c!==null&&c!==void 0&&c.id&&y!==null&&y!==void 0&&y.did&&Ne(fe,c==null?void 0:c.id,y==null?void 0:y.did)},[fe,c,y]);var he=function(B){return(0,a.jsx)(P.Z,{block:!0,type:"primary",shape:"round",size:"large",className:m().actionBtn,icon:(0,a.jsx)(Je,{}),onClick:function(){E.m8.push("/wallet")},children:B})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:m().advertisementContainer,children:[(0,a.jsx)("div",{className:m().container,children:(0,a.jsx)("div",{className:m().topBar,children:(0,a.jsxs)("div",{className:m().sponsored,children:[(0,a.jsx)(b.Z,{src:_e||"/images/logo-round-core.svg",className:m().avatar,preview:!1,id:"avatar",fallback:"/images/logo-round-core.svg"}),(0,a.jsx)("span",{children:F.formatMessage({id:"creator.explorer.advertisement.sponsoredBy"},{did:"".concat(sa)})})]})})}),(0,a.jsx)(ge.Z,{className:"".concat(ye().card," ").concat(m().adCard),style:{maxWidth:"650px",border:"none",marginBottom:"30px"},bodyStyle:{padding:0,width:"100%"},children:(0,a.jsxs)("div",{className:m().advertisement,children:[(0,a.jsx)("div",{className:m().adMedia,children:(0,a.jsx)(b.Z,{src:j==null?void 0:j.media,placeholder:!0,preview:!1,className:m().adMediaImg,onLoad:Le})}),(j==null?void 0:j.instructions)&&(j==null||(A=j.instructions)===null||A===void 0?void 0:A.length)>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:m().instructions,children:[(0,a.jsxs)("div",{className:m().instructionTitle,children:["Follow the instructions to improve your DID reputation score",(0,a.jsx)($e.Z,{placement:"top",title:"Your DID reputation score is a number attached to your DID that can be increased by performing tasks. The higher your DID reputation score, the higher the reward.",children:(0,a.jsx)(Ye.Z,{style:{marginLeft:"5px"}})})]}),j.instructions.map(function(u,B){return(0,a.jsxs)("div",{className:"".concat(m().instruction," ").concat(u.link?m().withLink:""),onClick:function(){!!u.link&&window.open("".concat(H.Z.main.weeklySite,"?redirect=").concat(u.link,"&nftId=").concat(te,"&did=").concat(y==null?void 0:y.did,"&ad=").concat(c==null?void 0:c.id,"&referrer=").concat(Ze,"&tag=").concat(u.tag,"&score=").concat(u.score))},children:[(0,a.jsx)("span",{className:m().instructionText,children:u.text}),!!u.tag&&(0,a.jsx)(qe.Z,{tag:u.tag}),!!u.score&&(0,a.jsx)(I.Z,{score:parseInt(u.score,10)})]},B)})]})})]})}),(0,a.jsxs)("div",{className:m().buttonContainer,children:[Z&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{block:!0,type:"primary",shape:"round",size:"large",className:m().actionBtn,icon:(0,a.jsx)(Ce,{}),onClick:(0,h.Z)(p().mark(function u(){var B;return p().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(B={title:"Para Metaverse Identity",text:F.formatMessage({id:"creator.explorer.shareMessage"}),url:V},!(navigator.canShare&&navigator.canShare(B))){v.next=12;break}return v.prev=2,v.next=5,navigator.share(B);case 5:v.next=10;break;case 7:v.prev=7,v.t0=v.catch(2),console.log(v.t0);case 10:v.next=14;break;case 12:ie()(V+" ".concat(F.formatMessage({id:"creator.explorer.shareMessage"},{token:"$".concat(W==null?void 0:W.symbol)}))),He.default.success(F.formatMessage({id:"common.copied"}));case 14:case"end":return v.stop()}},u,null,[[2,7]])})),children:F.formatMessage({id:"creator.explorer.advertisement.share"},{token:"$".concat(W==null?void 0:W.symbol)})}),he("Check your reward and score")]}),!Z&&(0,a.jsxs)(a.Fragment,{children:[se&&he("Check your wallet and score"),!se&&(0,a.jsx)(P.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,a.jsx)(De,{}),className:m().claimBtn,onClick:function(){return re(!0)},children:"Claim your $".concat(W==null?void 0:W.symbol)})]})]}),We&&(0,a.jsx)(Qe.Z,{adId:c==null?void 0:c.id,nftId:te,referrer:Ze,onClose:function(){return re(!1)},onClaim:function(){re(!1),ve(!0)}}),q&&(0,a.jsx)(de.Z,{visable:!0,content:(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:"Oops, all rewards have been claimed for this Ad. However the next Ad is coming soon, come back later or follow our twitter to get informed."})}),footer:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(P.Z,{block:!0,type:"primary",shape:"round",size:"large",onClick:function(){return Ue(!1)},children:"OK"})})})]})})},x=ea,R=e(90802),o=e.n(R),K=e(51615),S=e(28943),$=e(61715),M=e(13580),ua=e(33044),i=e(29791),Ie=e(32689),fa=function(){var f,A,j=(0,E.tT)("apiWs"),te=(0,E.tT)("currentUser"),Ze=te.wallet,W=(0,E.tT)("bodyChange"),_e=W.bodyHeight,xe=(0,l.useState)(!0),c=(0,d.Z)(xe,2),T=c[0],Te=c[1],Be=(0,l.useState)(""),Le=(0,d.Z)(Be,2),be=Le[0],y=Le[1],aa=(0,l.useState)(!0),ce=(0,d.Z)(aa,2),We=ce[0],re=ce[1],ta=(0,l.useState)(),ue=(0,d.Z)(ta,2),Z=ue[0],ve=ue[1],ra=(0,l.useState)(),me=(0,d.Z)(ra,2),q=me[0],Ue=me[1],fe=(0,l.useState)(),F=(0,d.Z)(fe,2),V=F[0],sa=F[1],se=(0,l.useState)(!1),Ne=(0,d.Z)(se,2),he=Ne[0],u=Ne[1],B=(0,l.useState)(),J=(0,d.Z)(B,2),v=J[0],Re=J[1],Ke=(0,l.useState)(),na=(0,d.Z)(Ke,2),U=na[0],pa=na[1],ga=(0,l.useState)(null),va=(0,d.Z)(ga,2),Ma=va[0],ya=va[1],Ea=(0,l.useState)(""),ma=(0,d.Z)(Ea,2),Ca=ma[0],Oa=ma[1],k=(0,E.YB)(),Sa=(0,E.md)(),Da=(f=document.getElementById("avatar"))===null||f===void 0?void 0:f.offsetTop,Pa=(A=document.getElementById("avatar"))===null||A===void 0?void 0:A.offsetLeft,ja=document.body.clientWidth,O=(0,K.UO)(),Ia=E.m8.location.query,Aa=Ia,Za=Aa.referrer,ke=O!=null&&O.kol?"did"+(O==null?void 0:O.kol):(0,oe.st)(Ze.did),la=(0,oe.Zc)(ke),oa=function(n){X.default.error({message:n.message,duration:null})},_a=function(){var s=(0,h.Z)(p().mark(function n(){var r;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,$.qX)(O.nftID);case 2:if(r=t.sent,r){t.next=6;break}return E.m8.replace("".concat(window.location.pathname,"/dao")),t.abrupt("return");case 6:Re(r);case 7:case"end":return t.stop()}},n)}));return function(){return s.apply(this,arguments)}}(),xa=function(){var s=(0,h.Z)(p().mark(function n(r){var D,t,ia,w,da;return p().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(!((r==null||(D=r.metadata)===null||D===void 0?void 0:D.indexOf("ipfs://"))<0)){N.next=2;break}return N.abrupt("return");case 2:return ia=r==null||(t=r.metadata)===null||t===void 0?void 0:t.substring(7),N.next=5,fetch(H.Z.ipfs.endpoint+ia);case 5:return w=N.sent,N.next=8,w.json();case 8:if(da=N.sent,da){N.next=11;break}return N.abrupt("return");case 11:ya(da);case 12:case"end":return N.stop()}},n)}));return function(r){return s.apply(this,arguments)}}();(0,l.useEffect)(function(){if(v)try{var s=v.ad;if(!(s!=null&&s.metadata))return;pa(s),xa(s),(0,M.L7)(v.budgetPot,v.fractionId).then(function(n){var r;Oa((0,je.At)((r=n==null?void 0:n.balance)!==null&&r!==void 0?r:""))}).catch(function(n){console.error("GetBalanceOfBudgetPot error:",n)})}catch(n){oa(n)}},[v]);var Ta=function(){var s=(0,h.Z)(p().mark(function n(){var r;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,S.JI)(la);case 3:if(r=t.sent,!r.isEmpty){t.next=7;break}return re(!1),t.abrupt("return");case 7:window.location.href="".concat(window.location.origin,"/").concat(ke,"/").concat(r),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),X.default.error({message:t.t0.message,duration:null}),t.abrupt("return");case 14:case"end":return t.stop()}},n,null,[[0,10]])}));return function(){return s.apply(this,arguments)}}(),Ba=function(){var s=(0,h.Z)(p().mark(function n(){var r;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ua.q5)(la);case 2:if(r=t.sent,r){t.next=7;break}return X.default.error({message:k.formatMessage({id:"error.identity.notFound"}),duration:null}),E.m8.goBack(),t.abrupt("return");case 7:ve(r);case 9:case"end":return t.stop()}},n)}));return function(){return s.apply(this,arguments)}}();(0,l.useEffect)(function(){var s;document.title="".concat((s=V==null?void 0:V.name)!==null&&s!==void 0?s:ke," - Para Metaverse Identity")},[V]),(0,l.useEffect)(function(){if(Z&&(Z==null?void 0:Z.avatar.indexOf("ipfs://"))>-1){var s,n=Z==null||(s=Z.avatar)===null||s===void 0?void 0:s.substring(7);(0,Ie.nH)(H.Z.ipfs.endpoint+n).then(function(r){var D=r.response,t=r.data;(D==null?void 0:D.status)===200&&y(window.URL.createObjectURL(t))})}},[Z]);var La=function(){var s=(0,h.Z)(p().mark(function n(){var r;return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,S.X6)(O==null?void 0:O.nftID);case 2:if(r=t.sent,r){t.next=7;break}return X.default.error({message:k.formatMessage({id:"error.nft.notFound"}),duration:null}),E.m8.goBack(),t.abrupt("return");case 7:if((r==null?void 0:r.owner)===la){t.next=11;break}return X.default.error({message:k.formatMessage({id:"error.nft.notFound"}),duration:null}),E.m8.goBack(),t.abrupt("return");case 11:Ue(r);case 12:case"end":return t.stop()}},n)}));return function(){return s.apply(this,arguments)}}();return(0,l.useEffect)(function(){var s=function(){var n=(0,h.Z)(p().mark(function r(){var D,t;return p().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,M.Ay)(q==null?void 0:q.tokenAssetId);case 2:if(D=w.sent,!D.isEmpty){w.next=6;break}return re(!1),w.abrupt("return");case 6:t=D.toHuman(),sa(t);case 8:case"end":return w.stop()}},r)}));return function(){return n.apply(this,arguments)}}();if(q)try{s()}catch(n){oa(n)}},[q]),(0,l.useEffect)(function(){if(j&&!(O!=null&&O.nftID)&&Ta(),Sa.canWalletUser||(localStorage.setItem("parami:wallet:redirect",window.location.href),u(!0)),j)try{_a(),La(),Ba()}catch(s){oa(s)}},[j]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:o().explorerContainer,children:[We&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.Z,{src:be||"/images/default-avatar.svg",fallback:"/images/default-avatar.svg",className:o().avatar,style:{top:T?(_e-400)/2:Da,left:T?(ja-200)/2:Pa,width:T?200:30,height:T?200:30,animation:T?1:0,position:T?"fixed":"absolute",display:T||U&&Object.keys(U).length?"flex":"none"},preview:!1}),(0,a.jsx)("div",{className:o().loading,style:{opacity:T?1:0,zIndex:T?15:-1,height:_e,minHeight:"100vh"},children:(0,a.jsx)("span",{className:o().loadingTip,children:k.formatMessage({id:"creator.explorer.loading.tip",defaultMessage:"Let's find out more about the NFT.{br} Surprise awaits..."},{br:(0,a.jsx)("br",{})})})})]}),We&&U&&Object.keys(U).length>0&&(0,a.jsx)("div",{className:ye().pageContainer,style:{paddingTop:50,maxWidth:"100%"},children:(0,a.jsx)(x,{ad:Ma,nftId:O==null?void 0:O.nftID,referrer:Za,asset:V,avatar:be,did:ke,adData:U,balance:Ca,notAccess:he,adImageOnLoad:function(){Te(!1)}})}),(0,a.jsx)(i.Z,{})]}),(0,a.jsx)(de.Z,{visable:he,title:k.formatMessage({id:"error.identity.notUser"}),content:(0,a.jsx)("div",{className:o().notUser,children:(0,a.jsxs)("div",{className:o().buttons,children:[(0,a.jsxs)(P.Z,{block:!0,size:"large",type:"primary",shape:"round",className:o().button,onClick:function(){E.m8.push(H.Z.page.createPage)},children:[(0,a.jsx)("div",{className:o().title,children:k.formatMessage({id:"index.createAccount"})}),(0,a.jsx)("span",{className:o().desc,children:k.formatMessage({id:"index.createAccount.desc"})})]}),(0,a.jsx)(Y.Z,{children:k.formatMessage({id:"index.or"})}),(0,a.jsxs)(P.Z,{block:!0,ghost:!0,size:"large",type:"link",shape:"round",className:"".concat(o().button," ").concat(o().buttonImport),onClick:function(){E.m8.push(H.Z.page.recoverPage)},children:[(0,a.jsx)("div",{className:o().title,children:k.formatMessage({id:"index.importAccount"})}),(0,a.jsx)("span",{className:o().desc,children:k.formatMessage({id:"index.importAccount.desc"})})]})]})}),close:void 0,footer:!1})]})},ha=fa},57641:function(L,z,e){"use strict";var we=e(57663),Y=e(71577),G=e(20228),P=e(11382),ne=e(74379),b=e(38648),h=e(3182),pe=e(2824),X=e(94043),d=e.n(X),ee=e(67294),p=e(69764),l=e(2752),ze=e.n(l),He=e(32689),ca=e(46656),ge=e(61715),Me=e(43581),$e=e(69854),Fe=e(11561),ye=e(79762),g=e(85893),m=function(_){var Ve=_.onClose,ae=_.adId,Q=_.nftId,le=_.referrer,Je=le===void 0?null:le,Ye=_.onClaim,Ge=(0,ee.useState)(),Ee=(0,pe.Z)(Ge,2),C=Ee[0],Ce=Ee[1],Xe=(0,ee.useState)(!1),Oe=(0,pe.Z)(Xe,2),Se=Oe[0],De=Oe[1],oe=(0,ee.useState)(""),Pe=(0,pe.Z)(oe,2),ie=Pe[0],Qe=Pe[1],qe=(0,Me.tT)("currentUser"),I=qe.wallet,H=(0,Me.tT)("apiWs"),je=(0,Me.YB)(),de=function(){var x=(0,h.Z)(d().mark(function R(){var o;return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,$e.Wv)(ae);case 2:o=S.sent,Ce({scores:(o!=null?o:[]).map(function($){return{tag:$.name,score:-5}})});case 4:case"end":return S.stop()}},R)}));return function(){return x.apply(this,arguments)}}(),a=function(){var x=(0,h.Z)(d().mark(function R(){var o,K,S;return d().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,(0,He.Rh)(ae,Q,I==null?void 0:I.did);case 3:o=M.sent,K=o.response,S=o.data,K.ok?Ce(S):de(),M.next=13;break;case 9:M.prev=9,M.t0=M.catch(0),console.log(M.t0),de();case 13:case"end":return M.stop()}},R,null,[[0,9]])}));return function(){return x.apply(this,arguments)}}();(0,ee.useEffect)(function(){H&&a()},[H]);var ea=function(){var x=(0,h.Z)(d().mark(function R(o,K){var S,$,M;return d().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(I!=null&&I.keystore){i.next=3;break}return b.default.error({key:"accessDenied",message:je.formatMessage({id:"error.accessDenied"}),duration:null}),i.abrupt("return");case 3:if(i.prev=3,M=((S=C.scores)!==null&&S!==void 0?S:[]).map(function(Ie){return[Ie.tag,Ie.score]}),!(C&&C.signature)){i.next=11;break}return i.next=8,(0,ge.nm)(ae,Q,I==null?void 0:I.did,M,C.referer,C.signature,C.signer_account,ie,I.keystore,o,K);case 8:$=i.sent,i.next=14;break;case 11:return i.next=13,(0,ge.HS)(ae,Q,M,Je,ie,I.keystore,o,K);case 13:$=i.sent;case 14:if(!(o&&K)){i.next=16;break}return i.abrupt("return",$);case 16:b.default.success({message:"Claim Token Success"}),Ye(),i.next=24;break;case 20:i.prev=20,i.t0=i.catch(3),console.log(i.t0),b.default.error({message:"Claim Ad Token Error",description:"".concat(i.t0)});case 24:case"end":return i.stop()}},R,null,[[3,20]])}));return function(o,K){return x.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.Z,{visable:!0,title:"Claim your token",content:(0,g.jsx)("div",{className:ze().claimInfoContainer,children:(0,g.jsx)(P.Z,{spinning:!C,children:C&&C.scores&&C.scores.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("p",{children:"Claim now and have your score updated:"}),C.scores.map(function(x){return(0,g.jsxs)("div",{className:ze().scoreChange,children:[(0,g.jsx)(Fe.Z,{tag:x.tag}),(0,g.jsx)(ye.Z,{score:parseInt(x.score,10)})]})}),!C.signature&&(0,g.jsx)("p",{children:"Not happy with the reward? Follow the instructions before claiming."})]})})}),footer:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(Y.Z,{block:!0,type:"primary",shape:"round",size:"large",disabled:!C,onClick:function(){return De(!0)},children:"Claim"})}),close:function(){return Ve()}}),(0,g.jsx)(ca.Z,{visable:Se,setVisable:De,passphrase:ie,setPassphrase:Qe,func:ea})]})};z.Z=m},79762:function(L,z,e){"use strict";var we=e(67294),Y=e(8556),G=e.n(Y),P=e(85893);function ne(b){var h=b.score;return(0,P.jsxs)("span",{className:G().scoreContainer,children:[h>=0&&(0,P.jsxs)("span",{className:G().positive,children:["+",h]}),h<0&&(0,P.jsxs)("span",{className:G().negative,children:["-",Math.abs(h)]})]})}z.Z=ne},11561:function(L,z,e){"use strict";var we=e(67294),Y=e(28531),G=e.n(Y),P=e(85893);function ne(b){var h=b.tag;return(0,P.jsx)("span",{className:G().tag,children:h})}z.Z=ne}}]);

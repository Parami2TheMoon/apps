(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[8557],{57254:function(P,O,e){"use strict";e.d(O,{Z:function(){return W}});var B=e(28991),M=e(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},h=f,p=e(27029),D=function(E,c){return M.createElement(p.Z,(0,B.Z)((0,B.Z)({},E),{},{ref:c,icon:h}))};D.displayName="DownOutlined";var W=M.forwardRef(D)},55133:function(P){P.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},78849:function(P){P.exports={assetsContainer:"assetsContainer___Z5bUh",searchInput:"searchInput___1JXe0",noAssets:"noAssets___C74Sw",title:"title___3wIRn",field:"field___3uBaJ",icon:"icon___33dPd",name:"name___2mo8c",value:"value___1kvlK"}},31639:function(P){P.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},69764:function(P,O,e){"use strict";var B=e(71194),M=e(50146),f=e(57663),h=e(71577),p=e(402),D=e(3887),W=e(67294),u=e(55133),E=e.n(u),c=e(54549),i=e(85893),R=D.Z.Title,x=function(_){var F=_.visable,b=_.title,C=_.content,y=_.footer,A=_.close,l=_.bodyStyle,n=_.width;return(0,i.jsx)(M.Z,{title:b?(0,i.jsx)(R,{level:5,className:E().title,children:b}):null,closable:!!A,closeIcon:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,i.jsx)(c.Z,{onClick:A})})}),className:E().modal,centered:!0,visible:F,width:n!=null?n:650,footer:y,bodyStyle:l,children:C})};O.Z=x},46656:function(P,O,e){"use strict";var B=e(71194),M=e(50146),f=e(47673),h=e(32787),p=e(22385),D=e(31097),W=e(17462),u=e(76772),E=e(57663),c=e(71577),i=e(74379),R=e(38648),x=e(3182),N=e(2824),_=e(402),F=e(3887),b=e(94043),C=e.n(b),y=e(67294),A=e(43581),l=e(55133),n=e.n(l),te=e(3548),$=e(68855),w=e(47832),q=e(43955),Y=e(51625),t=e(85893),H=F.Z.Title,ee=function(o){var g=o.visable,J=o.setVisable,s=o.passphrase,d=o.setPassphrase,z=o.func,K=o.changePassphrase,G=o.directSubmit,v=G===void 0?!1:G,T=(0,A.tT)("apiWs"),ae=(0,A.tT)("currentUser"),a=ae.wallet,X=(0,A.tT)("balance"),V=X.balance,_e=(0,y.useState)(!1),I=(0,N.Z)(_e,2),le=I[0],Q=I[1],de=(0,y.useState)(),ie=(0,N.Z)(de,2),Z=ie[0],ue=ie[1],U=(0,A.YB)(),ce=function(L){d(L?L.target.value:"")},ne=function(){var S=(0,x.Z)(C().mark(function L(){var j,k,m,oe,re;return C().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Q(!0),a!=null&&a.passphrase&&d(a==null?void 0:a.passphrase),!((!s||s.length<6)&&!(a!=null&&a.passphrase))){r.next=5;break}return Q(!1),r.abrupt("return");case 5:if(j=(a==null?void 0:a.passphrase)||s,!(j&&a!==null&&a!==void 0&&a.keystore)){r.next=16;break}if(k=(0,w.Gh)(j,a.keystore),k){r.next=13;break}return R.default.error({key:"passphraseError",message:U.formatMessage({id:"error.passphrase.error"}),duration:null}),d(""),Q(!1),r.abrupt("return");case 13:m=new q.ZP({type:"sr25519"}),oe=m.addFromUri(k),re=oe.address,a!=null&&a.account&&a.account!==re&&(localStorage.clear(),sessionStorage.clear(),window.location.href=Y.Z.page.homePage);case 16:if(!z){r.next=25;break}return r.prev=17,r.next=20,z();case 20:r.next=25;break;case 22:r.prev=22,r.t0=r.catch(17),console.log("security modal submit func error fallback",r.t0);case 25:J(!1),Q(!1);case 27:case"end":return r.stop()}},L,null,[[17,22]])}));return function(){return S.apply(this,arguments)}}(),ve=function(){var S=(0,x.Z)(C().mark(function L(){var j;return C().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(!!T&&!!a.account)){m.next=11;break}return m.next=3,z(!0,a.account);case 3:if(j=m.sent,!j){m.next=8;break}ue(j.partialFee),m.next=11;break;case 8:if(K){m.next=11;break}return m.next=11,ne();case 11:case"end":return m.stop()}},L)}));return function(){return S.apply(this,arguments)}}();return(0,y.useEffect)(function(){!!T&&!!(a!=null&&a.account)&&g&&!v&&ve()},[T,a==null?void 0:a.account,g,v]),(0,y.useEffect)(function(){!!(a!=null&&a.passphrase)&&g&&!K&&d(a==null?void 0:a.passphrase)},[a==null?void 0:a.passphrase,s,g,K]),(0,y.useEffect)(function(){s&&g&&v&&ne()},[s,g,v]),(0,t.jsxs)(M.Z,{title:(0,t.jsx)(H,{level:3,children:U.formatMessage({id:"modal.security.title"})}),closable:!1,className:n().modal,centered:!0,visible:g,width:400,footer:(0,t.jsxs)("div",{className:n().buttons,children:[(0,t.jsx)(c.Z,{type:"text",shape:"round",size:"large",className:n().button,onClick:function(){J(!1),window.location.reload()},loading:le,children:U.formatMessage({id:"common.decline"})}),(0,t.jsx)(c.Z,{type:"primary",shape:"round",size:"large",className:n().button,onClick:function(){ne()},disabled:!s||s.length<6,loading:le,children:U.formatMessage({id:"common.confirm"})})]}),children:[(0,t.jsxs)("div",{className:n().confirmContainer,children:[!!Z&&!!(Z!=null&&Z.toString())>V.free&&(0,t.jsx)(u.Z,{description:U.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:n().alertContainer}),!!Z&&(0,t.jsxs)("div",{className:n().field,children:[(0,t.jsxs)("div",{className:n().labal,children:[U.formatMessage({id:"modal.security.gas"}),(0,t.jsxs)("span",{className:n().small,children:["(",U.formatMessage({id:"modal.security.estimated"}),")"]}),(0,t.jsx)(D.Z,{placement:"bottom",title:U.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,t.jsx)($.Z,{className:n().labalIcon})})]}),(0,t.jsx)("div",{className:n().value,children:(0,t.jsx)(te.Z,{value:Z,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(a!=null&&a.passphrase)||K)&&(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,t.jsxs)("div",{className:n().codeInput,children:[(0,t.jsxs)("div",{className:n().verifyForm,children:[(0,t.jsx)("span",{className:(s==null?void 0:s.slice(0))&&!(s!=null&&s.slice(1,5))&&n().highLight,children:s==null?void 0:s.slice(0,1).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(s==null?void 0:s.slice(1))&&!(s!=null&&s.slice(2,5))&&n().highLight,children:s==null?void 0:s.slice(1,2).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(s==null?void 0:s.slice(2,3))&&!(s!=null&&s.slice(3,5))&&n().highLight,children:s==null?void 0:s.slice(2,3).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(s==null?void 0:s.slice(3,4))&&!(s!=null&&s.slice(4,5))&&n().highLight,children:s==null?void 0:s.slice(3,4).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(s==null?void 0:s.slice(4,5))&&!(s!=null&&s.slice(5))&&n().highLight,children:s==null?void 0:s.slice(4,5).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{className:(s==null?void 0:s.slice(5))&&n().highLight,children:s==null?void 0:s.slice(5).replace(/[^]/,"\u2731")})]}),(0,t.jsx)(h.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:n().verifyInput,onChange:ce,value:s,disabled:le,maxLength:6,visibilityToggle:!1})]})})]})};O.Z=ee},86326:function(P,O,e){"use strict";var B=e(12968),M=e(62462),f=e(20228),h=e(11382),p=e(47673),D=e(32787),W=e(3182),u=e(2824),E=e(94043),c=e.n(E),i=e(67294),R=e(69764),x=e(43581),N=e(78849),_=e.n(N),F=e(57651),b=e(32689),C=e(96486),y=e.n(C),A=e(76570),l=e(85893),n=function($){var w=$.onClose,q=$.onSelectAsset,Y=$.assetFilter,t=(0,x.tT)("currentUser"),H=t.wallet,ee=(0,i.useState)(),se=(0,u.Z)(ee,2),o=se[0],g=se[1],J=(0,i.useState)(),s=(0,u.Z)(J,2),d=s[0],z=s[1],K=(0,i.useRef)(),G=(0,i.useCallback)((0,C.debounce)(function(){var v=(0,W.Z)(c().mark(function T(ae){var a,X,V;return c().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,b.nk)(H.account,ae);case 2:X=I.sent,V=(a=X.data.tokens)!==null&&a!==void 0?a:[],g(Y?V.filter(Y):V);case 5:case"end":return I.stop()}},T)}));return function(T){return v.apply(this,arguments)}}(),200),[H]);return(0,i.useEffect)(function(){g(void 0),G(d!=null?d:"")},[d,G]),(0,i.useEffect)(function(){K.current.focus({cursor:"start"})},[]),(0,l.jsx)(R.Z,{visable:!0,title:"Select Asset",content:(0,l.jsxs)("div",{className:_().assetsContainer,children:[(0,l.jsx)("div",{className:_().searchInput,children:(0,l.jsx)(D.Z,{value:d,onChange:function(T){return z(T.target.value)},ref:K,placeholder:"Search name or symbol",prefix:(0,l.jsx)(A.Z,{})})}),d&&d.length>0&&!o&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(h.Z,{tip:"Loading Assets"})}),d&&d.length>0&&o&&o.length===0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:_().noAssets,children:"Could not find any assets."})}),o&&o.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:_().title,children:[(0,l.jsx)("span",{children:"Token"}),(0,l.jsx)("span",{children:"Available Balance"})]}),o==null?void 0:o.map(function(v){return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:_().field,onClick:function(){return q(v)},children:[(0,l.jsxs)("span",{className:_().title,children:[(0,l.jsx)(M.Z,{className:_().icon,src:v.icon||"/images/logo-round-core.svg",fallback:"/images/logo-round-core.svg",preview:!1}),(0,l.jsx)("span",{className:_().name,children:v.symbol})]}),(0,l.jsx)("span",{className:_().value,children:(0,l.jsx)(F.Z,{value:v.balance,symbol:v.symbol})})]},v.id)})})]})]}),close:w,footer:null})};O.Z=n},3548:function(P,O,e){"use strict";var B=e(67294),M=e(31639),f=e.n(M),h=e(96534),p=e(85893),D=function(u){var E=u.value,c=u.style;return(0,p.jsxs)("div",{className:f().ad3,style:c,children:[E?(0,h.MP)(E):"--",(0,p.jsx)("span",{className:f().unit,children:"\xA0$AD3"})]})};O.Z=D},57651:function(P,O,e){"use strict";var B=e(67294),M=e(31639),f=e.n(M),h=e(96534),p=e(85893),D=function(u){var E=u.value,c=u.symbol,i=u.decimals,R=i===void 0?18:i;return(0,p.jsxs)("div",{className:f().ad3,children:[E?(0,h.MP)(E.replaceAll(",",""),R):"--",c&&(0,p.jsxs)("span",{className:f().unit,children:["\xA0$",c]})]})};O.Z=D}}]);

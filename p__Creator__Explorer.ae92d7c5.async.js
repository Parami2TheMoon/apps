(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[8172],{56205:function(S,A,e){"use strict";e.d(A,{Z:function(){return _}});var O=e(28991),h=e(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M911.5 700.7a8 8 0 00-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 00-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8-.1-4.3-3.7-7.9-8.1-7.9z"}}]},name:"money-collect",theme:"outlined"},P=y,I=e(27029),E=function(p,o){return h.createElement(I.Z,(0,O.Z)((0,O.Z)({},p),{},{ref:o,icon:P}))};E.displayName="MoneyCollectOutlined";var _=h.forwardRef(E)},33182:function(S,A,e){"use strict";e.d(A,{Z:function(){return _}});var O=e(28991),h=e(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},P=y,I=e(27029),E=function(p,o){return h.createElement(I.Z,(0,O.Z)((0,O.Z)({},p),{},{ref:o,icon:P}))};E.displayName="ShareAltOutlined";var _=h.forwardRef(E)},57240:function(S,A,e){"use strict";e.d(A,{Z:function(){return _}});var O=e(28991),h=e(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 464H528V448h312v128zm0 264H184V184h656v200H496c-17.7 0-32 14.3-32 32v192c0 17.7 14.3 32 32 32h344v200zM580 512a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"wallet",theme:"outlined"},P=y,I=e(27029),E=function(p,o){return h.createElement(I.Z,(0,O.Z)((0,O.Z)({},p),{},{ref:o,icon:P}))};E.displayName="WalletOutlined";var _=h.forwardRef(E)},90802:function(S){S.exports={explorerContainer:"explorerContainer___2tn58",dashboard:"dashboard___1yzjn",header:"header___7HFGw",buttons:"buttons____mn0V",button:"button___2bNYM",confirm:"confirm___14R24",topIcon:"topIcon___lcz8T",title:"title___3OHiQ",field:"field___1rYhg",value:"value___VpweH",notUser:"notUser___1H3wh",desc:"desc___3002O",buttonImport:"buttonImport___1UVlX",notSupport:"notSupport___3AII_",icon:"icon___2lOpA",text:"text___2HCAz",loading:"loading___38OsL",loadingTip:"loadingTip___2K2wM",avatar:"avatar___1Itlz",rotate:"rotate___3cdkL",image_blur:"image_blur___1JtdU"}},53932:function(S,A,e){"use strict";e.r(A);var O=e(48736),h=e(27049),y=e(57663),P=e(71577),I=e(12968),E=e(62462),_=e(3182),Z=e(74379),p=e(38648),o=e(2824),ie=e(94043),v=e.n(ie),d=e(67294),ue=e(85047),de=e(55909),ce=e.n(de),_e=e(90802),c=e.n(_e),f=e(43581),ve=e(51615),x=e(96534),z=e(28943),R=e(51625),fe=e(61715),me=e(69764),w=e(13580),he=e(29791),$=e(32689),Ee=e(59749),s=e(85893),pe=function(){var j,K,N=(0,f.tT)("apiWs"),Oe=(0,f.tT)("currentUser"),Me=Oe.wallet,ge=(0,f.tT)("bodyChange"),V=ge.bodyHeight,De=(0,d.useState)(!0),k=(0,o.Z)(De,2),M=k[0],F=k[1],Ae=(0,d.useState)(""),J=(0,o.Z)(Ae,2),G=J[0],Pe=J[1],ye=(0,d.useState)(!0),X=(0,o.Z)(ye,2),Y=X[0],Q=X[1],Ie=(0,d.useState)(),q=(0,o.Z)(Ie,2),L=q[0],Ce=q[1],Se=(0,d.useState)(),ee=(0,o.Z)(Se,2),T=ee[0],Le=ee[1],Te=(0,d.useState)(!1),ae=(0,o.Z)(Te,2),te=ae[0],Be=ae[1],Ue=(0,d.useState)(),re=(0,o.Z)(Ue,2),B=re[0],be=re[1],We=(0,d.useState)(),ne=(0,o.Z)(We,2),U=ne[0],Ze=ne[1],Re=(0,d.useState)(null),se=(0,o.Z)(Re,2),je=se[0],Ke=se[1],Ne=(0,d.useState)(""),le=(0,o.Z)(Ne,2),He=le[0],xe=le[1],g=(0,f.YB)(),ze=(0,f.md)(),we=(j=document.getElementById("avatar"))===null||j===void 0?void 0:j.offsetTop,$e=(K=document.getElementById("avatar"))===null||K===void 0?void 0:K.offsetLeft,Ve=document.body.clientWidth,l=(0,ve.UO)(),ke=f.m8.location.query,Fe=ke,Je=Fe.referrer,W=l!=null&&l.kol?"did"+(l==null?void 0:l.kol):(0,x.st)(Me.did),oe=(0,x.Zc)(W),H=function(r){p.default.error({message:r.message,duration:null})},Ge=function(){var n=(0,_.Z)(v().mark(function r(){var t;return v().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,fe.qX)(l.nftID);case 2:if(t=a.sent,t){a.next=6;break}return f.m8.replace("".concat(window.location.pathname,"/dao")),a.abrupt("return");case 6:be(t);case 7:case"end":return a.stop()}},r)}));return function(){return n.apply(this,arguments)}}(),Xe=function(){var n=(0,_.Z)(v().mark(function r(t){var i,a,C,u,b;return v().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!((t==null||(i=t.metadata)===null||i===void 0?void 0:i.indexOf("ipfs://"))<0)){m.next=2;break}return m.abrupt("return");case 2:return C=t==null||(a=t.metadata)===null||a===void 0?void 0:a.substring(7),m.next=5,fetch(R.Z.ipfs.endpoint+C);case 5:return u=m.sent,m.next=8,u.json();case 8:if(b=m.sent,b){m.next=11;break}return m.abrupt("return");case 11:Ke(b),b.media||F(!1);case 13:case"end":return m.stop()}},r)}));return function(t){return n.apply(this,arguments)}}();(0,d.useEffect)(function(){if(B)try{var n=B.ad;if(!(n!=null&&n.metadata))return;Ze(n),Xe(n),(0,w.L7)(B.budgetPot,B.fractionId).then(function(r){var t;xe((0,Ee.At)((t=r==null?void 0:r.balance)!==null&&t!==void 0?t:""))}).catch(function(r){console.error("GetBalanceOfBudgetPot error:",r)})}catch(r){H(r)}},[B]);var Ye=function(){var n=(0,_.Z)(v().mark(function r(){var t;return v().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,z.JI)(oe);case 3:if(t=a.sent,!t.isEmpty){a.next=7;break}return Q(!1),a.abrupt("return");case 7:window.location.href="".concat(window.location.origin,"/").concat(W,"/").concat(t),a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),p.default.error({message:a.t0.message,duration:null}),a.abrupt("return");case 14:case"end":return a.stop()}},r,null,[[0,10]])}));return function(){return n.apply(this,arguments)}}();(0,d.useEffect)(function(){var n;document.title="".concat((n=T==null?void 0:T.name)!==null&&n!==void 0?n:W," - Para Metaverse Identity")},[T]);var Qe=function(){var n=(0,_.Z)(v().mark(function r(){var t;return v().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,z.X6)(l==null?void 0:l.nftID);case 2:if(t=a.sent,t){a.next=7;break}return p.default.error({message:g.formatMessage({id:"error.nft.notFound"}),duration:null}),f.m8.goBack(),a.abrupt("return");case 7:if((t==null?void 0:t.owner)===oe){a.next=11;break}return p.default.error({message:g.formatMessage({id:"error.nft.notFound"}),duration:null}),f.m8.goBack(),a.abrupt("return");case 11:Ce(t);case 12:case"end":return a.stop()}},r)}));return function(){return n.apply(this,arguments)}}();(0,d.useEffect)(function(){var n=function(){var r=(0,_.Z)(v().mark(function t(){var i,a;return v().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,w.Ay)(L==null?void 0:L.tokenAssetId);case 2:if(i=u.sent,!i.isEmpty){u.next=6;break}return Q(!1),u.abrupt("return");case 6:a=i.toHuman(),Le(a);case 8:case"end":return u.stop()}},t)}));return function(){return r.apply(this,arguments)}}();if(L)try{n()}catch(r){H(r)}},[L]);var qe=function(){var n=(0,_.Z)(v().mark(function r(){var t,i,a,C,u;return v().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,$.T9)(l==null?void 0:l.nftID);case 2:if(t=D.sent,i=t.data,!(i!=null&&i.token)){D.next=11;break}return D.next=7,(0,$.nH)(i.token.icon);case 7:a=D.sent,C=a.data,u=a.response,(u==null?void 0:u.status)===200&&Pe(window.URL.createObjectURL(C));case 11:case"end":return D.stop()}},r)}));return function(){return n.apply(this,arguments)}}();return(0,d.useEffect)(function(){if(N&&!(l!=null&&l.nftID)&&Ye(),ze.canWalletUser||(localStorage.setItem("parami:wallet:redirect",window.location.href),Be(!0)),N)try{Ge(),Qe(),qe()}catch(n){H(n)}},[N]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:c().explorerContainer,children:[Y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E.Z,{src:G||"/images/default-avatar.svg",fallback:"/images/default-avatar.svg",className:c().avatar,style:{top:M?(V-400)/2:we,left:M?(Ve-200)/2:$e,width:M?200:30,height:M?200:30,animation:M?1:0,position:M?"fixed":"absolute",display:M||U&&Object.keys(U).length?"flex":"none"},preview:!1}),(0,s.jsx)("div",{className:c().loading,style:{opacity:M?1:0,zIndex:M?15:-1,height:V,minHeight:"100vh"},children:(0,s.jsx)("span",{className:c().loadingTip,children:g.formatMessage({id:"creator.explorer.loading.tip",defaultMessage:"Let's find out more about the NFT.{br} Surprise awaits..."},{br:(0,s.jsx)("br",{})})})})]}),Y&&U&&Object.keys(U).length>0&&(0,s.jsx)("div",{className:ce().pageContainer,style:{paddingTop:50,maxWidth:"100%"},children:(0,s.jsx)(ue.Z,{ad:je,nftId:l==null?void 0:l.nftID,referrer:Je,asset:T,avatar:G,did:W,adData:U,balance:He,notAccess:te,adImageOnLoad:function(){F(!1)}})}),(0,s.jsx)(he.Z,{})]}),(0,s.jsx)(me.Z,{visable:te,title:g.formatMessage({id:"error.identity.notUser"}),content:(0,s.jsx)("div",{className:c().notUser,children:(0,s.jsxs)("div",{className:c().buttons,children:[(0,s.jsxs)(P.Z,{block:!0,size:"large",type:"primary",shape:"round",className:c().button,onClick:function(){f.m8.push(R.Z.page.createPage)},children:[(0,s.jsx)("div",{className:c().title,children:g.formatMessage({id:"index.createAccount"})}),(0,s.jsx)("span",{className:c().desc,children:g.formatMessage({id:"index.createAccount.desc"})})]}),(0,s.jsx)(h.Z,{children:g.formatMessage({id:"index.or"})}),(0,s.jsxs)(P.Z,{block:!0,ghost:!0,size:"large",type:"link",shape:"round",className:"".concat(c().button," ").concat(c().buttonImport),onClick:function(){f.m8.push(R.Z.page.recoverPage)},children:[(0,s.jsx)("div",{className:c().title,children:g.formatMessage({id:"index.importAccount"})}),(0,s.jsx)("span",{className:c().desc,children:g.formatMessage({id:"index.importAccount.desc"})})]})]})}),close:void 0,footer:!1})]})};A.default=pe}}]);

(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[5808],{21059:function(Q,q,a){"use strict";a.d(q,{Z:function(){return E}});var ee=a(28991),S=a(67294),Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},Z=Ne,d=a(27029),l=function(j,U){return S.createElement(d.Z,(0,ee.Z)((0,ee.Z)({},j),{},{ref:U,icon:Z}))};l.displayName="ArrowDownOutlined";var E=S.forwardRef(l)},77616:function(Q,q,a){"use strict";a.d(q,{vz:function(){return L}});var ee=a(82517),S=a(80711),Ne=a(48794),Z=a(2593);const d=new S.Yd(Ne.i),l={},E=Z.O$.from(0),le=Z.O$.from(-1);function j(r,s,n,i){const o={fault:s,operation:n};return i!==void 0&&(o.value=i),d.throwError(r,S.Yd.errors.NUMERIC_FAULT,o)}let U="0";for(;U.length<256;)U+=U;function t(r){if(typeof r!="number")try{r=Z.O$.from(r).toNumber()}catch(s){}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+U.substring(0,r):d.throwArgumentError("invalid decimal size","decimals",r)}function se(r,s){s==null&&(s=0);const n=t(s);r=Z.O$.from(r);const i=r.lt(E);i&&(r=r.mul(le));let o=r.mod(n).toString();for(;o.length<n.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const f=r.div(n).toString();return n.length===1?r=f:r=f+"."+o,i&&(r="-"+r),r}function N(r,s){s==null&&(s=0);const n=t(s);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&d.throwArgumentError("invalid decimal value","value",r);const i=r.substring(0,1)==="-";i&&(r=r.substring(1)),r==="."&&d.throwArgumentError("missing value","value",r);const o=r.split(".");o.length>2&&d.throwArgumentError("too many decimal points","value",r);let f=o[0],v=o[1];for(f||(f="0"),v||(v="0");v[v.length-1]==="0";)v=v.substring(0,v.length-1);for(v.length>n.length-1&&j("fractional component exceeds decimals","underflow","parseFixed"),v===""&&(v="0");v.length<n.length-1;)v+="0";const ve=Z.O$.from(f),y=Z.O$.from(v);let He=ve.mul(n).add(y);return i&&(He=He.mul(le)),He}class W{constructor(s,n,i,o){s!==l&&d.throwError("cannot use FixedFormat constructor; use FixedFormat.from",S.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=n,this.width=i,this.decimals=o,this.name=(n?"":"u")+"fixed"+String(i)+"x"+String(o),this._multiplier=t(o),Object.freeze(this)}static from(s){if(s instanceof W)return s;typeof s=="number"&&(s=`fixed128x${s}`);let n=!0,i=128,o=18;if(typeof s=="string"){if(s!=="fixed")if(s==="ufixed")n=!1;else{const f=s.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);f||d.throwArgumentError("invalid fixed format","format",s),n=f[1]!=="u",i=parseInt(f[2]),o=parseInt(f[3])}}else if(s){const f=(v,ve,y)=>s[v]==null?y:(typeof s[v]!==ve&&d.throwArgumentError("invalid fixed format ("+v+" not "+ve+")","format."+v,s[v]),s[v]);n=f("signed","boolean",n),i=f("width","number",i),o=f("decimals","number",o)}return i%8&&d.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),o>80&&d.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",o),new W(l,n,i,o)}}class m{constructor(s,n,i,o){d.checkNew(new.target,m),s!==l&&d.throwError("cannot use FixedNumber constructor; use FixedNumber.from",S.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=o,this._hex=n,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(s){this.format.name!==s.format.name&&d.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",s)}addUnsafe(s){this._checkFormat(s);const n=N(this._value,this.format.decimals),i=N(s._value,s.format.decimals);return m.fromValue(n.add(i),this.format.decimals,this.format)}subUnsafe(s){this._checkFormat(s);const n=N(this._value,this.format.decimals),i=N(s._value,s.format.decimals);return m.fromValue(n.sub(i),this.format.decimals,this.format)}mulUnsafe(s){this._checkFormat(s);const n=N(this._value,this.format.decimals),i=N(s._value,s.format.decimals);return m.fromValue(n.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(s){this._checkFormat(s);const n=N(this._value,this.format.decimals),i=N(s._value,s.format.decimals);return m.fromValue(n.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const s=this.toString().split(".");s.length===1&&s.push("0");let n=m.from(s[0],this.format);const i=!s[1].match(/^(0*)$/);return this.isNegative()&&i&&(n=n.subUnsafe(fe.toFormat(n.format))),n}ceiling(){const s=this.toString().split(".");s.length===1&&s.push("0");let n=m.from(s[0],this.format);const i=!s[1].match(/^(0*)$/);return!this.isNegative()&&i&&(n=n.addUnsafe(fe.toFormat(n.format))),n}round(s){s==null&&(s=0);const n=this.toString().split(".");if(n.length===1&&n.push("0"),(s<0||s>80||s%1)&&d.throwArgumentError("invalid decimal count","decimals",s),n[1].length<=s)return this;const i=m.from("1"+U.substring(0,s),this.format),o=M.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(o).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(s){if(s==null)return this._hex;s%8&&d.throwArgumentError("invalid byte width","width",s);const n=Z.O$.from(this._hex).fromTwos(this.format.width).toTwos(s).toHexString();return(0,ee.$m)(n,s/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(s){return m.fromString(this._value,s)}static fromValue(s,n,i){return i==null&&n!=null&&!(0,Z.Zm)(n)&&(i=n,n=null),n==null&&(n=0),i==null&&(i="fixed"),m.fromString(se(s,n),W.from(i))}static fromString(s,n){n==null&&(n="fixed");const i=W.from(n),o=N(s,i.decimals);!i.signed&&o.lt(E)&&j("unsigned value cannot be negative","overflow","value",s);let f=null;i.signed?f=o.toTwos(i.width).toHexString():(f=o.toHexString(),f=(0,ee.$m)(f,i.width/8));const v=se(o,i.decimals);return new m(l,f,v,i)}static fromBytes(s,n){n==null&&(n="fixed");const i=W.from(n);if((0,ee.lE)(s).length>i.width/8)throw new Error("overflow");let o=Z.O$.from(s);i.signed&&(o=o.fromTwos(i.width));const f=o.toTwos((i.signed?0:1)+i.width).toHexString(),v=se(o,i.decimals);return new m(l,f,v,i)}static from(s,n){if(typeof s=="string")return m.fromString(s,n);if((0,ee._t)(s))return m.fromBytes(s,n);try{return m.fromValue(s,0,n)}catch(i){if(i.code!==S.Yd.errors.INVALID_ARGUMENT)throw i}return d.throwArgumentError("invalid FixedNumber value","value",s)}static isFixedNumber(s){return!!(s&&s._isFixedNumber)}}const fe=m.from(1),M=m.from("0.5"),oe="units/5.6.0",F=new S.Yd(oe),T=["wei","kwei","mwei","gwei","szabo","finney","ether"];function ze(r){const s=String(r).split(".");(s.length>2||!s[0].match(/^-?[0-9]*$/)||s[1]&&!s[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&F.throwArgumentError("invalid value","value",r);let n=s[0],i="";for(n.substring(0,1)==="-"&&(i="-",n=n.substring(1));n.substring(0,1)==="0";)n=n.substring(1);n===""&&(n="0");let o="";for(s.length===2&&(o="."+(s[1]||"0"));o.length>2&&o[o.length-1]==="0";)o=o.substring(0,o.length-1);const f=[];for(;n.length;)if(n.length<=3){f.unshift(n);break}else{const v=n.length-3;f.unshift(n.substring(v)),n=n.substring(0,v)}return i+f.join(",")+o}function es(r,s){if(typeof s=="string"){const n=T.indexOf(s);n!==-1&&(s=3*n)}return formatFixed(r,s!=null?s:18)}function L(r,s){if(typeof r!="string"&&F.throwArgumentError("value must be a string","value",r),typeof s=="string"){const n=T.indexOf(s);n!==-1&&(s=3*n)}return N(r,s!=null?s:18)}function Ae(r){return es(r,18)}function Te(r){return L(r,18)}},76705:function(Q){Q.exports={loginCard:"loginCard___29ISC",title:"title___1Nywl",appList:"appList___3WcLg",appItem:"appItem___3n4xF",appIcon:"appIcon___3I5gJ",info:"info___AECmK",name:"name___1p-lf",icon:"icon___3Ijcm",desc:"desc___1DhqV",rightArrow:"rightArrow___Np2km",getWallet:"getWallet___3Nr1f",modalContainer:"modalContainer___2uiYJ",logo:"logo___3P-qd"}},76824:function(Q){Q.exports={modal:"modal___2kgj1",spinContainer:"spinContainer___1KYK8",alertContainer:"alertContainer___3owY0",buttons:"buttons___En-Xg",button:"button___SXVEF",fieldsContainer:"fieldsContainer___XT086",field:"field___22Tmv",label:"label___2u_4k",small:"small___1wJL4",labelIcon:"labelIcon___2JQT2",value:"value___1L63r"}},57129:function(Q){Q.exports={bridgeContainer:"bridgeContainer___KUa_y",leftContainer:"leftContainer___BhZ7T",innerWrapper:"innerWrapper___bZZx8",description:"description___3-8tl",points:"points___35dws",bottomSection:"bottomSection___3tOew",background:"background___8FvqH",rightContainer:"rightContainer___SWVmp",bridgeTabs:"bridgeTabs___1q5d5",bridgeTabsItem:"bridgeTabsItem___2dz-9",active:"active___1gpqP",bridgeBody:"bridgeBody___K06_-",fromLabel:"fromLabel___36_v-",toLabel:"toLabel___nk7uU",destinationLabel:"destinationLabel___2BpNo",formSection:"formSection___38r3Z",chainAndBalanceDetails:"chainAndBalanceDetails___2tWhw",tokenAndAmountDetails:"tokenAndAmountDetails___2QCCc",tokenDetails:"tokenDetails___5YGpq",chainIcon:"chainIcon___1kqp4",tokenDetailsTokenName:"tokenDetailsTokenName___2ZJGy",tokenDetailsArrow:"tokenDetailsArrow___1MP8-",amountDetails:"amountDetails___1ebLK",amountDetailsMaxButton:"amountDetailsMaxButton___1FzoW",downArrowSection:"downArrowSection___2uyH-",toChainAndBalanceDetails:"toChainAndBalanceDetails___16F2K",chainDetails:"chainDetails___1CxCG",chainDetailsChainName:"chainDetailsChainName___25YMo",balanceDetails:"balanceDetails___3lQpW",balanceDetailsLabel:"balanceDetailsLabel___39XMY",balanceDetailsBalance:"balanceDetailsBalance___1gKPg",transferButton:"transferButton___1hXV4",destinationDetails:"destinationDetails___Ut9dq",destinationMyAddressButton:"destinationMyAddressButton___5f5Zy",processContainer:"processContainer___3kyyc",title:"title___32jxA",cardContainer:"cardContainer___2qpms",listHash:"listHash___3ya_j",field:"field___vgM6V",value:"value___1DSzY"}},97409:function(Q,q,a){"use strict";var ee=a(71153),S=a(60331),Ne=a(12968),Z=a(62462),d=a(67294),l=a(43581),E=a(72643),le=a(73218),j=a(85893);function U(t){var se=t.theme,N=t.supportedChainId,W=(0,l.tT)("web3"),m=W.Account,fe=W.ChainName,M=W.ChainId,oe=N&&M&&N!==M;return(0,j.jsx)(j.Fragment,{children:m&&(0,j.jsxs)("div",{className:"addressContainer ".concat(se!=null?se:"wallet"," ").concat(oe?"notSupported":""),children:[oe&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"error",children:[(0,j.jsx)(le.Z,{className:"error-icon"}),"Network Type Error"]}),(0,j.jsxs)("div",{className:"error-msg",children:["Please switch to ",E.i[N],"."]})]}),!oe&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"ethLogo",children:[(0,j.jsx)(Z.Z,{src:"/images/crypto/eth-circle.svg",preview:!1,className:"ethLogoImg"}),"ETH Address"]}),!!M&&M!==1&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(S.Z,{color:"orange",children:fe})}),(0,j.jsxs)("div",{className:"currentAddress",children:[(0,j.jsx)("span",{className:"prefix",children:"Current Address:"}),(0,j.jsx)("span",{className:"address",children:m})]})]})]})})}q.Z=U},38655:function(Q,q,a){"use strict";var ee=a(58024),S=a(39144),Ne=a(57663),Z=a(71577),d=a(48736),l=a(27049),E=a(3182),le=a(402),j=a(3887),U=a(94043),t=a.n(U),se=a(67294),N=a(43581),W=a(24787),m=a.n(W),fe=a(76705),M=a.n(fe),oe=a(8812),F=a(89583),T=a(85893),ze=function(){var L=(0,N.tT)("web3"),Ae=L.connect,Te=(0,N.YB)(),r=j.Z.Title;return(0,T.jsx)("div",{className:m().mainContainer,children:(0,T.jsx)("div",{className:m().contentContainer,children:(0,T.jsxs)(S.Z,{className:M().loginCard,bodyStyle:{padding:32,width:"100%"},children:[(0,T.jsx)(r,{level:4,className:M().title,children:Te.formatMessage({id:"dashboard.bridge.login",defaultMessage:"Login"})}),(0,T.jsx)("div",{className:M().appList,children:(0,T.jsxs)("div",{className:M().appItem,onClick:(0,E.Z)(t().mark(function s(){return t().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Ae();case 2:case"end":return i.stop()}},s)})),children:[(0,T.jsx)("div",{className:M().info,children:(0,T.jsxs)("span",{className:M().name,children:[(0,T.jsx)(F.OZg,{className:M().icon}),"Connect Wallet"]})}),(0,T.jsx)(oe.Z,{className:M().rightArrow})]})}),(0,T.jsx)(l.Z,{}),(0,T.jsxs)("div",{className:M().getWallet,children:[Te.formatMessage({id:"dashboard.bridge.dontHaveWallet",defaultMessage:"Don't have wallet?"}),(0,T.jsx)(Z.Z,{type:"link",size:"middle",children:Te.formatMessage({id:"dashboard.bridge.downloadHere",defaultMessage:"Download here"})})]})]})})})};q.Z=ze},46792:function(Q,q,a){"use strict";a.r(q),a.d(q,{default:function(){return Ws}});var ee=a(12968),S=a(62462),Ne=a(402),Z=a(3887),d=a(2824),l=a(67294),E=a(43581),le=a(24787),j=a.n(le),U=a(57129),t=a.n(U),se=a(94184),N=a.n(se),W=a(57663),m=a(71577),fe=a(47673),M=a(32787),oe=a(22385),F=a(31097),T=a(11849),ze=a(91220),es=a(74379),L=a(38648),Ae=a(3182),Te=a(94043),r=a.n(Te),s=a(57254),n=a(21059),i=a(49101),o=a(2593),f=a(17571),v=a(7290),ve=a(77616),y=a(59749),He=a(96534),vs=a(75397),ds=a(99645),gs=a(6221),ge=a(96668),Ue=a(57651),xs=a(75163),cs=a(86617),e=a(85893),ps=a(48764).Buffer,js=function(g){var I,A,C,b=g.setLoading,O=g.setStep,K=g.setETHHash,P=g.setParamiHash,$=(0,E.tT)("apiWs"),G=(0,E.tT)("currentUser"),B=G.dashboard,H=(0,E.tT)("web3"),ae=H.Account,z=H.ChainName,R=H.Provider,te=H.Signer,Y=(0,E.tT)("paramiEvents"),ce=Y.Events,pe=Y.SubParamiEvents,Ze=(0,l.useState)(),w=(0,d.Z)(Ze,2),je=w[0],ue=w[1],V=(0,l.useState)(BigInt(0)),be=(0,d.Z)(V,2),Ee=be[0],Ye=be[1],me=(0,l.useState)(""),We=(0,d.Z)(me,2),Ce=We[0],Fe=We[1],Pe=(0,l.useState)(!1),ke=(0,d.Z)(Pe,2),Ve=ke[0],Re=ke[1],ts=(0,l.useState)(""),Be=(0,d.Z)(ts,2),Se=Be[0],Ke=Be[1],ns=(0,l.useState)(!1),_e=(0,d.Z)(ns,2),is=_e[0],ye=_e[1],he=(0,E.tT)("chainbridge"),Me=he.tokens,Oe=he.contractAddresses,De=(0,l.useState)(),ne=(0,d.Z)(De,2),u=ne[0],Ie=ne[1],c=(0,l.useState)(""),we=(0,d.Z)(c,2),Ge=we[0],Je=we[1],Le=(0,l.useState)(""),Xe=(0,d.Z)(Le,2),$e=Xe[0],Qe=Xe[1];(0,l.useEffect)(function(){Me!=null&&Me.length&&Ie(Me[0])},[Me]);var J=(0,E.YB)();(0,l.useEffect)(function(){u&&te&&ae&&(0,ge.AJ)(u,te,ae).then(function(D){Qe(D)})},[u,te,ae]),(0,l.useEffect)(function(){u&&$&&B!==null&&B!==void 0&&B.account&&(0,ge.$r)(u,B.account).then(function(D){Je(D.total)})},[u,$,B]);var qe,ie=function(h,p){return"".concat(h.event.section,":").concat(h.event.method)==="chainBridge:ProposalSucceeded"&&BigInt(h.event.data[1].toString())===p},rs=function(){var D=(0,Ae.Z)(r().mark(function h(){var p,re,X,_,hs,ls,os,fs;return r().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!(!R||!te)){x.next=2;break}return x.abrupt("return");case 2:if(p=Se,!(Se.indexOf("did:ad3")>-1)){x.next=15;break}return x.prev=4,x.next=7,(0,vs.Ob)(Se);case 7:re=x.sent,re||L.default.error({message:"Invalid DID",duration:null}),p=re.account,x.next=15;break;case 12:x.prev=12,x.t0=x.catch(4),L.default.error({message:x.t0.message||x.t0,duration:null});case 15:return p="0x".concat(ps.from((0,gs.m)(p)).toString("hex")),X="0x"+v.$m(o.O$.from(ve.vz(Ce,u.decimals)).toHexString(),32).substring(2)+v.$m(v.Dv((p.length-2)/2),32).substring(2)+p.substring(2),x.prev=17,b(!0),L.default.info({message:"Approve Token Access"}),_=new f.CH(u.contract_address,xs,te),x.next=23,_==null?void 0:_.approve(Oe.erc20Handler,o.O$.from(ve.vz(Ce.toString(),u==null?void 0:u.decimals)));case 23:return x.next=25,x.sent.wait();case 25:return L.default.info({message:"Deposit Token"}),hs=new f.CH(Oe.bridge,cs,te),x.next=29,hs.deposit(u.paramiChainId,u.resourceId,X);case 29:return x.next=31,x.sent.wait();case 31:return ls=x.sent,os=ls.logs.find(function(Fs){return Fs.address.toLowerCase()===Oe.bridge.toLowerCase()}),fs=BigInt(os.topics[os.topics.length-1]),Ye(fs),K(ls.transactionHash),O(2),Re(!0),x.next=40,pe();case 40:qe=x.sent,ue(function(){return qe}),x.next=48;break;case 44:x.prev=44,x.t1=x.catch(17),L.default.error({message:x.t1.message||x.t1,duration:null}),b(!1);case 48:case"end":return x.stop()}},h,null,[[4,12],[17,44]])}));return function(){return D.apply(this,arguments)}}();return(0,l.useEffect)(function(){if(Ve){var D=(0,ze.Z)(ce),h;try{for(D.s();!(h=D.n()).done;){var p=h.value;console.log("event","".concat(p.event.section,":").concat(p.event.method)),ie(p,Ee)&&(Re(!1),O(3),je&&je(),L.default.success({message:"Deposit Success"}),P(p.blockHash),Ie((0,T.Z)({},u)))}}catch(re){D.e(re)}finally{D.f()}}},[ce,Ee,Ve,je]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:t().fromLabel,children:J.formatMessage({id:"dashboard.bridge.from",defaultMessage:"From"})}),(0,e.jsxs)("div",{className:t().formSection,children:[(0,e.jsxs)("div",{className:t().chainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:t().chainDetails,children:[(0,e.jsx)(S.Z,{src:"/images/crypto/ethereum-eth-logo.svg",preview:!1,className:t().chainIcon}),(0,e.jsx)("span",{className:t().chainDetailsChainName,children:z})]}),(0,e.jsxs)("div",{className:t().balanceDetails,children:[(0,e.jsxs)("span",{className:t().balanceDetailsLabel,children:[J.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(F.Z,{placement:"top",title:(0,y.mI)($e,(I=u==null?void 0:u.decimals)!==null&&I!==void 0?I:18),children:(0,e.jsx)("span",{className:t().balanceDetailsBalance,children:(0,e.jsx)(Ue.Z,{value:$e,symbol:u==null?void 0:u.symbol,decimals:u==null?void 0:u.decimals})})})]})]}),(0,e.jsxs)("div",{className:t().tokenAndAmountDetails,children:[(0,e.jsxs)("div",{className:t().tokenDetails,onClick:function(){ye(!0)},children:[(0,e.jsx)(S.Z,{src:u==null?void 0:u.icon,preview:!1,className:t().chainIcon}),(0,e.jsx)("span",{className:t().tokenDetailsTokenName,children:u==null?void 0:u.name}),(0,e.jsx)(s.Z,{className:t().tokenDetailsArrow})]}),(0,e.jsxs)("div",{className:t().amountDetails,children:[(0,e.jsx)(M.Z,{placeholder:"0.00",type:"number",size:"large",value:Ce,onChange:function(h){Fe(h.target.value)}}),(0,e.jsx)(m.Z,{className:t().amountDetailsMaxButton,type:"link",size:"small",onClick:function(){Fe((0,y.mI)($e,u.decimals))},children:J.formatMessage({id:"dashboard.bridge.max",defaultMessage:"MAX"})})]})]})]}),(0,e.jsx)("div",{className:t().downArrowSection,children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)("div",{className:t().toLabel,children:J.formatMessage({id:"dashboard.bridge.to",defaultMessage:"To"})}),(0,e.jsxs)("div",{className:t().toChainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:t().chainDetails,children:[(0,e.jsx)(S.Z,{src:"/images/logo-core-colored-fit-into-round.svg",preview:!1,className:t().chainIcon}),(0,e.jsx)("span",{className:t().chainDetailsChainName,children:"Parami chain"})]}),(0,e.jsxs)("div",{className:t().balanceDetails,children:[(0,e.jsxs)("span",{className:t().balanceDetailsLabel,children:[J.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(F.Z,{placement:"top",title:(0,y.mI)(Ge,(A=u==null?void 0:u.decimals)!==null&&A!==void 0?A:18),children:(0,e.jsx)("span",{className:t().balanceDetailsBalance,children:(0,e.jsx)(Ue.Z,{value:Ge,symbol:u==null?void 0:u.symbol,decimals:u==null?void 0:u.decimals})})})]})]}),(0,e.jsx)("div",{className:t().downArrowSection,children:(0,e.jsx)(i.Z,{})}),(0,e.jsx)("div",{className:t().destinationLabel,children:J.formatMessage({id:"dashboard.bridge.destinationAddress",defaultMessage:"Destination Address"})}),(0,e.jsxs)("div",{className:t().destinationDetails,children:[(0,e.jsx)(M.Z,{placeholder:"did:ad3:......",type:"text",size:"large",value:Se,onChange:function(h){Ke(h.target.value)}}),(0,e.jsx)(m.Z,{className:t().destinationMyAddressButton,type:"default",size:"small",onClick:function(){Ke((0,He.st)(B.did))},children:J.formatMessage({id:"dashboard.bridge.me",defaultMessage:"ME"})})]}),(0,e.jsx)(m.Z,{block:!0,type:"primary",size:"large",shape:"round",className:t().transferButton,onClick:function(){rs()},disabled:!Ce||!Se||(0,y.HM)(Ce,(C=u==null?void 0:u.decimals)!==null&&C!==void 0?C:18)<=BigInt(0),children:J.formatMessage({id:"dashboard.bridge.transfer",defaultMessage:"Transfer"})}),is&&(0,e.jsx)(ds.Z,{onClose:function(){return ye(!1)},onSelectToken:function(h){Ie(h),ye(!1)},chain:"ethereum"})]})},bs=js,ks=a(34792),Es=a(48086),Cs=function(g){return/^0x[a-fA-F0-9]{40}$/.test(g)},Rs=function(g){return/^(bc1|[13])[a-zA-HJ-NP-Z0-9]{25,39}$/.test(g)},Ks=function(g){try{return encodeAddress(isHex(g)?hexToU8a(g):decodeAddress(g)),!0}catch(I){return!1}},$s=a(71194),Ss=a(50146),zs=a(17462),Ms=a(76772),Ys=a(20228),ss=a(11382),Ds=a(3548),Ns=a(76824),k=a.n(Ns),As=Z.Z.Title,Ts=function(g){var I=g.onCancel,A=g.onConfirm,C=g.amount,b=g.token,O=(0,l.useState)(),K=(0,d.Z)(O,2),P=K[0],$=K[1],G=(0,l.useState)(!1),B=(0,d.Z)(G,2),H=B[0],ae=B[1];return(0,l.useEffect)(function(){b.assetId?(0,ge.EA)(b.ethChainId,b.assetId).then(function(z){$(z)}):(0,ge.mn)().then(function(z){$(z)})},[b]),(0,l.useEffect)(function(){if(P){var z=((0,y.HM)(C,b.decimals)-BigInt(P.fee.replaceAll(",",""))).toString();ae(!!z&&BigInt(z)<=0)}},[P]),(0,e.jsxs)(Ss.Z,{title:(0,e.jsx)(As,{level:3,style:{marginBottom:0},children:"Confirm Transaction"}),closable:!1,className:k().modal,centered:!0,visible:!0,width:400,footer:(0,e.jsxs)("div",{className:k().buttons,children:[(0,e.jsx)(m.Z,{type:"text",shape:"round",size:"large",className:k().button,onClick:I,children:"Decline"}),(0,e.jsx)(m.Z,{type:"primary",shape:"round",size:"large",className:k().button,onClick:A,disabled:!P||H,children:"Confirm"})]}),children:[!P&&(0,e.jsx)("div",{className:k().spinContainer,children:(0,e.jsx)(ss.Z,{})}),P&&(0,e.jsxs)(e.Fragment,{children:[H&&(0,e.jsx)(Ms.Z,{description:"Insufficient Amount",type:"error",showIcon:!0,banner:!0,className:k().alertContainer}),(0,e.jsxs)("div",{className:k().fieldsContainer,children:[(0,e.jsxs)("div",{className:k().field,children:[(0,e.jsx)("div",{className:k().label,children:"Transfer Amount:"}),(0,e.jsx)("div",{className:k().value,children:(0,e.jsx)(Ue.Z,{value:(0,y.HM)(C,b.decimals).toString(),symbol:b.symbol,decimals:b.decimals})})]}),(0,e.jsxs)("div",{className:k().field,children:[(0,e.jsx)("div",{className:k().label,children:"Fee:"}),(0,e.jsx)("div",{className:k().value,children:(0,e.jsx)(Ds.Z,{value:P.fee.replaceAll(",",""),style:{fontSize:"0.8rem",fontWeight:900}})})]})]})]})]})},Zs=Ts,Ps=function(g){var I,A,C,b,O=g.setLoading,K=g.setStep,P=g.setETHHash,$=g.setParamiHash,G=(0,E.tT)("apiWs"),B=(0,E.tT)("web3"),H=B.Account,ae=B.ChainName,z=B.Provider,R=B.Signer,te=(0,E.tT)("currentUser"),Y=te.dashboard,ce=(0,E.tT)("dashboard.bridgeEvents"),pe=ce.SubBridgeEvents,Ze=ce.UnsubBridgeEvents,w=ce.ProposalEvent,je=(0,l.useState)(BigInt(0)),ue=(0,d.Z)(je,2),V=ue[0],be=ue[1],Ee=(0,l.useState)(""),Ye=(0,d.Z)(Ee,2),me=Ye[0],We=Ye[1],Ce=(0,l.useState)(),Fe=(0,d.Z)(Ce,2),Pe=Fe[0],ke=Fe[1],Ve=(0,l.useState)(!1),Re=(0,d.Z)(Ve,2),ts=Re[0],Be=Re[1],Se=(0,l.useState)(!1),Ke=(0,d.Z)(Se,2),ns=Ke[0],_e=Ke[1],is=(0,l.useState)(),ye=(0,d.Z)(is,2),he=ye[0],Me=ye[1],Oe=(0,E.tT)("chainbridge"),De=Oe.tokens,ne=Oe.contractAddresses,u=(0,l.useState)(),Ie=(0,d.Z)(u,2),c=Ie[0],we=Ie[1],Ge=(0,l.useState)(""),Je=(0,d.Z)(Ge,2),Le=Je[0],Xe=Je[1],$e=(0,l.useState)(""),Qe=(0,d.Z)($e,2),J=Qe[0],qe=Qe[1];(0,l.useEffect)(function(){De!=null&&De.length&&we(De[0])},[De]),(0,l.useEffect)(function(){ne!=null&&ne.bridge&&R&&Me(new f.CH(ne==null?void 0:ne.bridge,cs,R))},[ne,R]);var ie=(0,E.YB)();(0,l.useEffect)(function(){c&&R&&H&&(0,ge.AJ)(c,R,H).then(function(h){qe(h)})},[c,R,H]),(0,l.useEffect)(function(){c&&G&&Y!==null&&Y!==void 0&&Y.account&&(0,ge.$r)(c,Y.account).then(function(h){Xe(h.free)})},[c,G,Y]);var rs=function(){var h=(0,Ae.Z)(r().mark(function p(){return r().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!(!z||!R)){X.next=2;break}return X.abrupt("return");case 2:if(Cs(Pe)){X.next=6;break}return Es.default.error("Please input ETH Address!"),O(!1),X.abrupt("return");case 6:_e(!0);case 7:case"end":return X.stop()}},p)}));return function(){return h.apply(this,arguments)}}(),D=function(){var h=(0,Ae.Z)(r().mark(function p(){var re;return r().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,O(!0),_.next=4,(0,ge.GX)(c,JSON.parse(Y.accountMeta),(0,y.HM)(me,c.decimals).toString(),Pe);case 4:re=_.sent,be(BigInt(re.chainBridge.FungibleTransfer[0][1])),$(re.blockHash),K(2),he?pe(he):L.default.error({message:"No bridge contract"}),_.next=16;break;case 12:_.prev=12,_.t0=_.catch(0),L.default.error({message:_.t0.message||_.t0,duration:null}),O(!1);case 16:case"end":return _.stop()}},p,null,[[0,12]])}));return function(){return h.apply(this,arguments)}}();return(0,l.useEffect)(function(){(w==null?void 0:w.depositNonce)===V&&(w==null?void 0:w.status)==="Executed"&&(K(3),be(BigInt(0)),L.default.success({message:"Withdraw Success"}),w.txHash&&P(w.txHash),he&&Ze(he),we((0,T.Z)({},c)))},[he,w,Ze,V]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:t().fromLabel,children:ie.formatMessage({id:"dashboard.bridge.from",defaultMessage:"From"})}),(0,e.jsxs)("div",{className:t().formSection,children:[(0,e.jsxs)("div",{className:t().chainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:t().chainDetails,children:[(0,e.jsx)(S.Z,{src:"/images/logo-core-colored-fit-into-round.svg",preview:!1,className:t().chainIcon}),(0,e.jsx)("span",{className:t().chainDetailsChainName,children:"Parami chain"})]}),(0,e.jsxs)("div",{className:t().balanceDetails,children:[(0,e.jsxs)("span",{className:t().balanceDetailsLabel,children:[ie.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance Available"}),":"]}),(0,e.jsx)(F.Z,{placement:"top",title:(0,y.mI)(Le,(I=c==null?void 0:c.decimals)!==null&&I!==void 0?I:18),children:(0,e.jsx)("span",{className:t().balanceDetailsBalance,children:(0,e.jsx)(Ue.Z,{value:Le,symbol:c==null?void 0:c.symbol,decimals:c==null?void 0:c.decimals})})})]})]}),(0,e.jsxs)("div",{className:t().tokenAndAmountDetails,children:[(0,e.jsxs)("div",{className:t().tokenDetails,onClick:function(){Be(!0)},children:[(0,e.jsx)(S.Z,{src:c==null?void 0:c.icon,preview:!1,className:t().chainIcon}),(0,e.jsx)("span",{className:t().tokenDetailsTokenName,children:c==null?void 0:c.name}),(0,e.jsx)(s.Z,{className:t().tokenDetailsArrow})]}),(0,e.jsxs)("div",{className:t().amountDetails,children:[(0,e.jsx)(M.Z,{placeholder:"0.00",type:"number",size:"large",value:me,onChange:function(p){We(p.target.value)}}),(0,e.jsx)(m.Z,{className:t().amountDetailsMaxButton,type:"link",size:"small",onClick:function(){var p;We((0,y.mI)(Le,(p=c==null?void 0:c.decimals)!==null&&p!==void 0?p:18))},children:ie.formatMessage({id:"dashboard.bridge.max",defaultMessage:"MAX"})})]})]})]}),(0,e.jsx)("div",{className:t().downArrowSection,children:(0,e.jsx)(n.Z,{})}),(0,e.jsx)("div",{className:t().toLabel,children:ie.formatMessage({id:"dashboard.bridge.to",defaultMessage:"To"})}),(0,e.jsxs)("div",{className:t().toChainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:t().chainDetails,children:[(0,e.jsx)(S.Z,{src:"/images/crypto/ethereum-eth-logo.svg",preview:!1,className:t().chainIcon}),(0,e.jsx)("span",{className:t().chainDetailsChainName,children:ae})]}),(0,e.jsxs)("div",{className:t().balanceDetails,children:[(0,e.jsxs)("span",{className:t().balanceDetailsLabel,children:[ie.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(F.Z,{placement:"top",title:(0,y.mI)(J,(A=c==null?void 0:c.decimals)!==null&&A!==void 0?A:18),children:(0,e.jsx)("span",{className:t().balanceDetailsBalance,children:(0,e.jsx)(Ue.Z,{value:J,symbol:c==null?void 0:c.symbol,decimals:c==null?void 0:c.decimals})})})]})]}),(0,e.jsx)("div",{className:t().downArrowSection,children:(0,e.jsx)(i.Z,{})}),(0,e.jsx)("div",{className:t().destinationLabel,children:ie.formatMessage({id:"dashboard.bridge.destinationAddress",defaultMessage:"Destination Address"})}),(0,e.jsxs)("div",{className:t().destinationDetails,children:[(0,e.jsx)(M.Z,{placeholder:"0x......",type:"text",size:"large",value:Pe,onChange:function(p){ke(p.target.value)}}),(0,e.jsx)(m.Z,{className:t().destinationMyAddressButton,type:"default",size:"small",onClick:function(){ke(H)},children:ie.formatMessage({id:"dashboard.bridge.me",defaultMessage:"ME"})})]}),(0,e.jsx)(m.Z,{block:!0,type:"primary",size:"large",shape:"round",className:t().transferButton,onClick:function(){rs()},disabled:!me||!Pe||(0,y.HM)(me,(C=c==null?void 0:c.decimals)!==null&&C!==void 0?C:18)<=BigInt(0)||(0,y.HM)(me,(b=c==null?void 0:c.decimals)!==null&&b!==void 0?b:18)>BigInt(Le),children:ie.formatMessage({id:"dashboard.bridge.transfer",defaultMessage:"Transfer"})}),ts&&(0,e.jsx)(ds.Z,{onClose:function(){return Be(!1)},onSelectToken:function(p){we(p),Be(!1)},chain:"parami"}),ns&&c&&(0,e.jsx)(Zs,{onCancel:function(){return _e(!1)},onConfirm:function(){_e(!1),D()},amount:me,token:c})]})},Bs=Ps,_s=a(38655),Vs=a(35556),as=a(97880),ys=a(69764),us=a(51625),ms=a(7085),Os=a(72643),de=as.Z.Step,Is=function(g){var I=g.tab,A=g.step,C=g.ethHash,b=g.paramiHash,O=g.onClose,K=(0,E.tT)("web3"),P=K.ChainId,$=(0,l.useCallback)(function(){window.open("".concat(Os.E[P!=null?P:1]).concat(C),"_blank")},[P,C]);return(0,e.jsx)(ys.Z,{visable:!0,content:(0,e.jsxs)("div",{className:t().processContainer,children:[I==="deposit"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(as.Z,{progressDot:!0,size:"small",current:A,children:[(0,e.jsx)(de,{title:"Enter information"}),(0,e.jsx)(de,{title:"Ethereum chain"}),(0,e.jsx)(de,{title:"Parami chain"}),(0,e.jsx)(de,{title:"Tokens transferred"})]}),(0,e.jsxs)("div",{className:t().title,children:[A===1&&(0,e.jsx)("span",{children:"Ethereum chain"}),A===2&&(0,e.jsx)("span",{children:"Parami chain"}),A===3&&(0,e.jsx)("span",{children:"Tokens transferred"})]}),(0,e.jsx)("div",{className:t().cardContainer,children:C&&b?(0,e.jsxs)("div",{className:t().listHash,children:[(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("span",{className:t().title,children:"Parami chain"}),(0,e.jsx)("span",{className:t().value,onClick:function(){window.open("".concat(us.Z.explorer.block,"/").concat(b),"_blank")},children:(0,e.jsx)(F.Z,{placement:"topLeft",title:b,children:b})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("span",{className:t().title,children:"ETH chain"}),(0,e.jsx)("span",{className:t().value,onClick:$,children:(0,e.jsx)(F.Z,{placement:"topLeft",title:C,children:C})})]})]}):(0,e.jsx)(ss.Z,{indicator:(0,e.jsx)(ms.Z,{style:{fontSize:24},spin:!0}),tip:"Transfering..."})})]}),I==="withdraw"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(as.Z,{progressDot:!0,size:"small",current:A,children:[(0,e.jsx)(de,{title:"Enter information"}),(0,e.jsx)(de,{title:"Parami chain"}),(0,e.jsx)(de,{title:"Ethereum chain"}),(0,e.jsx)(de,{title:"Tokens transferred"})]}),(0,e.jsxs)("div",{className:t().title,children:[A===1&&(0,e.jsx)("span",{children:"Parami chain"}),A===2&&(0,e.jsx)("span",{children:"Ethereum chain"}),A===3&&(0,e.jsx)("span",{children:"Tokens transferred"})]}),(0,e.jsx)("div",{className:t().cardContainer,children:C&&b?(0,e.jsxs)("div",{className:t().listHash,children:[(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("span",{className:t().title,children:"Parami chain"}),(0,e.jsx)("span",{className:t().value,onClick:function(){window.open("".concat(us.Z.explorer.block,"/").concat(b),"_blank")},children:(0,e.jsx)(F.Z,{placement:"topLeft",title:b,children:b})})]}),(0,e.jsxs)("div",{className:t().field,children:[(0,e.jsx)("span",{className:t().title,children:"ETH chain"}),(0,e.jsx)("span",{className:t().value,onClick:function(){window.open("https://etherscan.io/tx/".concat(C),"_blank")},children:(0,e.jsx)(F.Z,{placement:"topLeft",title:C,children:C})})]})]}):(0,e.jsx)(ss.Z,{indicator:(0,e.jsx)(ms.Z,{style:{fontSize:24},spin:!0}),tip:"Transfering..."})})]})]}),footer:!1,close:C&&b?O:void 0})},ws=Is,Ls=a(97409),Hs=void 0,Us=function(){var g=(0,E.tT)("web3"),I=g.Account,A=g.connect,C=(0,l.useState)("deposit"),b=(0,d.Z)(C,2),O=b[0],K=b[1],P=(0,l.useState)(!1),$=(0,d.Z)(P,2),G=$[0],B=$[1],H=(0,l.useState)(1),ae=(0,d.Z)(H,2),z=ae[0],R=ae[1],te=(0,l.useState)(),Y=(0,d.Z)(te,2),ce=Y[0],pe=Y[1],Ze=(0,l.useState)(),w=(0,d.Z)(Ze,2),je=w[0],ue=w[1],V=(0,E.YB)(),be=Z.Z.Title;return(0,l.useEffect)(function(){A()},[]),(0,e.jsxs)(e.Fragment,{children:[I?(0,e.jsx)("div",{className:j().mainBgContainer,children:(0,e.jsxs)("div",{className:j().contentContainer,children:[(0,e.jsx)(Ls.Z,{theme:"dashboard",supportedChainId:Hs==="dev"?3:1}),(0,e.jsxs)("div",{className:t().bridgeContainer,children:[(0,e.jsxs)("div",{className:t().leftContainer,children:[(0,e.jsxs)("div",{className:t().innerWrapper,children:[(0,e.jsx)(be,{level:2,children:V.formatMessage({id:"dashboard.bridge.title",defaultMessage:"Parami Bridge"})}),(0,e.jsx)("span",{className:t().description,children:V.formatMessage({id:"dashboard.bridge.description",defaultMessage:"The safe, fast and most secure way to bring cross-chain assets to Parami chain."})}),(0,e.jsxs)("div",{className:t().points,children:[(0,e.jsx)("a",{children:V.formatMessage({id:"dashboard.bridge.howItWorks",defaultMessage:"How it works?"})}),(0,e.jsx)("a",{children:V.formatMessage({id:"dashboard.bridge.faq",defaultMessage:"FAQ"})}),(0,e.jsx)("a",{children:V.formatMessage({id:"dashboard.bridge.userGuide",defaultMessage:"User guide"})})]})]}),(0,e.jsx)("div",{className:t().bottomSection,children:(0,e.jsx)(S.Z,{src:"/images/background/chainbridge.svg",preview:!1,className:t().background})})]}),(0,e.jsxs)("div",{className:t().rightContainer,children:[(0,e.jsxs)("div",{className:t().bridgeTabs,children:[(0,e.jsx)("div",{className:N()(t().bridgeTabsItem,O==="deposit"?t().active:""),onClick:function(){return K("deposit")},children:V.formatMessage({id:"dashboard.bridge.deposit",defaultMessage:"Deposit"})}),(0,e.jsx)("div",{className:N()(t().bridgeTabsItem,O==="withdraw"?t().active:""),onClick:function(){return K("withdraw")},children:V.formatMessage({id:"dashboard.bridge.withdraw",defaultMessage:"Withdraw"})})]}),(0,e.jsxs)("div",{className:t().bridgeBody,children:[O==="deposit"&&(0,e.jsx)(bs,{setLoading:B,setStep:R,setETHHash:pe,setParamiHash:ue}),O==="withdraw"&&(0,e.jsx)(Bs,{setLoading:B,setStep:R,setETHHash:pe,setParamiHash:ue})]})]})]})]})}):(0,e.jsx)(_s.Z,{}),G&&(0,e.jsx)(ws,{tab:O,step:z,ethHash:ce,paramiHash:je,onClose:function(){B(!1),R(1),pe(""),ue("")}})]})},Ws=Us}}]);

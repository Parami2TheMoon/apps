(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[9811],{55133:function(v){v.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(v){v.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},66620:function(v){v.exports={visaCard:"visaCard___bphzJ",subTitle:"subTitle___1LQU-",buttons:"buttons___2add8",or:"or___2GkXi",button:"button___1CjWQ"}},46656:function(v,x,a){"use strict";var la=a(71194),R=a(50146),k=a(47673),T=a(32787),G=a(22385),j=a(31097),oa=a(17462),U=a(76772),z=a(57663),A=a(71577),X=a(74379),J=a(38648),q=a(3182),$=a(2824),da=a(402),I=a(3887),aa=a(94043),L=a.n(aa),g=a(67294),M=a(43581),ea=a(55133),n=a.n(ea),sa=a(3548),E=a(68855),b=a(47832),ta=a(55347),l=a(51625),t=a(85893),na=I.Z.Title,_a=function(r){var f=r.visable,S=r.setVisable,e=r.passphrase,h=r.setPassphrase,N=r.func,O=r.changePassphrase,W=(0,M.tT)("apiWs"),ia=(0,M.tT)("currentUser"),s=ia.wallet,ra=(0,M.tT)("balance"),H=ra.balance,y=(0,g.useState)(!1),B=(0,$.Z)(y,2),V=B[0],P=B[1],Y=(0,g.useState)(),Q=(0,$.Z)(Y,2),c=Q[0],C=Q[1],_=(0,M.YB)(),D=function(d){h(d?d.target.value:"")},K=function(){var m=(0,q.Z)(L().mark(function d(){var p,u,o,Z,F;return L().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(P(!0),s!=null&&s.passphrase&&h(s==null?void 0:s.passphrase),!((!e||e.length<6)&&!(s!=null&&s.passphrase))){i.next=5;break}return P(!1),i.abrupt("return");case 5:if(p=(s==null?void 0:s.passphrase)||e,!(p&&s!==null&&s!==void 0&&s.keystore)){i.next=16;break}if(u=(0,b.Gh)(p,s.keystore),u){i.next=13;break}return J.default.error({key:"passphraseError",message:_.formatMessage({id:"error.passphrase.error"}),duration:null}),h(""),P(!1),i.abrupt("return");case 13:o=new ta.ZP({type:"sr25519"}),Z=o.addFromUri(u),F=Z.address,s!=null&&s.account&&s.account!==F&&(localStorage.clear(),sessionStorage.clear(),window.location.href=l.Z.page.homePage);case 16:if(!N){i.next=19;break}return i.next=19,N();case 19:S(!1),P(!1);case 21:case"end":return i.stop()}},d)}));return function(){return m.apply(this,arguments)}}(),w=function(){var m=(0,q.Z)(L().mark(function d(){var p;return L().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(!!W&&!!s.account)){o.next=11;break}return o.next=3,N(!0,s.account);case 3:if(p=o.sent,!p){o.next=8;break}C(p.partialFee),o.next=11;break;case 8:if(O){o.next=11;break}return o.next=11,K();case 11:case"end":return o.stop()}},d)}));return function(){return m.apply(this,arguments)}}();return(0,g.useEffect)(function(){!!W&&!!(s!=null&&s.account)&&f&&w()},[W,s==null?void 0:s.account,f]),(0,g.useEffect)(function(){!!(s!=null&&s.passphrase)&&f&&!O&&h(s==null?void 0:s.passphrase)},[s==null?void 0:s.passphrase,e,f,O]),(0,t.jsxs)(R.Z,{"data-inspector-line":"104","data-inspector-column":"4","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",title:(0,t.jsx)(na,{"data-inspector-line":"106","data-inspector-column":"8","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",level:3,children:_.formatMessage({id:"modal.security.title"})}),closable:!1,className:n().modal,centered:!0,visible:f,width:400,footer:(0,t.jsxs)("div",{"data-inspector-line":"118","data-inspector-column":"8","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:n().buttons,children:[(0,t.jsx)(A.Z,{"data-inspector-line":"119","data-inspector-column":"10","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",type:"text",shape:"round",size:"large",className:n().button,onClick:function(){S(!1),window.location.reload()},loading:V,children:_.formatMessage({id:"common.decline"})}),(0,t.jsx)(A.Z,{"data-inspector-line":"134","data-inspector-column":"10","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",type:"primary",shape:"round",size:"large",className:n().button,onClick:function(){K()},disabled:!e||e.length<6,loading:V,children:_.formatMessage({id:"common.confirm"})})]}),children:[(0,t.jsxs)("div",{"data-inspector-line":"152","data-inspector-column":"6","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:n().confirmContainer,children:[!!c&&!!(c!=null&&c.toString())>H.free&&(0,t.jsx)(U.Z,{"data-inspector-line":"154","data-inspector-column":"10","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",description:_.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:n().alertContainer}),!!c&&(0,t.jsxs)("div",{"data-inspector-line":"167","data-inspector-column":"10","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:n().field,children:[(0,t.jsxs)("div",{"data-inspector-line":"168","data-inspector-column":"12","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:n().labal,children:[_.formatMessage({id:"modal.security.gas"}),(0,t.jsxs)("span",{"data-inspector-line":"172","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:n().small,children:["(",_.formatMessage({id:"modal.security.estimated"}),")"]}),(0,t.jsx)(j.Z,{"data-inspector-line":"177","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",placement:"bottom",title:_.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,t.jsx)(E.Z,{"data-inspector-line":"184","data-inspector-column":"16","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:n().labalIcon})})]}),(0,t.jsx)("div",{"data-inspector-line":"189","data-inspector-column":"12","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:n().value,children:(0,t.jsx)(sa.Z,{"data-inspector-line":"190","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",value:c,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(s!=null&&s.passphrase)||O)&&(0,t.jsx)("div",{"data-inspector-line":"202","data-inspector-column":"8","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,t.jsxs)("div",{"data-inspector-line":"211","data-inspector-column":"10","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:n().codeInput,children:[(0,t.jsxs)("div",{"data-inspector-line":"212","data-inspector-column":"12","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:n().verifyForm,children:[(0,t.jsx)("span",{"data-inspector-line":"213","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(0))&&!(e!=null&&e.slice(1,5))&&n().highLight,children:e==null?void 0:e.slice(0,1).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{"data-inspector-line":"216","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(1))&&!(e!=null&&e.slice(2,5))&&n().highLight,children:e==null?void 0:e.slice(1,2).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{"data-inspector-line":"219","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(2,3))&&!(e!=null&&e.slice(3,5))&&n().highLight,children:e==null?void 0:e.slice(2,3).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{"data-inspector-line":"222","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(3,4))&&!(e!=null&&e.slice(4,5))&&n().highLight,children:e==null?void 0:e.slice(3,4).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{"data-inspector-line":"225","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(4,5))&&!(e!=null&&e.slice(5))&&n().highLight,children:e==null?void 0:e.slice(4,5).replace(/[^]/,"\u2731")}),(0,t.jsx)("span",{"data-inspector-line":"228","data-inspector-column":"14","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",className:(e==null?void 0:e.slice(5))&&n().highLight,children:e==null?void 0:e.slice(5).replace(/[^]/,"\u2731")})]}),(0,t.jsx)(T.Z.Password,{"data-inspector-line":"230","data-inspector-column":"12","data-inspector-relative-path":"src/components/ParamiModal/SecurityModal.tsx",autoFocus:!0,autoComplete:"new-password",size:"large",className:n().verifyInput,onChange:D,value:e,disabled:V,maxLength:6,visibilityToggle:!1})]})})]})};x.Z=_a},3548:function(v,x,a){"use strict";var la=a(67294),R=a(31639),k=a.n(R),T=a(96534),G=a(85893),j=function(U){var z=U.value,A=U.style;return(0,G.jsxs)("div",{"data-inspector-line":"10","data-inspector-column":"4","data-inspector-relative-path":"src/components/Token/AD3.tsx",className:k().ad3,style:A,children:[z?(0,T.MP)(z):"--",(0,G.jsx)("span",{"data-inspector-line":"16","data-inspector-column":"6","data-inspector-relative-path":"src/components/Token/AD3.tsx",className:k().unit,children:"\xA0$AD3"})]})};x.Z=j},62066:function(v,x,a){"use strict";a.r(x);var la=a(58024),R=a(39144),k=a(57663),T=a(71577),G=a(17462),j=a(76772),oa=a(74379),U=a(38648),z=a(34792),A=a(48086),X=a(3182),J=a(2824),q=a(402),$=a(3887),da=a(94043),I=a.n(da),aa=a(46656),L=a(63667),g=a(67294),M=a(43581),ea=a(55909),n=a.n(ea),sa=a(66620),E=a.n(sa),b=a(59749),ta=a(47832),l=a(85893),t=$.Z.Title,na=function(){var ca=(0,M.tT)("currentUser"),r=ca.wallet,f=(0,g.useState)(!1),S=(0,J.Z)(f,2),e=S[0],h=S[1],N=(0,g.useState)(""),O=(0,J.Z)(N,2),W=O[0],ia=O[1],s=(0,M.YB)(),ra=M.m8.location.query,H=ra,y=H.audience,B=H.scope,V=B!=null?B:"",P=V.indexOf("sign")>-1,Y=function(){var c=(0,X.Z)(I().mark(function C(_,D){var K,w,m,d,p,u,o,Z,F;return I().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(_&&D)){i.next=2;break}return i.abrupt("return");case 2:if(!(!!r&&!!(r!=null&&r.keystore))){i.next=23;break}if(K=Date.now()/1e3|0,w=JSON.stringify({alg:P?"SrDSA":"none",typ:"JWT"}),m=JSON.stringify({iss:window.location.origin,sub:r==null?void 0:r.account,aud:y,iat:K,exp:K+30}),d="".concat((0,b.tH)(w),".").concat((0,b.tH)(m)),P){i.next=11;break}return window.opener.postMessage("".concat(d,"."),y),window.close(),i.abrupt("return");case 11:if(p=new L.Y({type:"sr25519"}),u=(0,ta.Gh)(W,r==null?void 0:r.keystore),!(u==null||!u)){i.next=16;break}return A.default.error(s.formatMessage({id:"error.passphrase.error"})),i.abrupt("return");case 16:o=p.createFromUri(u),Z=o.sign(d),F="".concat(d,".").concat((0,b.tH)(Z)),window.opener.postMessage(F,y),window.close(),i.next=24;break;case 23:U.default.error({key:"accessDenied",message:s.formatMessage({id:"error.accessDenied"}),duration:null});case 24:case"end":return i.stop()}},C)}));return function(_,D){return c.apply(this,arguments)}}(),Q=function(){var c=(0,X.Z)(I().mark(function C(){return I().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:window.opener.postMessage("eyJhbGciOiJub25lIiwidHlwIjoiSldUIn0.e30.",y),window.close();case 2:case"end":return D.stop()}},C)}));return function(){return c.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{"data-inspector-line":"89","data-inspector-column":"6","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:n().mainBgContainer,style:{height:"100vh"},children:(0,l.jsxs)("div",{"data-inspector-line":"95","data-inspector-column":"8","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:n().pageContainer,children:[(0,l.jsxs)(R.Z,{"data-inspector-line":"96","data-inspector-column":"10","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:E().visaCard,children:[(0,l.jsx)(t,{"data-inspector-line":"97","data-inspector-column":"12","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",level:2,style:{fontWeight:"bold",textAlign:"center"},children:s.formatMessage({id:"visa.title"})}),(0,l.jsx)("span",{"data-inspector-line":"108","data-inspector-column":"12","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:E().subTitle,children:s.formatMessage({id:"visa.subtitle"})}),(0,l.jsx)(j.Z,{"data-inspector-line":"115","data-inspector-column":"12","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",style:{textAlign:"center",marginTop:50},message:"Audience",description:y,type:"info"}),(0,l.jsxs)("div",{"data-inspector-line":"124","data-inspector-column":"12","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:E().buttons,children:[(0,l.jsx)(T.Z,{"data-inspector-line":"125","data-inspector-column":"14","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",type:"primary",shape:"round",size:"large",className:E().button,style:{backgroundImage:"linear-gradient(-225deg, #FE2105 0%, #FF5B00 38%, #96E9EA 100%)"},onClick:function(){P?h(!0):Y()},children:s.formatMessage({id:"visa.stamp"})}),(0,l.jsx)("span",{"data-inspector-line":"145","data-inspector-column":"14","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",className:E().or,children:s.formatMessage({id:"index.or"})}),(0,l.jsx)(T.Z,{"data-inspector-line":"150","data-inspector-column":"14","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",shape:"round",size:"large",className:E().button,onClick:Q,children:s.formatMessage({id:"visa.decline"})})]})]}),(0,l.jsx)("img",{"data-inspector-line":"162","data-inspector-column":"10","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",src:"/images/logo-text-black.svg",style:{display:"block",width:150,opacity:.3,marginBottom:20,marginTop:50}})]})}),(0,l.jsx)(aa.Z,{"data-inspector-line":"174","data-inspector-column":"6","data-inspector-relative-path":"src/pages/Visa/Visa.tsx",visable:e,setVisable:h,passphrase:W,setPassphrase:ia,func:Y})]})};x.default=na}}]);

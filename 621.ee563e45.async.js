var xa=Object.prototype.hasOwnProperty;var Di=Object.getOwnPropertySymbols,ka=Object.prototype.propertyIsEnumerable,Pe=Math.pow,Fe=Object.assign;var zi=(Ie,S)=>{var O={};for(var D in Ie)xa.call(Ie,D)&&S.indexOf(D)<0&&(O[D]=Ie[D]);if(Ie!=null&&Di)for(var D of Di(Ie))S.indexOf(D)<0&&ka.call(Ie,D)&&(O[D]=Ie[D]);return O};var ie=(Ie,S,O)=>new Promise((D,K)=>{var V=U=>{try{A(O.next(U))}catch(w){K(w)}},R=U=>{try{A(O.throw(U))}catch(w){K(w)}},A=U=>U.done?D(U.value):Promise.resolve(U.value).then(V,R);A((O=O.apply(Ie,S)).next())});(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[621],{85008:function(Ie,S,O){"use strict";O.d(S,{Z:function(){return w}});var D=O(28991),K=O(67294),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"}}]},name:"camera",theme:"outlined"},R=V,A=O(27029),U=function(X,ve){return K.createElement(A.Z,(0,D.Z)((0,D.Z)({},X),{},{ref:ve,icon:R}))};U.displayName="CameraOutlined";var w=K.forwardRef(U)},62298:function(Ie,S,O){"use strict";O.d(S,{Z:function(){return w}});var D=O(28991),K=O(67294),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},R=V,A=O(27029),U=function(X,ve){return K.createElement(A.Z,(0,D.Z)((0,D.Z)({},X),{},{ref:ve,icon:R}))};U.displayName="CloudUploadOutlined";var w=K.forwardRef(U)},57254:function(Ie,S,O){"use strict";O.d(S,{Z:function(){return w}});var D=O(28991),K=O(67294),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},R=V,A=O(27029),U=function(X,ve){return K.createElement(A.Z,(0,D.Z)((0,D.Z)({},X),{},{ref:ve,icon:R}))};U.displayName="DownOutlined";var w=K.forwardRef(U)},54977:function(Ie,S,O){"use strict";O.d(S,{Z:function(){return w}});var D=O(28991),K=O(67294),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},R=V,A=O(27029),U=function(X,ve){return K.createElement(A.Z,(0,D.Z)((0,D.Z)({},X),{},{ref:ve,icon:R}))};U.displayName="FormOutlined";var w=K.forwardRef(U)},48926:function(Ie){function S(D,K,V,R,A,U,w){try{var v=D[U](w),X=v.value}catch(ve){V(ve);return}v.done?K(X):Promise.resolve(X).then(R,A)}function O(D){return function(){var K=this,V=arguments;return new Promise(function(R,A){var U=D.apply(K,V);function w(X){S(U,R,A,w,v,"next",X)}function v(X){S(U,R,A,w,v,"throw",X)}w(void 0)})}}Ie.exports=O,Ie.exports.default=Ie.exports,Ie.exports.__esModule=!0},60821:function(Ie,S,O){"use strict";O.d(S,{Z:function(){return wa}});var D=O(26729),K=O.n(D),V=O(50780),R=O.n(V),A=O(64285),U=O(13550),w=O.n(U),v=O(77191),X=O.n(v),ve=O(25532),E=O(39386);class pe extends TypeError{constructor(e,r){let o;const{message:s}=e,c=zi(e,["message"]),{path:g}=e,I=g.length===0?s:"At path: "+g.join(".")+" -- "+s;super(I);Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>{var P;return(P=o)!=null?P:o=[e,...r()]}}}function Ee(a){return ce(a)&&typeof a[Symbol.iterator]=="function"}function ce(a){return typeof a=="object"&&a!=null}function q(a){if(Object.prototype.toString.call(a)!=="[object Object]")return!1;const e=Object.getPrototypeOf(a);return e===null||e===Object.prototype}function M(a){return typeof a=="string"?JSON.stringify(a):""+a}function j(a){const{done:e,value:r}=a.next();return e?void 0:r}function Z(a,e,r,o){if(a===!0)return;a===!1?a={}:typeof a=="string"&&(a={message:a});const{path:s,branch:c}=e,{type:g}=r,{refinement:I,message:P="Expected a value of type `"+g+"`"+(I?" with refinement `"+I+"`":"")+", but received: `"+M(o)+"`"}=a;return Fe(Fe({value:o,type:g,refinement:I,key:s[s.length-1],path:s,branch:c},a),{message:P})}function*ee(a,e,r,o){Ee(a)||(a=[a]);for(const s of a){const c=Z(s,e,r,o);c&&(yield c)}}function*H(a,e,r={}){const{path:o=[],branch:s=[a],coerce:c=!1,mask:g=!1}=r,I={path:o,branch:s};if(c&&(a=e.coercer(a,I),g&&e.type!=="type"&&ce(e.schema)&&ce(a)&&!Array.isArray(a)))for(const L in a)e.schema[L]===void 0&&delete a[L];let P=!0;for(const L of e.validator(a,I))P=!1,yield[L,void 0];for(let[L,Y,re]of e.entries(a,I)){const de=H(Y,re,{path:L===void 0?o:[...o,L],branch:L===void 0?s:[...s,Y],coerce:c,mask:g});for(const he of de)he[0]?(P=!1,yield[he[0],void 0]):c&&(Y=he[1],L===void 0?a=Y:a instanceof Map?a.set(L,Y):a instanceof Set?a.add(Y):ce(a)&&(a[L]=Y))}if(P)for(const L of e.refiner(a,I))P=!1,yield[L,void 0];P&&(yield[void 0,a])}class W{constructor(e){const{type:r,schema:o,validator:s,refiner:c,coercer:g=P=>P,entries:I=function*(){}}=e;this.type=r,this.schema=o,this.entries=I,this.coercer=g,s?this.validator=(P,L)=>{const Y=s(P,L);return ee(Y,L,this,P)}:this.validator=()=>[],c?this.refiner=(P,L)=>{const Y=c(P,L);return ee(Y,L,this,P)}:this.refiner=()=>[]}assert(e){return ye(e,this)}create(e){return Q(e,this)}is(e){return me(e,this)}mask(e){return ue(e,this)}validate(e,r={}){return Ae(e,this,r)}}function ye(a,e){const r=Ae(a,e);if(r[0])throw r[0]}function Q(a,e){const r=Ae(a,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function ue(a,e){const r=Ae(a,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function me(a,e){return!Ae(a,e)[0]}function Ae(a,e,r={}){const o=H(a,e,r),s=j(o);if(s[0])return[new pe(s[0],function*(){for(const g of o)g[0]&&(yield g[0])}),void 0];{const c=s[1];return[void 0,c]}}function te(...a){const e=a.map(o=>o.schema),r=Object.assign({},...e);return Le(r)}function z(a,e){return new W({type:a,schema:null,validator:e})}function se(a,e){return new W(Fe(Fe({},a),{refiner:(r,o)=>r===void 0||a.refiner(r,o),validator(r,o){return r===void 0?!0:(e(r,o),a.validator(r,o))}}))}function fe(a){return new W({type:"dynamic",schema:null,*entries(e,r){yield*a(e,r).entries(e,r)},validator(e,r){return a(e,r).validator(e,r)},coercer(e,r){return a(e,r).coercer(e,r)}})}function Re(a){let e;return new W({type:"lazy",schema:null,*entries(r,o){var s;(s=e)!=null||(e=a()),yield*e.entries(r,o)},validator(r,o){var s;return(s=e)!=null||(e=a()),e.validator(r,o)},coercer(r,o){var s;return(s=e)!=null||(e=a()),e.coercer(r,o)}})}function Ue(a,e){const{schema:r}=a,o=Fe({},r);for(const s of e)delete o[s];return Le(o)}function qe(a){const e=a instanceof W?Fe({},a.schema):Fe({},a);for(const r in e)e[r]=Te(e[r]);return Le(e)}function it(a,e){const{schema:r}=a,o={};for(const s of e)o[s]=r[s];return Le(o)}function tr(a,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),z(a,e)}function jt(){return z("any",()=>!0)}function ge(a){return new W({type:"array",schema:a,*entries(e){if(a&&Array.isArray(e))for(const[r,o]of e.entries())yield[r,o,a]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+M(e)}})}function Ce(){return z("boolean",a=>typeof a=="boolean")}function Ye(){return z("date",a=>a instanceof Date&&!isNaN(a.getTime())||"Expected a valid `Date` object, but received: "+M(a))}function _(a){const e={},r=a.map(o=>M(o)).join();for(const o of a)e[o]=o;return new W({type:"enums",schema:e,validator(o){return a.includes(o)||"Expected one of `"+r+"`, but received: "+M(o)}})}function k(){return z("func",a=>typeof a=="function"||"Expected a function, but received: "+M(a))}function p(a){return z("instance",e=>e instanceof a||"Expected a `"+a.name+"` instance, but received: "+M(e))}function m(){return z("integer",a=>typeof a=="number"&&!isNaN(a)&&Number.isInteger(a)||"Expected an integer, but received: "+M(a))}function b(a){return new W({type:"intersection",schema:null,*entries(e,r){for(const o of a)yield*o.entries(e,r)},*validator(e,r){for(const o of a)yield*o.validator(e,r)},*refiner(e,r){for(const o of a)yield*o.refiner(e,r)}})}function T(a){const e=M(a),r=typeof a;return new W({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?a:null,validator(o){return o===a||"Expected the literal `"+e+"`, but received: "+M(o)}})}function G(a,e){return new W({type:"map",schema:null,*entries(r){if(a&&e&&r instanceof Map)for(const[o,s]of r.entries())yield[o,o,a],yield[o,s,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||"Expected a `Map` object, but received: "+M(r)}})}function Se(){return z("never",()=>!1)}function ae(a){return new W(Fe(Fe({},a),{validator:(e,r)=>e===null||a.validator(e,r),refiner:(e,r)=>e===null||a.refiner(e,r)}))}function F(){return z("number",a=>typeof a=="number"&&!isNaN(a)||"Expected a number, but received: "+M(a))}function Le(a){const e=a?Object.keys(a):[],r=Se();return new W({type:"object",schema:a||null,*entries(o){if(a&&ce(o)){const s=new Set(Object.keys(o));for(const c of e)s.delete(c),yield[c,o[c],a[c]];for(const c of s)yield[c,o[c],r]}},validator(o){return ce(o)||"Expected an object, but received: "+M(o)},coercer(o){return ce(o)?Fe({},o):o}})}function Te(a){return new W(Fe(Fe({},a),{validator:(e,r)=>e===void 0||a.validator(e,r),refiner:(e,r)=>e===void 0||a.refiner(e,r)}))}function $t(a,e){return new W({type:"record",schema:null,*entries(r){if(ce(r))for(const o in r){const s=r[o];yield[o,o,a],yield[o,s,e]}},validator(r){return ce(r)||"Expected an object, but received: "+M(r)}})}function dr(){return z("regexp",a=>a instanceof RegExp)}function pr(a){return new W({type:"set",schema:null,*entries(e){if(a&&e instanceof Set)for(const r of e)yield[r,r,a]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||"Expected a `Set` object, but received: "+M(e)}})}function be(){return z("string",a=>typeof a=="string"||"Expected a string, but received: "+M(a))}function rr(a){const e=Se();return new W({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const o=Math.max(a.length,r.length);for(let s=0;s<o;s++)yield[s,r[s],a[s]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+M(r)}})}function J(a){const e=Object.keys(a);return new W({type:"type",schema:a,*entries(r){if(ce(r))for(const o of e)yield[o,r[o],a[o]]},validator(r){return ce(r)||"Expected an object, but received: "+M(r)}})}function Me(a){const e=a.map(r=>r.type).join(" | ");return new W({type:"union",schema:null,validator(r,o){const s=[];for(const c of a){const[...g]=H(r,c,o),[I]=g;if(I[0])for(const[P]of g)P&&s.push(P);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+M(r),...s]}})}function Xe(){return z("unknown",()=>!0)}function ot(a,e,r){return new W(Fe(Fe({},a),{coercer:(o,s)=>me(o,e)?a.coercer(r(o,s),s):a.coercer(o,s)}))}function St(a,e,r={}){return ot(a,Xe(),o=>{const s=typeof e=="function"?e():e;if(o===void 0)return s;if(!r.strict&&q(o)&&q(s)){const c=Fe({},o);let g=!1;for(const I in s)c[I]===void 0&&(c[I]=s[I],g=!0);if(g)return c}return o})}function pt(a){return ot(a,be(),e=>e.trim())}function f(a){const e="Expected an empty "+a.type;return d(a,"empty",r=>{if(r instanceof Map||r instanceof Set){const{size:o}=r;return o===0||e+" but received one with a size of `"+o+"`"}else{const{length:o}=r;return o===0||e+" but received one with a length of `"+o+"`"}})}function n(a,e,r={}){const{exclusive:o}=r;return d(a,"max",s=>o?s<e:s<=e||"Expected a "+a.type+" greater than "+(o?"":"or equal to ")+e+" but received `"+s+"`")}function t(a,e,r={}){const{exclusive:o}=r;return d(a,"min",s=>o?s>e:s>=e||"Expected a "+a.type+" greater than "+(o?"":"or equal to ")+e+" but received `"+s+"`")}function i(a,e){return d(a,"pattern",r=>e.test(r)||"Expected a "+a.type+" matching `/"+e.source+'/` but received "'+r+'"')}function u(a,e,r=e){const o="Expected a "+a.type,s=e===r?"of `"+e+"`":"between `"+e+"` and `"+r+"`";return d(a,"size",c=>{if(typeof c=="number"||c instanceof Date)return e<=c&&c<=r||o+" "+s+" but received `"+c+"`";if(c instanceof Map||c instanceof Set){const{size:g}=c;return e<=g&&g<=r||o+" with a size "+s+" but received one with a size of `"+g+"`"}else{const{length:g}=c;return e<=g&&g<=r||o+" with a length "+s+" but received one with a length of `"+g+"`"}})}function d(a,e,r){return new W(Fe(Fe({},a),{*refiner(o,s){yield*a.refiner(o,s);const c=r(o,s),g=ee(c,s,a,o);for(const I of g)yield Fe(Fe({},I),{refinement:e})}}))}var l=O(83937),y=O(31198),h=O(17221),x=O.n(h),C=O(91094),B=O.n(C);const N=a=>A.lW.isBuffer(a)?a:a instanceof Uint8Array?A.lW.from(a.buffer,a.byteOffset,a.byteLength):A.lW.from(a);var oe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof O.g!="undefined"?O.g:typeof self!="undefined"?self:{};function ke(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var we={},ne={},$e=De;function De(a,e){if(!a)throw new Error(e||"Assertion failed")}De.equal=function(e,r,o){if(e!=r)throw new Error(o||"Assertion failed: "+e+" != "+r)};var st={exports:{}};typeof Object.create=="function"?st.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:st.exports=function(e,r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e};var Ft=$e,xt=st.exports;ne.inherits=xt;function nr(a,e){return(a.charCodeAt(e)&64512)!=55296||e<0||e+1>=a.length?!1:(a.charCodeAt(e+1)&64512)==56320}function ir(a,e){if(Array.isArray(a))return a.slice();if(!a)return[];var r=[];if(typeof a=="string")if(e){if(e==="hex")for(a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!=0&&(a="0"+a),s=0;s<a.length;s+=2)r.push(parseInt(a[s]+a[s+1],16))}else for(var o=0,s=0;s<a.length;s++){var c=a.charCodeAt(s);c<128?r[o++]=c:c<2048?(r[o++]=c>>6|192,r[o++]=c&63|128):nr(a,s)?(c=65536+((c&1023)<<10)+(a.charCodeAt(++s)&1023),r[o++]=c>>18|240,r[o++]=c>>12&63|128,r[o++]=c>>6&63|128,r[o++]=c&63|128):(r[o++]=c>>12|224,r[o++]=c>>6&63|128,r[o++]=c&63|128)}else for(s=0;s<a.length;s++)r[s]=a[s]|0;return r}ne.toArray=ir;function Nt(a){for(var e="",r=0;r<a.length;r++)e+=or(a[r].toString(16));return e}ne.toHex=Nt;function Kt(a){var e=a>>>24|a>>>8&65280|a<<8&16711680|(a&255)<<24;return e>>>0}ne.htonl=Kt;function Lt(a,e){for(var r="",o=0;o<a.length;o++){var s=a[o];e==="little"&&(s=Kt(s)),r+=Vt(s.toString(16))}return r}ne.toHex32=Lt;function or(a){return a.length===1?"0"+a:a}ne.zero2=or;function Vt(a){return a.length===7?"0"+a:a.length===6?"00"+a:a.length===5?"000"+a:a.length===4?"0000"+a:a.length===3?"00000"+a:a.length===2?"000000"+a:a.length===1?"0000000"+a:a}ne.zero8=Vt;function kt(a,e,r,o){var s=r-e;Ft(s%4==0);for(var c=new Array(s/4),g=0,I=e;g<c.length;g++,I+=4){var P;o==="big"?P=a[I]<<24|a[I+1]<<16|a[I+2]<<8|a[I+3]:P=a[I+3]<<24|a[I+2]<<16|a[I+1]<<8|a[I],c[g]=P>>>0}return c}ne.join32=kt;function yt(a,e){for(var r=new Array(a.length*4),o=0,s=0;o<a.length;o++,s+=4){var c=a[o];e==="big"?(r[s]=c>>>24,r[s+1]=c>>>16&255,r[s+2]=c>>>8&255,r[s+3]=c&255):(r[s+3]=c>>>24,r[s+2]=c>>>16&255,r[s+1]=c>>>8&255,r[s]=c&255)}return r}ne.split32=yt;function ht(a,e){return a>>>e|a<<32-e}ne.rotr32=ht;function yr(a,e){return a<<e|a>>>32-e}ne.rotl32=yr;function Bt(a,e){return a+e>>>0}ne.sum32=Bt;function sr(a,e,r){return a+e+r>>>0}ne.sum32_3=sr;function Rt(a,e,r,o){return a+e+r+o>>>0}ne.sum32_4=Rt;function Ht(a,e,r,o,s){return a+e+r+o+s>>>0}ne.sum32_5=Ht;function Er(a,e,r,o){var s=a[e],c=a[e+1],g=o+c>>>0,I=(g<o?1:0)+r+s;a[e]=I>>>0,a[e+1]=g}ne.sum64=Er;function Sr(a,e,r,o){var s=e+o>>>0,c=(s<e?1:0)+a+r;return c>>>0}ne.sum64_hi=Sr;function mn(a,e,r,o){var s=e+o;return s>>>0}ne.sum64_lo=mn;function Pr(a,e,r,o,s,c,g,I){var P=0,L=e;L=L+o>>>0,P+=L<e?1:0,L=L+c>>>0,P+=L<c?1:0,L=L+I>>>0,P+=L<I?1:0;var Y=a+r+s+g+P;return Y>>>0}ne.sum64_4_hi=Pr;function bn(a,e,r,o,s,c,g,I){var P=e+o+c+I;return P>>>0}ne.sum64_4_lo=bn;function wn(a,e,r,o,s,c,g,I,P,L){var Y=0,re=e;re=re+o>>>0,Y+=re<e?1:0,re=re+c>>>0,Y+=re<c?1:0,re=re+I>>>0,Y+=re<I?1:0,re=re+L>>>0,Y+=re<L?1:0;var de=a+r+s+g+P+Y;return de>>>0}ne.sum64_5_hi=wn;function Gr(a,e,r,o,s,c,g,I,P,L){var Y=e+o+c+I+L;return Y>>>0}ne.sum64_5_lo=Gr;function Pt(a,e,r){var o=e<<32-r|a>>>r;return o>>>0}ne.rotr64_hi=Pt;function ft(a,e,r){var o=a<<32-r|e>>>r;return o>>>0}ne.rotr64_lo=ft;function ar(a,e,r){return a>>>r}ne.shr64_hi=ar;function Ct(a,e,r){var o=a<<32-r|e>>>r;return o>>>0}ne.shr64_lo=Ct;var dt={},cr=ne,Dt=$e;function vt(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}dt.BlockHash=vt,vt.prototype.update=function(e,r){if(e=cr.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var o=e.length%this._delta8;this.pending=e.slice(e.length-o,e.length),this.pending.length===0&&(this.pending=null),e=cr.join32(e,0,e.length-o,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this},vt.prototype.digest=function(e){return this.update(this._pad()),Dt(this.pending===null),this._digest(e)},vt.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,o=r-(e+this.padLength)%r,s=new Array(o+this.padLength);s[0]=128;for(var c=1;c<o;c++)s[c]=0;if(e<<=3,this.endian==="big"){for(var g=8;g<this.padLength;g++)s[c++]=0;s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=e>>>24&255,s[c++]=e>>>16&255,s[c++]=e>>>8&255,s[c++]=e&255}else for(s[c++]=e&255,s[c++]=e>>>8&255,s[c++]=e>>>16&255,s[c++]=e>>>24&255,s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=0,g=8;g<this.padLength;g++)s[c++]=0;return s};var Je={},ct={},Gt=ne,Ke=Gt.rotr32;function zt(a,e,r,o){if(a===0)return gr(e,r,o);if(a===1||a===3)return It(e,r,o);if(a===2)return Qe(e,r,o)}ct.ft_1=zt;function gr(a,e,r){return a&e^~a&r}ct.ch32=gr;function Qe(a,e,r){return a&e^a&r^e&r}ct.maj32=Qe;function It(a,e,r){return a^e^r}ct.p32=It;function Lr(a){return Ke(a,2)^Ke(a,13)^Ke(a,22)}ct.s0_256=Lr;function Dr(a){return Ke(a,6)^Ke(a,11)^Ke(a,25)}ct.s1_256=Dr;function qr(a){return Ke(a,7)^Ke(a,18)^a>>>3}ct.g0_256=qr;function Cr(a){return Ke(a,17)^Ke(a,19)^a>>>10}ct.g1_256=Cr;var qt=ne,Zr=dt,Yr=ct,Xr=qt.rotl32,ur=qt.sum32,vn=qt.sum32_5,Jr=Yr.ft_1,Qr=Zr.BlockHash,Zt=[1518500249,1859775393,2400959708,3395469782];function ut(){if(!(this instanceof ut))return new ut;Qr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}qt.inherits(ut,Qr);var zr=ut;ut.blockSize=512,ut.outSize=160,ut.hmacStrength=80,ut.padLength=64,ut.prototype._update=function(e,r){for(var o=this.W,s=0;s<16;s++)o[s]=e[r+s];for(;s<o.length;s++)o[s]=Xr(o[s-3]^o[s-8]^o[s-14]^o[s-16],1);var c=this.h[0],g=this.h[1],I=this.h[2],P=this.h[3],L=this.h[4];for(s=0;s<o.length;s++){var Y=~~(s/20),re=vn(Xr(c,5),Jr(Y,g,I,P),L,o[s],Zt[Y]);L=P,P=I,I=Xr(g,30),g=c,c=re}this.h[0]=ur(this.h[0],c),this.h[1]=ur(this.h[1],g),this.h[2]=ur(this.h[2],I),this.h[3]=ur(this.h[3],P),this.h[4]=ur(this.h[4],L)},ut.prototype._digest=function(e){return e==="hex"?qt.toHex32(this.h,"big"):qt.split32(this.h,"big")};var Yt=ne,Gn=dt,Ve=ct,Wi=$e,Wt=Yt.sum32,Mi=Yt.sum32_4,ji=Yt.sum32_5,$i=Ve.ch32,Ki=Ve.maj32,Vi=Ve.s0_256,Hi=Ve.s1_256,Gi=Ve.g0_256,qi=Ve.g1_256,qn=Gn.BlockHash,Zi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Xt(){if(!(this instanceof Xt))return new Xt;qn.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Zi,this.W=new Array(64)}Yt.inherits(Xt,qn);var Zn=Xt;Xt.blockSize=512,Xt.outSize=256,Xt.hmacStrength=192,Xt.padLength=64,Xt.prototype._update=function(e,r){for(var o=this.W,s=0;s<16;s++)o[s]=e[r+s];for(;s<o.length;s++)o[s]=Mi(qi(o[s-2]),o[s-7],Gi(o[s-15]),o[s-16]);var c=this.h[0],g=this.h[1],I=this.h[2],P=this.h[3],L=this.h[4],Y=this.h[5],re=this.h[6],de=this.h[7];for(Wi(this.k.length===o.length),s=0;s<o.length;s++){var he=ji(de,Hi(L),$i(L,Y,re),this.k[s],o[s]),_e=Wt(Vi(c),Ki(c,g,I));de=re,re=Y,Y=L,L=Wt(P,he),P=I,I=g,g=c,c=Wt(he,_e)}this.h[0]=Wt(this.h[0],c),this.h[1]=Wt(this.h[1],g),this.h[2]=Wt(this.h[2],I),this.h[3]=Wt(this.h[3],P),this.h[4]=Wt(this.h[4],L),this.h[5]=Wt(this.h[5],Y),this.h[6]=Wt(this.h[6],re),this.h[7]=Wt(this.h[7],de)},Xt.prototype._digest=function(e){return e==="hex"?Yt.toHex32(this.h,"big"):Yt.split32(this.h,"big")};var En=ne,Yn=Zn;function lr(){if(!(this instanceof lr))return new lr;Yn.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}En.inherits(lr,Yn);var Yi=lr;lr.blockSize=512,lr.outSize=224,lr.hmacStrength=192,lr.padLength=64,lr.prototype._digest=function(e){return e==="hex"?En.toHex32(this.h.slice(0,7),"big"):En.split32(this.h.slice(0,7),"big")};var _t=ne,Xi=dt,Ji=$e,Jt=_t.rotr64_hi,Qt=_t.rotr64_lo,Xn=_t.shr64_hi,Jn=_t.shr64_lo,mr=_t.sum64,Sn=_t.sum64_hi,xn=_t.sum64_lo,Qi=_t.sum64_4_hi,eo=_t.sum64_4_lo,to=_t.sum64_5_hi,ro=_t.sum64_5_lo,Qn=Xi.BlockHash,no=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Mt(){if(!(this instanceof Mt))return new Mt;Qn.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=no,this.W=new Array(160)}_t.inherits(Mt,Qn);var ei=Mt;Mt.blockSize=1024,Mt.outSize=512,Mt.hmacStrength=192,Mt.padLength=128,Mt.prototype._prepareBlock=function(e,r){for(var o=this.W,s=0;s<32;s++)o[s]=e[r+s];for(;s<o.length;s+=2){var c=yo(o[s-4],o[s-3]),g=go(o[s-4],o[s-3]),I=o[s-14],P=o[s-13],L=fo(o[s-30],o[s-29]),Y=po(o[s-30],o[s-29]),re=o[s-32],de=o[s-31];o[s]=Qi(c,g,I,P,L,Y,re,de),o[s+1]=eo(c,g,I,P,L,Y,re,de)}},Mt.prototype._update=function(e,r){this._prepareBlock(e,r);var o=this.W,s=this.h[0],c=this.h[1],g=this.h[2],I=this.h[3],P=this.h[4],L=this.h[5],Y=this.h[6],re=this.h[7],de=this.h[8],he=this.h[9],_e=this.h[10],Be=this.h[11],ze=this.h[12],nt=this.h[13],Tt=this.h[14],Ar=this.h[15];Ji(this.k.length===o.length);for(var fr=0;fr<o.length;fr+=2){var vr=Tt,Br=Ar,Rr=lo(de,he),Ut=ho(de,he),dn=io(de,he,_e,Be,ze),pn=oo(de,he,_e,Be,ze,nt),Ot=this.k[fr],yn=this.k[fr+1],Nr=o[fr],$=o[fr+1],le=to(vr,Br,Rr,Ut,dn,pn,Ot,yn,Nr,$),Oe=ro(vr,Br,Rr,Ut,dn,pn,Ot,yn,Nr,$);vr=co(s,c),Br=uo(s,c),Rr=so(s,c,g,I,P),Ut=ao(s,c,g,I,P,L);var lt=Sn(vr,Br,Rr,Ut),at=xn(vr,Br,Rr,Ut);Tt=ze,Ar=nt,ze=_e,nt=Be,_e=de,Be=he,de=Sn(Y,re,le,Oe),he=xn(re,re,le,Oe),Y=P,re=L,P=g,L=I,g=s,I=c,s=Sn(le,Oe,lt,at),c=xn(le,Oe,lt,at)}mr(this.h,0,s,c),mr(this.h,2,g,I),mr(this.h,4,P,L),mr(this.h,6,Y,re),mr(this.h,8,de,he),mr(this.h,10,_e,Be),mr(this.h,12,ze,nt),mr(this.h,14,Tt,Ar)},Mt.prototype._digest=function(e){return e==="hex"?_t.toHex32(this.h,"big"):_t.split32(this.h,"big")};function io(a,e,r,o,s){var c=a&r^~a&s;return c<0&&(c+=4294967296),c}function oo(a,e,r,o,s,c){var g=e&o^~e&c;return g<0&&(g+=4294967296),g}function so(a,e,r,o,s){var c=a&r^a&s^r&s;return c<0&&(c+=4294967296),c}function ao(a,e,r,o,s,c){var g=e&o^e&c^o&c;return g<0&&(g+=4294967296),g}function co(a,e){var r=Jt(a,e,28),o=Jt(e,a,2),s=Jt(e,a,7),c=r^o^s;return c<0&&(c+=4294967296),c}function uo(a,e){var r=Qt(a,e,28),o=Qt(e,a,2),s=Qt(e,a,7),c=r^o^s;return c<0&&(c+=4294967296),c}function lo(a,e){var r=Jt(a,e,14),o=Jt(a,e,18),s=Jt(e,a,9),c=r^o^s;return c<0&&(c+=4294967296),c}function ho(a,e){var r=Qt(a,e,14),o=Qt(a,e,18),s=Qt(e,a,9),c=r^o^s;return c<0&&(c+=4294967296),c}function fo(a,e){var r=Jt(a,e,1),o=Jt(a,e,8),s=Xn(a,e,7),c=r^o^s;return c<0&&(c+=4294967296),c}function po(a,e){var r=Qt(a,e,1),o=Qt(a,e,8),s=Jn(a,e,7),c=r^o^s;return c<0&&(c+=4294967296),c}function yo(a,e){var r=Jt(a,e,19),o=Jt(e,a,29),s=Xn(a,e,6),c=r^o^s;return c<0&&(c+=4294967296),c}function go(a,e){var r=Qt(a,e,19),o=Qt(e,a,29),s=Jn(a,e,6),c=r^o^s;return c<0&&(c+=4294967296),c}var kn=ne,ti=ei;function hr(){if(!(this instanceof hr))return new hr;ti.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}kn.inherits(hr,ti);var mo=hr;hr.blockSize=1024,hr.outSize=384,hr.hmacStrength=192,hr.padLength=128,hr.prototype._digest=function(e){return e==="hex"?kn.toHex32(this.h.slice(0,12),"big"):kn.split32(this.h.slice(0,12),"big")},Je.sha1=zr,Je.sha224=Yi,Je.sha256=Zn,Je.sha384=mo,Je.sha512=ei;var ri={},xr=ne,bo=dt,en=xr.rotl32,ni=xr.sum32,Wr=xr.sum32_3,ii=xr.sum32_4,oi=bo.BlockHash;function er(){if(!(this instanceof er))return new er;oi.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}xr.inherits(er,oi),ri.ripemd160=er,er.blockSize=512,er.outSize=160,er.hmacStrength=192,er.padLength=64,er.prototype._update=function(e,r){for(var o=this.h[0],s=this.h[1],c=this.h[2],g=this.h[3],I=this.h[4],P=o,L=s,Y=c,re=g,de=I,he=0;he<80;he++){var _e=ni(en(ii(o,si(he,s,c,g),e[Eo[he]+r],wo(he)),xo[he]),I);o=I,I=g,g=en(c,10),c=s,s=_e,_e=ni(en(ii(P,si(79-he,L,Y,re),e[So[he]+r],vo(he)),ko[he]),de),P=de,de=re,re=en(Y,10),Y=L,L=_e}_e=Wr(this.h[1],c,re),this.h[1]=Wr(this.h[2],g,de),this.h[2]=Wr(this.h[3],I,P),this.h[3]=Wr(this.h[4],o,L),this.h[4]=Wr(this.h[0],s,Y),this.h[0]=_e},er.prototype._digest=function(e){return e==="hex"?xr.toHex32(this.h,"little"):xr.split32(this.h,"little")};function si(a,e,r,o){return a<=15?e^r^o:a<=31?e&r|~e&o:a<=47?(e|~r)^o:a<=63?e&o|r&~o:e^(r|~o)}function wo(a){return a<=15?0:a<=31?1518500249:a<=47?1859775393:a<=63?2400959708:2840853838}function vo(a){return a<=15?1352829926:a<=31?1548603684:a<=47?1836072691:a<=63?2053994217:0}var Eo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],So=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],xo=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ko=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Io=ne,_o=$e;function Tr(a,e,r){if(!(this instanceof Tr))return new Tr(a,e,r);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(Io.toArray(e,r))}var Ao=Tr;Tr.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),_o(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)},Tr.prototype.update=function(e,r){return this.inner.update(e,r),this},Tr.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(a){var e=a;e.utils=ne,e.common=dt,e.sha=Je,e.ripemd=ri,e.hmac=Ao,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(we);var Bo=we;const Ro="logger/5.5.0";let ai=!1,ci=!1;const tn={debug:1,default:2,info:2,warning:3,error:4,off:5};let ui=tn.default,In=null;function Po(){try{const a=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch(r){a.push(e)}}),a.length)throw new Error("missing "+a.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(a){return a.message}return null}const li=Po();var _n;(function(a){a.DEBUG="DEBUG",a.INFO="INFO",a.WARNING="WARNING",a.ERROR="ERROR",a.OFF="OFF"})(_n||(_n={}));var An;(function(a){a.UNKNOWN_ERROR="UNKNOWN_ERROR",a.NOT_IMPLEMENTED="NOT_IMPLEMENTED",a.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",a.NETWORK_ERROR="NETWORK_ERROR",a.SERVER_ERROR="SERVER_ERROR",a.TIMEOUT="TIMEOUT",a.BUFFER_OVERRUN="BUFFER_OVERRUN",a.NUMERIC_FAULT="NUMERIC_FAULT",a.MISSING_NEW="MISSING_NEW",a.INVALID_ARGUMENT="INVALID_ARGUMENT",a.MISSING_ARGUMENT="MISSING_ARGUMENT",a.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",a.CALL_EXCEPTION="CALL_EXCEPTION",a.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",a.NONCE_EXPIRED="NONCE_EXPIRED",a.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",a.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",a.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(An||(An={}));const hi="0123456789abcdef";class et{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const o=e.toLowerCase();tn[o]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(ui>tn[o])&&console.log.apply(console,r)}debug(...e){this._log(et.levels.DEBUG,e)}info(...e){this._log(et.levels.INFO,e)}warn(...e){this._log(et.levels.WARNING,e)}makeError(e,r,o){if(ci)return this.makeError("censored error",r,{});r||(r=et.errors.UNKNOWN_ERROR),o||(o={});const s=[];Object.keys(o).forEach(I=>{const P=o[I];try{if(P instanceof Uint8Array){let L="";for(let Y=0;Y<P.length;Y++)L+=hi[P[Y]>>4],L+=hi[P[Y]&15];s.push(I+"=Uint8Array(0x"+L+")")}else s.push(I+"="+JSON.stringify(P))}catch(L){s.push(I+"="+JSON.stringify(o[I].toString()))}}),s.push(`code=${r}`),s.push(`version=${this.version}`);const c=e;s.length&&(e+=" ("+s.join(", ")+")");const g=new Error(e);return g.reason=c,g.code=r,Object.keys(o).forEach(function(I){g[I]=o[I]}),g}throwError(e,r,o){throw this.makeError(e,r,o)}throwArgumentError(e,r,o){return this.throwError(e,et.errors.INVALID_ARGUMENT,{argument:r,value:o})}assert(e,r,o,s){e||this.throwError(r,o,s)}assertArgument(e,r,o,s){e||this.throwArgumentError(r,o,s)}checkNormalize(e){li&&this.throwError("platform missing String.prototype.normalize",et.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:li})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,et.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,et.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,o){o?o=": "+o:o="",e<r&&this.throwError("missing argument"+o,et.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+o,et.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",et.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",et.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",et.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return In||(In=new et(Ro)),In}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",et.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ai){if(!e)return;this.globalLogger().throwError("error censorship permanent",et.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ci=!!e,ai=!!r}static setLogLevel(e){const r=tn[e.toLowerCase()];if(r==null){et.globalLogger().warn("invalid log level - "+e);return}ui=r}static from(e){return new et(e)}}et.errors=An,et.levels=_n;const Co="bytes/5.5.0",Bn=new et(Co);function To(a){return!!a.toHexString}function rn(a){return a.slice||(a.slice=function(){const e=Array.prototype.slice.call(arguments);return rn(new Uint8Array(Array.prototype.slice.apply(a,e)))}),a}function fi(a){return typeof a=="number"&&a==a&&a%1==0}function Uo(a){if(a==null)return!1;if(a.constructor===Uint8Array)return!0;if(typeof a=="string"||!fi(a.length)||a.length<0)return!1;for(let e=0;e<a.length;e++){const r=a[e];if(!fi(r)||r<0||r>=256)return!1}return!0}function Oo(a,e){if(e||(e={}),typeof a=="number"){Bn.checkSafeUint53(a,"invalid arrayify value");const r=[];for(;a;)r.unshift(a&255),a=parseInt(String(a/256));return r.length===0&&r.push(0),rn(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof a=="string"&&a.substring(0,2)!=="0x"&&(a="0x"+a),To(a)&&(a=a.toHexString()),Fo(a)){let r=a.substring(2);r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Bn.throwArgumentError("hex data is odd-length","value",a));const o=[];for(let s=0;s<r.length;s+=2)o.push(parseInt(r.substring(s,s+2),16));return rn(new Uint8Array(o))}return Uo(a)?rn(new Uint8Array(a)):Bn.throwArgumentError("invalid arrayify value","value",a)}function Fo(a,e){return!(typeof a!="string"||!a.match(/^0x[0-9A-Fa-f]*$/)||e&&a.length!==2+2*e)}const No="sha2/5.5.0";new et(No);function di(a){return"0x"+Bo.sha256().update(Oo(a)).digest("hex")}class Lo{constructor(e){Object.assign(this,e)}encode(){return A.lW.from((0,ve.serialize)(nn,this))}static decode(e){return(0,ve.deserialize)(nn,this,e)}static decodeUnchecked(e){return(0,ve.deserializeUnchecked)(nn,this,e)}}class Ia extends null{constructor(e){super(e);if(this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const nn=new Map,Do=32;function zo(a){return a._bn!==void 0}class xe extends Lo{constructor(e){super({});if(this._bn=void 0,zo(e))this._bn=e._bn;else{if(typeof e=="string"){const r=X().decode(e);if(r.length!=32)throw new Error("Invalid public key input");this._bn=new(w())(r)}else this._bn=new(w())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return X().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(A.lW);if(e.length===32)return e;const r=A.lW.alloc(32);return e.copy(r,32-e.length),r}toString(){return this.toBase58()}static createWithSeed(e,r,o){return ie(this,null,function*(){const s=A.lW.concat([e.toBuffer(),A.lW.from(r),o.toBuffer()]),c=di(new Uint8Array(s)).slice(2);return new xe(A.lW.from(c,"hex"))})}static createProgramAddress(e,r){return ie(this,null,function*(){let o=A.lW.alloc(0);e.forEach(function(g){if(g.length>Do)throw new TypeError("Max seed length exceeded");o=A.lW.concat([o,N(g)])}),o=A.lW.concat([o,r.toBuffer(),A.lW.from("ProgramDerivedAddress")]);let s=di(new Uint8Array(o)).slice(2),c=new(w())(s,16).toArray(void 0,32);if(pi(c))throw new Error("Invalid seeds, address must fall off the curve");return new xe(c)})}static findProgramAddress(e,r){return ie(this,null,function*(){let o=255,s;for(;o!=0;){try{const c=e.concat(A.lW.from([o]));s=yield this.createProgramAddress(c,r)}catch(c){if(c instanceof TypeError)throw c;o--;continue}return[s,o]}throw new Error("Unable to find a viable program address nonce")})}static isOnCurve(e){return pi(e)==1}}xe.default=new xe("11111111111111111111111111111111"),nn.set(xe,{kind:"struct",fields:[["_bn","u256"]]});let Ne=R().lowlevel;function pi(a){var e=[Ne.gf(),Ne.gf(),Ne.gf(),Ne.gf()],r=Ne.gf(),o=Ne.gf(),s=Ne.gf(),c=Ne.gf(),g=Ne.gf(),I=Ne.gf(),P=Ne.gf();return Ne.set25519(e[2],Wo),Ne.unpack25519(e[1],a),Ne.S(s,e[1]),Ne.M(c,s,Ne.D),Ne.Z(s,s,e[2]),Ne.A(c,e[2],c),Ne.S(g,c),Ne.S(I,g),Ne.M(P,I,g),Ne.M(r,P,s),Ne.M(r,r,c),Ne.pow2523(r,r),Ne.M(r,r,s),Ne.M(r,r,c),Ne.M(r,r,c),Ne.M(e[0],r,c),Ne.S(o,e[0]),Ne.M(o,o,c),yi(o,s)&&Ne.M(e[0],e[0],Mo),Ne.S(o,e[0]),Ne.M(o,o,c),yi(o,s)?0:1}let Wo=Ne.gf([1]),Mo=Ne.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function yi(a,e){var r=new Uint8Array(32),o=new Uint8Array(32);return Ne.pack25519(r,a),Ne.pack25519(o,e),Ne.crypto_verify_32(r,0,o,0)}class _a{constructor(e){this._keypair=void 0,e?this._keypair=nacl.sign.keyPair.fromSecretKey(N(e)):this._keypair=nacl.sign.keyPair()}get publicKey(){return new xe(this._keypair.publicKey)}get secretKey(){return N(this._keypair.secretKey)}}const Aa=new xe("BPFLoader1111111111111111111111111111111111"),je=(a="publicKey")=>E.blob(32,a),Ur=(a="string")=>{const e=E.struct([E.u32("length"),E.u32("lengthPadding"),E.blob(E.offset(E.u32(),-8),"chars")],a),r=e.decode.bind(e),o=e.encode.bind(e);return e.decode=(s,c)=>r(s,c).chars.toString("utf8"),e.encode=(s,c,g)=>{const I={chars:A.lW.from(s,"utf8")};return o(I,c,g)},e.alloc=s=>E.u32().span+E.u32().span+A.lW.from(s,"utf8").length,e},jo=(a="authorized")=>E.struct([je("staker"),je("withdrawer")],a),$o=(a="lockup")=>E.struct([E.ns64("unixTimestamp"),E.ns64("epoch"),je("custodian")],a),Ko=(a="voteInit")=>E.struct([je("nodePubkey"),je("authorizedVoter"),je("authorizedWithdrawer"),E.u8("commission")],a);function Vo(a,e){let r=0;return a.layout.fields.forEach(o=>{o.span>=0?r+=o.span:typeof o.alloc=="function"&&(r+=o.alloc(e[o.property]))}),r}function Or(a){let e=0,r=0;for(;;){let o=a.shift();if(e|=(o&127)<<r*7,r+=1,(o&128)==0)break}return e}function Mr(a,e){let r=e;for(;;){let o=r&127;if(r>>=7,r==0){a.push(o);break}else o|=128,a.push(o)}}const on=32;class br{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new xe(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];Mr(r,e);const o=this.instructions.map(re=>{const{accounts:de,programIdIndex:he}=re,_e=X().decode(re.data);let Be=[];Mr(Be,de.length);let ze=[];return Mr(ze,_e.length),{programIdIndex:he,keyIndicesCount:A.lW.from(Be),keyIndices:A.lW.from(de),dataLength:A.lW.from(ze),data:_e}});let s=[];Mr(s,o.length);let c=A.lW.alloc(sn);A.lW.from(s).copy(c);let g=s.length;o.forEach(re=>{g+=E.struct([E.u8("programIdIndex"),E.blob(re.keyIndicesCount.length,"keyIndicesCount"),E.seq(E.u8("keyIndex"),re.keyIndices.length,"keyIndices"),E.blob(re.dataLength.length,"dataLength"),E.seq(E.u8("userdatum"),re.data.length,"data")]).encode(re,c,g)}),c=c.slice(0,g);const I=E.struct([E.blob(1,"numRequiredSignatures"),E.blob(1,"numReadonlySignedAccounts"),E.blob(1,"numReadonlyUnsignedAccounts"),E.blob(r.length,"keyCount"),E.seq(je("key"),e,"keys"),je("recentBlockhash")]),P={numRequiredSignatures:A.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:A.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:A.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:A.lW.from(r),keys:this.accountKeys.map(re=>N(re.toBytes())),recentBlockhash:X().decode(this.recentBlockhash)};let L=A.lW.alloc(2048);const Y=I.encode(P,L);return c.copy(L,Y),L.slice(0,Y+c.length)}static from(e){let r=[...e];const o=r.shift(),s=r.shift(),c=r.shift(),g=Or(r);let I=[];for(let de=0;de<g;de++){const he=r.slice(0,on);r=r.slice(on),I.push(X().encode(A.lW.from(he)))}const P=r.slice(0,on);r=r.slice(on);const L=Or(r);let Y=[];for(let de=0;de<L;de++){const he=r.shift(),_e=Or(r),Be=r.slice(0,_e);r=r.slice(_e);const ze=Or(r),nt=r.slice(0,ze),Tt=X().encode(A.lW.from(nt));r=r.slice(ze),Y.push({programIdIndex:he,accounts:Be,data:Tt})}const re={header:{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:c},recentBlockhash:X().encode(A.lW.from(P)),accountKeys:I,instructions:Y};return new br(re)}}function gt(a,e){if(!a)throw new Error(e||"Assertion failed")}const Ho=A.lW.alloc(64).fill(0),sn=1280-40-8,gi=64;class Et{constructor(e){this.keys=void 0,this.programId=void 0,this.data=A.lW.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}}class He{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,e&&Object.assign(this,e)}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Et(r))}),this}compileMessage(){const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:r}=this;if(!r)throw new Error("Transaction recentBlockhash required");this.instructions.length<1&&console.warn("No instructions provided");let o;if(this.feePayer)o=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)o=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let Be=0;Be<this.instructions.length;Be++)if(this.instructions[Be].programId===void 0)throw new Error(`Transaction instruction index ${Be} has undefined program id`);const s=[],c=[];this.instructions.forEach(Be=>{Be.keys.forEach(nt=>{c.push(Fe({},nt))});const ze=Be.programId.toString();s.includes(ze)||s.push(ze)}),s.forEach(Be=>{c.push({pubkey:new xe(Be),isSigner:!1,isWritable:!1})}),c.sort(function(Be,ze){const nt=Be.pubkey.toBase58().localeCompare(ze.pubkey.toBase58()),Tt=Be.isSigner===ze.isSigner?0:Be.isSigner?-1:1,Ar=Be.isWritable===ze.isWritable?nt:Be.isWritable?-1:1;return Tt||Ar});const g=[];c.forEach(Be=>{const ze=Be.pubkey.toString(),nt=g.findIndex(Tt=>Tt.pubkey.toString()===ze);nt>-1?g[nt].isWritable=g[nt].isWritable||Be.isWritable:g.push(Be)});const I=g.findIndex(Be=>Be.pubkey.equals(o));if(I>-1){const[Be]=g.splice(I,1);Be.isSigner=!0,Be.isWritable=!0,g.unshift(Be)}else g.unshift({pubkey:o,isSigner:!0,isWritable:!0});for(const Be of this.signatures){const ze=g.findIndex(nt=>nt.pubkey.equals(Be.publicKey));if(ze>-1)g[ze].isSigner||(g[ze].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${Be.publicKey.toString()}`)}let P=0,L=0,Y=0;const re=[],de=[];g.forEach(({pubkey:Be,isSigner:ze,isWritable:nt})=>{ze?(re.push(Be.toString()),P+=1,nt||(L+=1)):(de.push(Be.toString()),nt||(Y+=1))});const he=re.concat(de),_e=this.instructions.map(Be=>{const{data:ze,programId:nt}=Be;return{programIdIndex:he.indexOf(nt.toString()),accounts:Be.keys.map(Tt=>he.indexOf(Tt.pubkey.toString())),data:X().encode(ze)}});return _e.forEach(Be=>{gt(Be.programIdIndex>=0),Be.accounts.forEach(ze=>gt(ze>=0))}),new br({header:{numRequiredSignatures:P,numReadonlySignedAccounts:L,numReadonlyUnsignedAccounts:Y},accountKeys:he,recentBlockhash:r,instructions:_e})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((s,c)=>r[c].equals(s.publicKey))||(this.signatures=r.map(o=>({signature:null,publicKey:o}))),e}serializeMessage(){return this._compile().serialize()}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(o=>{const s=o.toString();return r.has(s)?!1:(r.add(s),!0)}).map(o=>({signature:null,publicKey:o}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,o=[];for(const c of e){const g=c.publicKey.toString();r.has(g)||(r.add(g),o.push(c))}this.signatures=o.map(c=>({signature:null,publicKey:c.publicKey}));const s=this._compile();this._partialSign(s,...o),this._verifySignatures(s.serialize(),!0)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,o=[];for(const c of e){const g=c.publicKey.toString();r.has(g)||(r.add(g),o.push(c))}const s=this._compile();this._partialSign(s,...o)}_partialSign(e,...r){const o=e.serialize();r.forEach(s=>{const c=R().sign.detached(o,s.secretKey);this._addSignature(s.publicKey,N(c))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){gt(r.length===64);const o=this.signatures.findIndex(s=>e.equals(s.publicKey));if(o<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[o].signature=A.lW.from(r)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,r){for(const{signature:o,publicKey:s}of this.signatures)if(o===null){if(r)return!1}else if(!R().sign.detached.verify(e,o,s.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:r,verifySignatures:o}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(o&&!this._verifySignatures(s,r))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(e){const{signatures:r}=this,o=[];Mr(o,r.length);const s=o.length+r.length*64+e.length,c=A.lW.alloc(s);return gt(r.length<256),A.lW.from(o).copy(c,0),r.forEach(({signature:g},I)=>{g!==null&&(gt(g.length===64,"signature has invalid length"),A.lW.from(g).copy(c,o.length+I*64))}),e.copy(c,o.length+r.length*64),gt(c.length<=sn,`Transaction too large: ${c.length} > ${sn}`),c}get keys(){return gt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return gt(this.instructions.length===1),this.instructions[0].programId}get data(){return gt(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const o=Or(r);let s=[];for(let c=0;c<o;c++){const g=r.slice(0,gi);r=r.slice(gi),s.push(X().encode(A.lW.from(g)))}return He.populate(br.from(r),s)}static populate(e,r=[]){const o=new He;return o.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(o.feePayer=e.accountKeys[0]),r.forEach((s,c)=>{const g={signature:s==X().encode(Ho)?null:X().decode(s),publicKey:e.accountKeys[c]};o.signatures.push(g)}),e.instructions.forEach(s=>{const c=s.accounts.map(g=>{const I=e.accountKeys[g];return{pubkey:I,isSigner:o.signatures.some(P=>P.publicKey.toString()===I.toString())||e.isAccountSigner(g),isWritable:e.isAccountWritable(g)}});o.instructions.push(new Et({keys:c,programId:e.accountKeys[s.programIdIndex],data:X().decode(s.data)}))}),o}}const wr=new xe("SysvarC1ock11111111111111111111111111111111"),Ba=new xe("SysvarEpochSchedu1e111111111111111111111111"),Ra=new xe("Sysvar1nstructions1111111111111111111111111"),Rn=new xe("SysvarRecentB1ockHashes11111111111111111111"),jr=new xe("SysvarRent111111111111111111111111111111111"),Pa=new xe("SysvarRewards111111111111111111111111111111"),Ca=new xe("SysvarS1otHashes111111111111111111111111111"),Ta=new xe("SysvarS1otHistory11111111111111111111111111"),Pn=new xe("SysvarStakeHistory1111111111111111111111111");function Cn(a,e,r,o){return ie(this,null,function*(){const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,maxRetries:o.maxRetries},c=yield a.sendTransaction(e,r,s),g=(yield a.confirmTransaction(c,o&&o.commitment)).value;if(g.err)throw new Error(`Transaction ${c} failed (${JSON.stringify(g)})`);return c})}function an(a){return new Promise(e=>setTimeout(e,a))}function tt(a,e){const r=a.layout.span>=0?a.layout.span:Vo(a,e),o=A.lW.alloc(r),s=Object.assign({instruction:a.index},e);return a.layout.encode(s,o),o}function rt(a,e){let r;try{r=a.layout.decode(e)}catch(o){throw new Error("invalid instruction; "+o)}if(r.instruction!==a.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${a.index}`);return r}const Go=E.nu64("lamportsPerSignature"),mi=E.struct([E.u32("version"),E.u32("state"),je("authorizedPubkey"),je("nonce"),E.struct([Go],"feeCalculator")]),bi=mi.span;class Tn{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=mi.decode(N(e),0);return new Tn({authorizedPubkey:new xe(r.authorizedPubkey),nonce:new xe(r.nonce).toString(),feeCalculator:r.feeCalculator})}}class Ua{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const o=BufferLayout.u32("instruction").decode(e.data);let s;for(const[c,g]of Object.entries(Ze))if(g.index==o){s=c;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:o,programId:s}=rt(Ze.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:o,programId:new xe(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=rt(Ze.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:o,programId:s}=rt(Ze.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:o,programId:new xe(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=rt(Ze.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:o,space:s,programId:c}=rt(Ze.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new xe(r),seed:o,space:s,programId:new xe(c)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=rt(Ze.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new xe(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:o,programId:s}=rt(Ze.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new xe(r),seed:o,programId:new xe(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:o,lamports:s,space:c,programId:g}=rt(Ze.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new xe(r),seed:o,lamports:s,space:c,programId:new xe(g)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=rt(Ze.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new xe(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rt(Ze.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=rt(Ze.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=rt(Ze.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new xe(r)}}static checkProgramId(e){if(!e.equals(At.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Ze=Object.freeze({Create:{index:0,layout:E.struct([E.u32("instruction"),E.ns64("lamports"),E.ns64("space"),je("programId")])},Assign:{index:1,layout:E.struct([E.u32("instruction"),je("programId")])},Transfer:{index:2,layout:E.struct([E.u32("instruction"),E.ns64("lamports")])},CreateWithSeed:{index:3,layout:E.struct([E.u32("instruction"),je("base"),Ur("seed"),E.ns64("lamports"),E.ns64("space"),je("programId")])},AdvanceNonceAccount:{index:4,layout:E.struct([E.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:E.struct([E.u32("instruction"),E.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:E.struct([E.u32("instruction"),je("authorized")])},AuthorizeNonceAccount:{index:7,layout:E.struct([E.u32("instruction"),je("authorized")])},Allocate:{index:8,layout:E.struct([E.u32("instruction"),E.ns64("space")])},AllocateWithSeed:{index:9,layout:E.struct([E.u32("instruction"),je("base"),Ur("seed"),E.ns64("space"),je("programId")])},AssignWithSeed:{index:10,layout:E.struct([E.u32("instruction"),je("base"),Ur("seed"),je("programId")])},TransferWithSeed:{index:11,layout:E.struct([E.u32("instruction"),E.ns64("lamports"),Ur("seed"),je("programId")])}});class At{constructor(){}static createAccount(e){const r=Ze.Create,o=tt(r,{lamports:e.lamports,space:e.space,programId:N(e.programId.toBuffer())});return new Et({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:o})}static transfer(e){let r,o;if("basePubkey"in e){const s=Ze.TransferWithSeed;r=tt(s,{lamports:e.lamports,seed:e.seed,programId:N(e.programId.toBuffer())}),o=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ze.Transfer;r=tt(s,{lamports:e.lamports}),o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Et({keys:o,programId:this.programId,data:r})}static assign(e){let r,o;if("basePubkey"in e){const s=Ze.AssignWithSeed;r=tt(s,{base:N(e.basePubkey.toBuffer()),seed:e.seed,programId:N(e.programId.toBuffer())}),o=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ze.Assign;r=tt(s,{programId:N(e.programId.toBuffer())}),o=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Et({keys:o,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=Ze.CreateWithSeed,o=tt(r,{base:N(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:N(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Et({keys:s,programId:this.programId,data:o})}static createNonceAccount(e){const r=new He;"basePubkey"in e&&"seed"in e?r.add(At.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:bi,programId:this.programId})):r.add(At.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:bi,programId:this.programId}));const o={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(o)),r}static nonceInitialize(e){const r=Ze.InitializeNonceAccount,o=tt(r,{authorized:N(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:jr,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new Et(s)}static nonceAdvance(e){const r=Ze.AdvanceNonceAccount,o=tt(r),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Et(s)}static nonceWithdraw(e){const r=Ze.WithdrawNonceAccount,o=tt(r,{lamports:e.lamports});return new Et({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:jr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static nonceAuthorize(e){const r=Ze.AuthorizeNonceAccount,o=tt(r,{authorized:N(e.newAuthorizedPubkey.toBuffer())});return new Et({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static allocate(e){let r,o;if("basePubkey"in e){const s=Ze.AllocateWithSeed;r=tt(s,{base:N(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:N(e.programId.toBuffer())}),o=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ze.Allocate;r=tt(s,{space:e.space}),o=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Et({keys:o,programId:this.programId,data:r})}}At.programId=new xe("11111111111111111111111111111111");const qo=sn-300;class Fr{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Fr.chunkSize)+1+1)}static load(e,r,o,s,c){return ie(this,null,function*(){{const re=yield e.getMinimumBalanceForRentExemption(c.length),de=yield e.getAccountInfo(o.publicKey,"confirmed");let he=null;if(de!==null){if(de.executable)return console.error("Program load failed, account is already executable"),!1;de.data.length!==c.length&&(he=he||new He,he.add(At.allocate({accountPubkey:o.publicKey,space:c.length}))),de.owner.equals(s)||(he=he||new He,he.add(At.assign({accountPubkey:o.publicKey,programId:s}))),de.lamports<re&&(he=he||new He,he.add(At.transfer({fromPubkey:r.publicKey,toPubkey:o.publicKey,lamports:re-de.lamports})))}else he=new He().add(At.createAccount({fromPubkey:r.publicKey,newAccountPubkey:o.publicKey,lamports:re>0?re:1,space:c.length,programId:s}));he!==null&&(yield Cn(e,he,[r,o],{commitment:"confirmed"}))}const g=E.struct([E.u32("instruction"),E.u32("offset"),E.u32("bytesLength"),E.u32("bytesLengthPadding"),E.seq(E.u8("byte"),E.offset(E.u32(),-8),"bytes")]),I=Fr.chunkSize;let P=0,L=c,Y=[];for(;L.length>0;){const re=L.slice(0,I),de=A.lW.alloc(I+16);g.encode({instruction:0,offset:P,bytes:re},de);const he=new He().add({keys:[{pubkey:o.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:de});Y.push(Cn(e,he,[r,o],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&(yield an(1e3/4)),P+=I,L=L.slice(I)}yield Promise.all(Y);{const re=E.struct([E.u32("instruction")]),de=A.lW.alloc(re.span);re.encode({instruction:1},de);const he=new He().add({keys:[{pubkey:o.publicKey,isSigner:!0,isWritable:!0},{pubkey:jr,isSigner:!1,isWritable:!1}],programId:s,data:de});yield Cn(e,he,[r,o],{commitment:"confirmed"})}return!0})}}Fr.chunkSize=qo;const Oa=new xe("BPFLoader2111111111111111111111111111111111");class Fa{static getMinNumSignatures(e){return Fr.getMinNumSignatures(e)}static load(e,r,o,s,c){return Fr.load(e,r,o,c,s)}}var Un={exports:{}};(function(a,e){var r=typeof self!="undefined"?self:oe,o=function(){function c(){this.fetch=!1,this.DOMException=r.DOMException}return c.prototype=r,new c}();(function(c){(function(g){var I={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch($){return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function P($){return $&&DataView.prototype.isPrototypeOf($)}if(I.arrayBuffer)var L=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Y=ArrayBuffer.isView||function($){return $&&L.indexOf(Object.prototype.toString.call($))>-1};function re($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test($))throw new TypeError("Invalid character in header field name");return $.toLowerCase()}function de($){return typeof $!="string"&&($=String($)),$}function he($){var le={next:function(){var Oe=$.shift();return{done:Oe===void 0,value:Oe}}};return I.iterable&&(le[Symbol.iterator]=function(){return le}),le}function _e($){this.map={},$ instanceof _e?$.forEach(function(le,Oe){this.append(Oe,le)},this):Array.isArray($)?$.forEach(function(le){this.append(le[0],le[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(le){this.append(le,$[le])},this)}_e.prototype.append=function($,le){$=re($),le=de(le);var Oe=this.map[$];this.map[$]=Oe?Oe+", "+le:le},_e.prototype.delete=function($){delete this.map[re($)]},_e.prototype.get=function($){return $=re($),this.has($)?this.map[$]:null},_e.prototype.has=function($){return this.map.hasOwnProperty(re($))},_e.prototype.set=function($,le){this.map[re($)]=de(le)},_e.prototype.forEach=function($,le){for(var Oe in this.map)this.map.hasOwnProperty(Oe)&&$.call(le,this.map[Oe],Oe,this)},_e.prototype.keys=function(){var $=[];return this.forEach(function(le,Oe){$.push(Oe)}),he($)},_e.prototype.values=function(){var $=[];return this.forEach(function(le){$.push(le)}),he($)},_e.prototype.entries=function(){var $=[];return this.forEach(function(le,Oe){$.push([Oe,le])}),he($)},I.iterable&&(_e.prototype[Symbol.iterator]=_e.prototype.entries);function Be($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function ze($){return new Promise(function(le,Oe){$.onload=function(){le($.result)},$.onerror=function(){Oe($.error)}})}function nt($){var le=new FileReader,Oe=ze(le);return le.readAsArrayBuffer($),Oe}function Tt($){var le=new FileReader,Oe=ze(le);return le.readAsText($),Oe}function Ar($){for(var le=new Uint8Array($),Oe=new Array(le.length),lt=0;lt<le.length;lt++)Oe[lt]=String.fromCharCode(le[lt]);return Oe.join("")}function fr($){if($.slice)return $.slice(0);var le=new Uint8Array($.byteLength);return le.set(new Uint8Array($)),le.buffer}function vr(){return this.bodyUsed=!1,this._initBody=function($){this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:I.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:I.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:I.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():I.arrayBuffer&&I.blob&&P($)?(this._bodyArrayBuffer=fr($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):I.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||Y($))?this._bodyArrayBuffer=fr($):this._bodyText=$=Object.prototype.toString.call($):this._bodyText="",this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):I.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},I.blob&&(this.blob=function(){var $=Be(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Be(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(nt)}),this.text=function(){var $=Be(this);if($)return $;if(this._bodyBlob)return Tt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ar(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},I.formData&&(this.formData=function(){return this.text().then(dn)}),this.json=function(){return this.text().then(JSON.parse)},this}var Br=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Rr($){var le=$.toUpperCase();return Br.indexOf(le)>-1?le:$}function Ut($,le){le=le||{};var Oe=le.body;if($ instanceof Ut){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,le.headers||(this.headers=new _e($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!Oe&&$._bodyInit!=null&&(Oe=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=le.credentials||this.credentials||"same-origin",(le.headers||!this.headers)&&(this.headers=new _e(le.headers)),this.method=Rr(le.method||this.method||"GET"),this.mode=le.mode||this.mode||null,this.signal=le.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Oe)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Oe)}Ut.prototype.clone=function(){return new Ut(this,{body:this._bodyInit})};function dn($){var le=new FormData;return $.trim().split("&").forEach(function(Oe){if(Oe){var lt=Oe.split("="),at=lt.shift().replace(/\+/g," "),Ge=lt.join("=").replace(/\+/g," ");le.append(decodeURIComponent(at),decodeURIComponent(Ge))}}),le}function pn($){var le=new _e,Oe=$.replace(/\r?\n[\t ]+/g," ");return Oe.split(/\r?\n/).forEach(function(lt){var at=lt.split(":"),Ge=at.shift().trim();if(Ge){var gn=at.join(":").trim();le.append(Ge,gn)}}),le}vr.call(Ut.prototype);function Ot($,le){le||(le={}),this.type="default",this.status=le.status===void 0?200:le.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in le?le.statusText:"OK",this.headers=new _e(le.headers),this.url=le.url||"",this._initBody($)}vr.call(Ot.prototype),Ot.prototype.clone=function(){return new Ot(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _e(this.headers),url:this.url})},Ot.error=function(){var $=new Ot(null,{status:0,statusText:""});return $.type="error",$};var yn=[301,302,303,307,308];Ot.redirect=function($,le){if(yn.indexOf(le)===-1)throw new RangeError("Invalid status code");return new Ot(null,{status:le,headers:{location:$}})},g.DOMException=c.DOMException;try{new g.DOMException}catch($){g.DOMException=function(le,Oe){this.message=le,this.name=Oe;var lt=Error(le);this.stack=lt.stack},g.DOMException.prototype=Object.create(Error.prototype),g.DOMException.prototype.constructor=g.DOMException}function Nr($,le){return new Promise(function(Oe,lt){var at=new Ut($,le);if(at.signal&&at.signal.aborted)return lt(new g.DOMException("Aborted","AbortError"));var Ge=new XMLHttpRequest;function gn(){Ge.abort()}Ge.onload=function(){var Hr={status:Ge.status,statusText:Ge.statusText,headers:pn(Ge.getAllResponseHeaders()||"")};Hr.url="responseURL"in Ge?Ge.responseURL:Hr.headers.get("X-Request-URL");var Hn="response"in Ge?Ge.response:Ge.responseText;Oe(new Ot(Hn,Hr))},Ge.onerror=function(){lt(new TypeError("Network request failed"))},Ge.ontimeout=function(){lt(new TypeError("Network request failed"))},Ge.onabort=function(){lt(new g.DOMException("Aborted","AbortError"))},Ge.open(at.method,at.url,!0),at.credentials==="include"?Ge.withCredentials=!0:at.credentials==="omit"&&(Ge.withCredentials=!1),"responseType"in Ge&&I.blob&&(Ge.responseType="blob"),at.headers.forEach(function(Hr,Hn){Ge.setRequestHeader(Hn,Hr)}),at.signal&&(at.signal.addEventListener("abort",gn),Ge.onreadystatechange=function(){Ge.readyState===4&&at.signal.removeEventListener("abort",gn)}),Ge.send(typeof at._bodyInit=="undefined"?null:at._bodyInit)})}return Nr.polyfill=!0,c.fetch||(c.fetch=Nr,c.Headers=_e,c.Request=Ut,c.Response=Ot),g.Headers=_e,g.Request=Ut,g.Response=Ot,g.fetch=Nr,Object.defineProperty(g,"__esModule",{value:!0}),g})({})})(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var s=o;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,a.exports=e})(Un,Un.exports);var wi=ke(Un.exports);const $r=32;function On(a){let e=0;for(;a>1;)a/=2,e++;return e}function Zo(a){return a===0?1:(a--,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,a|=a>>32,a+1)}class Yo{constructor(e,r,o,s,c){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=o,this.firstNormalEpoch=s,this.firstNormalSlot=c}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=On(Zo(e+$r+1))-On($r)-1,o=this.getSlotsInEpoch(r),s=e-(o-$r);return[r,s]}else{const r=e-this.firstNormalSlot,o=Math.floor(r/this.slotsPerEpoch),s=this.firstNormalEpoch+o,c=r%this.slotsPerEpoch;return[s,c]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*$r:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+On($r)):this.slotsPerEpoch}}class vi extends Error{constructor(e,r){super(e);this.logs=void 0,this.logs=r}}const Xo=160/64,Jo=1e3/Xo;function Qo(a,e){let r;const o=new Promise(s=>{r=setTimeout(()=>s(null),e)});return Promise.race([a,o]).then(s=>(clearTimeout(r),s))}function es(a){let e=new URL(a);const r=e.protocol==="https:";return e.protocol=r?"wss:":"ws:",e.host="",e.port!==""&&(e.port=String(Number(e.port)+1)),e.toString()}const mt=ot(p(xe),be(),a=>new xe(a)),Ei=rr([be(),T("base64")]),Fn=ot(p(A.lW),Ei,a=>A.lW.from(a[0],"base64")),ts=null;function Si(a){return Me([J({jsonrpc:T("2.0"),id:be(),result:a}),J({jsonrpc:T("2.0"),id:be(),error:J({code:Xe(),message:be(),data:Te(jt())})})])}const rs=Si(Xe());function We(a){return ot(Si(a),rs,e=>"error"in e?e:Fe(Fe({},e),{result:Q(e.result,a)}))}function bt(a){return We(J({context:J({slot:F()}),value:a}))}function cn(a){return J({context:J({slot:F()}),value:a})}const ns=J({foundation:F(),foundationTerm:F(),initial:F(),taper:F(),terminal:F()}),is=We(ge(ae(J({epoch:F(),effectiveSlot:F(),amount:F(),postBalance:F()})))),os=J({epoch:F(),slotIndex:F(),slotsInEpoch:F(),absoluteSlot:F(),blockHeight:Te(F()),transactionCount:Te(F())}),ss=J({slotsPerEpoch:F(),leaderScheduleSlotOffset:F(),warmup:Ce(),firstNormalEpoch:F(),firstNormalSlot:F()}),as=$t(be(),ge(F())),kr=ae(Me([J({}),be()])),cs=J({err:kr}),us=T("receivedSignature"),ls=J({"solana-core":be(),"feature-set":Te(F())}),hs=bt(J({err:ae(Me([J({}),be()])),logs:ae(ge(be())),accounts:Te(ae(ge(ae(J({executable:Ce(),owner:be(),lamports:F(),data:ge(be()),rentEpoch:Te(F())}))))),unitsConsumed:Te(F())}));function fs(a,e,r,o,s){let c;return o&&(c=(I,P)=>ie(this,null,function*(){const L=yield new Promise((Y,re)=>{try{o(I,P,(de,he)=>Y([de,he]))}catch(de){re(de)}});return yield wi(...L)})),new RpcClient((I,P)=>ie(this,null,function*(){const Y={method:"POST",body:I,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{})};try{let re=5,de,he=500;for(;c?de=yield c(a,Y):de=yield wi(a,Y),!(de.status!==429||s===!0||(re-=1,re===0));)console.log(`Server responded with ${de.status} ${de.statusText}.  Retrying after ${he}ms delay...`),yield an(he),he*=2;const _e=yield de.text();de.ok?P(null,_e):P(new Error(`${de.status} ${de.statusText}: ${_e}`))}catch(re){re instanceof Error&&P(re)}finally{}}),{})}function ds(a){return(e,r)=>new Promise((o,s)=>{a.request(e,r,(c,g)=>{if(c){s(c);return}o(g)})})}function ps(a){return e=>new Promise((r,o)=>{e.length===0&&r([]);const s=e.map(c=>a.request(c.methodName,c.args));a.request(s,(c,g)=>{if(c){o(c);return}r(g)})})}const ys=We(ns),gs=We(os),ms=We(ss),bs=We(as),ws=We(F()),vs=bt(J({total:F(),circulating:F(),nonCirculating:F(),nonCirculatingAccounts:ge(mt)})),Nn=J({amount:be(),uiAmount:ae(F()),decimals:F(),uiAmountString:Te(be())}),Es=bt(ge(J({address:mt,amount:be(),uiAmount:ae(F()),decimals:F(),uiAmountString:Te(be())}))),Ss=bt(ge(J({pubkey:mt,account:J({executable:Ce(),owner:mt,lamports:F(),data:Fn,rentEpoch:F()})}))),Ln=J({program:be(),parsed:Xe(),space:F()}),xs=bt(ge(J({pubkey:mt,account:J({executable:Ce(),owner:mt,lamports:F(),data:Ln,rentEpoch:F()})}))),ks=bt(ge(J({lamports:F(),address:mt}))),un=J({executable:Ce(),owner:mt,lamports:F(),data:Fn,rentEpoch:F()}),Is=J({pubkey:mt,account:un}),_s=ot(Me([p(A.lW),Ln]),Me([Ei,Ln]),a=>Array.isArray(a)?Q(a,Fn):a),Dn=J({executable:Ce(),owner:mt,lamports:F(),data:_s,rentEpoch:F()}),As=J({pubkey:mt,account:Dn}),Bs=J({state:Me([T("active"),T("inactive"),T("activating"),T("deactivating")]),active:F(),inactive:F()}),Rs=We(ge(J({signature:be(),slot:F(),err:kr,memo:ae(be()),blockTime:Te(ae(F()))}))),Ps=We(ge(J({signature:be(),slot:F(),err:kr,memo:ae(be()),blockTime:Te(ae(F()))}))),Cs=J({subscription:F(),result:cn(un)}),Ts=J({pubkey:mt,account:un}),Us=J({subscription:F(),result:cn(Ts)}),Os=J({parent:F(),slot:F(),root:F()}),Fs=J({subscription:F(),result:Os}),Ns=Me([J({type:Me([T("firstShredReceived"),T("completed"),T("optimisticConfirmation"),T("root")]),slot:F(),timestamp:F()}),J({type:T("createdBank"),parent:F(),slot:F(),timestamp:F()}),J({type:T("frozen"),slot:F(),timestamp:F(),stats:J({numTransactionEntries:F(),numSuccessfulTransactions:F(),numFailedTransactions:F(),maxTransactionsPerEntry:F()})}),J({type:T("dead"),slot:F(),timestamp:F(),err:be()})]),Ls=J({subscription:F(),result:Ns}),Ds=J({subscription:F(),result:cn(Me([cs,us]))}),zs=J({subscription:F(),result:F()}),Ws=J({pubkey:be(),gossip:ae(be()),tpu:ae(be()),rpc:ae(be()),version:ae(be())}),xi=J({votePubkey:be(),nodePubkey:be(),activatedStake:F(),epochVoteAccount:Ce(),epochCredits:ge(rr([F(),F(),F()])),commission:F(),lastVote:F(),rootSlot:ae(F())}),Ms=We(J({current:ge(xi),delinquent:ge(xi)})),js=Me([T("processed"),T("confirmed"),T("finalized")]),$s=J({slot:F(),confirmations:ae(F()),err:kr,confirmationStatus:Te(js)}),Ks=bt(ge(ae($s))),Vs=We(F()),zn=J({signatures:ge(be()),message:J({accountKeys:ge(be()),header:J({numRequiredSignatures:F(),numReadonlySignedAccounts:F(),numReadonlyUnsignedAccounts:F()}),instructions:ge(J({accounts:ge(F()),data:be(),programIdIndex:F()})),recentBlockhash:be()})}),ki=J({parsed:Xe(),program:be(),programId:mt}),Ii=J({accounts:ge(mt),data:be(),programId:mt}),Hs=Me([Ii,ki]),Gs=Me([J({parsed:Xe(),program:be(),programId:be()}),J({accounts:ge(be()),data:be(),programId:be()})]),_i=ot(Hs,Gs,a=>"accounts"in a?Q(a,Ii):Q(a,ki)),qs=J({signatures:ge(be()),message:J({accountKeys:ge(J({pubkey:mt,signer:Ce(),writable:Ce()})),instructions:ge(_i),recentBlockhash:be()})}),ln=J({accountIndex:F(),mint:be(),owner:Te(be()),uiTokenAmount:Nn}),Wn=J({err:kr,fee:F(),innerInstructions:Te(ae(ge(J({index:F(),instructions:ge(J({accounts:ge(F()),data:be(),programIdIndex:F()}))})))),preBalances:ge(F()),postBalances:ge(F()),logMessages:Te(ae(ge(be()))),preTokenBalances:Te(ae(ge(ln))),postTokenBalances:Te(ae(ge(ln)))}),Zs=J({err:kr,fee:F(),innerInstructions:Te(ae(ge(J({index:F(),instructions:ge(_i)})))),preBalances:ge(F()),postBalances:ge(F()),logMessages:Te(ae(ge(be()))),preTokenBalances:Te(ae(ge(ln))),postTokenBalances:Te(ae(ge(ln)))}),Ys=We(ae(J({blockhash:be(),previousBlockhash:be(),parentSlot:F(),transactions:ge(J({transaction:zn,meta:ae(Wn)})),rewards:Te(ge(J({pubkey:be(),lamports:F(),postBalance:ae(F()),rewardType:ae(be())}))),blockTime:ae(F()),blockHeight:ae(F())}))),Xs=We(ae(J({blockhash:be(),previousBlockhash:be(),parentSlot:F(),transactions:ge(J({transaction:zn,meta:ae(Wn)})),rewards:Te(ge(J({pubkey:be(),lamports:F(),postBalance:ae(F()),rewardType:ae(be())}))),blockTime:ae(F())}))),Ai=We(ae(J({blockhash:be(),previousBlockhash:be(),parentSlot:F(),signatures:ge(be()),blockTime:ae(F())}))),Bi=We(ae(J({slot:F(),meta:Wn,blockTime:Te(ae(F())),transaction:zn}))),hn=We(ae(J({slot:F(),transaction:qs,meta:ae(Zs),blockTime:Te(ae(F()))}))),Js=bt(J({blockhash:be(),feeCalculator:J({lamportsPerSignature:F()})})),Qs=bt(J({blockhash:be(),lastValidBlockHeight:F()})),ea=J({slot:F(),numTransactions:F(),numSlots:F(),samplePeriodSecs:F()}),ta=We(ge(ea)),ra=bt(ae(J({feeCalculator:J({lamportsPerSignature:F()})}))),na=We(be()),ia=We(be()),oa=J({err:kr,logs:ge(be()),signature:be()}),sa=J({result:cn(oa),subscription:F()});class Da{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={recentBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._accountChangeSubscriptionCounter=0,this._accountChangeSubscriptions={},this._programAccountChangeSubscriptionCounter=0,this._programAccountChangeSubscriptions={},this._rootSubscriptionCounter=0,this._rootSubscriptions={},this._signatureSubscriptionCounter=0,this._signatureSubscriptions={},this._slotSubscriptionCounter=0,this._slotSubscriptions={},this._logsSubscriptionCounter=0,this._logsSubscriptions={},this._slotUpdateSubscriptionCounter=0,this._slotUpdateSubscriptions={};let o=new URL(e);const s=o.protocol==="https:";let c,g,I,P;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,c=r.wsEndpoint,g=r.httpHeaders,I=r.fetchMiddleware,P=r.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=c||es(e),this._rpcClient=fs(o.toString(),s,g,I,P),this._rpcRequest=ds(this._rpcClient),this._rpcBatchRequest=ps(this._rpcClient),this._rpcWebSocket=new Client(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:Infinity}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}getBalanceAndContext(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getBalance",o),c=create(s,bt(number()));if("error"in c)throw new Error("failed to get balance for "+e.toBase58()+": "+c.error.message);return c.result})}getBalance(e,r){return ie(this,null,function*(){return yield this.getBalanceAndContext(e,r).then(o=>o.value).catch(o=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+o)})})}getBlockTime(e){return ie(this,null,function*(){const r=yield this._rpcRequest("getBlockTime",[e]),o=create(r,We(nullable(number())));if("error"in o)throw new Error("failed to get block time for slot "+e+": "+o.error.message);return o.result})}getMinimumLedgerSlot(){return ie(this,null,function*(){const e=yield this._rpcRequest("minimumLedgerSlot",[]),r=create(e,We(number()));if("error"in r)throw new Error("failed to get minimum ledger slot: "+r.error.message);return r.result})}getFirstAvailableBlock(){return ie(this,null,function*(){const e=yield this._rpcRequest("getFirstAvailableBlock",[]),r=create(e,ws);if("error"in r)throw new Error("failed to get first available block: "+r.error.message);return r.result})}getSupply(e){return ie(this,null,function*(){let r={};typeof e=="string"?r={commitment:e}:e?r=Fe(Fe({},e),{commitment:e&&e.commitment||this.commitment}):r={commitment:this.commitment};const o=yield this._rpcRequest("getSupply",[r]),s=create(o,vs);if("error"in s)throw new Error("failed to get supply: "+s.error.message);return s.result})}getTokenSupply(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getTokenSupply",o),c=create(s,bt(Nn));if("error"in c)throw new Error("failed to get token supply: "+c.error.message);return c.result})}getTokenAccountBalance(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getTokenAccountBalance",o),c=create(s,bt(Nn));if("error"in c)throw new Error("failed to get token account balance: "+c.error.message);return c.result})}getTokenAccountsByOwner(e,r,o){return ie(this,null,function*(){let s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});const c=this._buildArgs(s,o,"base64"),g=yield this._rpcRequest("getTokenAccountsByOwner",c),I=create(g,Ss);if("error"in I)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+I.error.message);return I.result})}getParsedTokenAccountsByOwner(e,r,o){return ie(this,null,function*(){let s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});const c=this._buildArgs(s,o,"jsonParsed"),g=yield this._rpcRequest("getTokenAccountsByOwner",c),I=create(g,xs);if("error"in I)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+I.error.message);return I.result})}getLargestAccounts(e){return ie(this,null,function*(){const r=Fe(Fe({},e),{commitment:e&&e.commitment||this.commitment}),o=r.filter||r.commitment?[r]:[],s=yield this._rpcRequest("getLargestAccounts",o),c=create(s,ks);if("error"in c)throw new Error("failed to get largest accounts: "+c.error.message);return c.result})}getTokenLargestAccounts(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getTokenLargestAccounts",o),c=create(s,Es);if("error"in c)throw new Error("failed to get token largest accounts: "+c.error.message);return c.result})}getAccountInfoAndContext(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r,"base64"),s=yield this._rpcRequest("getAccountInfo",o),c=create(s,bt(nullable(un)));if("error"in c)throw new Error("failed to get info about account "+e.toBase58()+": "+c.error.message);return c.result})}getParsedAccountInfo(e,r){return ie(this,null,function*(){const o=this._buildArgs([e.toBase58()],r,"jsonParsed"),s=yield this._rpcRequest("getAccountInfo",o),c=create(s,bt(nullable(Dn)));if("error"in c)throw new Error("failed to get info about account "+e.toBase58()+": "+c.error.message);return c.result})}getAccountInfo(e,r){return ie(this,null,function*(){try{return(yield this.getAccountInfoAndContext(e,r)).value}catch(o){throw new Error("failed to get info about account "+e.toBase58()+": "+o)}})}getMultipleAccountsInfo(e,r){return ie(this,null,function*(){const o=e.map(L=>L.toBase58());let s,c="base64";r&&(typeof r=="string"?(s=r,c="base64"):(s=r.commitment,c=r.encoding||"base64"));const g=this._buildArgs([o],s,c),I=yield this._rpcRequest("getMultipleAccounts",g),P=create(I,bt(array(nullable(Dn))));if("error"in P)throw new Error("failed to get info for accounts "+o+": "+P.error.message);return P.result.value})}getStakeActivation(e,r,o){return ie(this,null,function*(){const s=this._buildArgs([e.toBase58()],r,void 0,o!==void 0?{epoch:o}:void 0),c=yield this._rpcRequest("getStakeActivation",s),g=create(c,We(Bs));if("error"in g)throw new Error(`failed to get Stake Activation ${e.toBase58()}: ${g.error.message}`);return g.result})}getProgramAccounts(e,r){return ie(this,null,function*(){const o={};let s,c;r&&(typeof r=="string"?s=r:(s=r.commitment,c=r.encoding,r.dataSlice&&(o.dataSlice=r.dataSlice),r.filters&&(o.filters=r.filters)));const g=this._buildArgs([e.toBase58()],s,c||"base64",o),I=yield this._rpcRequest("getProgramAccounts",g),P=create(I,We(array(Is)));if("error"in P)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+P.error.message);return P.result})}getParsedProgramAccounts(e,r){return ie(this,null,function*(){const o={};let s;r&&(typeof r=="string"?s=r:(s=r.commitment,r.filters&&(o.filters=r.filters)));const c=this._buildArgs([e.toBase58()],s,"jsonParsed",o),g=yield this._rpcRequest("getProgramAccounts",c),I=create(g,We(array(As)));if("error"in I)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+I.error.message);return I.result})}confirmTransaction(e,r){return ie(this,null,function*(){let o;try{o=bs58.decode(e)}catch(Y){throw new Error("signature must be base58 encoded: "+e)}gt(o.length===64,"signature has invalid length");const s=Date.now(),c=r||this.commitment;let g,I=null;const P=new Promise((Y,re)=>{try{g=this.onSignature(e,(de,he)=>{g=void 0,I={context:he,value:de},Y(null)},c)}catch(de){re(de)}});let L=this._confirmTransactionInitialTimeout||60*1e3;switch(c){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{L=this._confirmTransactionInitialTimeout||30*1e3;break}}try{yield Qo(P,L)}finally{g&&this.removeSignatureListener(g)}if(I===null){const Y=(Date.now()-s)/1e3;throw new Error(`Transaction was not confirmed in ${Y.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`)}return I})}getClusterNodes(){return ie(this,null,function*(){const e=yield this._rpcRequest("getClusterNodes",[]),r=create(e,We(array(Ws)));if("error"in r)throw new Error("failed to get cluster nodes: "+r.error.message);return r.result})}getVoteAccounts(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getVoteAccounts",r),s=create(o,Ms);if("error"in s)throw new Error("failed to get vote accounts: "+s.error.message);return s.result})}getSlot(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getSlot",r),s=create(o,We(number()));if("error"in s)throw new Error("failed to get slot: "+s.error.message);return s.result})}getSlotLeader(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getSlotLeader",r),s=create(o,We(string()));if("error"in s)throw new Error("failed to get slot leader: "+s.error.message);return s.result})}getSlotLeaders(e,r){return ie(this,null,function*(){const o=[e,r],s=yield this._rpcRequest("getSlotLeaders",o),c=create(s,We(array(mt)));if("error"in c)throw new Error("failed to get slot leaders: "+c.error.message);return c.result})}getSignatureStatus(e,r){return ie(this,null,function*(){const{context:o,value:s}=yield this.getSignatureStatuses([e],r);gt(s.length===1);const c=s[0];return{context:o,value:c}})}getSignatureStatuses(e,r){return ie(this,null,function*(){const o=[e];r&&o.push(r);const s=yield this._rpcRequest("getSignatureStatuses",o),c=create(s,Ks);if("error"in c)throw new Error("failed to get signature status: "+c.error.message);return c.result})}getTransactionCount(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getTransactionCount",r),s=create(o,We(number()));if("error"in s)throw new Error("failed to get transaction count: "+s.error.message);return s.result})}getTotalSupply(e){return ie(this,null,function*(){return(yield this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total})}getInflationGovernor(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getInflationGovernor",r),s=create(o,ys);if("error"in s)throw new Error("failed to get inflation: "+s.error.message);return s.result})}getInflationReward(e,r,o){return ie(this,null,function*(){const s=this._buildArgs([e.map(I=>I.toBase58())],o,void 0,{epoch:r}),c=yield this._rpcRequest("getInflationReward",s),g=create(c,is);if("error"in g)throw new Error("failed to get inflation reward: "+g.error.message);return g.result})}getEpochInfo(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getEpochInfo",r),s=create(o,gs);if("error"in s)throw new Error("failed to get epoch info: "+s.error.message);return s.result})}getEpochSchedule(){return ie(this,null,function*(){const e=yield this._rpcRequest("getEpochSchedule",[]),r=create(e,ms);if("error"in r)throw new Error("failed to get epoch schedule: "+r.error.message);const o=r.result;return new Yo(o.slotsPerEpoch,o.leaderScheduleSlotOffset,o.warmup,o.firstNormalEpoch,o.firstNormalSlot)})}getLeaderSchedule(){return ie(this,null,function*(){const e=yield this._rpcRequest("getLeaderSchedule",[]),r=create(e,bs);if("error"in r)throw new Error("failed to get leader schedule: "+r.error.message);return r.result})}getMinimumBalanceForRentExemption(e,r){return ie(this,null,function*(){const o=this._buildArgs([e],r),s=yield this._rpcRequest("getMinimumBalanceForRentExemption",o),c=create(s,Vs);return"error"in c?(console.warn("Unable to fetch minimum balance for rent exemption"),0):c.result})}getRecentBlockhashAndContext(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getRecentBlockhash",r),s=create(o,Js);if("error"in s)throw new Error("failed to get recent blockhash: "+s.error.message);return s.result})}getRecentPerformanceSamples(e){return ie(this,null,function*(){const r=this._buildArgs(e?[e]:[]),o=yield this._rpcRequest("getRecentPerformanceSamples",r),s=create(o,ta);if("error"in s)throw new Error("failed to get recent performance samples: "+s.error.message);return s.result})}getFeeCalculatorForBlockhash(e,r){return ie(this,null,function*(){const o=this._buildArgs([e],r),s=yield this._rpcRequest("getFeeCalculatorForBlockhash",o),c=create(s,ra);if("error"in c)throw new Error("failed to get fee calculator: "+c.error.message);const{context:g,value:I}=c.result;return{context:g,value:I!==null?I.feeCalculator:null}})}getFeeForMessage(e,r){return ie(this,null,function*(){const o=e.serialize().toString("base64"),s=this._buildArgs([o],r),c=yield this._rpcRequest("getFeeForMessage",s),g=create(c,bt(nullable(number())));if("error"in g)throw new Error("failed to get slot: "+g.error.message);if(g.result===null)throw new Error("invalid blockhash");return g.result})}getRecentBlockhash(e){return ie(this,null,function*(){try{return(yield this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}})}getLatestBlockhash(e){return ie(this,null,function*(){try{return(yield this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}})}getLatestBlockhashAndContext(e){return ie(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getLatestBlockhash",r),s=create(o,Qs);if("error"in s)throw new Error("failed to get latest blockhash: "+s.error.message);return s.result})}getVersion(){return ie(this,null,function*(){const e=yield this._rpcRequest("getVersion",[]),r=create(e,We(ls));if("error"in r)throw new Error("failed to get version: "+r.error.message);return r.result})}getGenesisHash(){return ie(this,null,function*(){const e=yield this._rpcRequest("getGenesisHash",[]),r=create(e,We(string()));if("error"in r)throw new Error("failed to get genesis hash: "+r.error.message);return r.result})}getBlock(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r&&r.commitment),s=yield this._rpcRequest("getBlock",o),c=create(s,Ys);if("error"in c)throw new Error("failed to get confirmed block: "+c.error.message);const g=c.result;return g&&Fe(Fe({},g),{transactions:g.transactions.map(({transaction:I,meta:P})=>{const L=new br(I.message);return{meta:P,transaction:Fe(Fe({},I),{message:L})}})})})}getTransaction(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r&&r.commitment),s=yield this._rpcRequest("getTransaction",o),c=create(s,Bi);if("error"in c)throw new Error("failed to get transaction: "+c.error.message);const g=c.result;return g&&Fe(Fe({},g),{transaction:Fe(Fe({},g.transaction),{message:new br(g.transaction.message)})})})}getParsedTransaction(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),s=yield this._rpcRequest("getTransaction",o),c=create(s,hn);if("error"in c)throw new Error("failed to get transaction: "+c.error.message);return c.result})}getParsedTransactions(e,r){return ie(this,null,function*(){const o=e.map(g=>{const I=this._buildArgsAtLeastConfirmed([g],r,"jsonParsed");return{methodName:"getTransaction",args:I}});return(yield this._rpcBatchRequest(o)).map(g=>{const I=create(g,hn);if("error"in I)throw new Error("failed to get transactions: "+I.error.message);return I.result})})}getConfirmedBlock(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r),s=yield this._rpcRequest("getConfirmedBlock",o),c=create(s,Xs);if("error"in c)throw new Error("failed to get confirmed block: "+c.error.message);const g=c.result;if(!g)throw new Error("Confirmed block "+e+" not found");const I=Fe(Fe({},g),{transactions:g.transactions.map(({transaction:P,meta:L})=>{const Y=new br(P.message);return{meta:L,transaction:Fe(Fe({},P),{message:Y})}})});return Fe(Fe({},I),{transactions:I.transactions.map(({transaction:P,meta:L})=>({meta:L,transaction:He.populate(P.message,P.signatures)}))})})}getBlocks(e,r,o){return ie(this,null,function*(){const s=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],o),c=yield this._rpcRequest("getBlocks",s),g=create(c,We(array(number())));if("error"in g)throw new Error("failed to get blocks: "+g.error.message);return g.result})}getBlockSignatures(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),s=yield this._rpcRequest("getBlock",o),c=create(s,Ai);if("error"in c)throw new Error("failed to get block: "+c.error.message);const g=c.result;if(!g)throw new Error("Block "+e+" not found");return g})}getConfirmedBlockSignatures(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),s=yield this._rpcRequest("getConfirmedBlock",o),c=create(s,Ai);if("error"in c)throw new Error("failed to get confirmed block: "+c.error.message);const g=c.result;if(!g)throw new Error("Confirmed block "+e+" not found");return g})}getConfirmedTransaction(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r),s=yield this._rpcRequest("getConfirmedTransaction",o),c=create(s,Bi);if("error"in c)throw new Error("failed to get transaction: "+c.error.message);const g=c.result;if(!g)return g;const I=new br(g.transaction.message),P=g.transaction.signatures;return Fe(Fe({},g),{transaction:He.populate(I,P)})})}getParsedConfirmedTransaction(e,r){return ie(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),s=yield this._rpcRequest("getConfirmedTransaction",o),c=create(s,hn);if("error"in c)throw new Error("failed to get confirmed transaction: "+c.error.message);return c.result})}getParsedConfirmedTransactions(e,r){return ie(this,null,function*(){const o=e.map(g=>{const I=this._buildArgsAtLeastConfirmed([g],r,"jsonParsed");return{methodName:"getConfirmedTransaction",args:I}});return(yield this._rpcBatchRequest(o)).map(g=>{const I=create(g,hn);if("error"in I)throw new Error("failed to get confirmed transactions: "+I.error.message);return I.result})})}getConfirmedSignaturesForAddress(e,r,o){return ie(this,null,function*(){let s={},c=yield this.getFirstAvailableBlock();for(;!("until"in s)&&(r--,!(r<=0||r<c));)try{const P=yield this.getConfirmedBlockSignatures(r,"finalized");P.signatures.length>0&&(s.until=P.signatures[P.signatures.length-1].toString())}catch(P){if(P instanceof Error&&P.message.includes("skipped"))continue;throw P}let g=yield this.getSlot("finalized");for(;!("before"in s)&&(o++,!(o>g));)try{const P=yield this.getConfirmedBlockSignatures(o);P.signatures.length>0&&(s.before=P.signatures[P.signatures.length-1].toString())}catch(P){if(P instanceof Error&&P.message.includes("skipped"))continue;throw P}return(yield this.getConfirmedSignaturesForAddress2(e,s)).map(P=>P.signature)})}getConfirmedSignaturesForAddress2(e,r,o){return ie(this,null,function*(){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],o,void 0,r),c=yield this._rpcRequest("getConfirmedSignaturesForAddress2",s),g=create(c,Rs);if("error"in g)throw new Error("failed to get confirmed signatures for address: "+g.error.message);return g.result})}getSignaturesForAddress(e,r,o){return ie(this,null,function*(){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],o,void 0,r),c=yield this._rpcRequest("getSignaturesForAddress",s),g=create(c,Ps);if("error"in g)throw new Error("failed to get signatures for address: "+g.error.message);return g.result})}getNonceAndContext(e,r){return ie(this,null,function*(){const{context:o,value:s}=yield this.getAccountInfoAndContext(e,r);let c=null;return s!==null&&(c=Tn.fromAccountData(s.data)),{context:o,value:c}})}getNonce(e,r){return ie(this,null,function*(){return yield this.getNonceAndContext(e,r).then(o=>o.value).catch(o=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+o)})})}requestAirdrop(e,r){return ie(this,null,function*(){const o=yield this._rpcRequest("requestAirdrop",[e.toBase58(),r]),s=create(o,na);if("error"in s)throw new Error("airdrop to "+e.toBase58()+" failed: "+s.error.message);return s.result})}_recentBlockhash(e){return ie(this,null,function*(){if(!e){for(;this._pollingBlockhash;)yield an(100);const o=Date.now()-this._blockhashInfo.lastFetch>=ts;if(this._blockhashInfo.recentBlockhash!==null&&!o)return this._blockhashInfo.recentBlockhash}return yield this._pollNewBlockhash()})}_pollNewBlockhash(){return ie(this,null,function*(){this._pollingBlockhash=!0;try{const e=Date.now();for(let r=0;r<50;r++){const{blockhash:o}=yield this.getRecentBlockhash("finalized");if(this._blockhashInfo.recentBlockhash!=o)return this._blockhashInfo={recentBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;yield an(Jo/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}})}simulateTransaction(e,r,o){return ie(this,null,function*(){let s;if(e instanceof He?s=e:s=He.populate(e),s.nonceInfo&&r)s.sign(...r);else{let he=this._disableBlockhashCaching;for(;s.recentBlockhash=yield this._recentBlockhash(he),!!r;){if(s.sign(...r),!s.signature)throw new Error("!signature");const _e=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(_e)&&!this._blockhashInfo.transactionSignatures.includes(_e)){this._blockhashInfo.simulatedSignatures.push(_e);break}else he=!0}}const c=s._compile(),g=c.serialize(),P=s._serialize(g).toString("base64"),L={encoding:"base64",commitment:this.commitment};if(o){const he=(Array.isArray(o)?o:c.nonProgramIds()).map(_e=>_e.toBase58());L.accounts={encoding:"base64",addresses:he}}r&&(L.sigVerify=!0);const Y=[P,L],re=yield this._rpcRequest("simulateTransaction",Y),de=create(re,hs);if("error"in de){let he;if("data"in de.error&&(he=de.error.data.logs,he&&Array.isArray(he))){const _e=`
    `,Be=_e+he.join(_e);console.error(de.error.message,Be)}throw new vi("failed to simulate transaction: "+de.error.message,he)}return de.result})}sendTransaction(e,r,o){return ie(this,null,function*(){if(e.nonceInfo)e.sign(...r);else{let c=this._disableBlockhashCaching;for(;;){if(e.recentBlockhash=yield this._recentBlockhash(c),e.sign(...r),!e.signature)throw new Error("!signature");const g=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(g))c=!0;else{this._blockhashInfo.transactionSignatures.push(g);break}}}const s=e.serialize();return yield this.sendRawTransaction(s,o)})}sendRawTransaction(e,r){return ie(this,null,function*(){const o=N(e).toString("base64");return yield this.sendEncodedTransaction(o,r)})}sendEncodedTransaction(e,r){return ie(this,null,function*(){const o={encoding:"base64"},s=r&&r.skipPreflight,c=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries&&(o.maxRetries=r.maxRetries),s&&(o.skipPreflight=s),c&&(o.preflightCommitment=c);const g=[e,o],I=yield this._rpcRequest("sendTransaction",g),P=create(I,ia);if("error"in P){let L;if("data"in P.error&&(L=P.error.data.logs,L&&Array.isArray(L))){const Y=`
    `,re=Y+L.join(Y);console.error(P.error.message,re)}throw new vi("failed to send transaction: "+P.error.message,L)}return P.result})}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(e){console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._resetSubscriptions()}_subscribe(e,r,o){return ie(this,null,function*(){if(e.subscriptionId==null){e.subscriptionId="subscribing";try{const s=yield this._rpcWebSocket.call(r,o);typeof s=="number"&&e.subscriptionId==="subscribing"&&(e.subscriptionId=s)}catch(s){e.subscriptionId==="subscribing"&&(e.subscriptionId=null),s instanceof Error&&console.error(`${r} error for argument`,o,s.message)}}})}_unsubscribe(e,r){return ie(this,null,function*(){const o=e.subscriptionId;if(o!=null&&typeof o!="string"){const s=o;try{yield this._rpcWebSocket.call(r,[s])}catch(c){c instanceof Error&&console.error(`${r} error:`,c.message)}}})}_resetSubscriptions(){Object.values(this._accountChangeSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._programAccountChangeSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._rootSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._signatureSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._slotSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._slotUpdateSubscriptions).forEach(e=>e.subscriptionId=null)}_updateSubscriptions(){const e=Object.keys(this._accountChangeSubscriptions).map(Number),r=Object.keys(this._programAccountChangeSubscriptions).map(Number),o=Object.keys(this._slotSubscriptions).map(Number),s=Object.keys(this._slotUpdateSubscriptions).map(Number),c=Object.keys(this._signatureSubscriptions).map(Number),g=Object.keys(this._rootSubscriptions).map(Number),I=Object.keys(this._logsSubscriptions).map(Number);if(e.length===0&&r.length===0&&o.length===0&&s.length===0&&c.length===0&&g.length===0&&I.length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(P){P instanceof Error&&console.log(`Error when closing socket connection: ${P.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}for(let P of e){const L=this._accountChangeSubscriptions[P];this._subscribe(L,"accountSubscribe",this._buildArgs([L.publicKey],L.commitment,"base64"))}for(let P of r){const L=this._programAccountChangeSubscriptions[P];this._subscribe(L,"programSubscribe",this._buildArgs([L.programId],L.commitment,"base64",{filters:L.filters}))}for(let P of o){const L=this._slotSubscriptions[P];this._subscribe(L,"slotSubscribe",[])}for(let P of s){const L=this._slotUpdateSubscriptions[P];this._subscribe(L,"slotsUpdatesSubscribe",[])}for(let P of c){const L=this._signatureSubscriptions[P],Y=[L.signature];L.options&&Y.push(L.options),this._subscribe(L,"signatureSubscribe",Y)}for(let P of g){const L=this._rootSubscriptions[P];this._subscribe(L,"rootSubscribe",[])}for(let P of I){const L=this._logsSubscriptions[P];let Y;typeof L.filter=="object"?Y={mentions:[L.filter.toString()]}:Y=L.filter,this._subscribe(L,"logsSubscribe",this._buildArgs([Y],L.commitment))}}_wsOnAccountNotification(e){const r=create(e,Cs);for(const o of Object.values(this._accountChangeSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result.value,r.result.context);return}}onAccountChange(e,r,o){const s=++this._accountChangeSubscriptionCounter;return this._accountChangeSubscriptions[s]={publicKey:e.toBase58(),callback:r,commitment:o,subscriptionId:null},this._updateSubscriptions(),s}removeAccountChangeListener(e){return ie(this,null,function*(){if(this._accountChangeSubscriptions[e]){const r=this._accountChangeSubscriptions[e];delete this._accountChangeSubscriptions[e],yield this._unsubscribe(r,"accountUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown account change id: ${e}`)})}_wsOnProgramAccountNotification(e){const r=create(e,Us);for(const o of Object.values(this._programAccountChangeSubscriptions))if(o.subscriptionId===r.subscription){const{value:s,context:c}=r.result;o.callback({accountId:s.pubkey,accountInfo:s.account},c);return}}onProgramAccountChange(e,r,o,s){const c=++this._programAccountChangeSubscriptionCounter;return this._programAccountChangeSubscriptions[c]={programId:e.toBase58(),callback:r,commitment:o,subscriptionId:null,filters:s},this._updateSubscriptions(),c}removeProgramAccountChangeListener(e){return ie(this,null,function*(){if(this._programAccountChangeSubscriptions[e]){const r=this._programAccountChangeSubscriptions[e];delete this._programAccountChangeSubscriptions[e],yield this._unsubscribe(r,"programUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown program account change id: ${e}`)})}onLogs(e,r,o){const s=++this._logsSubscriptionCounter;return this._logsSubscriptions[s]={filter:e,callback:r,commitment:o,subscriptionId:null},this._updateSubscriptions(),s}removeOnLogsListener(e){return ie(this,null,function*(){if(!this._logsSubscriptions[e])throw new Error(`Unknown logs id: ${e}`);const r=this._logsSubscriptions[e];delete this._logsSubscriptions[e],yield this._unsubscribe(r,"logsUnsubscribe"),this._updateSubscriptions()})}_wsOnLogsNotification(e){const r=create(e,sa),o=Object.keys(this._logsSubscriptions).map(Number);for(let s of o){const c=this._logsSubscriptions[s];if(c.subscriptionId===r.subscription){c.callback(r.result.value,r.result.context);return}}}_wsOnSlotNotification(e){const r=create(e,Fs);for(const o of Object.values(this._slotSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result);return}}onSlotChange(e){const r=++this._slotSubscriptionCounter;return this._slotSubscriptions[r]={callback:e,subscriptionId:null},this._updateSubscriptions(),r}removeSlotChangeListener(e){return ie(this,null,function*(){if(this._slotSubscriptions[e]){const r=this._slotSubscriptions[e];delete this._slotSubscriptions[e],yield this._unsubscribe(r,"slotUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown slot change id: ${e}`)})}_wsOnSlotUpdatesNotification(e){const r=create(e,Ls);for(const o of Object.values(this._slotUpdateSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result);return}}onSlotUpdate(e){const r=++this._slotUpdateSubscriptionCounter;return this._slotUpdateSubscriptions[r]={callback:e,subscriptionId:null},this._updateSubscriptions(),r}removeSlotUpdateListener(e){return ie(this,null,function*(){if(this._slotUpdateSubscriptions[e]){const r=this._slotUpdateSubscriptions[e];delete this._slotUpdateSubscriptions[e],yield this._unsubscribe(r,"slotsUpdatesUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown slot update id: ${e}`)})}_buildArgs(e,r,o,s){const c=r||this._commitment;if(c||o||s){let g={};o&&(g.encoding=o),c&&(g.commitment=c),s&&(g=Object.assign(g,s)),e.push(g)}return e}_buildArgsAtLeastConfirmed(e,r,o,s){const c=r||this._commitment;if(c&&!["confirmed","finalized"].includes(c))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,o,s)}_wsOnSignatureNotification(e){const r=create(e,Ds);for(const[o,s]of Object.entries(this._signatureSubscriptions))if(s.subscriptionId===r.subscription){r.result.value==="receivedSignature"?s.callback({type:"received"},r.result.context):(delete this._signatureSubscriptions[Number(o)],this._updateSubscriptions(),s.callback({type:"status",result:r.result.value},r.result.context));return}}onSignature(e,r,o){const s=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[s]={signature:e,callback:(c,g)=>{c.type==="status"&&r(c.result,g)},options:{commitment:o},subscriptionId:null},this._updateSubscriptions(),s}onSignatureWithOptions(e,r,o){const s=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[s]={signature:e,callback:r,options:o,subscriptionId:null},this._updateSubscriptions(),s}removeSignatureListener(e){return ie(this,null,function*(){if(this._signatureSubscriptions[e]){const r=this._signatureSubscriptions[e];delete this._signatureSubscriptions[e],yield this._unsubscribe(r,"signatureUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown signature result id: ${e}`)})}_wsOnRootNotification(e){const r=create(e,zs);for(const o of Object.values(this._rootSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result);return}}onRootChange(e){const r=++this._rootSubscriptionCounter;return this._rootSubscriptions[r]={callback:e,subscriptionId:null},this._updateSubscriptions(),r}removeRootChangeListener(e){return ie(this,null,function*(){if(this._rootSubscriptions[e]){const r=this._rootSubscriptions[e];delete this._rootSubscriptions[e],yield this._unsubscribe(r,"rootUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown root change id: ${e}`)})}}class Kr{constructor(e){this._keypair=void 0,e?this._keypair=e:this._keypair=R().sign.keyPair()}static generate(){return new Kr(R().sign.keyPair())}static fromSecretKey(e,r){const o=R().sign.keyPair.fromSecretKey(e);if(!r||!r.skipValidation){const c=new TextEncoder().encode("@solana/web3.js-validation-v1"),g=R().sign.detached(c,o.secretKey);if(!R().sign.detached.verify(c,g,o.publicKey))throw new Error("provided secretKey is invalid")}return new Kr(o)}static fromSeed(e){return new Kr(R().sign.keyPair.fromSeed(e))}get publicKey(){return new xe(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const Ri=64,Pi=32,Ci=64,Ti=E.struct([E.u8("numSignatures"),E.u8("padding"),E.u16("signatureOffset"),E.u16("signatureInstructionIndex"),E.u16("publicKeyOffset"),E.u16("publicKeyInstructionIndex"),E.u16("messageDataOffset"),E.u16("messageDataSize"),E.u16("messageInstructionIndex")]);class Mn{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:o,signature:s,instructionIndex:c}=e;gt(r.length===Pi,`Public Key must be ${Pi} bytes but received ${r.length} bytes`),gt(s.length===Ci,`Signature must be ${Ci} bytes but received ${s.length} bytes`);const g=Ti.span,I=g+r.length,P=I+s.length,L=1,Y=A.lW.alloc(P+o.length);return Ti.encode({numSignatures:L,padding:0,signatureOffset:I,signatureInstructionIndex:c,publicKeyOffset:g,publicKeyInstructionIndex:c,messageDataOffset:P,messageDataSize:o.length,messageInstructionIndex:c},Y),Y.fill(r,g),Y.fill(s,I),Y.fill(o,P),new Et({keys:[],programId:Mn.programId,data:Y})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:o,instructionIndex:s}=e;gt(r.length===Ri,`Private key must be ${Ri} bytes but received ${r.length} bytes`);try{const c=Kr.fromSecretKey(r),g=c.publicKey.toBytes(),I=R().sign.detached(o,c.secretKey);return this.createInstructionWithPublicKey({publicKey:g,message:o,signature:I,instructionIndex:s})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}Mn.programId=new xe("Ed25519SigVerify111111111111111111111111111");const aa=new xe("StakeConfig11111111111111111111111111111111");class ca{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class fn{constructor(e,r,o){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=o}}fn.default=new fn(0,0,xe.default);class za{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const o=BufferLayout.u32("instruction").decode(e.data);let s;for(const[c,g]of Object.entries(wt))if(g.index==o){s=c;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:o}=rt(wt.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new ca(new xe(r.staker),new xe(r.withdrawer)),lockup:new fn(o.unixTimestamp,o.epoch,new xe(o.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),rt(wt.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:o}=rt(wt.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new xe(r),stakeAuthorizationType:{index:o}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:o,authoritySeed:s,authorityOwner:c}=rt(wt.AuthorizeWithSeed,e.data),g={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new xe(c),newAuthorizedPubkey:new xe(r),stakeAuthorizationType:{index:o}};return e.keys.length>3&&(g.custodianPubkey=e.keys[3].pubkey),g}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=rt(wt.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rt(wt.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=rt(wt.Withdraw,e.data),o={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(o.custodianPubkey=e.keys[5].pubkey),o}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rt(wt.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(jn.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const wt=Object.freeze({Initialize:{index:0,layout:E.struct([E.u32("instruction"),jo(),$o()])},Authorize:{index:1,layout:E.struct([E.u32("instruction"),je("newAuthorized"),E.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:E.struct([E.u32("instruction")])},Split:{index:3,layout:E.struct([E.u32("instruction"),E.ns64("lamports")])},Withdraw:{index:4,layout:E.struct([E.u32("instruction"),E.ns64("lamports")])},Deactivate:{index:5,layout:E.struct([E.u32("instruction")])},Merge:{index:7,layout:E.struct([E.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:E.struct([E.u32("instruction"),je("newAuthorized"),E.u32("stakeAuthorizationType"),Ur("authoritySeed"),je("authorityOwner")])}}),Wa=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class jn{constructor(){}static initialize(e){const{stakePubkey:r,authorized:o,lockup:s}=e,c=s||fn.default,g=wt.Initialize,I=tt(g,{authorized:{staker:N(o.staker.toBuffer()),withdrawer:N(o.withdrawer.toBuffer())},lockup:{unixTimestamp:c.unixTimestamp,epoch:c.epoch,custodian:N(c.custodian.toBuffer())}}),P={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:jr,isSigner:!1,isWritable:!1}],programId:this.programId,data:I};return new Et(P)}static createAccountWithSeed(e){const r=new He;r.add(At.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:o,authorized:s,lockup:c}=e;return r.add(this.initialize({stakePubkey:o,authorized:s,lockup:c}))}static createAccount(e){const r=new He;r.add(At.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:o,authorized:s,lockup:c}=e;return r.add(this.initialize({stakePubkey:o,authorized:s,lockup:c}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:o,votePubkey:s}=e,c=wt.Delegate,g=tt(c);return new He().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:aa,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:g})}static authorize(e){const{stakePubkey:r,authorizedPubkey:o,newAuthorizedPubkey:s,stakeAuthorizationType:c,custodianPubkey:g}=e,I=wt.Authorize,P=tt(I,{newAuthorized:N(s.toBuffer()),stakeAuthorizationType:c.index}),L=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];return g&&L.push({pubkey:g,isSigner:!1,isWritable:!1}),new He().add({keys:L,programId:this.programId,data:P})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:o,authoritySeed:s,authorityOwner:c,newAuthorizedPubkey:g,stakeAuthorizationType:I,custodianPubkey:P}=e,L=wt.AuthorizeWithSeed,Y=tt(L,{newAuthorized:N(g.toBuffer()),stakeAuthorizationType:I.index,authoritySeed:s,authorityOwner:N(c.toBuffer())}),re=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1}];return P&&re.push({pubkey:P,isSigner:!1,isWritable:!1}),new He().add({keys:re,programId:this.programId,data:Y})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:o,splitStakePubkey:s,lamports:c}=e,g=wt.Split,I=tt(g,{lamports:c});return new Et({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:I})}static split(e){const r=new He;return r.add(At.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:r,authorizedPubkey:o,splitStakePubkey:s,basePubkey:c,seed:g,lamports:I}=e,P=new He;return P.add(At.allocate({accountPubkey:s,basePubkey:c,seed:g,space:this.space,programId:this.programId})),P.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:o,splitStakePubkey:s,lamports:I}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:o,authorizedPubkey:s}=e,c=wt.Merge,g=tt(c);return new He().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:g})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:o,toPubkey:s,lamports:c,custodianPubkey:g}=e,I=wt.Withdraw,P=tt(I,{lamports:c}),L=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}];return g&&L.push({pubkey:g,isSigner:!1,isWritable:!1}),new He().add({keys:L,programId:this.programId,data:P})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:o}=e,s=wt.Deactivate,c=tt(s);return new He().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}}jn.programId=new xe("Stake11111111111111111111111111111111111111"),jn.space=200;const{publicKeyCreate:ua,ecdsaSign:la}=x(),Ui=32,$n=20,Oi=64,ha=11,Kn=E.struct([E.u8("numSignatures"),E.u16("signatureOffset"),E.u8("signatureInstructionIndex"),E.u16("ethAddressOffset"),E.u8("ethAddressInstructionIndex"),E.u16("messageDataOffset"),E.u16("messageDataSize"),E.u8("messageInstructionIndex"),E.blob(20,"ethAddress"),E.blob(64,"signature"),E.u8("recoveryId")]);class Vr{constructor(){}static publicKeyToEthAddress(e){gt(e.length===Oi,`Public key must be ${Oi} bytes but received ${e.length} bytes`);try{return A.lW.from(B().keccak_256.update(N(e)).digest()).slice(-$n)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:o,signature:s,recoveryId:c,instructionIndex:g}=e;return Vr.createInstructionWithEthAddress({ethAddress:Vr.publicKeyToEthAddress(r),message:o,signature:s,recoveryId:c,instructionIndex:g})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:o,signature:s,recoveryId:c,instructionIndex:g=0}=e;let I;typeof r=="string"?r.startsWith("0x")?I=A.lW.from(r.substr(2),"hex"):I=A.lW.from(r,"hex"):I=r,gt(I.length===$n,`Address must be ${$n} bytes but received ${I.length} bytes`);const P=1+ha,L=P,Y=P+I.length,re=Y+s.length+1,de=1,he=A.lW.alloc(Kn.span+o.length);return Kn.encode({numSignatures:de,signatureOffset:Y,signatureInstructionIndex:g,ethAddressOffset:L,ethAddressInstructionIndex:g,messageDataOffset:re,messageDataSize:o.length,messageInstructionIndex:g,signature:N(s),ethAddress:N(I),recoveryId:c},he),he.fill(N(o),Kn.span),new Et({keys:[],programId:Vr.programId,data:he})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:o,instructionIndex:s}=e;gt(r.length===Ui,`Private key must be ${Ui} bytes but received ${r.length} bytes`);try{const c=N(r),g=ua(c,!1).slice(1),I=A.lW.from(B().keccak_256.update(N(o)).digest()),{signature:P,recid:L}=la(I,c);return this.createInstructionWithPublicKey({publicKey:g,message:o,signature:P,recoveryId:L,instructionIndex:s})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}Vr.programId=new xe("KeccakSecp256k11111111111111111111111111111");const fa=new xe("Va1idator1nfo111111111111111111111111111111"),da=J({name:be(),website:Te(be()),details:Te(be()),keybaseUsername:Te(be())});class Fi{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){const r=32;let o=[...e];if(Or(o)!==2)return null;const c=[];for(let g=0;g<2;g++){const I=new xe(o.slice(0,r));o=o.slice(r);const P=o.slice(0,1)[0]===1;o=o.slice(1),c.push({publicKey:I,isSigner:P})}if(c[0].publicKey.equals(fa)&&c[1].isSigner){const g=Ur().decode(Buffer.from(o)),I=JSON.parse(g);return assert$7(I,da),new Fi(c[1].publicKey,I)}return null}}const Ma=new xe("Vote111111111111111111111111111111111111111"),pa=E.struct([je("nodePubkey"),je("authorizedWithdrawer"),E.u8("commission"),E.nu64(),E.seq(E.struct([E.nu64("slot"),E.u32("confirmationCount")]),E.offset(E.u32(),-8),"votes"),E.u8("rootSlotValid"),E.nu64("rootSlot"),E.nu64(),E.seq(E.struct([E.nu64("epoch"),je("authorizedVoter")]),E.offset(E.u32(),-8),"authorizedVoters"),E.struct([E.seq(E.struct([je("authorizedPubkey"),E.nu64("epochOfLastAuthorizedSwitch"),E.nu64("targetEpoch")]),32,"buf"),E.nu64("idx"),E.u8("isEmpty")],"priorVoters"),E.nu64(),E.seq(E.struct([E.nu64("epoch"),E.nu64("credits"),E.nu64("prevCredits")]),E.offset(E.u32(),-8),"epochCredits"),E.struct([E.nu64("slot"),E.nu64("timestamp")],"lastTimestamp")]);class Ni{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=4,o=pa.decode(N(e),r);let s=o.rootSlot;return o.rootSlotValid||(s=null),new Ni({nodePubkey:new xe(o.nodePubkey),authorizedWithdrawer:new xe(o.authorizedWithdrawer),commission:o.commission,votes:o.votes,rootSlot:s,authorizedVoters:o.authorizedVoters.map(ya),priorVoters:ma(o.priorVoters),epochCredits:o.epochCredits,lastTimestamp:o.lastTimestamp})}}function ya({epoch:a,authorizedVoter:e}){return{epoch:a,authorizedVoter:new xe(e)}}function ga({authorizedPubkey:a,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new xe(a),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function ma({buf:a,idx:e,isEmpty:r}){return r?[]:[...a.slice(e+1).map(ga),...a.slice(0,e)]}class ba{constructor(e,r,o,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=o,this.commission=s}}class ja{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const o=BufferLayout.u32("instruction").decode(e.data);let s;for(const[c,g]of Object.entries(Ir))if(g.index==o){s=c;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=rt(Ir.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new ba(new xe(r.nodePubkey),new xe(r.authorizedVoter),new xe(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:o}=rt(Ir.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new xe(r),voteAuthorizationType:{index:o}}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=rt(Ir.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Vn.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Ir=Object.freeze({InitializeAccount:{index:0,layout:E.struct([E.u32("instruction"),Ko()])},Authorize:{index:1,layout:E.struct([E.u32("instruction"),je("newAuthorized"),E.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:E.struct([E.u32("instruction"),E.ns64("lamports")])}}),$a=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Vn{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:o,voteInit:s}=e,c=Ir.InitializeAccount,g=tt(c,{voteInit:{nodePubkey:N(s.nodePubkey.toBuffer()),authorizedVoter:N(s.authorizedVoter.toBuffer()),authorizedWithdrawer:N(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),I={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:jr,isSigner:!1,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:g};return new Et(I)}static createAccount(e){const r=new He;return r.add(At.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:o,newAuthorizedPubkey:s,voteAuthorizationType:c}=e,g=Ir.Authorize,I=tt(g,{newAuthorized:N(s.toBuffer()),voteAuthorizationType:c.index}),P=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}];return new He().add({keys:P,programId:this.programId,data:I})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:o,lamports:s,toPubkey:c}=e,g=Ir.Withdraw,I=tt(g,{lamports:s}),P=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];return new He().add({keys:P,programId:this.programId,data:I})}}Vn.programId=new xe("Vote111111111111111111111111111111111111111"),Vn.space=3731;function Ka(a,e,r){return ie(this,null,function*(){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},s=yield a.sendRawTransaction(e,o),c=(yield a.confirmTransaction(s,r&&r.commitment)).value;if(c.err)throw new Error(`Raw transaction ${s} failed (${JSON.stringify(c)})`);return s})}const Li={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Va(a,e){const r=e===!1?"http":"https";if(!a)return Li[r].devnet;const o=Li[r][a];if(!o)throw new Error(`Unknown ${r} cluster: ${a}`);return o}const Ha=1e9;var _r=function(a,e,r,o){function s(c){return c instanceof r?c:new r(function(g){g(c)})}return new(r||(r=Promise))(function(c,g){function I(Y){try{L(o.next(Y))}catch(re){g(re)}}function P(Y){try{L(o.throw(Y))}catch(re){g(re)}}function L(Y){Y.done?c(Y.value):s(Y.value).then(I,P)}L((o=o.apply(a,e||[])).next())})};class wa extends K(){constructor(e,r){super();if(this._network=r,this._publicKey=null,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._autoApprove=!1,this._responsePromises=new Map,this.handleMessage=o=>{var s;if(this._injectedProvider&&o.source===window||o.origin===((s=this._providerUrl)===null||s===void 0?void 0:s.origin)&&o.source===this._popup){if(o.data.method==="connected"){const c=new xe(o.data.params.publicKey);(!this._publicKey||!this._publicKey.equals(c))&&(this._publicKey&&!this._publicKey.equals(c)&&this.handleDisconnect(),this._publicKey=c,this._autoApprove=!!o.data.params.autoApprove,this.emit("connect",this._publicKey))}else if(o.data.method==="disconnected")this.handleDisconnect();else if(o.data.result||o.data.error){const c=this._responsePromises.get(o.data.id);if(c){const[g,I]=c;o.data.result?g(o.data.result):I(new Error(o.data.error))}}}},this._beforeUnload=()=>{this.disconnect()},Ea(e))this._injectedProvider=e;else if(va(e))this._providerUrl=new URL(e),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:this._network}).toString();else throw new Error("provider parameter must be an injected provider or a URL string.")}handleConnect(){var e;return this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this.handleMessage),window.addEventListener("beforeunload",this._beforeUnload)),this._injectedProvider?new Promise(r=>{this.sendRequest("connect",{}),r()}):(window.name="parent",this._popup=window.open((e=this._providerUrl)===null||e===void 0?void 0:e.toString(),"_blank","location,resizable,width=460,height=675"),new Promise(r=>{this.once("connect",r)}))}handleDisconnect(){this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this.handleMessage),window.removeEventListener("beforeunload",this._beforeUnload)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(([,e],r)=>{this._responsePromises.delete(r),e(new Error("Wallet disconnected"))})}sendRequest(e,r){return _r(this,void 0,void 0,function*(){if(e!=="connect"&&!this.connected)throw new Error("Wallet not connected");const o=this._nextRequestId;return++this._nextRequestId,new Promise((s,c)=>{var g,I,P,L;this._responsePromises.set(o,[s,c]),this._injectedProvider?this._injectedProvider.postMessage({jsonrpc:"2.0",id:o,method:e,params:Object.assign({network:this._network},r)}):((g=this._popup)===null||g===void 0||g.postMessage({jsonrpc:"2.0",id:o,method:e,params:r},(P=(I=this._providerUrl)===null||I===void 0?void 0:I.origin)!==null&&P!==void 0?P:""),this.autoApprove||(L=this._popup)===null||L===void 0||L.focus())})})}get publicKey(){return this._publicKey}get connected(){return this._publicKey!==null}get autoApprove(){return this._autoApprove}connect(){return _r(this,void 0,void 0,function*(){this._popup&&this._popup.close(),yield this.handleConnect()})}disconnect(){return _r(this,void 0,void 0,function*(){this._injectedProvider&&(yield this.sendRequest("disconnect",{})),this._popup&&this._popup.close(),this.handleDisconnect()})}sign(e,r){return _r(this,void 0,void 0,function*(){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const o=yield this.sendRequest("sign",{data:e,display:r}),s=X().decode(o.signature),c=new xe(o.publicKey);return{signature:s,publicKey:c}})}signTransaction(e){return _r(this,void 0,void 0,function*(){const r=yield this.sendRequest("signTransaction",{message:X().encode(e.serializeMessage())}),o=X().decode(r.signature),s=new xe(r.publicKey);return e.addSignature(s,o),e})}signAllTransactions(e){return _r(this,void 0,void 0,function*(){const r=yield this.sendRequest("signAllTransactions",{messages:e.map(c=>X().encode(c.serializeMessage()))}),o=r.signatures.map(c=>X().decode(c)),s=new xe(r.publicKey);return e=e.map((c,g)=>(c.addSignature(s,o[g]),c)),e})}diffieHellman(e){return _r(this,void 0,void 0,function*(){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return yield this.sendRequest("diffieHellman",{publicKey:e})})}}function va(a){return typeof a=="string"}function Ea(a){return Sa(a)&&"postMessage"in a&&typeof a.postMessage=="function"}function Sa(a){return typeof a=="object"&&a!==null}},39386:function(Ie,S,O){"use strict";/**
 * Support for translating between Uint8Array instances and JavaScript
 * native types.
 *
 * {@link module:Layout~Layout|Layout} is the basis of a class
 * hierarchy that associates property names with sequences of encoded
 * bytes.
 *
 * Layouts are supported for these scalar (numeric) types:
 * * {@link module:Layout~UInt|Unsigned integers in little-endian
 *   format} with {@link module:Layout.u8|8-bit}, {@link
 *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
 *   {@link module:Layout.u32|32-bit}, {@link
 *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
 *   format} with {@link module:Layout.u16be|16-bit}, {@link
 *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
 *   {@link module:Layout.u40be|40-bit}, and {@link
 *   module:Layout.u48be|48-bit} representation ranges;
 * * {@link module:Layout~Int|Signed integers in little-endian
 *   format} with {@link module:Layout.s8|8-bit}, {@link
 *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
 *   {@link module:Layout.s32|32-bit}, {@link
 *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~IntBE|Signed integers in big-endian format}
 *   with {@link module:Layout.s16be|16-bit}, {@link
 *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
 *   {@link module:Layout.s40be|40-bit}, and {@link
 *   module:Layout.s48be|48-bit} representation ranges;
 * * 64-bit integral values that decode to an exact (if magnitude is
 *   less than 2^53) or nearby integral Number in {@link
 *   module:Layout.nu64|unsigned little-endian}, {@link
 *   module:Layout.nu64be|unsigned big-endian}, {@link
 *   module:Layout.ns64|signed little-endian}, and {@link
 *   module:Layout.ns64be|unsigned big-endian} encodings;
 * * 32-bit floating point values with {@link
 *   module:Layout.f32|little-endian} and {@link
 *   module:Layout.f32be|big-endian} representations;
 * * 64-bit floating point values with {@link
 *   module:Layout.f64|little-endian} and {@link
 *   module:Layout.f64be|big-endian} representations;
 * * {@link module:Layout.const|Constants} that take no space in the
 *   encoded expression.
 *
 * and for these aggregate types:
 * * {@link module:Layout.seq|Sequence}s of instances of a {@link
 *   module:Layout~Layout|Layout}, with JavaScript representation as
 *   an Array and constant or data-dependent {@link
 *   module:Layout~Sequence#count|length};
 * * {@link module:Layout.struct|Structure}s that aggregate a
 *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
 *   instances, with JavaScript representation as an Object;
 * * {@link module:Layout.union|Union}s that support multiple {@link
 *   module:Layout~VariantLayout|variant layouts} over a fixed
 *   (padded) or variable (not padded) span of bytes, using an
 *   unsigned integer at the start of the data or a separate {@link
 *   module:Layout.unionLayoutDiscriminator|layout element} to
 *   determine which layout to use when interpreting the buffer
 *   contents;
 * * {@link module:Layout.bits|BitStructure}s that contain a sequence
 *   of individual {@link
 *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
 *   16, 24, or 32-bit unsigned integer starting at the least- or
 *   most-significant bit;
 * * {@link module:Layout.cstr|C strings} of varying length;
 * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
 *   module:Layout~Blob#length|length} raw data.
 *
 * All {@link module:Layout~Layout|Layout} instances are immutable
 * after construction, to prevent internal state from becoming
 * inconsistent.
 *
 * @local Layout
 * @local ExternalLayout
 * @local GreedyCount
 * @local OffsetLayout
 * @local UInt
 * @local UIntBE
 * @local Int
 * @local IntBE
 * @local NearUInt64
 * @local NearUInt64BE
 * @local NearInt64
 * @local NearInt64BE
 * @local Float
 * @local FloatBE
 * @local Double
 * @local DoubleBE
 * @local Sequence
 * @local Structure
 * @local UnionDiscriminator
 * @local UnionLayoutDiscriminator
 * @local Union
 * @local VariantLayout
 * @local BitStructure
 * @local BitField
 * @local Boolean
 * @local Blob
 * @local CString
 * @local Constant
 * @local bindConstructorLayout
 * @module Layout
 * @license MIT
 * @author Peter A. Bigot
 * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
 */var D=this&&this.__extends||function(){var _=function(k,p){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(m[T]=b[T])},_(k,p)};return function(k,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");_(k,p);function m(){this.constructor=k}k.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();S.__esModule=!0,S.s16=S.s8=S.nu64be=S.u48be=S.u40be=S.u32be=S.u24be=S.u16be=S.nu64=S.u48=S.u40=S.u32=S.u24=S.u16=S.u8=S.offset=S.greedy=S.Constant=S.UTF8=S.CString=S.Blob=S.Boolean=S.BitField=S.BitStructure=S.VariantLayout=S.Union=S.UnionLayoutDiscriminator=S.UnionDiscriminator=S.Structure=S.Sequence=S.DoubleBE=S.Double=S.FloatBE=S.Float=S.NearInt64BE=S.NearInt64=S.NearUInt64BE=S.NearUInt64=S.IntBE=S.Int=S.UIntBE=S.UInt=S.OffsetLayout=S.GreedyCount=S.ExternalLayout=S.bindConstructorLayout=S.nameWithProperty=S.Layout=S.uint8ArrayToBuffer=S.checkUint8Array=void 0,S.constant=S.utf8=S.cstr=S.blob=S.unionLayoutDiscriminator=S.union=S.seq=S.bits=S.struct=S.f64be=S.f64=S.f32be=S.f32=S.ns64be=S.s48be=S.s40be=S.s32be=S.s24be=S.s16be=S.ns64=S.s48=S.s40=S.s32=S.s24=void 0;var K=O(28779);function V(_){if(!(_ instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}S.checkUint8Array=V;function R(_){return V(_),K.Buffer.from(_.buffer,_.byteOffset,_.length)}S.uint8ArrayToBuffer=R;var A=function(){function _(k,p){if(!Number.isInteger(k))throw new TypeError("span must be an integer");this.span=k,this.property=p}return _.prototype.makeDestinationObject=function(){return{}},_.prototype.decode=function(k,p){throw new Error("Layout is abstract")},_.prototype.encode=function(k,p,m){throw new Error("Layout is abstract")},_.prototype.getSpan=function(k,p){if(0>this.span)throw new RangeError("indeterminate span");return this.span},_.prototype.replicate=function(k){var p=Object.create(this.constructor.prototype);return Object.assign(p,this),p.property=k,p},_.prototype.fromArray=function(k){},_}();S.Layout=A;function U(_,k){return k.property?_+"["+k.property+"]":_}S.nameWithProperty=U;function w(_,k){if(typeof _!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(_,"layout_"))throw new Error("Class is already bound to a layout");if(!(k&&k instanceof A))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(k,"boundConstructor_"))throw new Error("layout is already bound to a constructor");_.layout_=k,k.boundConstructor_=_,k.makeDestinationObject=function(){return new _},Object.defineProperty(_.prototype,"encode",{value:function(p,m){return k.encode(this,p,m)},writable:!0}),Object.defineProperty(_,"decode",{value:function(p,m){return k.decode(p,m)},writable:!0})}S.bindConstructorLayout=w;var v=function(_){D(k,_);function k(){return _!==null&&_.apply(this,arguments)||this}return k.prototype.isCount=function(){throw new Error("ExternalLayout is abstract")},k}(A);S.ExternalLayout=v;var X=function(_){D(k,_);function k(p,m){var b=this;if(p===void 0&&(p=1),!Number.isInteger(p)||0>=p)throw new TypeError("elementSpan must be a (positive) integer");return b=_.call(this,-1,m)||this,b.elementSpan=p,b}return k.prototype.isCount=function(){return!0},k.prototype.decode=function(p,m){V(p),m===void 0&&(m=0);var b=p.length-m;return Math.floor(b/this.elementSpan)},k.prototype.encode=function(p,m,b){return 0},k}(v);S.GreedyCount=X;var ve=function(_){D(k,_);function k(p,m,b){var T=this;if(!(p instanceof A))throw new TypeError("layout must be a Layout");if(m===void 0)m=0;else if(!Number.isInteger(m))throw new TypeError("offset must be integer or undefined");return T=_.call(this,p.span,b||p.property)||this,T.layout=p,T.offset=m,T}return k.prototype.isCount=function(){return this.layout instanceof E||this.layout instanceof pe},k.prototype.decode=function(p,m){return m===void 0&&(m=0),this.layout.decode(p,m+this.offset)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),this.layout.encode(p,m,b+this.offset)},k}(v);S.OffsetLayout=ve;var E=function(_){D(k,_);function k(p,m){var b=_.call(this,p,m)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),R(p).readUIntLE(m,this.span)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),R(m).writeUIntLE(p,b,this.span),this.span},k}(A);S.UInt=E;var pe=function(_){D(k,_);function k(p,m){var b=_.call(this,p,m)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),R(p).readUIntBE(m,this.span)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),R(m).writeUIntBE(p,b,this.span),this.span},k}(A);S.UIntBE=pe;var Ee=function(_){D(k,_);function k(p,m){var b=_.call(this,p,m)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),R(p).readIntLE(m,this.span)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),R(m).writeIntLE(p,b,this.span),this.span},k}(A);S.Int=Ee;var ce=function(_){D(k,_);function k(p,m){var b=_.call(this,p,m)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),R(p).readIntBE(m,this.span)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),R(m).writeIntBE(p,b,this.span),this.span},k}(A);S.IntBE=ce;var q=Math.pow(2,32);function M(_){var k=Math.floor(_/q),p=_-k*q;return{hi32:k,lo32:p}}function j(_,k){return _*q+k}var Z=function(_){D(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=R(p),T=b.readUInt32LE(m),G=b.readUInt32LE(m+4);return j(G,T)},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var T=M(p),G=R(m);return G.writeUInt32LE(T.lo32,b),G.writeUInt32LE(T.hi32,b+4),8},k}(A);S.NearUInt64=Z;var ee=function(_){D(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=R(p),T=b.readUInt32BE(m),G=b.readUInt32BE(m+4);return j(T,G)},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var T=M(p),G=R(m);return G.writeUInt32BE(T.hi32,b),G.writeUInt32BE(T.lo32,b+4),8},k}(A);S.NearUInt64BE=ee;var H=function(_){D(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=R(p),T=b.readUInt32LE(m),G=b.readInt32LE(m+4);return j(G,T)},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var T=M(p),G=R(m);return G.writeUInt32LE(T.lo32,b),G.writeInt32LE(T.hi32,b+4),8},k}(A);S.NearInt64=H;var W=function(_){D(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=R(p),T=b.readInt32BE(m),G=b.readUInt32BE(m+4);return j(T,G)},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var T=M(p),G=R(m);return G.writeInt32BE(T.hi32,b),G.writeUInt32BE(T.lo32,b+4),8},k}(A);S.NearInt64BE=W;var ye=function(_){D(k,_);function k(p){return _.call(this,4,p)||this}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),R(p).readFloatLE(m)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),R(m).writeFloatLE(p,b),4},k}(A);S.Float=ye;var Q=function(_){D(k,_);function k(p){return _.call(this,4,p)||this}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),R(p).readFloatBE(m)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),R(m).writeFloatBE(p,b),4},k}(A);S.FloatBE=Q;var ue=function(_){D(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),R(p).readDoubleLE(m)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),R(m).writeDoubleLE(p,b),8},k}(A);S.Double=ue;var me=function(_){D(k,_);function k(p){return _.call(this,8,p)||this}return k.prototype.decode=function(p,m){return m===void 0&&(m=0),R(p).readDoubleBE(m)},k.prototype.encode=function(p,m,b){return b===void 0&&(b=0),R(m).writeDoubleBE(p,b),8},k}(A);S.DoubleBE=me;var Ae=function(_){D(k,_);function k(p,m,b){var T=this;if(!(p instanceof A))throw new TypeError("elementLayout must be a Layout");if(!(m instanceof v&&m.isCount()||Number.isInteger(m)&&0<=m))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var G=-1;return!(m instanceof v)&&0<p.span&&(G=m*p.span),T=_.call(this,G,b)||this,T.elementLayout=p,T.count=m,T}return k.prototype.getSpan=function(p,m){if(0<=this.span)return this.span;m===void 0&&(m=0);var b=0,T=this.count;if(T instanceof v&&(T=T.decode(p,m)),0<this.elementLayout.span)b=T*this.elementLayout.span;else for(var G=0;G<T;)b+=this.elementLayout.getSpan(p,m+b),++G;return b},k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=[],T=0,G=this.count;for(G instanceof v&&(G=G.decode(p,m));T<G;)b.push(this.elementLayout.decode(p,m)),m+=this.elementLayout.getSpan(p,m),T+=1;return b},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var T=this.elementLayout,G=p.reduce(function(Se,ae){return Se+T.encode(ae,m,b+Se)},0);return this.count instanceof v&&this.count.encode(p.length,m,b),G},k}(A);S.Sequence=Ae;var te=function(_){D(k,_);function k(p,m,b){var T=this;if(!(Array.isArray(p)&&p.reduce(function(Le,Te){return Le&&Te instanceof A},!0)))throw new TypeError("fields must be array of Layout instances");typeof m=="boolean"&&b===void 0&&(b=m,m=void 0);for(var G=0,Se=p;G<Se.length;G++){var ae=Se[G];if(0>ae.span&&ae.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout")}var F=-1;try{F=p.reduce(function(Le,Te){return Le+Te.getSpan()},0)}catch(Le){}return T=_.call(this,F,m)||this,T.fields=p,T.decodePrefixes=!!b,T}return k.prototype.getSpan=function(p,m){if(0<=this.span)return this.span;m===void 0&&(m=0);var b=0;try{b=this.fields.reduce(function(T,G){var Se=G.getSpan(p,m);return m+=Se,T+Se},0)}catch(T){throw new RangeError("indeterminate span")}return b},k.prototype.decode=function(p,m){V(p),m===void 0&&(m=0);for(var b=this.makeDestinationObject(),T=0,G=this.fields;T<G.length;T++){var Se=G[T];if(Se.property!==void 0&&(b[Se.property]=Se.decode(p,m)),m+=Se.getSpan(p,m),this.decodePrefixes&&p.length===m)break}return b},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);for(var T=b,G=0,Se=0,ae=0,F=this.fields;ae<F.length;ae++){var Le=F[ae],Te=Le.span;if(Se=0<Te?Te:0,Le.property!==void 0){var $t=p[Le.property];$t!==void 0&&(Se=Le.encode($t,m,b),0>Te&&(Te=Le.getSpan(m,b)))}G=b,b+=Te}return G+Se-T},k.prototype.fromArray=function(p){for(var m=this.makeDestinationObject(),b=0,T=this.fields;b<T.length;b++){var G=T[b];G.property!==void 0&&0<p.length&&(m[G.property]=p.shift())}return m},k.prototype.layoutFor=function(p){if(typeof p!="string")throw new TypeError("property must be string");for(var m=0,b=this.fields;m<b.length;m++){var T=b[m];if(T.property===p)return T}},k.prototype.offsetOf=function(p){if(typeof p!="string")throw new TypeError("property must be string");for(var m=0,b=0,T=this.fields;b<T.length;b++){var G=T[b];if(G.property===p)return m;0>G.span?m=-1:0<=m&&(m+=G.span)}},k}(A);S.Structure=te;var z=function(){function _(k){this.property=k}return _.prototype.decode=function(k,p){throw new Error("UnionDiscriminator is abstract")},_.prototype.encode=function(k,p,m){throw new Error("UnionDiscriminator is abstract")},_}();S.UnionDiscriminator=z;var se=function(_){D(k,_);function k(p,m){var b=this;if(!(p instanceof v&&p.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return b=_.call(this,m||p.property||"variant")||this,b.layout=p,b}return k.prototype.decode=function(p,m){return this.layout.decode(p,m)},k.prototype.encode=function(p,m,b){return this.layout.encode(p,m,b)},k}(z);S.UnionLayoutDiscriminator=se;var fe=function(_){D(k,_);function k(p,m,b){var T=this,G=p instanceof E||p instanceof pe,Se;if(G)Se=new se(new ve(p));else if(p instanceof v&&p.isCount())Se=new se(p);else if(p instanceof z)Se=p;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(m===void 0&&(m=null),!(m===null||m instanceof A))throw new TypeError("defaultLayout must be null or a Layout");if(m!==null){if(0>m.span)throw new Error("defaultLayout must have constant span");m.property===void 0&&(m=m.replicate("content"))}var ae=-1;m&&(ae=m.span,0<=ae&&G&&(ae+=Se.layout.span)),T=_.call(this,ae,b)||this,T.discriminator=Se,T.usesPrefixDiscriminator=G,T.defaultLayout=m,T.registry={};var F=T.defaultGetSourceVariant.bind(T);return T.getSourceVariant=function(Le){return F(Le)},T.configGetSourceVariant=function(Le){F=Le.bind(this)},T}return k.prototype.getSpan=function(p,m){if(0<=this.span)return this.span;m===void 0&&(m=0);var b=this.getVariant(p,m);if(!b)throw new Error("unable to determine span for unrecognized variant");return b.getSpan(p,m)},k.prototype.defaultGetSourceVariant=function(p){if(Object.prototype.hasOwnProperty.call(p,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(p,this.defaultLayout.property))return;var m=this.registry[p[this.discriminator.property]];if(m&&(!m.layout||m.property&&Object.prototype.hasOwnProperty.call(p,m.property)))return m}else for(var b in this.registry){var m=this.registry[b];if(m.property&&Object.prototype.hasOwnProperty.call(p,m.property))return m}throw new Error("unable to infer src variant")},k.prototype.decode=function(p,m){m===void 0&&(m=0);var b,T=this.discriminator,G=T.decode(p,m),Se=this.registry[G];if(Se===void 0){var ae=this.defaultLayout,F=0;this.usesPrefixDiscriminator&&(F=T.layout.span),b=this.makeDestinationObject(),b[T.property]=G,b[ae.property]=ae.decode(p,m+F)}else b=Se.decode(p,m);return b},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var T=this.getSourceVariant(p);if(T===void 0){var G=this.discriminator,Se=this.defaultLayout,ae=0;return this.usesPrefixDiscriminator&&(ae=G.layout.span),G.encode(p[G.property],m,b),ae+Se.encode(p[Se.property],m,b+ae)}return T.encode(p,m,b)},k.prototype.addVariant=function(p,m,b){var T=new Re(this,p,m,b);return this.registry[p]=T,T},k.prototype.getVariant=function(p,m){var b;return p instanceof Uint8Array?(m===void 0&&(m=0),b=this.discriminator.decode(p,m)):b=p,this.registry[b]},k}(A);S.Union=fe;var Re=function(_){D(k,_);function k(p,m,b,T){var G=this;if(!(p instanceof fe))throw new TypeError("union must be a Union");if(!Number.isInteger(m)||0>m)throw new TypeError("variant must be a (non-negative) integer");if(typeof b=="string"&&T===void 0&&(T=b,b=null),b){if(!(b instanceof A))throw new TypeError("layout must be a Layout");if(p.defaultLayout!==null&&0<=b.span&&b.span>p.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof T!="string")throw new TypeError("variant must have a String property")}var Se=p.span;return 0>p.span&&(Se=b?b.span:0,0<=Se&&p.usesPrefixDiscriminator&&(Se+=p.discriminator.layout.span)),G=_.call(this,Se,T)||this,G.union=p,G.variant=m,G.layout=b||null,G}return k.prototype.getSpan=function(p,m){if(0<=this.span)return this.span;m===void 0&&(m=0);var b=0;this.union.usesPrefixDiscriminator&&(b=this.union.discriminator.layout.span);var T=0;return this.layout&&(T=this.layout.getSpan(p,m+b)),b+T},k.prototype.decode=function(p,m){var b=this.makeDestinationObject();if(m===void 0&&(m=0),this!==this.union.getVariant(p,m))throw new Error("variant mismatch");var T=0;this.union.usesPrefixDiscriminator&&(T=this.union.discriminator.layout.span);var G=this.property;return this.layout?b[G]=this.layout.decode(p,m+T):G?b[G]=!0:this.union.usesPrefixDiscriminator&&(b[this.union.discriminator.property]=this.variant),b},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var T=0;this.union.usesPrefixDiscriminator&&(T=this.union.discriminator.layout.span);var G=this.property;if(this.layout&&!Object.prototype.hasOwnProperty.call(p,G))throw new TypeError("variant lacks property "+G);this.union.discriminator.encode(this.variant,m,b);var Se=T;if(this.layout&&(this.layout.encode(p[G],m,b+T),Se+=this.layout.getSpan(m,b+T),0<=this.union.span&&Se>this.union.span))throw new Error("encoded variant overruns containing union");return Se},k.prototype.fromArray=function(p){if(this.layout)return this.layout.fromArray(p)},k}(A);S.VariantLayout=Re;function Ue(_){return 0>_&&(_+=4294967296),_}var qe=function(_){D(k,_);function k(p,m,b){var T=this;if(!(p instanceof E||p instanceof pe))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof m=="string"&&b===void 0&&(b=m,m=!1),4<p.span)throw new RangeError("word cannot exceed 32 bits");T=_.call(this,p.span,b)||this,T.word=p,T.msb=!!m,T.fields=[];var G=0;return T._packedSetValue=function(Se){return G=Ue(Se),this},T._packedGetValue=function(){return G},T}return k.prototype.decode=function(p,m){var b=this.makeDestinationObject();m===void 0&&(m=0);var T=this.word.decode(p,m);this._packedSetValue(T);for(var G=0,Se=this.fields;G<Se.length;G++){var ae=Se[G];ae.property!==void 0&&(b[ae.property]=ae.decode(T))}return b},k.prototype.encode=function(p,m,b){b===void 0&&(b=0);var T=this.word.decode(m,b);this._packedSetValue(T);for(var G=0,Se=this.fields;G<Se.length;G++){var ae=Se[G];if(ae.property!==void 0){var F=p[ae.property];F!==void 0&&ae.encode(F)}}return this.word.encode(this._packedGetValue(),m,b)},k.prototype.addField=function(p,m){var b=new it(this,p,m);return this.fields.push(b),b},k.prototype.addBoolean=function(p){var m=new tr(this,p);return this.fields.push(m),m},k.prototype.fieldFor=function(p){if(typeof p!="string")throw new TypeError("property must be string");for(var m=0,b=this.fields;m<b.length;m++){var T=b[m];if(T.property===p)return T}},k}(A);S.BitStructure=qe;var it=function(){function _(k,p,m){if(!(k instanceof qe))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(p)||0>=p)throw new TypeError("bits must be positive integer");var b=8*k.span,T=k.fields.reduce(function(G,Se){return G+Se.bits},0);if(p+T>b)throw new Error("bits too long for span remainder ("+(b-T)+" of "+b+" remain)");this.container=k,this.bits=p,this.valueMask=(1<<p)-1,p===32&&(this.valueMask=4294967295),this.start=T,this.container.msb&&(this.start=b-T-p),this.wordMask=Ue(this.valueMask<<this.start),this.property=m}return _.prototype.decode=function(k,p){var m=this.container._packedGetValue(),b=Ue(m&this.wordMask),T=b>>>this.start;return T},_.prototype.encode=function(k){if(!Number.isInteger(k)||k!==Ue(k&this.valueMask))throw new TypeError(U("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var p=this.container._packedGetValue(),m=Ue(k<<this.start);this.container._packedSetValue(Ue(p&~this.wordMask)|m)},_}();S.BitField=it;var tr=function(_){D(k,_);function k(p,m){return _.call(this,p,1,m)||this}return k.prototype.decode=function(p,m){return!!it.prototype.decode.call(this,p,m)},k.prototype.encode=function(p){return typeof p=="boolean"&&(p=+p),it.prototype.encode.call(this,p)},k}(it);S.Boolean=tr;var jt=function(_){D(k,_);function k(p,m){var b=this;if(!(p instanceof v&&p.isCount()||Number.isInteger(p)&&0<=p))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var T=-1;return p instanceof v||(T=p),b=_.call(this,T,m)||this,b.length=p,b}return k.prototype.getSpan=function(p,m){var b=this.span;return 0>b&&(b=this.length.decode(p,m)),b},k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=this.span;return 0>b&&(b=this.length.decode(p,m)),R(p).slice(m,m+b)},k.prototype.encode=function(p,m,b){var T=this.length;if(this.length instanceof v&&(T=p.length),!(p instanceof Uint8Array&&T===p.length))throw new TypeError(U("Blob.encode",this)+" requires (length "+T+") Uint8Array as src");if(b+T>m.length)throw new RangeError("encoding overruns Uint8Array");var G=R(p);return R(m).write(G.toString("hex"),b,T,"hex"),this.length instanceof v&&this.length.encode(T,m,b),T},k}(A);S.Blob=jt;var ge=function(_){D(k,_);function k(p){return _.call(this,-1,p)||this}return k.prototype.getSpan=function(p,m){V(p),m===void 0&&(m=0);for(var b=m;b<p.length&&p[b]!==0;)b+=1;return 1+b-m},k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=this.getSpan(p,m);return R(p).slice(m,m+b-1).toString("utf-8")},k.prototype.encode=function(p,m,b){b===void 0&&(b=0),typeof p!="string"&&(p=p.toString());var T=K.Buffer.from(p,"utf8"),G=T.length;if(b+G>m.length)throw new RangeError("encoding overruns Buffer");var Se=R(m);return T.copy(Se,b),Se[b+G]=0,G+1},k}(A);S.CString=ge;var Ce=function(_){D(k,_);function k(p,m){var b=this;if(typeof p=="string"&&m===void 0&&(m=p,p=void 0),p===void 0)p=-1;else if(!Number.isInteger(p))throw new TypeError("maxSpan must be an integer");return b=_.call(this,-1,m)||this,b.maxSpan=p,b}return k.prototype.getSpan=function(p,m){return V(p),m===void 0&&(m=0),p.length-m},k.prototype.decode=function(p,m){m===void 0&&(m=0);var b=this.getSpan(p,m);if(0<=this.maxSpan&&this.maxSpan<b)throw new RangeError("text length exceeds maxSpan");return R(p).slice(m,m+b).toString("utf-8")},k.prototype.encode=function(p,m,b){b===void 0&&(b=0),typeof p!="string"&&(p=p.toString());var T=K.Buffer.from(p,"utf8"),G=T.length;if(0<=this.maxSpan&&this.maxSpan<G)throw new RangeError("text length exceeds maxSpan");if(b+G>m.length)throw new RangeError("encoding overruns Buffer");return T.copy(R(m),b),G},k}(A);S.UTF8=Ce;var Ye=function(_){D(k,_);function k(p,m){var b=_.call(this,0,m)||this;return b.value=p,b}return k.prototype.decode=function(p,m){return this.value},k.prototype.encode=function(p,m,b){return 0},k}(A);S.Constant=Ye,S.greedy=function(_,k){return new X(_,k)},S.offset=function(_,k,p){return new ve(_,k,p)},S.u8=function(_){return new E(1,_)},S.u16=function(_){return new E(2,_)},S.u24=function(_){return new E(3,_)},S.u32=function(_){return new E(4,_)},S.u40=function(_){return new E(5,_)},S.u48=function(_){return new E(6,_)},S.nu64=function(_){return new Z(_)},S.u16be=function(_){return new pe(2,_)},S.u24be=function(_){return new pe(3,_)},S.u32be=function(_){return new pe(4,_)},S.u40be=function(_){return new pe(5,_)},S.u48be=function(_){return new pe(6,_)},S.nu64be=function(_){return new ee(_)},S.s8=function(_){return new Ee(1,_)},S.s16=function(_){return new Ee(2,_)},S.s24=function(_){return new Ee(3,_)},S.s32=function(_){return new Ee(4,_)},S.s40=function(_){return new Ee(5,_)},S.s48=function(_){return new Ee(6,_)},S.ns64=function(_){return new H(_)},S.s16be=function(_){return new ce(2,_)},S.s24be=function(_){return new ce(3,_)},S.s32be=function(_){return new ce(4,_)},S.s40be=function(_){return new ce(5,_)},S.s48be=function(_){return new ce(6,_)},S.ns64be=function(_){return new W(_)},S.f32=function(_){return new ye(_)},S.f32be=function(_){return new Q(_)},S.f64=function(_){return new ue(_)},S.f64be=function(_){return new me(_)},S.struct=function(_,k,p){return new te(_,k,p)},S.bits=function(_,k,p){return new qe(_,k,p)},S.seq=function(_,k,p){return new Ae(_,k,p)},S.union=function(_,k,p){return new fe(_,k,p)},S.unionLayoutDiscriminator=function(_,k){return new se(_,k)},S.blob=function(_,k){return new jt(_,k)},S.cstr=function(_){return new ge(_)},S.utf8=function(_,k){return new Ce(_,k)},S.constant=function(_,k){return new Ye(_,k)}},28779:function(Ie,S,O){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const D=O(79742),K=O(80645),V=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;S.Buffer=w,S.SlowBuffer=Z,S.INSPECT_MAX_BYTES=50;const R=2147483647;S.kMaxLength=R,w.TYPED_ARRAY_SUPPORT=A(),!w.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function A(){try{const f=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(f,n),f.foo()===42}catch(f){return!1}}Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(!!w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(!!w.isBuffer(this))return this.byteOffset}});function U(f){if(f>R)throw new RangeError('The value "'+f+'" is invalid for option "size"');const n=new Uint8Array(f);return Object.setPrototypeOf(n,w.prototype),n}function w(f,n,t){if(typeof f=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(f)}return v(f,n,t)}w.poolSize=8192;function v(f,n,t){if(typeof f=="string")return pe(f,n);if(ArrayBuffer.isView(f))return ce(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Me(f,ArrayBuffer)||f&&Me(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Me(f,SharedArrayBuffer)||f&&Me(f.buffer,SharedArrayBuffer)))return q(f,n,t);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=f.valueOf&&f.valueOf();if(i!=null&&i!==f)return w.from(i,n,t);const u=M(f);if(u)return u;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return w.from(f[Symbol.toPrimitive]("string"),n,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}w.from=function(f,n,t){return v(f,n,t)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array);function X(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function ve(f,n,t){return X(f),f<=0?U(f):n!==void 0?typeof t=="string"?U(f).fill(n,t):U(f).fill(n):U(f)}w.alloc=function(f,n,t){return ve(f,n,t)};function E(f){return X(f),U(f<0?0:j(f)|0)}w.allocUnsafe=function(f){return E(f)},w.allocUnsafeSlow=function(f){return E(f)};function pe(f,n){if((typeof n!="string"||n==="")&&(n="utf8"),!w.isEncoding(n))throw new TypeError("Unknown encoding: "+n);const t=ee(f,n)|0;let i=U(t);const u=i.write(f,n);return u!==t&&(i=i.slice(0,u)),i}function Ee(f){const n=f.length<0?0:j(f.length)|0,t=U(n);for(let i=0;i<n;i+=1)t[i]=f[i]&255;return t}function ce(f){if(Me(f,Uint8Array)){const n=new Uint8Array(f);return q(n.buffer,n.byteOffset,n.byteLength)}return Ee(f)}function q(f,n,t){if(n<0||f.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<n+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return n===void 0&&t===void 0?i=new Uint8Array(f):t===void 0?i=new Uint8Array(f,n):i=new Uint8Array(f,n,t),Object.setPrototypeOf(i,w.prototype),i}function M(f){if(w.isBuffer(f)){const n=j(f.length)|0,t=U(n);return t.length===0||f.copy(t,0,0,n),t}if(f.length!==void 0)return typeof f.length!="number"||Xe(f.length)?U(0):Ee(f);if(f.type==="Buffer"&&Array.isArray(f.data))return Ee(f.data)}function j(f){if(f>=R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R.toString(16)+" bytes");return f|0}function Z(f){return+f!=f&&(f=0),w.alloc(+f)}w.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==w.prototype},w.compare=function(n,t){if(Me(n,Uint8Array)&&(n=w.from(n,n.offset,n.byteLength)),Me(t,Uint8Array)&&(t=w.from(t,t.offset,t.byteLength)),!w.isBuffer(n)||!w.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===t)return 0;let i=n.length,u=t.length;for(let d=0,l=Math.min(i,u);d<l;++d)if(n[d]!==t[d]){i=n[d],u=t[d];break}return i<u?-1:u<i?1:0},w.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(n,t){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return w.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<n.length;++i)t+=n[i].length;const u=w.allocUnsafe(t);let d=0;for(i=0;i<n.length;++i){let l=n[i];if(Me(l,Uint8Array))d+l.length>u.length?(w.isBuffer(l)||(l=w.from(l)),l.copy(u,d)):Uint8Array.prototype.set.call(u,l,d);else if(w.isBuffer(l))l.copy(u,d);else throw new TypeError('"list" argument must be an Array of Buffers');d+=l.length}return u};function ee(f,n){if(w.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Me(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const t=f.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let u=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return dr(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return rr(f).length;default:if(u)return i?-1:dr(f).length;n=(""+n).toLowerCase(),u=!0}}w.byteLength=ee;function H(f,n,t){let i=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,n>>>=0,t<=n))return"";for(f||(f="utf8");;)switch(f){case"hex":return tr(this,n,t);case"utf8":case"utf-8":return fe(this,n,t);case"ascii":return qe(this,n,t);case"latin1":case"binary":return it(this,n,t);case"base64":return se(this,n,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jt(this,n,t);default:if(i)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),i=!0}}w.prototype._isBuffer=!0;function W(f,n,t){const i=f[n];f[n]=f[t],f[t]=i}w.prototype.swap16=function(){const n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<n;t+=2)W(this,t,t+1);return this},w.prototype.swap32=function(){const n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<n;t+=4)W(this,t,t+3),W(this,t+1,t+2);return this},w.prototype.swap64=function(){const n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<n;t+=8)W(this,t,t+7),W(this,t+1,t+6),W(this,t+2,t+5),W(this,t+3,t+4);return this},w.prototype.toString=function(){const n=this.length;return n===0?"":arguments.length===0?fe(this,0,n):H.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(n){if(!w.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:w.compare(this,n)===0},w.prototype.inspect=function(){let n="";const t=S.INSPECT_MAX_BYTES;return n=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(n+=" ... "),"<Buffer "+n+">"},V&&(w.prototype[V]=w.prototype.inspect),w.prototype.compare=function(n,t,i,u,d){if(Me(n,Uint8Array)&&(n=w.from(n,n.offset,n.byteLength)),!w.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(t===void 0&&(t=0),i===void 0&&(i=n?n.length:0),u===void 0&&(u=0),d===void 0&&(d=this.length),t<0||i>n.length||u<0||d>this.length)throw new RangeError("out of range index");if(u>=d&&t>=i)return 0;if(u>=d)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,u>>>=0,d>>>=0,this===n)return 0;let l=d-u,y=i-t;const h=Math.min(l,y),x=this.slice(u,d),C=n.slice(t,i);for(let B=0;B<h;++B)if(x[B]!==C[B]){l=x[B],y=C[B];break}return l<y?-1:y<l?1:0};function ye(f,n,t,i,u){if(f.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Xe(t)&&(t=u?0:f.length-1),t<0&&(t=f.length+t),t>=f.length){if(u)return-1;t=f.length-1}else if(t<0)if(u)t=0;else return-1;if(typeof n=="string"&&(n=w.from(n,i)),w.isBuffer(n))return n.length===0?-1:Q(f,n,t,i,u);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?u?Uint8Array.prototype.indexOf.call(f,n,t):Uint8Array.prototype.lastIndexOf.call(f,n,t):Q(f,[n],t,i,u);throw new TypeError("val must be string, number or Buffer")}function Q(f,n,t,i,u){let d=1,l=f.length,y=n.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(f.length<2||n.length<2)return-1;d=2,l/=2,y/=2,t/=2}function h(C,B){return d===1?C[B]:C.readUInt16BE(B*d)}let x;if(u){let C=-1;for(x=t;x<l;x++)if(h(f,x)===h(n,C===-1?0:x-C)){if(C===-1&&(C=x),x-C+1===y)return C*d}else C!==-1&&(x-=x-C),C=-1}else for(t+y>l&&(t=l-y),x=t;x>=0;x--){let C=!0;for(let B=0;B<y;B++)if(h(f,x+B)!==h(n,B)){C=!1;break}if(C)return x}return-1}w.prototype.includes=function(n,t,i){return this.indexOf(n,t,i)!==-1},w.prototype.indexOf=function(n,t,i){return ye(this,n,t,i,!0)},w.prototype.lastIndexOf=function(n,t,i){return ye(this,n,t,i,!1)};function ue(f,n,t,i){t=Number(t)||0;const u=f.length-t;i?(i=Number(i),i>u&&(i=u)):i=u;const d=n.length;i>d/2&&(i=d/2);let l;for(l=0;l<i;++l){const y=parseInt(n.substr(l*2,2),16);if(Xe(y))return l;f[t+l]=y}return l}function me(f,n,t,i){return J(dr(n,f.length-t),f,t,i)}function Ae(f,n,t,i){return J(pr(n),f,t,i)}function te(f,n,t,i){return J(rr(n),f,t,i)}function z(f,n,t,i){return J(be(n,f.length-t),f,t,i)}w.prototype.write=function(n,t,i,u){if(t===void 0)u="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")u=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,u===void 0&&(u="utf8")):(u=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const d=this.length-t;if((i===void 0||i>d)&&(i=d),n.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");let l=!1;for(;;)switch(u){case"hex":return ue(this,n,t,i);case"utf8":case"utf-8":return me(this,n,t,i);case"ascii":case"latin1":case"binary":return Ae(this,n,t,i);case"base64":return te(this,n,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,n,t,i);default:if(l)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),l=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function se(f,n,t){return n===0&&t===f.length?D.fromByteArray(f):D.fromByteArray(f.slice(n,t))}function fe(f,n,t){t=Math.min(f.length,t);const i=[];let u=n;for(;u<t;){const d=f[u];let l=null,y=d>239?4:d>223?3:d>191?2:1;if(u+y<=t){let h,x,C,B;switch(y){case 1:d<128&&(l=d);break;case 2:h=f[u+1],(h&192)==128&&(B=(d&31)<<6|h&63,B>127&&(l=B));break;case 3:h=f[u+1],x=f[u+2],(h&192)==128&&(x&192)==128&&(B=(d&15)<<12|(h&63)<<6|x&63,B>2047&&(B<55296||B>57343)&&(l=B));break;case 4:h=f[u+1],x=f[u+2],C=f[u+3],(h&192)==128&&(x&192)==128&&(C&192)==128&&(B=(d&15)<<18|(h&63)<<12|(x&63)<<6|C&63,B>65535&&B<1114112&&(l=B))}}l===null?(l=65533,y=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|l&1023),i.push(l),u+=y}return Ue(i)}const Re=4096;function Ue(f){const n=f.length;if(n<=Re)return String.fromCharCode.apply(String,f);let t="",i=0;for(;i<n;)t+=String.fromCharCode.apply(String,f.slice(i,i+=Re));return t}function qe(f,n,t){let i="";t=Math.min(f.length,t);for(let u=n;u<t;++u)i+=String.fromCharCode(f[u]&127);return i}function it(f,n,t){let i="";t=Math.min(f.length,t);for(let u=n;u<t;++u)i+=String.fromCharCode(f[u]);return i}function tr(f,n,t){const i=f.length;(!n||n<0)&&(n=0),(!t||t<0||t>i)&&(t=i);let u="";for(let d=n;d<t;++d)u+=ot[f[d]];return u}function jt(f,n,t){const i=f.slice(n,t);let u="";for(let d=0;d<i.length-1;d+=2)u+=String.fromCharCode(i[d]+i[d+1]*256);return u}w.prototype.slice=function(n,t){const i=this.length;n=~~n,t=t===void 0?i:~~t,n<0?(n+=i,n<0&&(n=0)):n>i&&(n=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<n&&(t=n);const u=this.subarray(n,t);return Object.setPrototypeOf(u,w.prototype),u};function ge(f,n,t){if(f%1!=0||f<0)throw new RangeError("offset is not uint");if(f+n>t)throw new RangeError("Trying to access beyond buffer length")}w.prototype.readUintLE=w.prototype.readUIntLE=function(n,t,i){n=n>>>0,t=t>>>0,i||ge(n,t,this.length);let u=this[n],d=1,l=0;for(;++l<t&&(d*=256);)u+=this[n+l]*d;return u},w.prototype.readUintBE=w.prototype.readUIntBE=function(n,t,i){n=n>>>0,t=t>>>0,i||ge(n,t,this.length);let u=this[n+--t],d=1;for(;t>0&&(d*=256);)u+=this[n+--t]*d;return u},w.prototype.readUint8=w.prototype.readUInt8=function(n,t){return n=n>>>0,t||ge(n,1,this.length),this[n]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(n,t){return n=n>>>0,t||ge(n,2,this.length),this[n]|this[n+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(n,t){return n=n>>>0,t||ge(n,2,this.length),this[n]<<8|this[n+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(n,t){return n=n>>>0,t||ge(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(n,t){return n=n>>>0,t||ge(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},w.prototype.readBigUInt64LE=St(function(n){n=n>>>0,F(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&Le(n,this.length-8);const u=t+this[++n]*Pe(2,8)+this[++n]*Pe(2,16)+this[++n]*Pe(2,24),d=this[++n]+this[++n]*Pe(2,8)+this[++n]*Pe(2,16)+i*Pe(2,24);return BigInt(u)+(BigInt(d)<<BigInt(32))}),w.prototype.readBigUInt64BE=St(function(n){n=n>>>0,F(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&Le(n,this.length-8);const u=t*Pe(2,24)+this[++n]*Pe(2,16)+this[++n]*Pe(2,8)+this[++n],d=this[++n]*Pe(2,24)+this[++n]*Pe(2,16)+this[++n]*Pe(2,8)+i;return(BigInt(u)<<BigInt(32))+BigInt(d)}),w.prototype.readIntLE=function(n,t,i){n=n>>>0,t=t>>>0,i||ge(n,t,this.length);let u=this[n],d=1,l=0;for(;++l<t&&(d*=256);)u+=this[n+l]*d;return d*=128,u>=d&&(u-=Math.pow(2,8*t)),u},w.prototype.readIntBE=function(n,t,i){n=n>>>0,t=t>>>0,i||ge(n,t,this.length);let u=t,d=1,l=this[n+--u];for(;u>0&&(d*=256);)l+=this[n+--u]*d;return d*=128,l>=d&&(l-=Math.pow(2,8*t)),l},w.prototype.readInt8=function(n,t){return n=n>>>0,t||ge(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},w.prototype.readInt16LE=function(n,t){n=n>>>0,t||ge(n,2,this.length);const i=this[n]|this[n+1]<<8;return i&32768?i|4294901760:i},w.prototype.readInt16BE=function(n,t){n=n>>>0,t||ge(n,2,this.length);const i=this[n+1]|this[n]<<8;return i&32768?i|4294901760:i},w.prototype.readInt32LE=function(n,t){return n=n>>>0,t||ge(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},w.prototype.readInt32BE=function(n,t){return n=n>>>0,t||ge(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},w.prototype.readBigInt64LE=St(function(n){n=n>>>0,F(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&Le(n,this.length-8);const u=this[n+4]+this[n+5]*Pe(2,8)+this[n+6]*Pe(2,16)+(i<<24);return(BigInt(u)<<BigInt(32))+BigInt(t+this[++n]*Pe(2,8)+this[++n]*Pe(2,16)+this[++n]*Pe(2,24))}),w.prototype.readBigInt64BE=St(function(n){n=n>>>0,F(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&Le(n,this.length-8);const u=(t<<24)+this[++n]*Pe(2,16)+this[++n]*Pe(2,8)+this[++n];return(BigInt(u)<<BigInt(32))+BigInt(this[++n]*Pe(2,24)+this[++n]*Pe(2,16)+this[++n]*Pe(2,8)+i)}),w.prototype.readFloatLE=function(n,t){return n=n>>>0,t||ge(n,4,this.length),K.read(this,n,!0,23,4)},w.prototype.readFloatBE=function(n,t){return n=n>>>0,t||ge(n,4,this.length),K.read(this,n,!1,23,4)},w.prototype.readDoubleLE=function(n,t){return n=n>>>0,t||ge(n,8,this.length),K.read(this,n,!0,52,8)},w.prototype.readDoubleBE=function(n,t){return n=n>>>0,t||ge(n,8,this.length),K.read(this,n,!1,52,8)};function Ce(f,n,t,i,u,d){if(!w.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>u||n<d)throw new RangeError('"value" argument is out of bounds');if(t+i>f.length)throw new RangeError("Index out of range")}w.prototype.writeUintLE=w.prototype.writeUIntLE=function(n,t,i,u){if(n=+n,t=t>>>0,i=i>>>0,!u){const y=Math.pow(2,8*i)-1;Ce(this,n,t,i,y,0)}let d=1,l=0;for(this[t]=n&255;++l<i&&(d*=256);)this[t+l]=n/d&255;return t+i},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(n,t,i,u){if(n=+n,t=t>>>0,i=i>>>0,!u){const y=Math.pow(2,8*i)-1;Ce(this,n,t,i,y,0)}let d=i-1,l=1;for(this[t+d]=n&255;--d>=0&&(l*=256);)this[t+d]=n/l&255;return t+i},w.prototype.writeUint8=w.prototype.writeUInt8=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,1,255,0),this[t]=n&255,t+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,2,65535,0),this[t]=n&255,this[t+1]=n>>>8,t+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,2,65535,0),this[t]=n>>>8,this[t+1]=n&255,t+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,4,4294967295,0),this[t+3]=n>>>24,this[t+2]=n>>>16,this[t+1]=n>>>8,this[t]=n&255,t+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,4,4294967295,0),this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255,t+4};function Ye(f,n,t,i,u){ae(n,i,u,f,t,7);let d=Number(n&BigInt(4294967295));f[t++]=d,d=d>>8,f[t++]=d,d=d>>8,f[t++]=d,d=d>>8,f[t++]=d;let l=Number(n>>BigInt(32)&BigInt(4294967295));return f[t++]=l,l=l>>8,f[t++]=l,l=l>>8,f[t++]=l,l=l>>8,f[t++]=l,t}function _(f,n,t,i,u){ae(n,i,u,f,t,7);let d=Number(n&BigInt(4294967295));f[t+7]=d,d=d>>8,f[t+6]=d,d=d>>8,f[t+5]=d,d=d>>8,f[t+4]=d;let l=Number(n>>BigInt(32)&BigInt(4294967295));return f[t+3]=l,l=l>>8,f[t+2]=l,l=l>>8,f[t+1]=l,l=l>>8,f[t]=l,t+8}w.prototype.writeBigUInt64LE=St(function(n,t=0){return Ye(this,n,t,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=St(function(n,t=0){return _(this,n,t,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(n,t,i,u){if(n=+n,t=t>>>0,!u){const h=Math.pow(2,8*i-1);Ce(this,n,t,i,h-1,-h)}let d=0,l=1,y=0;for(this[t]=n&255;++d<i&&(l*=256);)n<0&&y===0&&this[t+d-1]!==0&&(y=1),this[t+d]=(n/l>>0)-y&255;return t+i},w.prototype.writeIntBE=function(n,t,i,u){if(n=+n,t=t>>>0,!u){const h=Math.pow(2,8*i-1);Ce(this,n,t,i,h-1,-h)}let d=i-1,l=1,y=0;for(this[t+d]=n&255;--d>=0&&(l*=256);)n<0&&y===0&&this[t+d+1]!==0&&(y=1),this[t+d]=(n/l>>0)-y&255;return t+i},w.prototype.writeInt8=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,1,127,-128),n<0&&(n=255+n+1),this[t]=n&255,t+1},w.prototype.writeInt16LE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,2,32767,-32768),this[t]=n&255,this[t+1]=n>>>8,t+2},w.prototype.writeInt16BE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,2,32767,-32768),this[t]=n>>>8,this[t+1]=n&255,t+2},w.prototype.writeInt32LE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,4,2147483647,-2147483648),this[t]=n&255,this[t+1]=n>>>8,this[t+2]=n>>>16,this[t+3]=n>>>24,t+4},w.prototype.writeInt32BE=function(n,t,i){return n=+n,t=t>>>0,i||Ce(this,n,t,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255,t+4},w.prototype.writeBigInt64LE=St(function(n,t=0){return Ye(this,n,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=St(function(n,t=0){return _(this,n,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function k(f,n,t,i,u,d){if(t+i>f.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function p(f,n,t,i,u){return n=+n,t=t>>>0,u||k(f,n,t,4,34028234663852886e22,-34028234663852886e22),K.write(f,n,t,i,23,4),t+4}w.prototype.writeFloatLE=function(n,t,i){return p(this,n,t,!0,i)},w.prototype.writeFloatBE=function(n,t,i){return p(this,n,t,!1,i)};function m(f,n,t,i,u){return n=+n,t=t>>>0,u||k(f,n,t,8,17976931348623157e292,-17976931348623157e292),K.write(f,n,t,i,52,8),t+8}w.prototype.writeDoubleLE=function(n,t,i){return m(this,n,t,!0,i)},w.prototype.writeDoubleBE=function(n,t,i){return m(this,n,t,!1,i)},w.prototype.copy=function(n,t,i,u){if(!w.isBuffer(n))throw new TypeError("argument should be a Buffer");if(i||(i=0),!u&&u!==0&&(u=this.length),t>=n.length&&(t=n.length),t||(t=0),u>0&&u<i&&(u=i),u===i||n.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),n.length-t<u-i&&(u=n.length-t+i);const d=u-i;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,u):Uint8Array.prototype.set.call(n,this.subarray(i,u),t),d},w.prototype.fill=function(n,t,i,u){if(typeof n=="string"){if(typeof t=="string"?(u=t,t=0,i=this.length):typeof i=="string"&&(u=i,i=this.length),u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!w.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(n.length===1){const l=n.charCodeAt(0);(u==="utf8"&&l<128||u==="latin1")&&(n=l)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,n||(n=0);let d;if(typeof n=="number")for(d=t;d<i;++d)this[d]=n;else{const l=w.isBuffer(n)?n:w.from(n,u),y=l.length;if(y===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(d=0;d<i-t;++d)this[d+t]=l[d%y]}return this};const b={};function T(f,n,t){b[f]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(u){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:u,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}T("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),T("ERR_INVALID_ARG_TYPE",function(f,n){return`The "${f}" argument must be of type number. Received type ${typeof n}`},TypeError),T("ERR_OUT_OF_RANGE",function(f,n,t){let i=`The value of "${f}" is out of range.`,u=t;return Number.isInteger(t)&&Math.abs(t)>Pe(2,32)?u=G(String(t)):typeof t=="bigint"&&(u=String(t),(t>Pe(BigInt(2),BigInt(32))||t<-Pe(BigInt(2),BigInt(32)))&&(u=G(u)),u+="n"),i+=` It must be ${n}. Received ${u}`,i},RangeError);function G(f){let n="",t=f.length;const i=f[0]==="-"?1:0;for(;t>=i+4;t-=3)n=`_${f.slice(t-3,t)}${n}`;return`${f.slice(0,t)}${n}`}function Se(f,n,t){F(n,"offset"),(f[n]===void 0||f[n+t]===void 0)&&Le(n,f.length-(t+1))}function ae(f,n,t,i,u,d){if(f>t||f<n){const l=typeof n=="bigint"?"n":"";let y;throw d>3?n===0||n===BigInt(0)?y=`>= 0${l} and < 2${l} ** ${(d+1)*8}${l}`:y=`>= -(2${l} ** ${(d+1)*8-1}${l}) and < 2 ** ${(d+1)*8-1}${l}`:y=`>= ${n}${l} and <= ${t}${l}`,new b.ERR_OUT_OF_RANGE("value",y,f)}Se(i,u,d)}function F(f,n){if(typeof f!="number")throw new b.ERR_INVALID_ARG_TYPE(n,"number",f)}function Le(f,n,t){throw Math.floor(f)!==f?(F(f,t),new b.ERR_OUT_OF_RANGE(t||"offset","an integer",f)):n<0?new b.ERR_BUFFER_OUT_OF_BOUNDS:new b.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${n}`,f)}const Te=/[^+/0-9A-Za-z-_]/g;function $t(f){if(f=f.split("=")[0],f=f.trim().replace(Te,""),f.length<2)return"";for(;f.length%4!=0;)f=f+"=";return f}function dr(f,n){n=n||Infinity;let t;const i=f.length;let u=null;const d=[];for(let l=0;l<i;++l){if(t=f.charCodeAt(l),t>55295&&t<57344){if(!u){if(t>56319){(n-=3)>-1&&d.push(239,191,189);continue}else if(l+1===i){(n-=3)>-1&&d.push(239,191,189);continue}u=t;continue}if(t<56320){(n-=3)>-1&&d.push(239,191,189),u=t;continue}t=(u-55296<<10|t-56320)+65536}else u&&(n-=3)>-1&&d.push(239,191,189);if(u=null,t<128){if((n-=1)<0)break;d.push(t)}else if(t<2048){if((n-=2)<0)break;d.push(t>>6|192,t&63|128)}else if(t<65536){if((n-=3)<0)break;d.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((n-=4)<0)break;d.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return d}function pr(f){const n=[];for(let t=0;t<f.length;++t)n.push(f.charCodeAt(t)&255);return n}function be(f,n){let t,i,u;const d=[];for(let l=0;l<f.length&&!((n-=2)<0);++l)t=f.charCodeAt(l),i=t>>8,u=t%256,d.push(u),d.push(i);return d}function rr(f){return D.toByteArray($t(f))}function J(f,n,t,i){let u;for(u=0;u<i&&!(u+t>=n.length||u>=f.length);++u)n[u+t]=f[u];return u}function Me(f,n){return f instanceof n||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===n.name}function Xe(f){return f!==f}const ot=function(){const f="0123456789abcdef",n=new Array(256);for(let t=0;t<16;++t){const i=t*16;for(let u=0;u<16;++u)n[i+u]=f[t]+f[u]}return n}();function St(f){return typeof BigInt=="undefined"?pt:f}function pt(){throw new Error("BigInt not supported")}},64285:function(Ie,S,O){"use strict";var D;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const K=O(79742),V=O(80645),R=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;S.lW=v,D=ee,S.h2=50;const A=2147483647;D=A,v.TYPED_ARRAY_SUPPORT=U(),!v.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function U(){try{const n=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(n,t),n.foo()===42}catch(n){return!1}}Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(!!v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(!!v.isBuffer(this))return this.byteOffset}});function w(n){if(n>A)throw new RangeError('The value "'+n+'" is invalid for option "size"');const t=new Uint8Array(n);return Object.setPrototypeOf(t,v.prototype),t}function v(n,t,i){if(typeof n=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return pe(n)}return X(n,t,i)}v.poolSize=8192;function X(n,t,i){if(typeof n=="string")return Ee(n,t);if(ArrayBuffer.isView(n))return q(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Xe(n,ArrayBuffer)||n&&Xe(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Xe(n,SharedArrayBuffer)||n&&Xe(n.buffer,SharedArrayBuffer)))return M(n,t,i);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const u=n.valueOf&&n.valueOf();if(u!=null&&u!==n)return v.from(u,t,i);const d=j(n);if(d)return d;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return v.from(n[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}v.from=function(n,t,i){return X(n,t,i)},Object.setPrototypeOf(v.prototype,Uint8Array.prototype),Object.setPrototypeOf(v,Uint8Array);function ve(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function E(n,t,i){return ve(n),n<=0?w(n):t!==void 0?typeof i=="string"?w(n).fill(t,i):w(n).fill(t):w(n)}v.alloc=function(n,t,i){return E(n,t,i)};function pe(n){return ve(n),w(n<0?0:Z(n)|0)}v.allocUnsafe=function(n){return pe(n)},v.allocUnsafeSlow=function(n){return pe(n)};function Ee(n,t){if((typeof t!="string"||t==="")&&(t="utf8"),!v.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const i=H(n,t)|0;let u=w(i);const d=u.write(n,t);return d!==i&&(u=u.slice(0,d)),u}function ce(n){const t=n.length<0?0:Z(n.length)|0,i=w(t);for(let u=0;u<t;u+=1)i[u]=n[u]&255;return i}function q(n){if(Xe(n,Uint8Array)){const t=new Uint8Array(n);return M(t.buffer,t.byteOffset,t.byteLength)}return ce(n)}function M(n,t,i){if(t<0||n.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');let u;return t===void 0&&i===void 0?u=new Uint8Array(n):i===void 0?u=new Uint8Array(n,t):u=new Uint8Array(n,t,i),Object.setPrototypeOf(u,v.prototype),u}function j(n){if(v.isBuffer(n)){const t=Z(n.length)|0,i=w(t);return i.length===0||n.copy(i,0,0,t),i}if(n.length!==void 0)return typeof n.length!="number"||ot(n.length)?w(0):ce(n);if(n.type==="Buffer"&&Array.isArray(n.data))return ce(n.data)}function Z(n){if(n>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return n|0}function ee(n){return+n!=n&&(n=0),v.alloc(+n)}v.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==v.prototype},v.compare=function(t,i){if(Xe(t,Uint8Array)&&(t=v.from(t,t.offset,t.byteLength)),Xe(i,Uint8Array)&&(i=v.from(i,i.offset,i.byteLength)),!v.isBuffer(t)||!v.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===i)return 0;let u=t.length,d=i.length;for(let l=0,y=Math.min(u,d);l<y;++l)if(t[l]!==i[l]){u=t[l],d=i[l];break}return u<d?-1:d<u?1:0},v.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(t,i){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return v.alloc(0);let u;if(i===void 0)for(i=0,u=0;u<t.length;++u)i+=t[u].length;const d=v.allocUnsafe(i);let l=0;for(u=0;u<t.length;++u){let y=t[u];if(Xe(y,Uint8Array))l+y.length>d.length?(v.isBuffer(y)||(y=v.from(y)),y.copy(d,l)):Uint8Array.prototype.set.call(d,y,l);else if(v.isBuffer(y))y.copy(d,l);else throw new TypeError('"list" argument must be an Array of Buffers');l+=y.length}return d};function H(n,t){if(v.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Xe(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);const i=n.length,u=arguments.length>2&&arguments[2]===!0;if(!u&&i===0)return 0;let d=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return pr(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return J(n).length;default:if(d)return u?-1:pr(n).length;t=(""+t).toLowerCase(),d=!0}}v.byteLength=H;function W(n,t,i){let u=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,t>>>=0,i<=t))return"";for(n||(n="utf8");;)switch(n){case"hex":return jt(this,t,i);case"utf8":case"utf-8":return Re(this,t,i);case"ascii":return it(this,t,i);case"latin1":case"binary":return tr(this,t,i);case"base64":return fe(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,t,i);default:if(u)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),u=!0}}v.prototype._isBuffer=!0;function ye(n,t,i){const u=n[t];n[t]=n[i],n[i]=u}v.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<t;i+=2)ye(this,i,i+1);return this},v.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<t;i+=4)ye(this,i,i+3),ye(this,i+1,i+2);return this},v.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<t;i+=8)ye(this,i,i+7),ye(this,i+1,i+6),ye(this,i+2,i+5),ye(this,i+3,i+4);return this},v.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?Re(this,0,t):W.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(t){if(!v.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:v.compare(this,t)===0},v.prototype.inspect=function(){let t="";const i=S.h2;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},R&&(v.prototype[R]=v.prototype.inspect),v.prototype.compare=function(t,i,u,d,l){if(Xe(t,Uint8Array)&&(t=v.from(t,t.offset,t.byteLength)),!v.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(i===void 0&&(i=0),u===void 0&&(u=t?t.length:0),d===void 0&&(d=0),l===void 0&&(l=this.length),i<0||u>t.length||d<0||l>this.length)throw new RangeError("out of range index");if(d>=l&&i>=u)return 0;if(d>=l)return-1;if(i>=u)return 1;if(i>>>=0,u>>>=0,d>>>=0,l>>>=0,this===t)return 0;let y=l-d,h=u-i;const x=Math.min(y,h),C=this.slice(d,l),B=t.slice(i,u);for(let N=0;N<x;++N)if(C[N]!==B[N]){y=C[N],h=B[N];break}return y<h?-1:h<y?1:0};function Q(n,t,i,u,d){if(n.length===0)return-1;if(typeof i=="string"?(u=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,ot(i)&&(i=d?0:n.length-1),i<0&&(i=n.length+i),i>=n.length){if(d)return-1;i=n.length-1}else if(i<0)if(d)i=0;else return-1;if(typeof t=="string"&&(t=v.from(t,u)),v.isBuffer(t))return t.length===0?-1:ue(n,t,i,u,d);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?d?Uint8Array.prototype.indexOf.call(n,t,i):Uint8Array.prototype.lastIndexOf.call(n,t,i):ue(n,[t],i,u,d);throw new TypeError("val must be string, number or Buffer")}function ue(n,t,i,u,d){let l=1,y=n.length,h=t.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(n.length<2||t.length<2)return-1;l=2,y/=2,h/=2,i/=2}function x(B,N){return l===1?B[N]:B.readUInt16BE(N*l)}let C;if(d){let B=-1;for(C=i;C<y;C++)if(x(n,C)===x(t,B===-1?0:C-B)){if(B===-1&&(B=C),C-B+1===h)return B*l}else B!==-1&&(C-=C-B),B=-1}else for(i+h>y&&(i=y-h),C=i;C>=0;C--){let B=!0;for(let N=0;N<h;N++)if(x(n,C+N)!==x(t,N)){B=!1;break}if(B)return C}return-1}v.prototype.includes=function(t,i,u){return this.indexOf(t,i,u)!==-1},v.prototype.indexOf=function(t,i,u){return Q(this,t,i,u,!0)},v.prototype.lastIndexOf=function(t,i,u){return Q(this,t,i,u,!1)};function me(n,t,i,u){i=Number(i)||0;const d=n.length-i;u?(u=Number(u),u>d&&(u=d)):u=d;const l=t.length;u>l/2&&(u=l/2);let y;for(y=0;y<u;++y){const h=parseInt(t.substr(y*2,2),16);if(ot(h))return y;n[i+y]=h}return y}function Ae(n,t,i,u){return Me(pr(t,n.length-i),n,i,u)}function te(n,t,i,u){return Me(be(t),n,i,u)}function z(n,t,i,u){return Me(J(t),n,i,u)}function se(n,t,i,u){return Me(rr(t,n.length-i),n,i,u)}v.prototype.write=function(t,i,u,d){if(i===void 0)d="utf8",u=this.length,i=0;else if(u===void 0&&typeof i=="string")d=i,u=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(u)?(u=u>>>0,d===void 0&&(d="utf8")):(d=u,u=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const l=this.length-i;if((u===void 0||u>l)&&(u=l),t.length>0&&(u<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");let y=!1;for(;;)switch(d){case"hex":return me(this,t,i,u);case"utf8":case"utf-8":return Ae(this,t,i,u);case"ascii":case"latin1":case"binary":return te(this,t,i,u);case"base64":return z(this,t,i,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,t,i,u);default:if(y)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),y=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fe(n,t,i){return t===0&&i===n.length?K.fromByteArray(n):K.fromByteArray(n.slice(t,i))}function Re(n,t,i){i=Math.min(n.length,i);const u=[];let d=t;for(;d<i;){const l=n[d];let y=null,h=l>239?4:l>223?3:l>191?2:1;if(d+h<=i){let x,C,B,N;switch(h){case 1:l<128&&(y=l);break;case 2:x=n[d+1],(x&192)==128&&(N=(l&31)<<6|x&63,N>127&&(y=N));break;case 3:x=n[d+1],C=n[d+2],(x&192)==128&&(C&192)==128&&(N=(l&15)<<12|(x&63)<<6|C&63,N>2047&&(N<55296||N>57343)&&(y=N));break;case 4:x=n[d+1],C=n[d+2],B=n[d+3],(x&192)==128&&(C&192)==128&&(B&192)==128&&(N=(l&15)<<18|(x&63)<<12|(C&63)<<6|B&63,N>65535&&N<1114112&&(y=N))}}y===null?(y=65533,h=1):y>65535&&(y-=65536,u.push(y>>>10&1023|55296),y=56320|y&1023),u.push(y),d+=h}return qe(u)}const Ue=4096;function qe(n){const t=n.length;if(t<=Ue)return String.fromCharCode.apply(String,n);let i="",u=0;for(;u<t;)i+=String.fromCharCode.apply(String,n.slice(u,u+=Ue));return i}function it(n,t,i){let u="";i=Math.min(n.length,i);for(let d=t;d<i;++d)u+=String.fromCharCode(n[d]&127);return u}function tr(n,t,i){let u="";i=Math.min(n.length,i);for(let d=t;d<i;++d)u+=String.fromCharCode(n[d]);return u}function jt(n,t,i){const u=n.length;(!t||t<0)&&(t=0),(!i||i<0||i>u)&&(i=u);let d="";for(let l=t;l<i;++l)d+=St[n[l]];return d}function ge(n,t,i){const u=n.slice(t,i);let d="";for(let l=0;l<u.length-1;l+=2)d+=String.fromCharCode(u[l]+u[l+1]*256);return d}v.prototype.slice=function(t,i){const u=this.length;t=~~t,i=i===void 0?u:~~i,t<0?(t+=u,t<0&&(t=0)):t>u&&(t=u),i<0?(i+=u,i<0&&(i=0)):i>u&&(i=u),i<t&&(i=t);const d=this.subarray(t,i);return Object.setPrototypeOf(d,v.prototype),d};function Ce(n,t,i){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+t>i)throw new RangeError("Trying to access beyond buffer length")}v.prototype.readUintLE=v.prototype.readUIntLE=function(t,i,u){t=t>>>0,i=i>>>0,u||Ce(t,i,this.length);let d=this[t],l=1,y=0;for(;++y<i&&(l*=256);)d+=this[t+y]*l;return d},v.prototype.readUintBE=v.prototype.readUIntBE=function(t,i,u){t=t>>>0,i=i>>>0,u||Ce(t,i,this.length);let d=this[t+--i],l=1;for(;i>0&&(l*=256);)d+=this[t+--i]*l;return d},v.prototype.readUint8=v.prototype.readUInt8=function(t,i){return t=t>>>0,i||Ce(t,1,this.length),this[t]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(t,i){return t=t>>>0,i||Ce(t,2,this.length),this[t]|this[t+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(t,i){return t=t>>>0,i||Ce(t,2,this.length),this[t]<<8|this[t+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},v.prototype.readBigUInt64LE=pt(function(t){t=t>>>0,Le(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const d=i+this[++t]*Pe(2,8)+this[++t]*Pe(2,16)+this[++t]*Pe(2,24),l=this[++t]+this[++t]*Pe(2,8)+this[++t]*Pe(2,16)+u*Pe(2,24);return BigInt(d)+(BigInt(l)<<BigInt(32))}),v.prototype.readBigUInt64BE=pt(function(t){t=t>>>0,Le(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const d=i*Pe(2,24)+this[++t]*Pe(2,16)+this[++t]*Pe(2,8)+this[++t],l=this[++t]*Pe(2,24)+this[++t]*Pe(2,16)+this[++t]*Pe(2,8)+u;return(BigInt(d)<<BigInt(32))+BigInt(l)}),v.prototype.readIntLE=function(t,i,u){t=t>>>0,i=i>>>0,u||Ce(t,i,this.length);let d=this[t],l=1,y=0;for(;++y<i&&(l*=256);)d+=this[t+y]*l;return l*=128,d>=l&&(d-=Math.pow(2,8*i)),d},v.prototype.readIntBE=function(t,i,u){t=t>>>0,i=i>>>0,u||Ce(t,i,this.length);let d=i,l=1,y=this[t+--d];for(;d>0&&(l*=256);)y+=this[t+--d]*l;return l*=128,y>=l&&(y-=Math.pow(2,8*i)),y},v.prototype.readInt8=function(t,i){return t=t>>>0,i||Ce(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},v.prototype.readInt16LE=function(t,i){t=t>>>0,i||Ce(t,2,this.length);const u=this[t]|this[t+1]<<8;return u&32768?u|4294901760:u},v.prototype.readInt16BE=function(t,i){t=t>>>0,i||Ce(t,2,this.length);const u=this[t+1]|this[t]<<8;return u&32768?u|4294901760:u},v.prototype.readInt32LE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},v.prototype.readInt32BE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},v.prototype.readBigInt64LE=pt(function(t){t=t>>>0,Le(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const d=this[t+4]+this[t+5]*Pe(2,8)+this[t+6]*Pe(2,16)+(u<<24);return(BigInt(d)<<BigInt(32))+BigInt(i+this[++t]*Pe(2,8)+this[++t]*Pe(2,16)+this[++t]*Pe(2,24))}),v.prototype.readBigInt64BE=pt(function(t){t=t>>>0,Le(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const d=(i<<24)+this[++t]*Pe(2,16)+this[++t]*Pe(2,8)+this[++t];return(BigInt(d)<<BigInt(32))+BigInt(this[++t]*Pe(2,24)+this[++t]*Pe(2,16)+this[++t]*Pe(2,8)+u)}),v.prototype.readFloatLE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),V.read(this,t,!0,23,4)},v.prototype.readFloatBE=function(t,i){return t=t>>>0,i||Ce(t,4,this.length),V.read(this,t,!1,23,4)},v.prototype.readDoubleLE=function(t,i){return t=t>>>0,i||Ce(t,8,this.length),V.read(this,t,!0,52,8)},v.prototype.readDoubleBE=function(t,i){return t=t>>>0,i||Ce(t,8,this.length),V.read(this,t,!1,52,8)};function Ye(n,t,i,u,d,l){if(!v.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>d||t<l)throw new RangeError('"value" argument is out of bounds');if(i+u>n.length)throw new RangeError("Index out of range")}v.prototype.writeUintLE=v.prototype.writeUIntLE=function(t,i,u,d){if(t=+t,i=i>>>0,u=u>>>0,!d){const h=Math.pow(2,8*u)-1;Ye(this,t,i,u,h,0)}let l=1,y=0;for(this[i]=t&255;++y<u&&(l*=256);)this[i+y]=t/l&255;return i+u},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(t,i,u,d){if(t=+t,i=i>>>0,u=u>>>0,!d){const h=Math.pow(2,8*u)-1;Ye(this,t,i,u,h,0)}let l=u-1,y=1;for(this[i+l]=t&255;--l>=0&&(y*=256);)this[i+l]=t/y&255;return i+u},v.prototype.writeUint8=v.prototype.writeUInt8=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,1,255,0),this[i]=t&255,i+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,2,65535,0),this[i]=t&255,this[i+1]=t>>>8,i+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,2,65535,0),this[i]=t>>>8,this[i+1]=t&255,i+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,4,4294967295,0),this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=t&255,i+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,4,4294967295,0),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255,i+4};function _(n,t,i,u,d){F(t,u,d,n,i,7);let l=Number(t&BigInt(4294967295));n[i++]=l,l=l>>8,n[i++]=l,l=l>>8,n[i++]=l,l=l>>8,n[i++]=l;let y=Number(t>>BigInt(32)&BigInt(4294967295));return n[i++]=y,y=y>>8,n[i++]=y,y=y>>8,n[i++]=y,y=y>>8,n[i++]=y,i}function k(n,t,i,u,d){F(t,u,d,n,i,7);let l=Number(t&BigInt(4294967295));n[i+7]=l,l=l>>8,n[i+6]=l,l=l>>8,n[i+5]=l,l=l>>8,n[i+4]=l;let y=Number(t>>BigInt(32)&BigInt(4294967295));return n[i+3]=y,y=y>>8,n[i+2]=y,y=y>>8,n[i+1]=y,y=y>>8,n[i]=y,i+8}v.prototype.writeBigUInt64LE=pt(function(t,i=0){return _(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeBigUInt64BE=pt(function(t,i=0){return k(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeIntLE=function(t,i,u,d){if(t=+t,i=i>>>0,!d){const x=Math.pow(2,8*u-1);Ye(this,t,i,u,x-1,-x)}let l=0,y=1,h=0;for(this[i]=t&255;++l<u&&(y*=256);)t<0&&h===0&&this[i+l-1]!==0&&(h=1),this[i+l]=(t/y>>0)-h&255;return i+u},v.prototype.writeIntBE=function(t,i,u,d){if(t=+t,i=i>>>0,!d){const x=Math.pow(2,8*u-1);Ye(this,t,i,u,x-1,-x)}let l=u-1,y=1,h=0;for(this[i+l]=t&255;--l>=0&&(y*=256);)t<0&&h===0&&this[i+l+1]!==0&&(h=1),this[i+l]=(t/y>>0)-h&255;return i+u},v.prototype.writeInt8=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,1,127,-128),t<0&&(t=255+t+1),this[i]=t&255,i+1},v.prototype.writeInt16LE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,2,32767,-32768),this[i]=t&255,this[i+1]=t>>>8,i+2},v.prototype.writeInt16BE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,2,32767,-32768),this[i]=t>>>8,this[i+1]=t&255,i+2},v.prototype.writeInt32LE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,4,2147483647,-2147483648),this[i]=t&255,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24,i+4},v.prototype.writeInt32BE=function(t,i,u){return t=+t,i=i>>>0,u||Ye(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255,i+4},v.prototype.writeBigInt64LE=pt(function(t,i=0){return _(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeBigInt64BE=pt(function(t,i=0){return k(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function p(n,t,i,u,d,l){if(i+u>n.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function m(n,t,i,u,d){return t=+t,i=i>>>0,d||p(n,t,i,4,34028234663852886e22,-34028234663852886e22),V.write(n,t,i,u,23,4),i+4}v.prototype.writeFloatLE=function(t,i,u){return m(this,t,i,!0,u)},v.prototype.writeFloatBE=function(t,i,u){return m(this,t,i,!1,u)};function b(n,t,i,u,d){return t=+t,i=i>>>0,d||p(n,t,i,8,17976931348623157e292,-17976931348623157e292),V.write(n,t,i,u,52,8),i+8}v.prototype.writeDoubleLE=function(t,i,u){return b(this,t,i,!0,u)},v.prototype.writeDoubleBE=function(t,i,u){return b(this,t,i,!1,u)},v.prototype.copy=function(t,i,u,d){if(!v.isBuffer(t))throw new TypeError("argument should be a Buffer");if(u||(u=0),!d&&d!==0&&(d=this.length),i>=t.length&&(i=t.length),i||(i=0),d>0&&d<u&&(d=u),d===u||t.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),t.length-i<d-u&&(d=t.length-i+u);const l=d-u;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,u,d):Uint8Array.prototype.set.call(t,this.subarray(u,d),i),l},v.prototype.fill=function(t,i,u,d){if(typeof t=="string"){if(typeof i=="string"?(d=i,i=0,u=this.length):typeof u=="string"&&(d=u,u=this.length),d!==void 0&&typeof d!="string")throw new TypeError("encoding must be a string");if(typeof d=="string"&&!v.isEncoding(d))throw new TypeError("Unknown encoding: "+d);if(t.length===1){const y=t.charCodeAt(0);(d==="utf8"&&y<128||d==="latin1")&&(t=y)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(i<0||this.length<i||this.length<u)throw new RangeError("Out of range index");if(u<=i)return this;i=i>>>0,u=u===void 0?this.length:u>>>0,t||(t=0);let l;if(typeof t=="number")for(l=i;l<u;++l)this[l]=t;else{const y=v.isBuffer(t)?t:v.from(t,d),h=y.length;if(h===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(l=0;l<u-i;++l)this[l+i]=y[l%h]}return this};const T={};function G(n,t,i){T[n]=class extends i{constructor(){super();Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(d){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:d,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(n,t){return`The "${n}" argument must be of type number. Received type ${typeof t}`},TypeError),G("ERR_OUT_OF_RANGE",function(n,t,i){let u=`The value of "${n}" is out of range.`,d=i;return Number.isInteger(i)&&Math.abs(i)>Pe(2,32)?d=Se(String(i)):typeof i=="bigint"&&(d=String(i),(i>Pe(BigInt(2),BigInt(32))||i<-Pe(BigInt(2),BigInt(32)))&&(d=Se(d)),d+="n"),u+=` It must be ${t}. Received ${d}`,u},RangeError);function Se(n){let t="",i=n.length;const u=n[0]==="-"?1:0;for(;i>=u+4;i-=3)t=`_${n.slice(i-3,i)}${t}`;return`${n.slice(0,i)}${t}`}function ae(n,t,i){Le(t,"offset"),(n[t]===void 0||n[t+i]===void 0)&&Te(t,n.length-(i+1))}function F(n,t,i,u,d,l){if(n>i||n<t){const y=typeof t=="bigint"?"n":"";let h;throw l>3?t===0||t===BigInt(0)?h=`>= 0${y} and < 2${y} ** ${(l+1)*8}${y}`:h=`>= -(2${y} ** ${(l+1)*8-1}${y}) and < 2 ** ${(l+1)*8-1}${y}`:h=`>= ${t}${y} and <= ${i}${y}`,new T.ERR_OUT_OF_RANGE("value",h,n)}ae(u,d,l)}function Le(n,t){if(typeof n!="number")throw new T.ERR_INVALID_ARG_TYPE(t,"number",n)}function Te(n,t,i){throw Math.floor(n)!==n?(Le(n,i),new T.ERR_OUT_OF_RANGE(i||"offset","an integer",n)):t<0?new T.ERR_BUFFER_OUT_OF_BOUNDS:new T.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,n)}const $t=/[^+/0-9A-Za-z-_]/g;function dr(n){if(n=n.split("=")[0],n=n.trim().replace($t,""),n.length<2)return"";for(;n.length%4!=0;)n=n+"=";return n}function pr(n,t){t=t||Infinity;let i;const u=n.length;let d=null;const l=[];for(let y=0;y<u;++y){if(i=n.charCodeAt(y),i>55295&&i<57344){if(!d){if(i>56319){(t-=3)>-1&&l.push(239,191,189);continue}else if(y+1===u){(t-=3)>-1&&l.push(239,191,189);continue}d=i;continue}if(i<56320){(t-=3)>-1&&l.push(239,191,189),d=i;continue}i=(d-55296<<10|i-56320)+65536}else d&&(t-=3)>-1&&l.push(239,191,189);if(d=null,i<128){if((t-=1)<0)break;l.push(i)}else if(i<2048){if((t-=2)<0)break;l.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;l.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;l.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return l}function be(n){const t=[];for(let i=0;i<n.length;++i)t.push(n.charCodeAt(i)&255);return t}function rr(n,t){let i,u,d;const l=[];for(let y=0;y<n.length&&!((t-=2)<0);++y)i=n.charCodeAt(y),u=i>>8,d=i%256,l.push(d),l.push(u);return l}function J(n){return K.toByteArray(dr(n))}function Me(n,t,i,u){let d;for(d=0;d<u&&!(d+i>=t.length||d>=n.length);++d)t[d+i]=n[d];return d}function Xe(n,t){return n instanceof t||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===t.name}function ot(n){return n!==n}const St=function(){const n="0123456789abcdef",t=new Array(256);for(let i=0;i<16;++i){const u=i*16;for(let d=0;d<16;++d)t[u+d]=n[i]+n[d]}return t}();function pt(n){return typeof BigInt=="undefined"?f:n}function f(){throw new Error("BigInt not supported")}},26592:function(Ie,S,O){"use strict";O.d(S,{Z:function(){return D}});function D(K,V){if(!Object.prototype.hasOwnProperty.call(K,V))throw new TypeError("attempted to use private field on non-instance");return K}},82424:function(Ie,S,O){"use strict";O.d(S,{Z:function(){return K}});var D=0;function K(V){return"__private_"+D+++"_"+V}},54941:function(Ie,S,O){"use strict";O.d(S,{Z:function(){return K}});function D(V,R){for(var A=0;A<R.length;A++){var U=R[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(V,U.key,U)}}function K(V,R,A){return R&&D(V.prototype,R),A&&D(V,A),V}},7789:function(Ie,S,O){"use strict";O.d(S,{Z:function(){return d}});var D=O(92137),K=O(22122),V=O(19756),R=O(87757),A=O.n(R),U=O(67294),w=O(45697),v=O.n(w);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var X=function(l,y){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,x){h.__proto__=x}||function(h,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(h[C]=x[C])},X(l,y)};function ve(l,y){X(l,y);function h(){this.constructor=l}l.prototype=y===null?Object.create(y):(h.prototype=y.prototype,new h)}var E=function(){return E=Object.assign||function(y){for(var h,x=1,C=arguments.length;x<C;x++){h=arguments[x];for(var B in h)Object.prototype.hasOwnProperty.call(h,B)&&(y[B]=h[B])}return y},E.apply(this,arguments)};function pe(l,y){var h={};for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&y.indexOf(x)<0&&(h[x]=l[x]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,x=Object.getOwnPropertySymbols(l);C<x.length;C++)y.indexOf(x[C])<0&&Object.prototype.propertyIsEnumerable.call(l,x[C])&&(h[x[C]]=l[x[C]]);return h}function Ee(l,y,h,x){var C=arguments.length,B=C<3?y:x===null?x=Object.getOwnPropertyDescriptor(y,h):x,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(l,y,h,x);else for(var oe=l.length-1;oe>=0;oe--)(N=l[oe])&&(B=(C<3?N(B):C>3?N(y,h,B):N(y,h))||B);return C>3&&B&&Object.defineProperty(y,h,B),B}function ce(l,y){return function(h,x){y(h,x,l)}}function q(l,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,y)}function M(l,y,h,x){function C(B){return B instanceof h?B:new h(function(N){N(B)})}return new(h||(h=Promise))(function(B,N){function oe(ne){try{we(x.next(ne))}catch($e){N($e)}}function ke(ne){try{we(x.throw(ne))}catch($e){N($e)}}function we(ne){ne.done?B(ne.value):C(ne.value).then(oe,ke)}we((x=x.apply(l,y||[])).next())})}function j(l,y){var h={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},x,C,B,N;return N={next:oe(0),throw:oe(1),return:oe(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function oe(we){return function(ne){return ke([we,ne])}}function ke(we){if(x)throw new TypeError("Generator is already executing.");for(;h;)try{if(x=1,C&&(B=we[0]&2?C.return:we[0]?C.throw||((B=C.return)&&B.call(C),0):C.next)&&!(B=B.call(C,we[1])).done)return B;switch(C=0,B&&(we=[we[0]&2,B.value]),we[0]){case 0:case 1:B=we;break;case 4:return h.label++,{value:we[1],done:!1};case 5:h.label++,C=we[1],we=[0];continue;case 7:we=h.ops.pop(),h.trys.pop();continue;default:if(B=h.trys,!(B=B.length>0&&B[B.length-1])&&(we[0]===6||we[0]===2)){h=0;continue}if(we[0]===3&&(!B||we[1]>B[0]&&we[1]<B[3])){h.label=we[1];break}if(we[0]===6&&h.label<B[1]){h.label=B[1],B=we;break}if(B&&h.label<B[2]){h.label=B[2],h.ops.push(we);break}B[2]&&h.ops.pop(),h.trys.pop();continue}we=y.call(l,h)}catch(ne){we=[6,ne],C=0}finally{x=B=0}if(we[0]&5)throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}}var Z=Object.create?function(l,y,h,x){x===void 0&&(x=h),Object.defineProperty(l,x,{enumerable:!0,get:function(){return y[h]}})}:function(l,y,h,x){x===void 0&&(x=h),l[x]=y[h]};function ee(l,y){for(var h in l)h!=="default"&&!Object.prototype.hasOwnProperty.call(y,h)&&Z(y,l,h)}function H(l){var y=typeof Symbol=="function"&&Symbol.iterator,h=y&&l[y],x=0;if(h)return h.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&x>=l.length&&(l=void 0),{value:l&&l[x++],done:!l}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(l,y){var h=typeof Symbol=="function"&&l[Symbol.iterator];if(!h)return l;var x=h.call(l),C,B=[],N;try{for(;(y===void 0||y-- >0)&&!(C=x.next()).done;)B.push(C.value)}catch(oe){N={error:oe}}finally{try{C&&!C.done&&(h=x.return)&&h.call(x)}finally{if(N)throw N.error}}return B}function ye(){for(var l=[],y=0;y<arguments.length;y++)l=l.concat(W(arguments[y]));return l}function Q(){for(var l=0,y=0,h=arguments.length;y<h;y++)l+=arguments[y].length;for(var x=Array(l),C=0,y=0;y<h;y++)for(var B=arguments[y],N=0,oe=B.length;N<oe;N++,C++)x[C]=B[N];return x}function ue(l){return this instanceof ue?(this.v=l,this):new ue(l)}function me(l,y,h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x=h.apply(l,y||[]),C,B=[];return C={},N("next"),N("throw"),N("return"),C[Symbol.asyncIterator]=function(){return this},C;function N(De){x[De]&&(C[De]=function(st){return new Promise(function(Ft,xt){B.push([De,st,Ft,xt])>1||oe(De,st)})})}function oe(De,st){try{ke(x[De](st))}catch(Ft){$e(B[0][3],Ft)}}function ke(De){De.value instanceof ue?Promise.resolve(De.value.v).then(we,ne):$e(B[0][2],De)}function we(De){oe("next",De)}function ne(De){oe("throw",De)}function $e(De,st){De(st),B.shift(),B.length&&oe(B[0][0],B[0][1])}}function Ae(l){var y,h;return y={},x("next"),x("throw",function(C){throw C}),x("return"),y[Symbol.iterator]=function(){return this},y;function x(C,B){y[C]=l[C]?function(N){return(h=!h)?{value:ue(l[C](N)),done:C==="return"}:B?B(N):N}:B}}function te(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=l[Symbol.asyncIterator],h;return y?y.call(l):(l=typeof H=="function"?H(l):l[Symbol.iterator](),h={},x("next"),x("throw"),x("return"),h[Symbol.asyncIterator]=function(){return this},h);function x(B){h[B]=l[B]&&function(N){return new Promise(function(oe,ke){N=l[B](N),C(oe,ke,N.done,N.value)})}}function C(B,N,oe,ke){Promise.resolve(ke).then(function(we){B({value:we,done:oe})},N)}}function z(l,y){return Object.defineProperty?Object.defineProperty(l,"raw",{value:y}):l.raw=y,l}var se=Object.create?function(l,y){Object.defineProperty(l,"default",{enumerable:!0,value:y})}:function(l,y){l.default=y};function fe(l){if(l&&l.__esModule)return l;var y={};if(l!=null)for(var h in l)h!=="default"&&Object.prototype.hasOwnProperty.call(l,h)&&Z(y,l,h);return se(y,l),y}function Re(l){return l&&l.__esModule?l:{default:l}}function Ue(l,y){if(!y.has(l))throw new TypeError("attempted to get private field on non-instance");return y.get(l)}function qe(l,y,h){if(!y.has(l))throw new TypeError("attempted to set private field on non-instance");return y.set(l,h),h}var it=O(52796),tr=O.n(it);function jt(l,y,h,x,C,B){B===void 0&&(B=0);var N=ae(l,y,B),oe=N.width,ke=N.height,we=Math.min(oe,h),ne=Math.min(ke,x);return we>ne*C?{width:ne*C,height:ne}:{width:we,height:we/C}}function ge(l,y,h,x,C){C===void 0&&(C=0);var B=ae(y.width,y.height,C),N=B.width,oe=B.height;return{x:Ce(l.x,N,h.width,x),y:Ce(l.y,oe,h.height,x)}}function Ce(l,y,h,x){var C=y*x/2-h/2;return Math.min(C,Math.max(l,-C))}function Ye(l,y){return Math.sqrt(Math.pow(l.y-y.y,2)+Math.pow(l.x-y.x,2))}function _(l,y){return Math.atan2(y.y-l.y,y.x-l.x)*180/Math.PI}function k(l,y,h,x,C,B,N){B===void 0&&(B=0),N===void 0&&(N=!0);var oe=N&&B===0?p:m,ke={x:oe(100,((y.width-h.width/C)/2-l.x/C)/y.width*100),y:oe(100,((y.height-h.height/C)/2-l.y/C)/y.height*100),width:oe(100,h.width/y.width*100/C),height:oe(100,h.height/y.height*100/C)},we=Math.round(oe(y.naturalWidth,ke.width*y.naturalWidth/100)),ne=Math.round(oe(y.naturalHeight,ke.height*y.naturalHeight/100)),$e=y.naturalWidth>=y.naturalHeight*x,De=$e?{width:Math.round(ne*x),height:ne}:{width:we,height:Math.round(we/x)},st=E(E({},De),{x:Math.round(oe(y.naturalWidth-De.width,ke.x*y.naturalWidth/100)),y:Math.round(oe(y.naturalHeight-De.height,ke.y*y.naturalHeight/100))});return{croppedAreaPercentages:ke,croppedAreaPixels:st}}function p(l,y){return Math.min(l,Math.max(0,y))}function m(l,y){return y}function b(l,y,h){var x=y.width/y.naturalWidth;if(h){var C=h.height>h.width;return C?h.height/x/l.height:h.width/x/l.width}var B=l.width/l.height,N=y.naturalWidth>=y.naturalHeight*B;return N?y.naturalHeight/l.height:y.naturalWidth/l.width}function T(l,y,h){var x=y.width/y.naturalWidth,C=b(l,y,h),B=x*C,N={x:((y.naturalWidth-l.width)/2-l.x)*B,y:((y.naturalHeight-l.height)/2-l.y)*B};return{crop:N,zoom:C}}function G(l,y){return{x:(y.x+l.x)/2,y:(y.y+l.y)/2}}function Se(l,y,h,x,C){var B=Math.cos,N=Math.sin,oe=C*Math.PI/180,ke=(l-h)*B(oe)-(y-x)*N(oe)+h,we=(l-h)*N(oe)+(y-x)*B(oe)+x;return[ke,we]}function ae(l,y,h){var x=l/2,C=y/2,B=[Se(0,0,x,C,h),Se(l,0,x,C,h),Se(l,y,x,C,h),Se(0,y,x,C,h)],N=Math.min.apply(Math,B.map(function(ne){return ne[0]})),oe=Math.max.apply(Math,B.map(function(ne){return ne[0]})),ke=Math.min.apply(Math,B.map(function(ne){return ne[1]})),we=Math.max.apply(Math,B.map(function(ne){return ne[1]}));return{width:oe-N,height:we-ke}}function F(){for(var l=[],y=0;y<arguments.length;y++)l[y]=arguments[y];return l.filter(function(h){return typeof h=="string"&&h.length>0}).join(" ").trim()}var Le=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Te=1,$t=3,dr=function(l){ve(y,l);function y(){var h=l!==null&&l.apply(this,arguments)||this;return h.imageRef=null,h.videoRef=null,h.containerRef=null,h.styleRef=null,h.containerRect=null,h.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},h.dragStartPosition={x:0,y:0},h.dragStartCrop={x:0,y:0},h.lastPinchDistance=0,h.lastPinchRotation=0,h.rafDragTimeout=null,h.rafPinchTimeout=null,h.wheelTimer=null,h.state={cropSize:null,hasWheelJustStarted:!1},h.preventZoomSafari=function(x){return x.preventDefault()},h.cleanEvents=function(){document.removeEventListener("mousemove",h.onMouseMove),document.removeEventListener("mouseup",h.onDragStopped),document.removeEventListener("touchmove",h.onTouchMove),document.removeEventListener("touchend",h.onDragStopped)},h.clearScrollEvent=function(){h.containerRef&&h.containerRef.removeEventListener("wheel",h.onWheel),h.wheelTimer&&clearTimeout(h.wheelTimer)},h.onMediaLoad=function(){h.computeSizes(),h.emitCropData(),h.setInitialCrop(),h.props.onMediaLoaded&&h.props.onMediaLoaded(h.mediaSize)},h.setInitialCrop=function(){var x=h.props,C=x.initialCroppedAreaPixels,B=x.cropSize;if(!!C){var N=T(C,h.mediaSize,B),oe=N.crop,ke=N.zoom;h.props.onCropChange(oe),h.props.onZoomChange&&h.props.onZoomChange(ke)}},h.computeSizes=function(){var x,C,B,N,oe,ke,we=h.imageRef||h.videoRef;if(we&&h.containerRef){h.containerRect=h.containerRef.getBoundingClientRect(),h.mediaSize={width:we.offsetWidth,height:we.offsetHeight,naturalWidth:((x=h.imageRef)===null||x===void 0?void 0:x.naturalWidth)||((C=h.videoRef)===null||C===void 0?void 0:C.videoWidth)||0,naturalHeight:((B=h.imageRef)===null||B===void 0?void 0:B.naturalHeight)||((N=h.videoRef)===null||N===void 0?void 0:N.videoHeight)||0};var ne=h.props.cropSize?h.props.cropSize:jt(we.offsetWidth,we.offsetHeight,h.containerRect.width,h.containerRect.height,h.props.aspect,h.props.rotation);(((oe=h.state.cropSize)===null||oe===void 0?void 0:oe.height)!==ne.height||((ke=h.state.cropSize)===null||ke===void 0?void 0:ke.width)!==ne.width)&&h.props.onCropSizeChange&&h.props.onCropSizeChange(ne),h.setState({cropSize:ne},h.recomputeCropPosition)}},h.onMouseDown=function(x){x.preventDefault(),document.addEventListener("mousemove",h.onMouseMove),document.addEventListener("mouseup",h.onDragStopped),h.onDragStart(y.getMousePoint(x))},h.onMouseMove=function(x){return h.onDrag(y.getMousePoint(x))},h.onTouchStart=function(x){document.addEventListener("touchmove",h.onTouchMove,{passive:!1}),document.addEventListener("touchend",h.onDragStopped),x.touches.length===2?h.onPinchStart(x):x.touches.length===1&&h.onDragStart(y.getTouchPoint(x.touches[0]))},h.onTouchMove=function(x){x.preventDefault(),x.touches.length===2?h.onPinchMove(x):x.touches.length===1&&h.onDrag(y.getTouchPoint(x.touches[0]))},h.onDragStart=function(x){var C,B,N=x.x,oe=x.y;h.dragStartPosition={x:N,y:oe},h.dragStartCrop=E({},h.props.crop),(B=(C=h.props).onInteractionStart)===null||B===void 0||B.call(C)},h.onDrag=function(x){var C=x.x,B=x.y;h.rafDragTimeout&&window.cancelAnimationFrame(h.rafDragTimeout),h.rafDragTimeout=window.requestAnimationFrame(function(){if(!!h.state.cropSize&&!(C===void 0||B===void 0)){var N=C-h.dragStartPosition.x,oe=B-h.dragStartPosition.y,ke={x:h.dragStartCrop.x+N,y:h.dragStartCrop.y+oe},we=h.props.restrictPosition?ge(ke,h.mediaSize,h.state.cropSize,h.props.zoom,h.props.rotation):ke;h.props.onCropChange(we)}})},h.onDragStopped=function(){var x,C;h.cleanEvents(),h.emitCropData(),(C=(x=h.props).onInteractionEnd)===null||C===void 0||C.call(x)},h.onWheel=function(x){x.preventDefault();var C=y.getMousePoint(x),B=tr()(x).pixelY,N=h.props.zoom-B*h.props.zoomSpeed/200;h.setNewZoom(N,C),h.state.hasWheelJustStarted||h.setState({hasWheelJustStarted:!0},function(){var oe,ke;return(ke=(oe=h.props).onInteractionStart)===null||ke===void 0?void 0:ke.call(oe)}),h.wheelTimer&&clearTimeout(h.wheelTimer),h.wheelTimer=window.setTimeout(function(){return h.setState({hasWheelJustStarted:!1},function(){var oe,ke;return(ke=(oe=h.props).onInteractionEnd)===null||ke===void 0?void 0:ke.call(oe)})},250)},h.getPointOnContainer=function(x){var C=x.x,B=x.y;if(!h.containerRect)throw new Error("The Cropper is not mounted");return{x:h.containerRect.width/2-(C-h.containerRect.left),y:h.containerRect.height/2-(B-h.containerRect.top)}},h.getPointOnMedia=function(x){var C=x.x,B=x.y,N=h.props,oe=N.crop,ke=N.zoom;return{x:(C+oe.x)/ke,y:(B+oe.y)/ke}},h.setNewZoom=function(x,C){if(!(!h.state.cropSize||!h.props.onZoomChange)){var B=h.getPointOnContainer(C),N=h.getPointOnMedia(B),oe=Math.min(h.props.maxZoom,Math.max(x,h.props.minZoom)),ke={x:N.x*oe-B.x,y:N.y*oe-B.y},we=h.props.restrictPosition?ge(ke,h.mediaSize,h.state.cropSize,oe,h.props.rotation):ke;h.props.onCropChange(we),h.props.onZoomChange(oe)}},h.getCropData=function(){if(!h.state.cropSize)return null;var x=h.props.restrictPosition?ge(h.props.crop,h.mediaSize,h.state.cropSize,h.props.zoom,h.props.rotation):h.props.crop;return k(x,h.mediaSize,h.state.cropSize,h.getAspect(),h.props.zoom,h.props.rotation,h.props.restrictPosition)},h.emitCropData=function(){var x=h.getCropData();if(!!x){var C=x.croppedAreaPercentages,B=x.croppedAreaPixels;h.props.onCropComplete&&h.props.onCropComplete(C,B),h.props.onCropAreaChange&&h.props.onCropAreaChange(C,B)}},h.emitCropAreaChange=function(){var x=h.getCropData();if(!!x){var C=x.croppedAreaPercentages,B=x.croppedAreaPixels;h.props.onCropAreaChange&&h.props.onCropAreaChange(C,B)}},h.recomputeCropPosition=function(){if(!!h.state.cropSize){var x=h.props.restrictPosition?ge(h.props.crop,h.mediaSize,h.state.cropSize,h.props.zoom,h.props.rotation):h.props.crop;h.props.onCropChange(x),h.emitCropData()}},h}return y.prototype.componentDidMount=function(){window.addEventListener("resize",this.computeSizes),this.containerRef&&(this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.preventZoomSafari),this.containerRef.addEventListener("gesturechange",this.preventZoomSafari)),this.props.disableAutomaticStylesInjection||(this.styleRef=document.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.styleRef.innerHTML=Le,document.head.appendChild(this.styleRef)),this.imageRef&&this.imageRef.complete&&this.onMediaLoad()},y.prototype.componentWillUnmount=function(){var h;window.removeEventListener("resize",this.computeSizes),this.containerRef&&(this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.containerRef.removeEventListener("gesturechange",this.preventZoomSafari)),this.styleRef&&((h=this.styleRef.parentNode)===null||h===void 0||h.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()},y.prototype.componentDidUpdate=function(h){var x,C,B,N,oe,ke,we,ne,$e;h.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):h.aspect!==this.props.aspect?this.computeSizes():h.zoom!==this.props.zoom?this.recomputeCropPosition():((x=h.cropSize)===null||x===void 0?void 0:x.height)!==((C=this.props.cropSize)===null||C===void 0?void 0:C.height)||((B=h.cropSize)===null||B===void 0?void 0:B.width)!==((N=this.props.cropSize)===null||N===void 0?void 0:N.width)?this.computeSizes():(((oe=h.crop)===null||oe===void 0?void 0:oe.x)!==((ke=this.props.crop)===null||ke===void 0?void 0:ke.x)||((we=h.crop)===null||we===void 0?void 0:we.y)!==((ne=this.props.crop)===null||ne===void 0?void 0:ne.y))&&this.emitCropAreaChange(),h.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),h.video!==this.props.video&&(($e=this.videoRef)===null||$e===void 0||$e.load())},y.prototype.getAspect=function(){var h=this.props,x=h.cropSize,C=h.aspect;return x?x.width/x.height:C},y.prototype.onPinchStart=function(h){var x=y.getTouchPoint(h.touches[0]),C=y.getTouchPoint(h.touches[1]);this.lastPinchDistance=Ye(x,C),this.lastPinchRotation=_(x,C),this.onDragStart(G(x,C))},y.prototype.onPinchMove=function(h){var x=this,C=y.getTouchPoint(h.touches[0]),B=y.getTouchPoint(h.touches[1]),N=G(C,B);this.onDrag(N),this.rafPinchTimeout&&window.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=window.requestAnimationFrame(function(){var oe=Ye(C,B),ke=x.props.zoom*(oe/x.lastPinchDistance);x.setNewZoom(ke,N),x.lastPinchDistance=oe;var we=_(C,B),ne=x.props.rotation+(we-x.lastPinchRotation);x.props.onRotationChange&&x.props.onRotationChange(ne),x.lastPinchRotation=we})},y.prototype.render=function(){var h=this,x=this.props,C=x.image,B=x.video,N=x.mediaProps,oe=x.transform,ke=x.crop,we=ke.x,ne=ke.y,$e=x.rotation,De=x.zoom,st=x.cropShape,Ft=x.showGrid,xt=x.style,nr=xt.containerStyle,ir=xt.cropAreaStyle,Nt=xt.mediaStyle,Kt=x.classes,Lt=Kt.containerClassName,or=Kt.cropAreaClassName,Vt=Kt.mediaClassName,kt=x.objectFit;return U.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(ht){return h.containerRef=ht},"data-testid":"container",style:nr,className:F("reactEasyCrop_Container",Lt)},C?U.createElement("img",E({alt:"",className:F("reactEasyCrop_Image",kt==="contain"&&"reactEasyCrop_Contain",kt==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",kt==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Vt)},N,{src:C,ref:function(ht){return h.imageRef=ht},style:E(E({},Nt),{transform:oe||"translate("+we+"px, "+ne+"px) rotate("+$e+"deg) scale("+De+")"}),onLoad:this.onMediaLoad})):B&&U.createElement("video",E({autoPlay:!0,loop:!0,muted:!0,className:F("reactEasyCrop_Video",kt==="contain"&&"reactEasyCrop_Contain",kt==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",kt==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Vt)},N,{ref:function(ht){return h.videoRef=ht},onLoadedMetadata:this.onMediaLoad,style:E(E({},Nt),{transform:oe||"translate("+we+"px, "+ne+"px) rotate("+$e+"deg) scale("+De+")"}),controls:!1}),(Array.isArray(B)?B:[{src:B}]).map(function(yt){return U.createElement("source",E({key:yt.src},yt))})),this.state.cropSize&&U.createElement("div",{style:E(E({},ir),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:F("reactEasyCrop_CropArea",st==="round"&&"reactEasyCrop_CropAreaRound",Ft&&"reactEasyCrop_CropAreaGrid",or)}))},y.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:$t,minZoom:Te,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},y.getMousePoint=function(h){return{x:Number(h.clientX),y:Number(h.clientY)}},y.getTouchPoint=function(h){return{x:Number(h.clientX),y:Number(h.clientY)}},y}(U.Component),pr=dr,be=O(42051),rr=O(50146),J=O(75454);function Me(l){if(!!l&&typeof window!="undefined"){var y=document.createElement("style");return y.setAttribute("media","screen"),y.innerHTML=l,document.head.appendChild(y),l}}Me(`.antd-img-crop-modal .ant-modal-body {
  padding-bottom: 16px;
}
.antd-img-crop-modal .antd-img-crop-container {
  position: relative;
  width: 100%;
  height: 40vh;
  margin-bottom: 16px;
}
.antd-img-crop-modal .antd-img-crop-control {
  display: flex;
  align-items: center;
  width: 60%;
  margin-left: auto;
  margin-right: auto;
}
.antd-img-crop-modal .antd-img-crop-control button {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  padding: 0;
  font-style: normal;
  background: transparent;
  border: 0;
  outline: 0;
  cursor: pointer;
}
.antd-img-crop-modal .antd-img-crop-control button[disabled] {
  cursor: default;
}
.antd-img-crop-modal .antd-img-crop-control.zoom button {
  font-size: 18px;
}
.antd-img-crop-modal .antd-img-crop-control.rotate button {
  font-size: 16px;
}
.antd-img-crop-modal .antd-img-crop-control.rotate button:first-of-type {
  transform: rotate(-20deg);
}
.antd-img-crop-modal .antd-img-crop-control.rotate button:last-of-type {
  transform: rotate(20deg);
}
.antd-img-crop-modal .antd-img-crop-control .ant-slider {
  flex: 1;
  margin: 0 8px;
}
`);var Xe=["beforeUpload","accept"],ot="antd-img-crop",St=1,pt=.1,f=0,n=1,t=-180,i=180,u=(0,U.memo)((0,U.forwardRef)(function(l,y){var h=l.src,x=l.aspect,C=l.shape,B=l.grid,N=l.zoom,oe=l.rotate,ke=l.rotateValRef,we=l.setZoomValRef,ne=l.setRotateValRef,$e=l.minZoom,De=l.maxZoom,st=l.cropPixelsRef,Ft=l.cropperProps,xt=(0,U.useState)({x:0,y:0}),nr=xt[0],ir=xt[1],Nt=(0,U.useState)({width:0,height:0}),Kt=Nt[0],Lt=Nt[1],or=(0,U.useCallback)(function(Rt,Ht){st.current=Ht},[st]),Vt=(0,U.useCallback)(function(Rt){var Ht=Rt.width,Er=Rt.height,Sr=Er*x;Ht>Sr?Lt({width:Sr,height:Er}):Lt({width:Ht,height:Ht/x})},[x]),kt=(0,U.useState)(St),yt=kt[0],ht=kt[1],yr=(0,U.useState)(f),Bt=yr[0],sr=yr[1];return ke.current=Bt,(0,U.useEffect)(function(){we.current=ht,ne.current=sr},[ne,we]),U.createElement(U.Fragment,null,U.createElement(pr,Object.assign({},Ft,{ref:y,image:h,crop:nr,cropSize:Kt,onCropChange:ir,aspect:x,cropShape:C,showGrid:B,zoomWithScroll:N,zoom:yt,rotation:Bt,onZoomChange:ht,onRotationChange:sr,minZoom:$e,maxZoom:De,onCropComplete:or,onMediaLoaded:Vt,classes:{containerClassName:ot+"-container",mediaClassName:ot+"-media"}})),N&&U.createElement("div",{className:ot+"-control zoom"},U.createElement("button",{onClick:function(){return ht(yt-pt)},disabled:yt-pt<$e},"\uFF0D"),U.createElement(J.Z,{min:$e,max:De,step:pt,value:yt,onChange:ht}),U.createElement("button",{onClick:function(){return ht(yt+pt)},disabled:yt+pt>De},"\uFF0B")),oe&&U.createElement("div",{className:ot+"-control rotate"},U.createElement("button",{onClick:function(){return sr(Bt-n)},disabled:Bt===t},"\u21BA"),U.createElement(J.Z,{min:t,max:i,step:n,value:Bt,onChange:sr}),U.createElement("button",{onClick:function(){return sr(Bt+n)},disabled:Bt===i},"\u21BB")))}));u.propTypes={src:v().string,aspect:v().number,shape:v().string,grid:v().bool,zoom:v().bool,rotate:v().bool,rotateValRef:v().object,setZoomValRef:v().object,setRotateValRef:v().object,minZoom:v().number,maxZoom:v().number,cropPixelsRef:v().object,cropperProps:v().object};var d=(0,U.forwardRef)(function(l,y){var h=l.aspect,x=l.shape,C=l.grid,B=l.quality,N=l.zoom,oe=l.rotate,ke=l.minZoom,we=l.maxZoom,ne=l.fillColor,$e=l.modalTitle,De=l.modalWidth,st=l.modalOk,Ft=l.modalCancel,xt=l.onModalOk,nr=l.onModalCancel,ir=l.beforeCrop,Nt=l.onUploadFail,Kt=l.cropperProps,Lt=l.children,or=(0,U.useState)(""),Vt=or[0],kt=or[1],yt=(0,U.useRef)(),ht=(0,U.useRef)(),yr=(0,U.useRef)(),Bt=(0,U.useRef)(),sr=(0,U.useCallback)(function(){var Pt=Array.isArray(Lt)?Lt[0]:Lt,ft=Pt.props,ar=ft.beforeUpload,Ct=ft.accept,dt=(0,V.Z)(ft,Xe);return Bt.current=ar,(0,K.Z)({},Pt,{props:(0,K.Z)({},dt,{accept:Ct||"image/*",beforeUpload:function(Dt,vt){return new Promise(function(){var Je=(0,D.Z)(A().mark(function ct(Gt,Ke){var zt;return A().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(Qe.t0=ir,!Qe.t0){Qe.next=5;break}return Qe.next=4,ir(Dt,vt);case 4:Qe.t0=!Qe.sent;case 5:if(!Qe.t0){Qe.next=8;break}return Ke(),Qe.abrupt("return");case 8:yt.current=Dt,ht.current=function(It){xt==null||xt(It),Gt(It)},yr.current=function(It){Nt==null||Nt(It),Ke(It)},zt=new FileReader,zt.addEventListener("load",function(){kt(zt.result)}),zt.readAsDataURL(Dt);case 14:case"end":return Qe.stop()}},ct)}));return function(ct,Gt){return Je.apply(this,arguments)}}())}})})},[ir,Lt,xt,Nt]),Rt=(0,U.useRef)(),Ht=(0,U.useRef)(),Er=(0,U.useRef)(),Sr=(0,U.useRef)(),mn=(0,U.useMemo)(function(){var Pt={width:De,okText:st,cancelText:Ft};return Object.keys(Pt).forEach(function(ft){Pt[ft]||delete Pt[ft]}),Pt},[Ft,st,De]),Pr=(0,U.useCallback)(function(){kt(""),Ht.current(St),Er.current(f)},[]),bn=(0,U.useCallback)(function(){nr==null||nr(),Pr()},[Pr,nr]),wn=(0,U.useCallback)((0,D.Z)(A().mark(function Pt(){var ft,ar,Ct,dt,cr,Dt,vt,Je,ct,Gt,Ke,zt,gr,Qe,It,Lr,Dr,qr,Cr,qt,Zr,Yr;return A().wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:Pr(),ft=document.querySelector("."+ot+"-media"),ar=Sr.current,Ct=ar.width,dt=ar.height,cr=ar.x,Dt=ar.y,vt=document.createElement("canvas"),Je=vt.getContext("2d"),oe&&Rt.current!==0?(ct=ft.naturalWidth,Gt=ft.naturalHeight,Ke=Math.sqrt(Math.pow(ct,2)+Math.pow(Gt,2)),zt=ct,gr=Gt,Ke>4096&&(Qe=4096/Ke,Ke=4096,zt=ct*Qe,gr=Gt*Qe,Ct=Ct*Qe,dt=dt*Qe,cr=cr*Qe,Dt=Dt*Qe),vt.width=Ke,vt.height=Ke,It=Ke/2,Je.translate(It,It),Je.rotate(Rt.current*Math.PI/180),Je.translate(-It,-It),Je.fillStyle=ne,Je.fillRect(0,0,Ke,Ke),Lr=(Ke-zt)/2,Dr=(Ke-gr)/2,Je.drawImage(ft,0,0,ct,Gt,Lr,Dr,zt,gr),qr=Je.getImageData(0,0,Ke,Ke),vt.width=Ct,vt.height=dt,Je.fillStyle=ne,Je.fillRect(0,0,Ct,dt),Je.putImageData(qr,-(Lr+cr),-(Dr+Dt))):(vt.width=Ct,vt.height=dt,Je.fillStyle=ne,Je.fillRect(0,0,Ct,dt),Je.drawImage(ft,cr,Dt,Ct,dt,0,0,Ct,dt)),Cr=yt.current,qt=Cr.type,Zr=Cr.name,Yr=Cr.uid,vt.toBlob(function(){var vn=(0,D.Z)(A().mark(function Jr(Qr){var Zt,ut,zr,Yt;return A().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(Zt=new File([Qr],Zr,{type:qt}),Zt.uid=Yr,typeof Bt.current=="function"){Ve.next=4;break}return Ve.abrupt("return",ht.current(Zt));case 4:if(ut=Bt.current(Zt,[Zt]),!(typeof ut!="boolean"&&!ut)){Ve.next=8;break}return console.error("beforeUpload must return a boolean or Promise"),Ve.abrupt("return");case 8:if(ut!==!0){Ve.next=10;break}return Ve.abrupt("return",ht.current(Zt));case 10:if(ut!==!1){Ve.next=12;break}return Ve.abrupt("return",yr.current("not upload"));case 12:if(!(ut&&typeof ut.then=="function")){Ve.next=25;break}return Ve.prev=13,Ve.next=16,ut;case 16:zr=Ve.sent,Yt=Object.prototype.toString.call(zr),(Yt==="[object File]"||Yt==="[object Blob]")&&(Zt=zr),ht.current(Zt),Ve.next=25;break;case 22:Ve.prev=22,Ve.t0=Ve.catch(13),yr.current(Ve.t0);case 25:case"end":return Ve.stop()}},Jr,null,[[13,22]])}));return function(Jr){return vn.apply(this,arguments)}}(),qt,B);case 8:case"end":return ur.stop()}},Pt)})),[ne,Pr,B,oe]),Gr=function(ft){return U.createElement(U.Fragment,null,sr(),Vt&&U.createElement(rr.Z,Object.assign({visible:!0,wrapClassName:ot+"-modal",title:ft,onOk:wn,onCancel:bn,maskClosable:!1,destroyOnClose:!0},mn),U.createElement(u,{ref:y,src:Vt,aspect:h,shape:x,grid:C,zoom:N,rotate:oe,rotateValRef:Rt,setZoomValRef:Ht,setRotateValRef:Er,minZoom:ke,maxZoom:we,cropPixelsRef:Sr,cropperProps:Kt})))};return $e?Gr($e):U.createElement(be.Z,null,function(Pt,ft){return Gr(ft==="zh-cn"?"\u7F16\u8F91\u56FE\u7247":"Edit image")})});d.propTypes={aspect:v().number,shape:v().oneOf(["rect","round"]),grid:v().bool,quality:v().number,fillColor:v().string,zoom:v().bool,rotate:v().bool,minZoom:v().number,maxZoom:v().number,modalTitle:v().string,modalWidth:v().oneOfType([v().number,v().string]),modalOk:v().string,modalCancel:v().string,onModalOk:v().func,onModalCancel:v().func,beforeCrop:v().func,onUploadFail:v().func,cropperProps:v().object,children:v().node},d.defaultProps={aspect:1,shape:"rect",grid:!1,quality:.4,fillColor:"white",zoom:!0,rotate:!1,minZoom:1,maxZoom:3}},25532:function(Ie,S,O){"use strict";var D=O(48764).Buffer,K=this&&this.__createBinding||(Object.create?function(te,z,se,fe){fe===void 0&&(fe=se),Object.defineProperty(te,fe,{enumerable:!0,get:function(){return z[se]}})}:function(te,z,se,fe){fe===void 0&&(fe=se),te[fe]=z[se]}),V=this&&this.__setModuleDefault||(Object.create?function(te,z){Object.defineProperty(te,"default",{enumerable:!0,value:z})}:function(te,z){te.default=z}),R=this&&this.__decorate||function(te,z,se,fe){var Re=arguments.length,Ue=Re<3?z:fe===null?fe=Object.getOwnPropertyDescriptor(z,se):fe,qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ue=Reflect.decorate(te,z,se,fe);else for(var it=te.length-1;it>=0;it--)(qe=te[it])&&(Ue=(Re<3?qe(Ue):Re>3?qe(z,se,Ue):qe(z,se))||Ue);return Re>3&&Ue&&Object.defineProperty(z,se,Ue),Ue},A=this&&this.__importStar||function(te){if(te&&te.__esModule)return te;var z={};if(te!=null)for(var se in te)se!=="default"&&Object.hasOwnProperty.call(te,se)&&K(z,te,se);return V(z,te),z},U=this&&this.__importDefault||function(te){return te&&te.__esModule?te:{default:te}};Object.defineProperty(S,"__esModule",{value:!0}),S.deserializeUnchecked=S.deserialize=S.serialize=S.BinaryReader=S.BinaryWriter=S.BorshError=S.baseDecode=S.baseEncode=void 0;const w=U(O(13550)),v=U(O(77191)),X=A(O(8467)),ve=typeof O.g.TextDecoder!="function"?X.TextDecoder:O.g.TextDecoder,E=new ve("utf-8",{fatal:!0});function pe(te){return typeof te=="string"&&(te=D.from(te,"utf8")),v.default.encode(D.from(te))}S.baseEncode=pe;function Ee(te){return D.from(v.default.decode(te))}S.baseDecode=Ee;const ce=1024;class q extends Error{constructor(z){super(z);this.fieldPath=[],this.originalMessage=z}addToFieldPath(z){this.fieldPath.splice(0,0,z),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}S.BorshError=q;class M{constructor(){this.buf=D.alloc(ce),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=D.concat([this.buf,D.alloc(ce)]))}writeU8(z){this.maybeResize(),this.buf.writeUInt8(z,this.length),this.length+=1}writeU16(z){this.maybeResize(),this.buf.writeUInt16LE(z,this.length),this.length+=2}writeU32(z){this.maybeResize(),this.buf.writeUInt32LE(z,this.length),this.length+=4}writeU64(z){this.maybeResize(),this.writeBuffer(D.from(new w.default(z).toArray("le",8)))}writeU128(z){this.maybeResize(),this.writeBuffer(D.from(new w.default(z).toArray("le",16)))}writeU256(z){this.maybeResize(),this.writeBuffer(D.from(new w.default(z).toArray("le",32)))}writeU512(z){this.maybeResize(),this.writeBuffer(D.from(new w.default(z).toArray("le",64)))}writeBuffer(z){this.buf=D.concat([D.from(this.buf.subarray(0,this.length)),z,D.alloc(ce)]),this.length+=z.length}writeString(z){this.maybeResize();const se=D.from(z,"utf8");this.writeU32(se.length),this.writeBuffer(se)}writeFixedArray(z){this.writeBuffer(D.from(z))}writeArray(z,se){this.maybeResize(),this.writeU32(z.length);for(const fe of z)this.maybeResize(),se(fe)}toArray(){return this.buf.subarray(0,this.length)}}S.BinaryWriter=M;function j(te,z,se){const fe=se.value;se.value=function(...Re){try{return fe.apply(this,Re)}catch(Ue){if(Ue instanceof RangeError){const qe=Ue.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(qe)>=0)throw new q("Reached the end of buffer when deserializing")}throw Ue}}}class Z{constructor(z){this.buf=z,this.offset=0}readU8(){const z=this.buf.readUInt8(this.offset);return this.offset+=1,z}readU16(){const z=this.buf.readUInt16LE(this.offset);return this.offset+=2,z}readU32(){const z=this.buf.readUInt32LE(this.offset);return this.offset+=4,z}readU64(){const z=this.readBuffer(8);return new w.default(z,"le")}readU128(){const z=this.readBuffer(16);return new w.default(z,"le")}readU256(){const z=this.readBuffer(32);return new w.default(z,"le")}readU512(){const z=this.readBuffer(64);return new w.default(z,"le")}readBuffer(z){if(this.offset+z>this.buf.length)throw new q(`Expected buffer length ${z} isn't within bounds`);const se=this.buf.slice(this.offset,this.offset+z);return this.offset+=z,se}readString(){const z=this.readU32(),se=this.readBuffer(z);try{return E.decode(se)}catch(fe){throw new q(`Error decoding UTF-8 string: ${fe}`)}}readFixedArray(z){return new Uint8Array(this.readBuffer(z))}readArray(z){const se=this.readU32(),fe=Array();for(let Re=0;Re<se;++Re)fe.push(z());return fe}}R([j],Z.prototype,"readU8",null),R([j],Z.prototype,"readU16",null),R([j],Z.prototype,"readU32",null),R([j],Z.prototype,"readU64",null),R([j],Z.prototype,"readU128",null),R([j],Z.prototype,"readU256",null),R([j],Z.prototype,"readU512",null),R([j],Z.prototype,"readString",null),R([j],Z.prototype,"readFixedArray",null),R([j],Z.prototype,"readArray",null),S.BinaryReader=Z;function ee(te){return te.charAt(0).toUpperCase()+te.slice(1)}function H(te,z,se,fe,Re){try{if(typeof fe=="string")Re[`write${ee(fe)}`](se);else if(fe instanceof Array)if(typeof fe[0]=="number"){if(se.length!==fe[0])throw new q(`Expecting byte array of length ${fe[0]}, but got ${se.length} bytes`);Re.writeFixedArray(se)}else Re.writeArray(se,Ue=>{H(te,z,Ue,fe[0],Re)});else if(fe.kind!==void 0)switch(fe.kind){case"option":{se==null?Re.writeU8(0):(Re.writeU8(1),H(te,z,se,fe.type,Re));break}default:throw new q(`FieldType ${fe} unrecognized`)}else W(te,se,Re)}catch(Ue){throw Ue instanceof q&&Ue.addToFieldPath(z),Ue}}function W(te,z,se){const fe=te.get(z.constructor);if(!fe)throw new q(`Class ${z.constructor.name} is missing in schema`);if(fe.kind==="struct")fe.fields.map(([Re,Ue])=>{H(te,Re,z[Re],Ue,se)});else if(fe.kind==="enum"){const Re=z[fe.field];for(let Ue=0;Ue<fe.values.length;++Ue){const[qe,it]=fe.values[Ue];if(qe===Re){se.writeU8(Ue),H(te,qe,z[qe],it,se);break}}}else throw new q(`Unexpected schema kind: ${fe.kind} for ${z.constructor.name}`)}function ye(te,z){const se=new M;return W(te,z,se),se.toArray()}S.serialize=ye;function Q(te,z,se,fe){try{return typeof se=="string"?fe[`read${ee(se)}`]():se instanceof Array?typeof se[0]=="number"?fe.readFixedArray(se[0]):fe.readArray(()=>Q(te,z,se[0],fe)):se.kind==="option"?fe.readU8()?Q(te,z,se.type,fe):void 0:ue(te,se,fe)}catch(Re){throw Re instanceof q&&Re.addToFieldPath(z),Re}}function ue(te,z,se){const fe=te.get(z);if(!fe)throw new q(`Class ${z.name} is missing in schema`);if(fe.kind==="struct"){const Re={};for(const[Ue,qe]of te.get(z).fields)Re[Ue]=Q(te,Ue,qe,se);return new z(Re)}if(fe.kind==="enum"){const Re=se.readU8();if(Re>=fe.values.length)throw new q(`Enum index: ${Re} is out of range`);const[Ue,qe]=fe.values[Re],it=Q(te,Ue,qe,se);return new z({[Ue]:it})}throw new q(`Unexpected schema kind: ${fe.kind} for ${z.constructor.name}`)}function me(te,z,se){const fe=new Z(se),Re=ue(te,z,fe);if(fe.offset<se.length)throw new q(`Unexpected ${se.length-fe.offset} bytes after deserialized data`);return Re}S.deserialize=me;function Ae(te,z,se){const fe=new Z(se);return ue(te,z,fe)}S.deserializeUnchecked=Ae},37953:function(Ie){/*!
Copyright (C) 2013-2017 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/var S="~",O="\\x"+("0"+S.charCodeAt(0).toString(16)).slice(-2),D="\\"+O,K=new RegExp(O,"g"),V=new RegExp(D,"g"),R=new RegExp("(?:^|([^\\\\]))"+D),A=[].indexOf||function(ce){for(var q=this.length;q--&&this[q]!==ce;);return q},U=String;function w(ce,q,M){var j=!1,Z=!!q,ee=[],H=[ce],W=[ce],ye=[M?S:"[Circular]"],Q=ce,ue=1,me,Ae;return Z&&(Ae=typeof q=="object"?function(te,z){return te!==""&&q.indexOf(te)<0?void 0:z}:q),function(te,z){return Z&&(z=Ae.call(this,te,z)),j?(Q!==this&&(me=ue-A.call(H,this)-1,ue-=me,H.splice(ue,H.length),ee.splice(ue-1,ee.length),Q=this),typeof z=="object"&&z?(A.call(H,z)<0&&H.push(Q=z),ue=H.length,me=A.call(W,z),me<0?(me=W.push(z)-1,M?(ee.push((""+te).replace(K,O)),ye[me]=S+ee.join(S)):ye[me]=ye[0]):z=ye[me]):typeof z=="string"&&M&&(z=z.replace(O,D).replace(S,O))):j=!0,z}}function v(ce,q){for(var M=0,j=q.length;M<j;ce=ce[q[M++].replace(V,S)]);return ce}function X(ce){return function(q,M){var j=typeof M=="string";return j&&M.charAt(0)===S?new U(M.slice(1)):(q===""&&(M=pe(M,M,{})),j&&(M=M.replace(R,"$1"+S).replace(D,O)),ce?ce.call(this,q,M):M)}}function ve(ce,q,M){for(var j=0,Z=q.length;j<Z;j++)q[j]=pe(ce,q[j],M);return q}function E(ce,q,M){for(var j in q)q.hasOwnProperty(j)&&(q[j]=pe(ce,q[j],M));return q}function pe(ce,q,M){return q instanceof Array?ve(ce,q,M):q instanceof U?q.length?M.hasOwnProperty(q)?M[q]:M[q]=v(ce,q.split(S)):ce:q instanceof Object?E(ce,q,M):q}var Ee={stringify:function(q,M,j,Z){return Ee.parser.stringify(q,w(q,M,!Z),j)},parse:function(q,M){return Ee.parser.parse(q,X(M))},parser:JSON};Ie.exports=Ee},31198:function(Ie,S,O){"use strict";const D=O(79589),K=O(17741),V=function(R,A){if(!(this instanceof V))return new V(R,A);A||(A={}),this.options={reviver:typeof A.reviver!="undefined"?A.reviver:null,replacer:typeof A.replacer!="undefined"?A.replacer:null,generator:typeof A.generator!="undefined"?A.generator:function(){return D()},version:typeof A.version!="undefined"?A.version:2,notificationIdNull:typeof A.notificationIdNull=="boolean"?A.notificationIdNull:!1},this.callServer=R};Ie.exports=V,V.prototype.request=function(R,A,U,w){const v=this;let X=null;const ve=Array.isArray(R)&&typeof A=="function";if(this.options.version===1&&ve)throw new TypeError("JSON-RPC 1.0 does not support batching");const E=!ve&&R&&typeof R=="object"&&typeof A=="function";if(ve||E)w=A,X=R;else{typeof U=="function"&&(w=U,U=void 0);const Ee=typeof w=="function";try{X=K(R,A,U,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(ce){if(Ee)return w(ce);throw ce}if(!Ee)return X}let pe;try{pe=JSON.stringify(X,this.options.replacer)}catch(Ee){return w(Ee)}return this.callServer(pe,function(Ee,ce){v._parseResponse(Ee,ce,w)}),X},V.prototype._parseResponse=function(R,A,U){if(R){U(R);return}if(!A)return U();let w;try{w=JSON.parse(A,this.options.reviver)}catch(v){return U(v)}if(U.length===3)if(Array.isArray(w)){const v=function(ve){return typeof ve.error!="undefined"},X=function(ve){return!v(ve)};return U(null,w.filter(v),w.filter(X))}else return U(null,w.error,w.result);U(null,w)}},17741:function(Ie,S,O){"use strict";const D=O(79589),K=function(V,R,A,U){if(typeof V!="string")throw new TypeError(V+" must be a string");U=U||{};const w=typeof U.version=="number"?U.version:2;if(w!==1&&w!==2)throw new TypeError(w+" must be 1 or 2");const v={method:V};if(w===2&&(v.jsonrpc="2.0"),R){if(typeof R!="object"&&!Array.isArray(R))throw new TypeError(R+" must be an object, array or omitted");v.params=R}if(typeof A=="undefined"){const X=typeof U.generator=="function"?U.generator:function(){return D()};v.id=X(v,U)}else w===2&&A===null?U.notificationIdNull&&(v.id=null):v.id=A;return v};Ie.exports=K},47559:function(Ie){for(var S=[],O=0;O<256;++O)S[O]=(O+256).toString(16).substr(1);function D(K,V){var R=V||0,A=S;return[A[K[R++]],A[K[R++]],A[K[R++]],A[K[R++]],"-",A[K[R++]],A[K[R++]],"-",A[K[R++]],A[K[R++]],"-",A[K[R++]],A[K[R++]],"-",A[K[R++]],A[K[R++]],A[K[R++]],A[K[R++]],A[K[R++]],A[K[R++]]].join("")}Ie.exports=D},40503:function(Ie){var S=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(S){var O=new Uint8Array(16);Ie.exports=function(){return S(O),O}}else{var D=new Array(16);Ie.exports=function(){for(var V=0,R;V<16;V++)(V&3)==0&&(R=Math.random()*4294967296),D[V]=R>>>((V&3)<<3)&255;return D}}},79589:function(Ie,S,O){var D=O(40503),K=O(47559);function V(R,A,U){var w=A&&U||0;typeof R=="string"&&(A=R==="binary"?new Array(16):null,R=null),R=R||{};var v=R.random||(R.rng||D)();if(v[6]=v[6]&15|64,v[8]=v[8]&63|128,A)for(var X=0;X<16;++X)A[w+X]=v[X];return A||K(v)}Ie.exports=V},52796:function(Ie,S,O){Ie.exports=O(10643)},13264:function(Ie){"use strict";var S=!!(typeof window!="undefined"&&window.document&&window.document.createElement),O={canUseDOM:S,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:S&&!!(window.addEventListener||window.attachEvent),canUseViewport:S&&!!window.screen,isInWorker:!S};Ie.exports=O},84518:function(Ie){var S=!1,O,D,K,V,R,A,U,w,v,X,ve,E,pe,Ee,ce;function q(){if(!S){S=!0;var j=navigator.userAgent,Z=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(j),ee=/(Mac OS X)|(Windows)|(Linux)/.exec(j);if(E=/\b(iPhone|iP[ao]d)/.exec(j),pe=/\b(iP[ao]d)/.exec(j),X=/Android/i.exec(j),Ee=/FBAN\/\w+;/i.exec(j),ce=/Mobile/i.exec(j),ve=!!/Win64/.exec(j),Z){O=Z[1]?parseFloat(Z[1]):Z[5]?parseFloat(Z[5]):NaN,O&&document&&document.documentMode&&(O=document.documentMode);var H=/(?:Trident\/(\d+.\d+))/.exec(j);A=H?parseFloat(H[1])+4:O,D=Z[2]?parseFloat(Z[2]):NaN,K=Z[3]?parseFloat(Z[3]):NaN,V=Z[4]?parseFloat(Z[4]):NaN,V?(Z=/(?:Chrome\/(\d+\.\d+))/.exec(j),R=Z&&Z[1]?parseFloat(Z[1]):NaN):R=NaN}else O=D=K=R=V=NaN;if(ee){if(ee[1]){var W=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(j);U=W?parseFloat(W[1].replace("_",".")):!0}else U=!1;w=!!ee[2],v=!!ee[3]}else U=w=v=!1}}var M={ie:function(){return q()||O},ieCompatibilityMode:function(){return q()||A>O},ie64:function(){return M.ie()&&ve},firefox:function(){return q()||D},opera:function(){return q()||K},webkit:function(){return q()||V},safari:function(){return M.webkit()},chrome:function(){return q()||R},windows:function(){return q()||w},osx:function(){return q()||U},linux:function(){return q()||v},iphone:function(){return q()||E},mobile:function(){return q()||E||pe||X||ce},nativeApp:function(){return q()||Ee},android:function(){return q()||X},ipad:function(){return q()||pe}};Ie.exports=M},96534:function(Ie,S,O){"use strict";var D=O(13264),K;D.canUseDOM&&(K=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function V(R,A){if(!D.canUseDOM||A&&!("addEventListener"in document))return!1;var U="on"+R,w=U in document;if(!w){var v=document.createElement("div");v.setAttribute(U,"return;"),w=typeof v[U]=="function"}return!w&&K&&R==="wheel"&&(w=document.implementation.hasFeature("Events.wheel","3.0")),w}Ie.exports=V},10643:function(Ie,S,O){"use strict";var D=O(84518),K=O(96534),V=10,R=40,A=800;function U(w){var v=0,X=0,ve=0,E=0;return"detail"in w&&(X=w.detail),"wheelDelta"in w&&(X=-w.wheelDelta/120),"wheelDeltaY"in w&&(X=-w.wheelDeltaY/120),"wheelDeltaX"in w&&(v=-w.wheelDeltaX/120),"axis"in w&&w.axis===w.HORIZONTAL_AXIS&&(v=X,X=0),ve=v*V,E=X*V,"deltaY"in w&&(E=w.deltaY),"deltaX"in w&&(ve=w.deltaX),(ve||E)&&w.deltaMode&&(w.deltaMode==1?(ve*=R,E*=R):(ve*=A,E*=A)),ve&&!v&&(v=ve<1?-1:1),E&&!X&&(X=E<1?-1:1),{spinX:v,spinY:X,pixelX:ve,pixelY:E}}U.getEventType=function(){return D.firefox()?"DOMMouseScroll":K("wheel")?"wheel":"mousewheel"},Ie.exports=U},17728:function(Ie,S,O){Ie.exports=function(D){var K={};function V(R){if(K[R])return K[R].exports;var A=K[R]={i:R,l:!1,exports:{}};return D[R].call(A.exports,A,A.exports,V),A.l=!0,A.exports}return V.m=D,V.c=K,V.d=function(R,A,U){V.o(R,A)||Object.defineProperty(R,A,{enumerable:!0,get:U})},V.r=function(R){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})},V.t=function(R,A){if(1&A&&(R=V(R)),8&A||4&A&&typeof R=="object"&&R&&R.__esModule)return R;var U=Object.create(null);if(V.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:R}),2&A&&typeof R!="string")for(var w in R)V.d(U,w,function(v){return R[v]}.bind(null,w));return U},V.n=function(R){var A=R&&R.__esModule?function(){return R.default}:function(){return R};return V.d(A,"a",A),A},V.o=function(R,A){return Object.prototype.hasOwnProperty.call(R,A)},V.p="",V(V.s=0)}([function(D,K,V){"use strict";Object.defineProperty(K,"__esModule",{value:!0});var R=function(){function X(ve,E){for(var pe=0;pe<E.length;pe++){var Ee=E[pe];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(ve,Ee.key,Ee)}}return function(ve,E,pe){return E&&X(ve.prototype,E),pe&&X(ve,pe),ve}}(),A=w(V(1)),U=w(V(2));function w(X){return X&&X.__esModule?X:{default:X}}var v=function(X){function ve(E){return function(pe,Ee){if(!(pe instanceof Ee))throw new TypeError("Cannot call a class as a function")}(this,ve),function(pe,Ee){if(!pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ee||typeof Ee!="object"&&typeof Ee!="function"?pe:Ee}(this,(ve.__proto__||Object.getPrototypeOf(ve)).call(this,E))}return function(E,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);E.prototype=Object.create(pe&&pe.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(E,pe):E.__proto__=pe)}(ve,X),R(ve,[{key:"componentDidMount",value:function(){var E=this.props,pe=E.botName,Ee=E.buttonSize,ce=E.cornerRadius,q=E.requestAccess,M=E.usePic,j=E.dataOnauth,Z=E.dataAuthUrl,ee=E.lang;window.TelegramLoginWidget={dataOnauth:function(W){return j(W)}};var H=document.createElement("script");H.src="https://telegram.org/js/telegram-widget.js?9",H.setAttribute("data-telegram-login",pe),H.setAttribute("data-size",Ee),ce!==void 0&&H.setAttribute("data-radius",ce),H.setAttribute("data-request-access",q),H.setAttribute("data-userpic",M),H.setAttribute("data-lang",ee),Z!==void 0?H.setAttribute("data-auth-url",Z):H.setAttribute("data-onauth","TelegramLoginWidget.dataOnauth(user)"),H.async=!0,this.instance.appendChild(H)}},{key:"render",value:function(){var E=this;return A.default.createElement("div",{className:this.props.className,ref:function(pe){E.instance=pe}},this.props.children)}}]),ve}(A.default.Component);v.propTypes={botName:U.default.string.isRequired,dataOnauth:U.default.func,buttonSize:U.default.oneOf(["large","medium","small"]),cornerRadius:U.default.number,requestAccess:U.default.string,usePic:U.default.bool,lang:U.default.string},v.defaultProps={botName:"samplebot",dataOnauth:function(){},buttonSize:"large",requestAccess:"write",usePic:!0,lang:"en"},K.default=v},function(D,K){D.exports=O(67294)},function(D,K,V){D.exports=V(3)()},function(D,K,V){"use strict";var R=V(4);function A(){}function U(){}U.resetWarningCache=A,D.exports=function(){function w(ve,E,pe,Ee,ce,q){if(q!==R){var M=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw M.name="Invariant Violation",M}}function v(){return w}w.isRequired=w;var X={array:w,bool:w,func:w,number:w,object:w,string:w,symbol:w,any:w,arrayOf:v,element:w,elementType:w,instanceOf:v,node:w,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v,checkPropTypes:U,resetWarningCache:A};return X.PropTypes=X,X}},function(D,K,V){"use strict";D.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}])},83937:function(Ie,S,O){"use strict";var D,K=O(95318);D={value:!0},D=void 0;var V=K(O(34575)),R=K(O(2205)),A=K(O(78585)),U=K(O(29754)),w=K(O(89062)),v=K(O(66855));function X(pe){var Ee=ve();return function(){var q=(0,U.default)(pe),M;if(Ee){var j=(0,U.default)(this).constructor;M=Reflect.construct(q,arguments,j)}else M=q.apply(this,arguments);return(0,A.default)(this,M)}}function ve(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(pe){return!1}}var E=function(pe){(0,R.default)(ce,pe);var Ee=X(ce);function ce(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=M.autoconnect,Z=j===void 0?!0:j,ee=M.reconnect,H=ee===void 0?!0:ee,W=M.reconnect_interval,ye=W===void 0?1e3:W,Q=M.max_reconnects,ue=Q===void 0?5:Q,me=arguments.length>2?arguments[2]:void 0;return(0,V.default)(this,ce),Ee.call(this,w.default,q,{autoconnect:Z,reconnect:H,reconnect_interval:ye,max_reconnects:ue},me)}return ce}(v.default);D=E},66855:function(Ie,S,O){"use strict";var D=O(48764).Buffer,K=O(95318);Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var V=K(O(87757)),R=K(O(48926)),A=K(O(50008)),U=K(O(34575)),w=K(O(93913)),v=K(O(2205)),X=K(O(78585)),ve=K(O(29754)),E=O(26729),pe=K(O(37953));function Ee(j){var Z=ce();return function(){var H=(0,ve.default)(j),W;if(Z){var ye=(0,ve.default)(this).constructor;W=Reflect.construct(H,arguments,ye)}else W=H.apply(this,arguments);return(0,X.default)(this,W)}}function ce(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(j){return!1}}var q=function(j,Z){var ee={};for(var H in j)Object.prototype.hasOwnProperty.call(j,H)&&Z.indexOf(H)<0&&(ee[H]=j[H]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var W=0,H=Object.getOwnPropertySymbols(j);W<H.length;W++)Z.indexOf(H[W])<0&&Object.prototype.propertyIsEnumerable.call(j,H[W])&&(ee[H[W]]=j[H[W]]);return ee},M=function(j){(0,v.default)(ee,j);var Z=Ee(ee);function ee(H){var W,ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ue=arguments.length>3?arguments[3]:void 0;(0,U.default)(this,ee);var me=Q.autoconnect,Ae=me===void 0?!0:me,te=Q.reconnect,z=te===void 0?!0:te,se=Q.reconnect_interval,fe=se===void 0?1e3:se,Re=Q.max_reconnects,Ue=Re===void 0?5:Re,qe=q(Q,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return W=Z.call(this),W.webSocketFactory=H,W.queue={},W.rpc_id=0,W.address=ye,W.autoconnect=Ae,W.ready=!1,W.reconnect=z,W.reconnect_interval=fe,W.max_reconnects=Ue,W.rest_options=qe,W.current_reconnects=0,W.generate_request_id=ue||function(){return++W.rpc_id},W.autoconnect&&W._connect(W.address,Object.assign({autoconnect:W.autoconnect,reconnect:W.reconnect,reconnect_interval:W.reconnect_interval,max_reconnects:W.max_reconnects},W.rest_options)),W}return(0,w.default)(ee,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(W,ye,Q,ue){var me=this;return!ue&&(0,A.default)(Q)==="object"&&(ue=Q,Q=null),new Promise(function(Ae,te){if(!me.ready)return te(new Error("socket not ready"));var z=me.generate_request_id(W,ye),se={jsonrpc:"2.0",method:W,params:ye||null,id:z};me.socket.send(JSON.stringify(se),ue,function(fe){if(fe)return te(fe);me.queue[z]={promise:[Ae,te]},Q&&(me.queue[z].timeout=setTimeout(function(){delete me.queue[z],te(new Error("reply timeout"))},Q))})})}},{key:"login",value:function(){var H=(0,R.default)(V.default.mark(function ye(Q){var ue;return V.default.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,this.call("rpc.login",Q);case 2:if(ue=Ae.sent,ue){Ae.next=5;break}throw new Error("authentication failed");case 5:return Ae.abrupt("return",ue);case 6:case"end":return Ae.stop()}},ye,this)}));function W(ye){return H.apply(this,arguments)}return W}()},{key:"listMethods",value:function(){var H=(0,R.default)(V.default.mark(function ye(){return V.default.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,this.call("__listMethods");case 2:return ue.abrupt("return",ue.sent);case 3:case"end":return ue.stop()}},ye,this)}));function W(){return H.apply(this,arguments)}return W}()},{key:"notify",value:function(W,ye){var Q=this;return new Promise(function(ue,me){if(!Q.ready)return me(new Error("socket not ready"));var Ae={jsonrpc:"2.0",method:W,params:ye||null};Q.socket.send(JSON.stringify(Ae),function(te){if(te)return me(te);ue()})})}},{key:"subscribe",value:function(){var H=(0,R.default)(V.default.mark(function ye(Q){var ue;return V.default.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return typeof Q=="string"&&(Q=[Q]),Ae.next=3,this.call("rpc.on",Q);case 3:if(ue=Ae.sent,!(typeof Q=="string"&&ue[Q]!=="ok")){Ae.next=6;break}throw new Error("Failed subscribing to an event '"+Q+"' with: "+ue[Q]);case 6:return Ae.abrupt("return",ue);case 7:case"end":return Ae.stop()}},ye,this)}));function W(ye){return H.apply(this,arguments)}return W}()},{key:"unsubscribe",value:function(){var H=(0,R.default)(V.default.mark(function ye(Q){var ue;return V.default.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return typeof Q=="string"&&(Q=[Q]),Ae.next=3,this.call("rpc.off",Q);case 3:if(ue=Ae.sent,!(typeof Q=="string"&&ue[Q]!=="ok")){Ae.next=6;break}throw new Error("Failed unsubscribing from an event with: "+ue);case 6:return Ae.abrupt("return",ue);case 7:case"end":return Ae.stop()}},ye,this)}));function W(ye){return H.apply(this,arguments)}return W}()},{key:"close",value:function(W,ye){this.socket.close(W||1e3,ye)}},{key:"_connect",value:function(W,ye){var Q=this;this.socket=this.webSocketFactory(W,ye),this.socket.addEventListener("open",function(){Q.ready=!0,Q.emit("open"),Q.current_reconnects=0}),this.socket.addEventListener("message",function(ue){var me=ue.data;me instanceof ArrayBuffer&&(me=D.from(me).toString());try{me=pe.default.parse(me)}catch(z){return}if(me.notification&&Q.listeners(me.notification).length){if(!Object.keys(me.params).length)return Q.emit(me.notification);var Ae=[me.notification];if(me.params.constructor===Object)Ae.push(me.params);else for(var te=0;te<me.params.length;te++)Ae.push(me.params[te]);return Promise.resolve().then(function(){Q.emit.apply(Q,Ae)})}if(!Q.queue[me.id])return me.method&&me.params?Promise.resolve().then(function(){Q.emit(me.method,me.params)}):void 0;"error"in me=="result"in me&&Q.queue[me.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),Q.queue[me.id].timeout&&clearTimeout(Q.queue[me.id].timeout),me.error?Q.queue[me.id].promise[1](me.error):Q.queue[me.id].promise[0](me.result),delete Q.queue[me.id]}),this.socket.addEventListener("error",function(ue){return Q.emit("error",ue)}),this.socket.addEventListener("close",function(ue){var me=ue.code,Ae=ue.reason;Q.ready&&setTimeout(function(){return Q.emit("close",me,Ae)},0),Q.ready=!1,Q.socket=void 0,me!==1e3&&(Q.current_reconnects++,Q.reconnect&&(Q.max_reconnects>Q.current_reconnects||Q.max_reconnects===0)&&setTimeout(function(){return Q._connect(W,ye)},Q.reconnect_interval))})}}]),ee}(E.EventEmitter);S.default=M},89062:function(Ie,S,O){"use strict";var D=O(95318);Object.defineProperty(S,"__esModule",{value:!0}),S.default=E;var K=D(O(34575)),V=D(O(93913)),R=D(O(2205)),A=D(O(78585)),U=D(O(29754)),w=O(26729);function v(pe){var Ee=X();return function(){var q=(0,U.default)(pe),M;if(Ee){var j=(0,U.default)(this).constructor;M=Reflect.construct(q,arguments,j)}else M=q.apply(this,arguments);return(0,A.default)(this,M)}}function X(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(pe){return!1}}var ve=function(pe){(0,R.default)(ce,pe);var Ee=v(ce);function ce(q,M,j){var Z;return(0,K.default)(this,ce),Z=Ee.call(this),Z.socket=new window.WebSocket(q,j),Z.socket.onopen=function(){return Z.emit("open")},Z.socket.onmessage=function(ee){return Z.emit("message",ee.data)},Z.socket.onerror=function(ee){return Z.emit("error",ee)},Z.socket.onclose=function(ee){Z.emit("close",ee.code,ee.reason)},Z}return(0,V.default)(ce,[{key:"send",value:function(M,j,Z){var ee=Z||j;try{this.socket.send(M),ee()}catch(H){ee(H)}}},{key:"close",value:function(M,j){this.socket.close(M,j)}},{key:"addEventListener",value:function(M,j,Z){this.socket.addEventListener(M,j,Z)}}]),ce}(w.EventEmitter);function E(pe,Ee){return new ve(pe,Ee)}},8467:function(Ie,S,O){"use strict";O.r(S),O.d(S,{TextEncoder:function(){return Ee},TextDecoder:function(){return pe}});function D(M,j,Z){return j<=M&&M<=Z}function K(M){if(M===void 0)return{};if(M===Object(M))return M;throw TypeError("Could not convert argument to dictionary")}function V(M){for(var j=String(M),Z=j.length,ee=0,H=[];ee<Z;){var W=j.charCodeAt(ee);if(W<55296||W>57343)H.push(W);else if(56320<=W&&W<=57343)H.push(65533);else if(55296<=W&&W<=56319)if(ee===Z-1)H.push(65533);else{var ye=M.charCodeAt(ee+1);if(56320<=ye&&ye<=57343){var Q=W&1023,ue=ye&1023;H.push(65536+(Q<<10)+ue),ee+=1}else H.push(65533)}ee+=1}return H}function R(M){for(var j="",Z=0;Z<M.length;++Z){var ee=M[Z];ee<=65535?j+=String.fromCharCode(ee):(ee-=65536,j+=String.fromCharCode((ee>>10)+55296,(ee&1023)+56320))}return j}var A=-1;function U(M){this.tokens=[].slice.call(M)}U.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():A},prepend:function(M){if(Array.isArray(M))for(var j=M;j.length;)this.tokens.unshift(j.pop());else this.tokens.unshift(M)},push:function(M){if(Array.isArray(M))for(var j=M;j.length;)this.tokens.push(j.shift());else this.tokens.push(M)}};var w=-1;function v(M,j){if(M)throw TypeError("Decoder error");return j||65533}function X(){}X.prototype={handler:function(M,j){}};function ve(){}ve.prototype={handler:function(M,j){}};var E="utf-8";function pe(M,j){if(!(this instanceof pe))return new pe(M,j);if(M=M!==void 0?String(M).toLowerCase():E,M!==E)throw new Error("Encoding not supported. Only utf-8 is supported");j=K(j),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(j.fatal),this._ignoreBOM=Boolean(j.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}pe.prototype={decode:function(j,Z){var ee;typeof j=="object"&&j instanceof ArrayBuffer?ee=new Uint8Array(j):typeof j=="object"&&"buffer"in j&&j.buffer instanceof ArrayBuffer?ee=new Uint8Array(j.buffer,j.byteOffset,j.byteLength):ee=new Uint8Array(0),Z=K(Z),this._streaming||(this._decoder=new ce({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(Z.stream);for(var H=new U(ee),W=[],ye;!H.endOfStream()&&(ye=this._decoder.handler(H,H.read()),ye!==w);)ye!==null&&(Array.isArray(ye)?W.push.apply(W,ye):W.push(ye));if(!this._streaming){do{if(ye=this._decoder.handler(H,H.read()),ye===w)break;ye!==null&&(Array.isArray(ye)?W.push.apply(W,ye):W.push(ye))}while(!H.endOfStream());this._decoder=null}return W.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(W[0]===65279?(this._BOMseen=!0,W.shift()):this._BOMseen=!0),R(W)}};function Ee(M,j){if(!(this instanceof Ee))return new Ee(M,j);if(M=M!==void 0?String(M).toLowerCase():E,M!==E)throw new Error("Encoding not supported. Only utf-8 is supported");j=K(j),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(j.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ee.prototype={encode:function(j,Z){j=j?String(j):"",Z=K(Z),this._streaming||(this._encoder=new q(this._options)),this._streaming=Boolean(Z.stream);for(var ee=[],H=new U(V(j)),W;!H.endOfStream()&&(W=this._encoder.handler(H,H.read()),W!==w);)Array.isArray(W)?ee.push.apply(ee,W):ee.push(W);if(!this._streaming){for(;W=this._encoder.handler(H,H.read()),W!==w;)Array.isArray(W)?ee.push.apply(ee,W):ee.push(W);this._encoder=null}return new Uint8Array(ee)}};function ce(M){var j=M.fatal,Z=0,ee=0,H=0,W=128,ye=191;this.handler=function(Q,ue){if(ue===A&&H!==0)return H=0,v(j);if(ue===A)return w;if(H===0){if(D(ue,0,127))return ue;if(D(ue,194,223))H=1,Z=ue-192;else if(D(ue,224,239))ue===224&&(W=160),ue===237&&(ye=159),H=2,Z=ue-224;else if(D(ue,240,244))ue===240&&(W=144),ue===244&&(ye=143),H=3,Z=ue-240;else return v(j);return Z=Z<<6*H,null}if(!D(ue,W,ye))return Z=H=ee=0,W=128,ye=191,Q.prepend(ue),v(j);if(W=128,ye=191,ee+=1,Z+=ue-128<<6*(H-ee),ee!==H)return null;var me=Z;return Z=H=ee=0,me}}function q(M){var j=M.fatal;this.handler=function(Z,ee){if(ee===A)return w;if(D(ee,0,127))return ee;var H,W;D(ee,128,2047)?(H=1,W=192):D(ee,2048,65535)?(H=2,W=224):D(ee,65536,1114111)&&(H=3,W=240);for(var ye=[(ee>>6*H)+W];H>0;){var Q=ee>>6*(H-1);ye.push(128|Q&63),H-=1}return ye}}}}]);

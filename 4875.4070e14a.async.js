(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[4875],{55133:function(R){R.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(R){R.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},69764:function(R,T,e){"use strict";var L=e(71194),W=e(50146),E=e(57663),w=e(71577),M=e(402),x=e(3887),U=e(67294),D=e(55133),b=e.n(D),g=e(54549),O=e(85893),j=x.Z.Title,N=function(I){var G=I.visable,y=I.title,l=I.content,o=I.footer,_=I.close,u=I.bodyStyle,a=I.width;return(0,O.jsx)(W.Z,{title:y?(0,O.jsx)(j,{level:5,className:b().title,children:y}):null,closable:!!_,closeIcon:(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(w.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,O.jsx)(g.Z,{onClick:_})})}),className:b().modal,centered:!0,visible:G,width:a!=null?a:650,footer:o,bodyStyle:u,children:l})};T.Z=N},46656:function(R,T,e){"use strict";var L=e(71194),W=e(50146),E=e(47673),w=e(32787),M=e(22385),x=e(31097),U=e(17462),D=e(76772),b=e(57663),g=e(71577),O=e(74379),j=e(38648),N=e(3182),$=e(2824),I=e(402),G=e(3887),y=e(94043),l=e.n(y),o=e(67294),_=e(43581),u=e(55133),a=e.n(u),m=e(3548),p=e(68855),d=e(47832),c=e(55347),v=e(51625),s=e(85893),i=G.Z.Title,h=function(r){var f=r.visable,J=r.setVisable,n=r.passphrase,F=r.setPassphrase,V=r.func,Y=r.changePassphrase,Q=(0,_.tT)("apiWs"),se=(0,_.tT)("currentUser"),t=se.wallet,te=(0,_.tT)("balance"),ie=te.balance,le=(0,o.useState)(!1),q=(0,$.Z)(le,2),X=q[0],z=q[1],oe=(0,o.useState)(),ee=(0,$.Z)(oe,2),Z=ee[0],_e=ee[1],B=(0,_.YB)(),ue=function(K){F(K?K.target.value:"")},ne=function(){var S=(0,N.Z)(l().mark(function K(){var k,H,P,re,ae;return l().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(z(!0),t!=null&&t.passphrase&&F(t==null?void 0:t.passphrase),!((!n||n.length<6)&&!(t!=null&&t.passphrase))){C.next=5;break}return z(!1),C.abrupt("return");case 5:if(k=(t==null?void 0:t.passphrase)||n,!(k&&t!==null&&t!==void 0&&t.keystore)){C.next=16;break}if(H=(0,d.Gh)(k,t.keystore),H){C.next=13;break}return j.default.error({key:"passphraseError",message:B.formatMessage({id:"error.passphrase.error"}),duration:null}),F(""),z(!1),C.abrupt("return");case 13:P=new c.ZP({type:"sr25519"}),re=P.addFromUri(H),ae=re.address,t!=null&&t.account&&t.account!==ae&&(localStorage.clear(),sessionStorage.clear(),window.location.href=v.Z.page.homePage);case 16:if(!V){C.next=19;break}return C.next=19,V();case 19:J(!1),z(!1);case 21:case"end":return C.stop()}},K)}));return function(){return S.apply(this,arguments)}}(),de=function(){var S=(0,N.Z)(l().mark(function K(){var k;return l().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!(!!Q&&!!t.account)){P.next=11;break}return P.next=3,V(!0,t.account);case 3:if(k=P.sent,!k){P.next=8;break}_e(k.partialFee),P.next=11;break;case 8:if(Y){P.next=11;break}return P.next=11,ne();case 11:case"end":return P.stop()}},K)}));return function(){return S.apply(this,arguments)}}();return(0,o.useEffect)(function(){!!Q&&!!(t!=null&&t.account)&&f&&de()},[Q,t==null?void 0:t.account,f]),(0,o.useEffect)(function(){!!(t!=null&&t.passphrase)&&f&&!Y&&F(t==null?void 0:t.passphrase)},[t==null?void 0:t.passphrase,n,f,Y]),(0,s.jsxs)(W.Z,{title:(0,s.jsx)(i,{level:3,children:B.formatMessage({id:"modal.security.title"})}),closable:!1,className:a().modal,centered:!0,visible:f,width:400,footer:(0,s.jsxs)("div",{className:a().buttons,children:[(0,s.jsx)(g.Z,{type:"text",shape:"round",size:"large",className:a().button,onClick:function(){J(!1),window.location.reload()},loading:X,children:B.formatMessage({id:"common.decline"})}),(0,s.jsx)(g.Z,{type:"primary",shape:"round",size:"large",className:a().button,onClick:function(){ne()},disabled:!n||n.length<6,loading:X,children:B.formatMessage({id:"common.confirm"})})]}),children:[(0,s.jsxs)("div",{className:a().confirmContainer,children:[!!Z&&!!(Z!=null&&Z.toString())>ie.free&&(0,s.jsx)(D.Z,{description:B.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:a().alertContainer}),!!Z&&(0,s.jsxs)("div",{className:a().field,children:[(0,s.jsxs)("div",{className:a().labal,children:[B.formatMessage({id:"modal.security.gas"}),(0,s.jsxs)("span",{className:a().small,children:["(",B.formatMessage({id:"modal.security.estimated"}),")"]}),(0,s.jsx)(x.Z,{placement:"bottom",title:B.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,s.jsx)(p.Z,{className:a().labalIcon})})]}),(0,s.jsx)("div",{className:a().value,children:(0,s.jsx)(m.Z,{value:Z,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(t!=null&&t.passphrase)||Y)&&(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,s.jsxs)("div",{className:a().codeInput,children:[(0,s.jsxs)("div",{className:a().verifyForm,children:[(0,s.jsx)("span",{className:(n==null?void 0:n.slice(0))&&!(n!=null&&n.slice(1,5))&&a().highLight,children:n==null?void 0:n.slice(0,1).replace(/[^]/,"\u2731")}),(0,s.jsx)("span",{className:(n==null?void 0:n.slice(1))&&!(n!=null&&n.slice(2,5))&&a().highLight,children:n==null?void 0:n.slice(1,2).replace(/[^]/,"\u2731")}),(0,s.jsx)("span",{className:(n==null?void 0:n.slice(2,3))&&!(n!=null&&n.slice(3,5))&&a().highLight,children:n==null?void 0:n.slice(2,3).replace(/[^]/,"\u2731")}),(0,s.jsx)("span",{className:(n==null?void 0:n.slice(3,4))&&!(n!=null&&n.slice(4,5))&&a().highLight,children:n==null?void 0:n.slice(3,4).replace(/[^]/,"\u2731")}),(0,s.jsx)("span",{className:(n==null?void 0:n.slice(4,5))&&!(n!=null&&n.slice(5))&&a().highLight,children:n==null?void 0:n.slice(4,5).replace(/[^]/,"\u2731")}),(0,s.jsx)("span",{className:(n==null?void 0:n.slice(5))&&a().highLight,children:n==null?void 0:n.slice(5).replace(/[^]/,"\u2731")})]}),(0,s.jsx)(w.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:a().verifyInput,onChange:ue,value:n,disabled:X,maxLength:6,visibilityToggle:!1})]})})]})};T.Z=h},3548:function(R,T,e){"use strict";var L=e(67294),W=e(31639),E=e.n(W),w=e(96534),M=e(85893),x=function(D){var b=D.value,g=D.style;return(0,M.jsxs)("div",{className:E().ad3,style:g,children:[b?(0,w.MP)(b):"--",(0,M.jsx)("span",{className:E().unit,children:"\xA0$AD3"})]})};T.Z=x},57651:function(R,T,e){"use strict";var L=e(67294),W=e(31639),E=e.n(W),w=e(96534),M=e(85893),x=function(D){var b=D.value,g=D.symbol,O=D.decimals,j=O===void 0?18:O;return(0,M.jsxs)("div",{className:E().ad3,children:[b?(0,w.MP)(b.replaceAll(",",""),j):"--",g&&(0,M.jsxs)("span",{className:E().unit,children:["\xA0$",g]})]})};T.Z=x},1615:function(R,T,e){"use strict";e.d(T,{Ht:function(){return D},$1:function(){return g},rL:function(){return j},HF:function(){return N},w5:function(){return G}});var L=e(3182),W=e(94043),E=e.n(W),w=e(63667),M=e(47832),x=e(81603),U=new w.Y({type:"sr25519"}),D=function(){var y=(0,L.Z)(E().mark(function l(o,_,u,a,m,p,d){var c,v,s,i,h;return E().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.system.number();case 2:if(c=r.sent,v=window.apiWs.tx.swap.buyTokens(o,_,u,c.toNumber()+5),!(p&&d)){r.next=9;break}return r.next=7,v.paymentInfo(d);case 7:return s=r.sent,r.abrupt("return",s);case 9:if(i=(0,M.Gh)(a,m),!(i==null||!i)){r.next=12;break}throw new Error("Wrong password");case 12:return h=U.createFromUri(i),r.next=15,(0,x.Y)(v,h);case 15:return r.abrupt("return",r.sent);case 16:case"end":return r.stop()}},l)}));return function(o,_,u,a,m,p,d){return y.apply(this,arguments)}}(),b=null,g=function(){var y=(0,L.Z)(E().mark(function l(o,_,u,a,m,p,d){var c,v,s,i,h;return E().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.system.number();case 2:if(c=r.sent,v=window.apiWs.tx.swap.buyCurrency(o,_,u,c.toNumber()+5),!(p&&d)){r.next=9;break}return r.next=7,v.paymentInfo(d);case 7:return s=r.sent,r.abrupt("return",s);case 9:if(i=(0,M.Gh)(a,m),!(i==null||!i)){r.next=12;break}throw new Error("Wrong password");case 12:return h=U.createFromUri(i),r.next=15,(0,x.Y)(v,h);case 15:return r.abrupt("return",r.sent);case 16:case"end":return r.stop()}},l)}));return function(o,_,u,a,m,p,d){return y.apply(this,arguments)}}(),O=null,j=function(){var y=(0,L.Z)(E().mark(function l(o,_,u,a,m,p,d,c){var v,s,i,h,A;return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,window.apiWs.query.system.number();case 2:if(v=f.sent,s=window.apiWs.tx.swap.addLiquidity(o,_,u,a,v.toNumber()+5),!(d&&c)){f.next=9;break}return f.next=7,s.paymentInfo(c);case 7:return i=f.sent,f.abrupt("return",i);case 9:if(h=(0,M.Gh)(m,p),!(h==null||!h)){f.next=12;break}throw new Error("Wrong password");case 12:return A=U.createFromUri(h),f.next=15,(0,x.Y)(s,A);case 15:return f.abrupt("return",f.sent);case 16:case"end":return f.stop()}},l)}));return function(o,_,u,a,m,p,d,c){return y.apply(this,arguments)}}(),N=function(){var y=(0,L.Z)(E().mark(function l(o,_,u,a,m,p,d){var c,v,s,i,h;return E().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.system.number();case 2:if(c=r.sent,v=window.apiWs.tx.swap.removeLiquidity(o,_,u,c.toNumber()+5),!(p&&d)){r.next=9;break}return r.next=7,v.paymentInfo(d);case 7:return s=r.sent,r.abrupt("return",s);case 9:if(i=(0,M.Gh)(a,m),!(i==null||!i)){r.next=12;break}throw new Error("Wrong password");case 12:return h=U.createFromUri(i),r.next=15,(0,x.Y)(v,h);case 15:return r.abrupt("return",r.sent);case 16:case"end":return r.stop()}},l)}));return function(o,_,u,a,m,p,d){return y.apply(this,arguments)}}(),$=null,I=null,G=function(){var y=(0,L.Z)(E().mark(function l(o,_,u,a,m){var p,d,c,v;return E().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(p=window.apiWs.tx.swap.acquireReward(o),!(a&&m)){i.next=6;break}return i.next=4,p.paymentInfo(m);case 4:return d=i.sent,i.abrupt("return",d);case 6:if(c=(0,M.Gh)(_,u),!(c==null||!c)){i.next=9;break}throw new Error("Wrong password");case 9:return v=U.createFromUri(c),i.next=12,(0,x.Y)(p,v);case 12:return i.abrupt("return",i.sent);case 13:case"end":return i.stop()}},l)}));return function(o,_,u,a,m){return y.apply(this,arguments)}}()}}]);

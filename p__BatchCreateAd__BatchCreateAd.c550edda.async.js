(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[5577],{67724:function(j,g,e){"use strict";e.d(g,{Z:function(){return W}});var D=e(28991),v=e(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},s=y,T=e(27029),b=function(U,h){return v.createElement(T.Z,(0,D.Z)((0,D.Z)({},U),{},{ref:h,icon:s}))};b.displayName="LeftOutlined";var W=v.forwardRef(b)},19273:function(j,g,e){"use strict";e.d(g,{Z:function(){return D}});function D(v){if(v==null)throw new TypeError("Cannot destructure undefined")}},55133:function(j){j.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(j){j.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},12082:function(j){j.exports={container:"container___1jNY3",form:"form___1CBBu",field:"field___3TcbM",title:"title___PYs1Y",adIdsTable:"adIdsTable___w53jW",previewTable:"previewTable___2wdrH",btnContainer:"btnContainer___32rfM"}},51406:function(j,g,e){"use strict";var D=e(22385),v=e(31097),y=e(67294),s=e(85893),T=function(W){var A,U,h,x,t=W.ad,B=W.kolIcon,i=((A=t==null?void 0:t.instructions)!==null&&A!==void 0?A:[]).map(function(u){return u.tag}).filter(Boolean),n=(U=t==null?void 0:t.sponsorName)!==null&&U!==void 0?U:"Parami",r=n.length>15?"".concat(n.slice(0,6),"...").concat(n.slice(-6)):null,p=t!=null&&t.contractAddress&&t!==null&&t!==void 0&&t.tokenId?(0,s.jsx)("a",{href:"https://opensea.io/assets/ethereum/".concat(t.contractAddress,"/").concat(t.tokenId),target:"_blank",children:"hNFT"}):"hNFT",f=(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"ownerInfo",children:(0,s.jsx)(v.Z,{title:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{children:["\u{1F4E2} This ",p," is reserved."]}),(0,s.jsx)("a",{className:"claimLink",href:"/claimHnft/".concat(t.nftId),target:"_blank",children:"I am the owner"})]}),children:(0,s.jsx)("span",{className:"claimInfoMark",children:(0,s.jsx)("i",{className:"fa-solid fa-circle-exclamation"})})})})});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"advertisementContainer",children:(0,s.jsxs)(s.Fragment,{children:[f,(0,s.jsxs)("div",{className:"sponsorInfo",children:[(t==null?void 0:t.icon)&&(0,s.jsx)("img",{referrerPolicy:"no-referrer",className:"sponsorIcon",src:t==null?void 0:t.icon}),(0,s.jsxs)("span",{className:"sponsorText",children:[!!r&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(v.Z,{title:n,children:(0,s.jsx)("span",{className:"sponsorName",children:r})})}),!r&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("span",{className:"sponsorName",children:n})}),(0,s.jsxs)("span",{children:["is sponsoring this ",p,". "]}),(0,s.jsx)("a",{className:"bidLink",href:"/bid/".concat(t.nftId),target:"_blank",children:"Bid on this ad space"})]})]}),(0,s.jsxs)("div",{className:"adSection",children:[(0,s.jsx)("div",{className:"adSectionArrow front"}),(0,s.jsx)("div",{className:"adSectionArrow back"}),(0,s.jsxs)("div",{className:"adContent",children:[(0,s.jsxs)("div",{className:"adDescription",children:[(0,s.jsx)("span",{className:"descriptionText",children:(h=(x=t==null?void 0:t.content)!==null&&x!==void 0?x:t==null?void 0:t.description)!==null&&h!==void 0?h:"View Ads. Get Paid."}),(i==null?void 0:i.length)>0&&(0,s.jsx)("span",{className:"tags",children:i.map(function(u,C){return(0,s.jsxs)("span",{className:"tag",children:["#",u]},C)})})]}),!(t!=null&&t.poster)&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"posterSection",children:(0,s.jsx)("div",{className:"posterPlaceHolder",children:"please upload your poster"})})}),(t==null?void 0:t.poster)&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"posterSection",children:[(0,s.jsx)("img",{src:t==null?void 0:t.poster,referrerPolicy:"no-referrer",className:"adMediaImg"}),(0,s.jsxs)("div",{className:"mask",children:[(0,s.jsxs)("div",{className:"infoText",children:["You will be rewarded",(0,s.jsx)(v.Z,{title:"Rewards are calculated based on your DID preference score",children:(0,s.jsx)("span",{className:"rewardInfoMark",children:(0,s.jsx)("i",{className:"fa-solid fa-circle-exclamation"})})})]}),(0,s.jsx)("div",{className:"rewardRow",children:(0,s.jsxs)("div",{className:"rewardInfo",children:[(0,s.jsx)("img",{referrerPolicy:"no-referrer",className:"kolIcon",src:B}),(0,s.jsxs)("span",{className:"rewardAmount",children:[(0,s.jsx)("span",{className:"rewardNumber",children:"300.00"}),(0,s.jsxs)("span",{className:"rewardToken",children:[t==null?void 0:t.assetName," NFT Power"]})]})]})}),(0,s.jsx)("div",{className:"btnContainer",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"actionBtn left",onClick:function(){},children:"Claim"}),(0,s.jsx)("div",{className:"actionBtn right",onClick:function(){},children:"Claim & Learn more"})]})})]}),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"hoverHint",children:(0,s.jsx)("div",{className:"hintIcon",children:(0,s.jsx)("i",{className:"fa-solid fa-arrow-up-right-from-square"})})})})]})})]})]})]})})})};g.Z=T},46656:function(j,g,e){"use strict";var D=e(71194),v=e(50146),y=e(47673),s=e(32787),T=e(22385),b=e(31097),W=e(17462),A=e(76772),U=e(57663),h=e(71577),x=e(74379),t=e(38648),B=e(3182),i=e(2824),n=e(402),r=e(3887),p=e(94043),f=e.n(p),u=e(67294),C=e(43581),d=e(55133),_=e.n(d),R=e(3548),S=e(68855),Z=e(47832),P=e(43955),F=e(51625),l=e(85893),w=r.Z.Title,m=function($){var V=$.visable,_e=$.setVisable,a=$.passphrase,Q=$.setPassphrase,ee=$.func,G=$.changePassphrase,de=$.directSubmit,se=de===void 0?!1:de,ae=(0,C.tT)("apiWs"),ue=(0,C.tT)("currentUser"),o=ue.wallet,ge=(0,C.tT)("balance"),ce=ge.balance,me=(0,u.useState)(!1),ve=(0,i.Z)(me,2),re=ve[0],q=ve[1],Pe=(0,u.useState)(),te=(0,i.Z)(Pe,2),X=te[0],fe=te[1],K=(0,C.YB)(),Me=function(k){Q(k?k.target.value:"")},ie=function(){var z=(0,B.Z)(f().mark(function k(){var H,ne,L,he,Ee;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(q(!0),o!=null&&o.passphrase&&Q(o==null?void 0:o.passphrase),!((!a||a.length<6)&&!(o!=null&&o.passphrase))){c.next=5;break}return q(!1),c.abrupt("return");case 5:if(H=(o==null?void 0:o.passphrase)||a,!(H&&o!==null&&o!==void 0&&o.keystore)){c.next=16;break}if(ne=(0,Z.Gh)(H,o.keystore),ne){c.next=13;break}return t.default.error({key:"passphraseError",message:K.formatMessage({id:"error.passphrase.error"}),duration:null}),Q(""),q(!1),c.abrupt("return");case 13:L=new P.ZP({type:"sr25519"}),he=L.addFromUri(ne),Ee=he.address,o!=null&&o.account&&o.account!==Ee&&(localStorage.clear(),sessionStorage.clear(),window.location.href=F.Z.page.homePage);case 16:if(!ee){c.next=25;break}return c.prev=17,c.next=20,ee();case 20:c.next=25;break;case 22:c.prev=22,c.t0=c.catch(17),console.log("security modal submit func error fallback",c.t0);case 25:_e(!1),q(!1);case 27:case"end":return c.stop()}},k,null,[[17,22]])}));return function(){return z.apply(this,arguments)}}(),pe=function(){var z=(0,B.Z)(f().mark(function k(){var H;return f().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!(!!ae&&!!o.account)){L.next=11;break}return L.next=3,ee(!0,o.account);case 3:if(H=L.sent,!H){L.next=8;break}fe(H.partialFee),L.next=11;break;case 8:if(G){L.next=11;break}return L.next=11,ie();case 11:case"end":return L.stop()}},k)}));return function(){return z.apply(this,arguments)}}();return(0,u.useEffect)(function(){!!ae&&!!(o!=null&&o.account)&&V&&!se&&pe()},[ae,o==null?void 0:o.account,V,se]),(0,u.useEffect)(function(){!!(o!=null&&o.passphrase)&&V&&!G&&Q(o==null?void 0:o.passphrase)},[o==null?void 0:o.passphrase,a,V,G]),(0,u.useEffect)(function(){a&&V&&se&&ie()},[a,V,se]),(0,l.jsxs)(v.Z,{title:(0,l.jsx)(w,{level:3,children:K.formatMessage({id:"modal.security.title"})}),closable:!1,className:_().modal,centered:!0,visible:V,width:400,footer:(0,l.jsxs)("div",{className:_().buttons,children:[(0,l.jsx)(h.Z,{type:"text",shape:"round",size:"large",className:_().button,onClick:function(){_e(!1),window.location.reload()},loading:re,children:K.formatMessage({id:"common.decline"})}),(0,l.jsx)(h.Z,{type:"primary",shape:"round",size:"large",className:_().button,onClick:function(){ie()},disabled:!a||a.length<6,loading:re,children:K.formatMessage({id:"common.confirm"})})]}),children:[(0,l.jsxs)("div",{className:_().confirmContainer,children:[!!X&&!!(X!=null&&X.toString())>ce.free&&(0,l.jsx)(A.Z,{description:K.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:_().alertContainer}),!!X&&(0,l.jsxs)("div",{className:_().field,children:[(0,l.jsxs)("div",{className:_().labal,children:[K.formatMessage({id:"modal.security.gas"}),(0,l.jsxs)("span",{className:_().small,children:["(",K.formatMessage({id:"modal.security.estimated"}),")"]}),(0,l.jsx)(b.Z,{placement:"bottom",title:K.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,l.jsx)(S.Z,{className:_().labalIcon})})]}),(0,l.jsx)("div",{className:_().value,children:(0,l.jsx)(R.Z,{value:X,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(o!=null&&o.passphrase)||G)&&(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,l.jsxs)("div",{className:_().codeInput,children:[(0,l.jsxs)("div",{className:_().verifyForm,children:[(0,l.jsx)("span",{className:(a==null?void 0:a.slice(0))&&!(a!=null&&a.slice(1,5))&&_().highLight,children:a==null?void 0:a.slice(0,1).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(a==null?void 0:a.slice(1))&&!(a!=null&&a.slice(2,5))&&_().highLight,children:a==null?void 0:a.slice(1,2).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(a==null?void 0:a.slice(2,3))&&!(a!=null&&a.slice(3,5))&&_().highLight,children:a==null?void 0:a.slice(2,3).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(a==null?void 0:a.slice(3,4))&&!(a!=null&&a.slice(4,5))&&_().highLight,children:a==null?void 0:a.slice(3,4).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(a==null?void 0:a.slice(4,5))&&!(a!=null&&a.slice(5))&&_().highLight,children:a==null?void 0:a.slice(4,5).replace(/[^]/,"\u2731")}),(0,l.jsx)("span",{className:(a==null?void 0:a.slice(5))&&_().highLight,children:a==null?void 0:a.slice(5).replace(/[^]/,"\u2731")})]}),(0,l.jsx)(s.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:_().verifyInput,onChange:Me,value:a,disabled:re,maxLength:6,visibilityToggle:!1})]})})]})};g.Z=m},3548:function(j,g,e){"use strict";var D=e(67294),v=e(31639),y=e.n(v),s=e(96534),T=e(85893),b=function(A){var U=A.value,h=A.style;return(0,T.jsxs)("div",{className:y().ad3,style:h,children:[U?(0,s.MP)(U):"--",(0,T.jsx)("span",{className:y().unit,children:"\xA0$AD3"})]})};g.Z=b},55410:function(j,g,e){"use strict";e.d(g,{n:function(){return D}});var D;(function(v){v.ICON="icon",v.POSTER="poster"})(D||(D={}))},91087:function(j,g,e){"use strict";e.d(g,{p:function(){return D}});var D=24*60*60/12},49241:function(j,g,e){"use strict";e.r(g);var D=e(95936),v=e(80274),y=e(43185),s=e(35372),T=e(57663),b=e(71577),W=e(20136),A=e(55241),U=e(74379),h=e(38648),x=e(3182),t=e(2824),B=e(19273),i=e(94043),n=e.n(i),r=e(51406),p=e(46656),f=e(51625),u=e(55410),C=e(91087),d=e(61715),_=e(32689),R=e(84986),S=e(94452),Z=e(84391),P=e(67294),F=e(43581),l=e(12082),w=e.n(l),m=e(85893);function De($){(0,B.Z)($);var V=(0,F.tT)("apiWs"),_e=(0,F.tT)("currentUser"),a=_e.wallet,Q=(0,P.useState)([]),ee=(0,t.Z)(Q,2),G=ee[0],de=ee[1],se=(0,P.useState)([]),ae=(0,t.Z)(se,2),ue=ae[0],o=ae[1],ge=(0,P.useState)(""),ce=(0,t.Z)(ge,2),me=ce[0],ve=ce[1],re=(0,P.useState)(!1),q=(0,t.Z)(re,2),Pe=q[0],te=q[1],X=(0,P.useState)([]),fe=(0,t.Z)(X,2),K=fe[0],Me=fe[1],ie=(0,P.useState)([]),pe=(0,t.Z)(ie,2),z=pe[0],k=pe[1],H=function(){var I=(0,x.Z)(n().mark(function c(M,Y){var O,J,le,E,oe;return n().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,_.nH)(M);case 2:if(O=N.sent,O.data.type!=="image/gif"){N.next=5;break}return N.abrupt("return",M);case 5:return N.next=7,(0,S.q)(O.data,Y);case 7:return J=N.sent,N.next=10,(0,R.U)(J);case 10:return le=N.sent,E=le.data,oe=f.Z.ipfs.endpoint+E.Hash,console.log("compressed:",oe),N.abrupt("return",oe);case 15:case"end":return N.stop()}},c)}));return function(M,Y){return I.apply(this,arguments)}}(),ne=function(){var I=(0,x.Z)(n().mark(function c(M){return n().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!M.icon){O.next=4;break}return O.next=3,H(M.icon,u.n.ICON);case 3:M.icon=O.sent;case 4:if(!M.poster){O.next=8;break}return O.next=7,H(M.poster,u.n.POSTER);case 7:M.poster=O.sent;case 8:return O.abrupt("return",(0,S.T)(M));case 9:case"end":return O.stop()}},c)}));return function(M){return I.apply(this,arguments)}}();(0,P.useEffect)(function(){G.length&&(h.default.info({message:"Preparing ad data..."}),Promise.all(G.map(function(I){return ne(I)})).then(function(I){h.default.success({message:"Ready to create"}),k(G),o(I)}).catch(function(I){h.default.error({message:"Generate Ad Config Error",description:JSON.stringify(I)})}))},[G]);var L=function(c){if(console.log("reading file",c),c.type!=="text/tab-separated-values")return h.default.error({message:"File Type Error",description:"Please upload tsv (tab-separated-values) file"}),!1;var M=new FileReader;return M.onload=function(Y){var O=Y.target.result.split(`
`).slice(1),J=O.map(function(le){var E=le.split("	");return{title:E[1],poster:"".concat(E[3]?f.Z.ipfs.endpoint+E[3]:""),icon:"".concat(E[5]?f.Z.ipfs.endpoint+E[5]:""),content:E[6],sponsorName:E[7],instructions:[{text:E[8],tag:"Social Media",score:1,link:E[9]}],rewardRate:parseInt(E[10],10),payoutBase:parseInt(E[11],10),payoutMin:parseInt(E[12],10),payoutMax:parseInt(E[13],10),lifetime:C.p*2}});console.log("got ad infos",J),de(J)},M.readAsText(c),!1},he=function(){var I=(0,x.Z)(n().mark(function c(M,Y){var O,J;return n().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return M||h.default.info({message:"Creating Ads",description:"This might take a while. Please wait..."}),E.next=3,(0,d.ZU)(ue,me,a==null?void 0:a.keystore,M,Y);case 3:if(O=E.sent,!(M&&Y)){E.next=6;break}return E.abrupt("return",O);case 6:J=O.map(function(oe){return oe.ad.Created[0][0]}),Me(J),te(!1),h.default.success({message:"Ad Create Success"});case 10:case"end":return E.stop()}},c)}));return function(M,Y){return I.apply(this,arguments)}}(),Ee=[{title:"Title",dataIndex:"title"},{title:"Content",dataIndex:"content"},{title:"Sponsor Name",dataIndex:"sponsorName"},{title:"Preview",render:function(c,M){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(A.Z,{content:(0,m.jsx)("div",{style:{marginTop:"40px"},children:(0,m.jsx)(r.Z,{ad:M})}),trigger:"hover",children:(0,m.jsx)("a",{children:"preview"})})})}}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:w().container,children:[(0,m.jsx)("div",{className:w().form,children:(0,m.jsxs)("div",{className:w().field,children:[(0,m.jsx)("div",{className:w().title,children:"upload tsv (tab-separated-values)"}),(0,m.jsx)("div",{className:w().content,children:(0,m.jsx)(s.Z,{beforeUpload:L,children:(0,m.jsx)(b.Z,{icon:(0,m.jsx)(Z.Z,{}),children:"Upload"})})})]})}),z.length>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:w().previewTable,children:(0,m.jsx)(v.Z,{dataSource:z,columns:Ee,pagination:!1})}),(0,m.jsx)("div",{className:w().btnContainer,children:(0,m.jsx)(b.Z,{onClick:function(){te(!0)},disabled:!V||!ue.length,children:"Batch Create Ads"})})]}),K.length>0&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:w().adIdsTable,children:(0,m.jsx)(v.Z,{pagination:!1,dataSource:K.map(function(I){return{id:I}}),columns:[{title:"Ad id",dataIndex:"id",key:"id"}]})})})]}),(0,m.jsx)(p.Z,{visable:Pe,setVisable:te,passphrase:me,setPassphrase:ve,func:he})]})}g.default=De},84986:function(j,g,e){"use strict";e.d(g,{U:function(){return B},g:function(){return n}});var D=e(11849),v=e(3182),y=e(94043),s=e.n(y),T=e(51625),b=e(43955),W=e(11238),A=e(47832),U=e(81603),h=function(p){var f=p.response,u=f===void 0?{}:f,C=p.message,d=C===void 0?"":C,_=p.data,R=_===void 0?{}:_;if(d==="http error")return{response:u,data:R}},x=(0,W.l7)({errorHandler:h,credentials:"omit"}),t=new b.ZP({type:"sr25519"});function B(r,p){return i.apply(this,arguments)}function i(){return i=(0,v.Z)(s().mark(function r(p,f){var u;return s().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return u=new FormData,u.append("file",p),d.abrupt("return",x(T.Z.ipfs.upload,(0,D.Z)({method:"POST",body:u,requestType:"form",getResponse:!0},f||{})));case 3:case"end":return d.stop()}},r)})),i.apply(this,arguments)}var n=function(){var r=(0,v.Z)(s().mark(function p(f,u,C,d,_){var R,S,Z,P;return s().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(R=window.apiWs.tx.did.setMetadata("pic",f),!(d&&_)){l.next=6;break}return l.next=4,R.paymentInfo(_);case 4:return S=l.sent,l.abrupt("return",S);case 6:if(Z=(0,A.Gh)(u,C),!(Z==null||!Z)){l.next=9;break}throw new Error("Wrong password");case 9:return P=t.createFromUri(Z),l.next=12,(0,U.Y)(R,P);case 12:return l.abrupt("return",l.sent);case 13:case"end":return l.stop()}},p)}));return function(f,u,C,d,_){return r.apply(this,arguments)}}()},94452:function(j,g,e){"use strict";e.d(g,{q:function(){return t},T:function(){return B}});var D=e(86582),v=e(11849),y=e(3182),s=e(94043),T=e.n(s),b=e(51625),W=e(55410),A=e(84986),U=e(41741),h=e(96534),x=e(48764).Buffer,t=function(){var i=(0,y.Z)(T().mark(function n(r,p){var f,u;return T().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(r.type!=="image/gif"){d.next=2;break}return d.abrupt("return",r);case 2:return f=p===W.n.ICON?{maxSizeMB:.1,maxWidthOrHeight:60,useWebWorker:!0}:{maxSizeMB:.5,maxWidthOrHeight:400,useWebWorker:!0},d.prev=3,d.next=6,(0,U.Z)(r,f);case 6:return u=d.sent,d.abrupt("return",u);case 10:return d.prev=10,d.t0=d.catch(3),console.log("image compression failed",d.t0),d.abrupt("return",r);case 14:case"end":return d.stop()}},n,null,[[3,10]])}));return function(r,p){return i.apply(this,arguments)}}(),B=function(){var i=(0,y.Z)(T().mark(function n(r){var p,f,u,C,d,_,R,S;return T().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return p={media:r.poster,icon:r.icon,content:r.content,instructions:r.instructions.map(function(F){var l;return(0,v.Z)((0,v.Z)({},F),{},{link:encodeURIComponent((l=F.link)!==null&&l!==void 0?l:"")})}),sponsorName:r.sponsorName},P.next=3,x.from(JSON.stringify(p));case 3:return f=P.sent,P.next=6,(0,A.U)(f);case 6:if(u=P.sent,C=u.response,d=u.data,C.ok){P.next=11;break}throw"Create Metadata Error";case 11:return _="ipfs://".concat(d.Hash),R=(0,h.Zc)(b.Z.advertisement.defaultDelegatedDid),S=Array.from(new Set((0,D.Z)(r.instructions.map(function(F){return F.tag}).filter(Boolean)))),P.abrupt("return",{tags:S,metadata:_,rewardRate:r.rewardRate.toString(),lifetime:r.lifetime,payoutBase:(0,h.Vm)(r.payoutBase.toString()),payoutMin:(0,h.Vm)(r.payoutMin.toString()),payoutMax:(0,h.Vm)(r.payoutMax.toString()),delegatedAccount:R});case 15:case"end":return P.stop()}},n)}));return function(r){return i.apply(this,arguments)}}()},27678:function(j,g,e){"use strict";e.d(g,{g1:function(){return x},os:function(){return B}});var D=/margin|padding|width|height|max|min|offset/,v={left:!0,top:!0},y={cssFloat:1,styleFloat:1,float:1};function s(i){return i.nodeType===1?i.ownerDocument.defaultView.getComputedStyle(i,null):{}}function T(i,n,r){if(n=n.toLowerCase(),r==="auto"){if(n==="height")return i.offsetHeight;if(n==="width")return i.offsetWidth}return n in v||(v[n]=D.test(n)),v[n]?parseFloat(r)||0:r}function b(i,n){var r=arguments.length,p=s(i);return n=y[n]?"cssFloat"in i.style?"cssFloat":"styleFloat":n,r===1?p:T(i,n,p[n]||i.style[n])}function W(i,n,r){var p=arguments.length;if(n=y[n]?"cssFloat"in i.style?"cssFloat":"styleFloat":n,p===3)return typeof r=="number"&&D.test(n)&&(r="".concat(r,"px")),i.style[n]=r,r;for(var f in n)n.hasOwnProperty(f)&&W(i,f,n[f]);return s(i)}function A(i){return i===document.body?document.documentElement.clientWidth:i.offsetWidth}function U(i){return i===document.body?window.innerHeight||document.documentElement.clientHeight:i.offsetHeight}function h(){var i=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:i,height:n}}function x(){var i=document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight;return{width:i,height:n}}function t(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function B(i){var n=i.getBoundingClientRect(),r=document.documentElement;return{left:n.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}}}]);

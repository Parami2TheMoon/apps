(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[5047],{2752:function(h){h.exports={claimInfoContainer:"claimInfoContainer___2QBl-",scoreChange:"scoreChange___21g3Z"}},8556:function(h){h.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(h){h.exports={tag:"tag___sah2p"}},85047:function(h,B,a){"use strict";var ea=a(34792),A=a(48086),U=a(58024),p=a(39144),Z=a(22385),I=a(31097),D=a(12968),K=a(62462),ca=a(57663),O=a(71577),W=a(3182),J=a(2824),sa=a(94043),L=a.n(sa),N=a(67294),na=a(55909),Q=a.n(na),b=a(37550),n=a.n(b),j=a(43581),ra=a(57240),t=a(57119),ta=a(33182),ua=a(56205),R=a(96534),_a=a(20640),y=a.n(_a),k=a(57641),V=a(11561),oa=a(79762),la=a(51625),e=a(85893),X=function(v){var $,d=v.ad,S=v.nftId,F=v.referrer,P=v.asset,w=v.avatar,x=v.did,_=v.adData,ma=v.balance,M=v.notAccess,z=v.adImageOnLoad,ia=z===void 0?function(){}:z,q=(0,j.tT)("currentUser"),o=q.wallet,da=(0,N.useState)(!1),E=(0,J.Z)(da,2),g=E[0],i=E[1],C=(0,N.useState)(!1),c=(0,J.Z)(C,2),T=c[0],r=c[1],aa=(0,j.tT)("apiWs"),s=(0,j.YB)(),G=o!=null&&o.did?"".concat(window.location.origin,"/").concat(x,"/").concat(S,"?referrer=").concat(o==null?void 0:o.did):"".concat(window.location.origin,"/").concat(x,"/").concat(S),Ma=(0,R.st)(_==null?void 0:_.creator).substring(8),Da=function(){var l=(0,W.Z)(L().mark(function f(Y,u,va){var Ea;return L().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,Y.query.ad.payout(u,va);case 2:Ea=H.sent,Ea.isEmpty?r(!1):r(!0);case 4:case"end":return H.stop()}},f)}));return function(Y,u,va){return l.apply(this,arguments)}}();(0,N.useEffect)(function(){aa&&_!==null&&_!==void 0&&_.id&&o!==null&&o!==void 0&&o.did&&Da(aa,_==null?void 0:_.id,o==null?void 0:o.did)},[aa,_,o]);var Pa=function(f){return(0,e.jsx)(O.Z,{block:!0,type:"primary",shape:"round",size:"large",className:n().actionBtn,icon:(0,e.jsx)(ra.Z,{}),onClick:function(){j.m8.push("/wallet")},children:f})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:n().advertisementContainer,children:[(0,e.jsx)("div",{className:n().container,children:(0,e.jsx)("div",{className:n().topBar,children:(0,e.jsxs)("div",{className:n().sponsored,children:[(0,e.jsx)(K.Z,{src:w||"/images/logo-round-core.svg",className:n().avatar,preview:!1,id:"avatar",fallback:"/images/logo-round-core.svg"}),(0,e.jsx)("span",{children:s.formatMessage({id:"creator.explorer.advertisement.sponsoredBy"},{did:"".concat(Ma)})})]})})}),(0,e.jsx)(p.Z,{className:"".concat(Q().card," ").concat(n().adCard),style:{maxWidth:"650px",border:"none",marginBottom:"30px"},bodyStyle:{padding:0,width:"100%"},children:(0,e.jsxs)("div",{className:n().advertisement,children:[!!(d!=null&&d.media)&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:n().adMedia,children:(0,e.jsx)(K.Z,{src:d==null?void 0:d.media,placeholder:!0,preview:!1,className:n().adMediaImg,onLoad:ia})})}),(d==null?void 0:d.instructions)&&(d==null||($=d.instructions)===null||$===void 0?void 0:$.length)>0&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:n().instructions,children:[(0,e.jsxs)("div",{className:n().instructionTitle,children:["Follow the instructions to improve your DID reputation score",(0,e.jsx)(I.Z,{placement:"top",title:"Your DID reputation score is a number attached to your DID that can be increased by performing tasks. The higher your DID reputation score, the higher the reward.",children:(0,e.jsx)(t.Z,{style:{marginLeft:"5px"}})})]}),d.instructions.map(function(l,f){return(0,e.jsxs)("div",{className:"".concat(n().instruction," ").concat(l.link?n().withLink:""),onClick:function(){!!l.link&&window.open("".concat(la.Z.main.weeklySite,"?redirect=").concat(l.link,"&nftId=").concat(S,"&did=").concat(o==null?void 0:o.did,"&ad=").concat(_==null?void 0:_.id,"&referrer=").concat(F,"&tag=").concat(l.tag,"&score=").concat(l.score))},children:[(0,e.jsx)("span",{className:n().instructionText,children:l.text}),!!l.tag&&(0,e.jsx)(V.Z,{tag:l.tag}),!!l.score&&(0,e.jsx)(oa.Z,{score:parseInt(l.score,10)})]},f)})]})})]})}),(0,e.jsxs)("div",{className:n().buttonContainer,children:[T&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(O.Z,{block:!0,type:"primary",shape:"round",size:"large",className:n().actionBtn,icon:(0,e.jsx)(ta.Z,{}),onClick:(0,W.Z)(L().mark(function l(){var f;return L().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(f={title:"Para Metaverse Identity",text:s.formatMessage({id:"creator.explorer.shareMessage"}),url:G},!(navigator.canShare&&navigator.canShare(f))){u.next=12;break}return u.prev=2,u.next=5,navigator.share(f);case 5:u.next=10;break;case 7:u.prev=7,u.t0=u.catch(2),console.log(u.t0);case 10:u.next=14;break;case 12:y()(G+" ".concat(s.formatMessage({id:"creator.explorer.shareMessage"},{token:"$".concat(P==null?void 0:P.symbol)}))),A.default.success(s.formatMessage({id:"common.copied"}));case 14:case"end":return u.stop()}},l,null,[[2,7]])})),children:s.formatMessage({id:"creator.explorer.advertisement.share"},{token:"$".concat(P==null?void 0:P.symbol)})}),Pa("Check your reward and score")]}),!T&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(O.Z,{block:!0,type:"primary",shape:"round",size:"large",icon:(0,e.jsx)(ua.Z,{}),className:n().claimBtn,onClick:function(){return i(!0)},children:"Claim your $".concat(P==null?void 0:P.symbol)})})]}),g&&(0,e.jsx)(k.Z,{adId:_==null?void 0:_.id,nftId:S,referrer:F,onClose:function(){return i(!1)},onClaim:function(){i(!1),r(!0)}})]})})};B.Z=X},57641:function(h,B,a){"use strict";var ea=a(57663),A=a(71577),U=a(20228),p=a(11382),Z=a(74379),I=a(38648),D=a(3182),K=a(2824),ca=a(94043),O=a.n(ca),W=a(67294),J=a(69764),sa=a(2752),L=a.n(sa),N=a(32689),na=a(46656),Q=a(61715),b=a(43581),n=a(69854),j=a(11561),ra=a(79762),t=a(85893),ta=function(R){var _a=R.onClose,y=R.adId,k=R.nftId,V=R.referrer,oa=V===void 0?null:V,la=R.onClaim,e=(0,W.useState)(),X=(0,K.Z)(e,2),m=X[0],v=X[1],$=(0,W.useState)(!1),d=(0,K.Z)($,2),S=d[0],F=d[1],P=(0,W.useState)(""),w=(0,K.Z)(P,2),x=w[0],_=w[1],ma=(0,b.tT)("currentUser"),M=ma.wallet,z=(0,b.tT)("apiWs"),ia=(0,b.YB)(),q=function(){var E=(0,D.Z)(O().mark(function g(){var i;return O().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,n.Wv)(y);case 2:i=c.sent,v({scores:(i!=null?i:[]).map(function(T){return{tag:T.name,score:-5}})});case 4:case"end":return c.stop()}},g)}));return function(){return E.apply(this,arguments)}}(),o=function(){var E=(0,D.Z)(O().mark(function g(){var i,C,c;return O().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,N.Rh)(y,k,M==null?void 0:M.did);case 3:i=r.sent,C=i.response,c=i.data,C.ok?v(c):q(),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0),q();case 13:case"end":return r.stop()}},g,null,[[0,9]])}));return function(){return E.apply(this,arguments)}}();(0,W.useEffect)(function(){z&&o()},[z]);var da=function(){var E=(0,D.Z)(O().mark(function g(i,C){var c,T,r;return O().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(M!=null&&M.keystore){s.next=3;break}return I.default.error({key:"accessDenied",message:ia.formatMessage({id:"error.accessDenied"}),duration:null}),s.abrupt("return");case 3:if(s.prev=3,r=((c=m.scores)!==null&&c!==void 0?c:[]).map(function(G){return[G.tag,G.score]}),!(m&&m.signature)){s.next=11;break}return s.next=8,(0,Q.nm)(y,k,M==null?void 0:M.did,r,m.referer,m.signature,m.signer_account,x,M.keystore,i,C);case 8:T=s.sent,s.next=14;break;case 11:return s.next=13,(0,Q.HS)(y,k,r,oa,x,M.keystore,i,C);case 13:T=s.sent;case 14:if(!(i&&C)){s.next=16;break}return s.abrupt("return",T);case 16:I.default.success({message:"Claim Token Success"}),la(),s.next=24;break;case 20:s.prev=20,s.t0=s.catch(3),console.log(s.t0),I.default.error({message:"Claim Ad Token Error",description:"".concat(s.t0)});case 24:case"end":return s.stop()}},g,null,[[3,20]])}));return function(i,C){return E.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(J.Z,{visable:!0,title:"Claim your token",content:(0,t.jsx)("div",{className:L().claimInfoContainer,children:(0,t.jsx)(p.Z,{spinning:!m,children:m&&m.scores&&m.scores.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"Claim now and have your score updated:"}),m.scores.map(function(E){return(0,t.jsxs)("div",{className:L().scoreChange,children:[(0,t.jsx)(j.Z,{tag:E.tag}),(0,t.jsx)(ra.Z,{score:parseInt(E.score,10)})]})}),!m.signature&&(0,t.jsx)("p",{children:"Not happy with the reward? Follow the instructions before claiming."})]})})}),footer:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(A.Z,{block:!0,type:"primary",shape:"round",size:"large",disabled:!m,onClick:function(){return F(!0)},children:"Claim"})}),close:function(){return _a()}}),(0,t.jsx)(na.Z,{visable:S,setVisable:F,passphrase:x,setPassphrase:_,func:da})]})};B.Z=ta},79762:function(h,B,a){"use strict";var ea=a(67294),A=a(8556),U=a.n(A),p=a(85893);function Z(I){var D=I.score;return(0,p.jsxs)("span",{className:U().scoreContainer,children:[D>=0&&(0,p.jsxs)("span",{className:U().positive,children:["+",D]}),D<0&&(0,p.jsxs)("span",{className:U().negative,children:["-",Math.abs(D)]})]})}B.Z=Z},11561:function(h,B,a){"use strict";var ea=a(67294),A=a(28531),U=a.n(A),p=a(85893);function Z(I){var D=I.tag;return(0,p.jsx)("span",{className:U().tag,children:D})}B.Z=Z}}]);

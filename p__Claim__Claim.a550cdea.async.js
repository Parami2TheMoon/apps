(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[2627],{19273:function(o,d,e){"use strict";e.d(d,{Z:function(){return U}});function U(E){if(E==null)throw new TypeError("Cannot destructure undefined")}},55133:function(o){o.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(o){o.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},2752:function(o){o.exports={claimInfoContainer:"claimInfoContainer___2QBl-",scoreChange:"scoreChange___21g3Z"}},8556:function(o){o.exports={scoreContainer:"scoreContainer___1bJza",positive:"positive___p0hU_",negative:"negative___1XWM_"}},28531:function(o){o.exports={tag:"tag___sah2p"}},69764:function(o,d,e){"use strict";var U=e(71194),E=e(50146),T=e(57663),v=e(71577),A=e(402),u=e(3887),m=e(67294),g=e(55133),O=e.n(g),r=e(54549),i=e(85893),f=u.Z.Title,G=function(y){var Q=y.visable,Z=y.title,B=y.content,K=y.footer,W=y.close,J=y.bodyStyle,n=y.width;return(0,i.jsx)(E.Z,{title:Z?(0,i.jsx)(f,{level:5,className:O().title,children:Z}):null,closable:!!W,closeIcon:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(v.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,i.jsx)(r.Z,{onClick:W})})}),className:O().modal,centered:!0,visible:Q,width:n!=null?n:650,footer:K,bodyStyle:J,children:B})};d.Z=G},46656:function(o,d,e){"use strict";var U=e(71194),E=e(50146),T=e(47673),v=e(32787),A=e(22385),u=e(31097),m=e(17462),g=e(76772),O=e(57663),r=e(71577),i=e(74379),f=e(38648),G=e(3182),$=e(2824),y=e(402),Q=e(3887),Z=e(94043),B=e.n(Z),K=e(67294),W=e(43581),J=e(55133),n=e.n(J),se=e(3548),ie=e(68855),x=e(47832),ne=e(55347),z=e(51625),_=e(85893),q=Q.Z.Title,_e=function(S){var j=S.visable,M=S.setVisable,a=S.passphrase,F=S.setPassphrase,k=S.func,H=S.changePassphrase,V=(0,W.tT)("apiWs"),te=(0,W.tT)("currentUser"),s=te.wallet,w=(0,W.tT)("balance"),le=w.balance,re=(0,K.useState)(!1),h=(0,$.Z)(re,2),X=h[0],Y=h[1],ee=(0,K.useState)(),ae=(0,$.Z)(ee,2),N=ae[0],L=ae[1],c=(0,W.YB)(),p=function(l){F(l?l.target.value:"")},R=function(){var I=(0,G.Z)(B().mark(function l(){var b,t,D,de,ue;return B().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(Y(!0),s!=null&&s.passphrase&&F(s==null?void 0:s.passphrase),!((!a||a.length<6)&&!(s!=null&&s.passphrase))){P.next=5;break}return Y(!1),P.abrupt("return");case 5:if(b=(s==null?void 0:s.passphrase)||a,!(b&&s!==null&&s!==void 0&&s.keystore)){P.next=16;break}if(t=(0,x.Gh)(b,s.keystore),t){P.next=13;break}return f.default.error({key:"passphraseError",message:c.formatMessage({id:"error.passphrase.error"}),duration:null}),F(""),Y(!1),P.abrupt("return");case 13:D=new ne.ZP({type:"sr25519"}),de=D.addFromUri(t),ue=de.address,s!=null&&s.account&&s.account!==ue&&(localStorage.clear(),sessionStorage.clear(),window.location.href=z.Z.page.homePage);case 16:if(!k){P.next=25;break}return P.prev=17,P.next=20,k();case 20:P.next=25;break;case 22:P.prev=22,P.t0=P.catch(17),console.log("security modal submit func error fallback",P.t0);case 25:M(!1),Y(!1);case 27:case"end":return P.stop()}},l,null,[[17,22]])}));return function(){return I.apply(this,arguments)}}(),C=function(){var I=(0,G.Z)(B().mark(function l(){var b;return B().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(!!V&&!!s.account)){D.next=11;break}return D.next=3,k(!0,s.account);case 3:if(b=D.sent,!b){D.next=8;break}L(b.partialFee),D.next=11;break;case 8:if(H){D.next=11;break}return D.next=11,R();case 11:case"end":return D.stop()}},l)}));return function(){return I.apply(this,arguments)}}();return(0,K.useEffect)(function(){!!V&&!!(s!=null&&s.account)&&j&&C()},[V,s==null?void 0:s.account,j]),(0,K.useEffect)(function(){!!(s!=null&&s.passphrase)&&j&&!H&&F(s==null?void 0:s.passphrase)},[s==null?void 0:s.passphrase,a,j,H]),(0,_.jsxs)(E.Z,{title:(0,_.jsx)(q,{level:3,children:c.formatMessage({id:"modal.security.title"})}),closable:!1,className:n().modal,centered:!0,visible:j,width:400,footer:(0,_.jsxs)("div",{className:n().buttons,children:[(0,_.jsx)(r.Z,{type:"text",shape:"round",size:"large",className:n().button,onClick:function(){M(!1),window.location.reload()},loading:X,children:c.formatMessage({id:"common.decline"})}),(0,_.jsx)(r.Z,{type:"primary",shape:"round",size:"large",className:n().button,onClick:function(){R()},disabled:!a||a.length<6,loading:X,children:c.formatMessage({id:"common.confirm"})})]}),children:[(0,_.jsxs)("div",{className:n().confirmContainer,children:[!!N&&!!(N!=null&&N.toString())>le.free&&(0,_.jsx)(g.Z,{description:c.formatMessage({id:"error.balance.low"}),type:"warning",showIcon:!0,banner:!0,className:n().alertContainer}),!!N&&(0,_.jsxs)("div",{className:n().field,children:[(0,_.jsxs)("div",{className:n().labal,children:[c.formatMessage({id:"modal.security.gas"}),(0,_.jsxs)("span",{className:n().small,children:["(",c.formatMessage({id:"modal.security.estimated"}),")"]}),(0,_.jsx)(u.Z,{placement:"bottom",title:c.formatMessage({id:"modal.security.gas.tooltip",defaultMessage:"Gas fees are paid to crypto miners who process transactions on the network. Parami does not profit from gas fees."}),children:(0,_.jsx)(ie.Z,{className:n().labalIcon})})]}),(0,_.jsx)("div",{className:n().value,children:(0,_.jsx)(se.Z,{value:N,style:{fontSize:"0.8rem",fontWeight:900}})})]})]}),(!(s!=null&&s.passphrase)||H)&&(0,_.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,_.jsxs)("div",{className:n().codeInput,children:[(0,_.jsxs)("div",{className:n().verifyForm,children:[(0,_.jsx)("span",{className:(a==null?void 0:a.slice(0))&&!(a!=null&&a.slice(1,5))&&n().highLight,children:a==null?void 0:a.slice(0,1).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(a==null?void 0:a.slice(1))&&!(a!=null&&a.slice(2,5))&&n().highLight,children:a==null?void 0:a.slice(1,2).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(a==null?void 0:a.slice(2,3))&&!(a!=null&&a.slice(3,5))&&n().highLight,children:a==null?void 0:a.slice(2,3).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(a==null?void 0:a.slice(3,4))&&!(a!=null&&a.slice(4,5))&&n().highLight,children:a==null?void 0:a.slice(3,4).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(a==null?void 0:a.slice(4,5))&&!(a!=null&&a.slice(5))&&n().highLight,children:a==null?void 0:a.slice(4,5).replace(/[^]/,"\u2731")}),(0,_.jsx)("span",{className:(a==null?void 0:a.slice(5))&&n().highLight,children:a==null?void 0:a.slice(5).replace(/[^]/,"\u2731")})]}),(0,_.jsx)(v.Z.Password,{autoFocus:!0,autoComplete:"new-password",size:"large",className:n().verifyInput,onChange:p,value:a,disabled:X,maxLength:6,visibilityToggle:!1})]})})]})};d.Z=_e},3548:function(o,d,e){"use strict";var U=e(67294),E=e(31639),T=e.n(E),v=e(96534),A=e(85893),u=function(g){var O=g.value,r=g.style;return(0,A.jsxs)("div",{className:T().ad3,style:r,children:[O?(0,v.MP)(O):"--",(0,A.jsx)("span",{className:T().unit,children:"\xA0$AD3"})]})};d.Z=u},28986:function(o,d,e){"use strict";e.d(d,{Pi:function(){return O},TE:function(){return r},vs:function(){return i}});var U="STORE_ACCOUNT_SELECTED",E="STORE_ADDRESSBOOKS",T="STORE_SETTING_LANG",v="STORE_SETTING_ENDPOINT",A="STORE_SETTING_CUSTOM_ENDPOINTS",u="https://polkascan.io/pre/",m="https://polkascan.io/",g={Dana:"dana",Parami:"parami","Dana CC1":"dana-cc1","Dana CC2":"dana-cc2","Dana CC3":"dana-cc3"},O;(function(f){f.POPUP="popup"})(O||(O={}));var r;(function(f){f.AIRDROP="airdrop",f.BIND="bind",f.CLAIM_HNFT="claimHnft"})(r||(r={}));var i;(function(f){f.AD_CLAIMED="AdClaimed"})(i||(i={}))},70279:function(o,d,e){"use strict";e.r(d);var U=e(19273),E=e(28986),T=e(67294),v=e(51615),A=e(57641),u=e(85893);function m(g){(0,U.Z)(g);var O=(0,v.UO)(),r=O.adId,i=O.nftId;return(0,u.jsx)(u.Fragment,{children:r&&i&&(0,u.jsx)(A.Z,{adId:r,nftId:i,onClaim:function(){window.opener.postMessage("".concat(E.vs.AD_CLAIMED,":").concat(r),"*"),window.close()},onClose:function(){window.close()}})})}d.default=m},57641:function(o,d,e){"use strict";var U=e(57663),E=e(71577),T=e(20228),v=e(11382),A=e(74379),u=e(38648),m=e(3182),g=e(2824),O=e(94043),r=e.n(O),i=e(67294),f=e(69764),G=e(2752),$=e.n(G),y=e(32689),Q=e(46656),Z=e(61715),B=e(43581),K=e(69854),W=e(11561),J=e(79762),n=e(85893),se=function(x){var ne=x.onClose,z=x.adId,_=x.nftId,q=x.referrer,_e=q===void 0?null:q,oe=x.onClaim,S=(0,i.useState)(),j=(0,g.Z)(S,2),M=j[0],a=j[1],F=(0,i.useState)(!1),k=(0,g.Z)(F,2),H=k[0],V=k[1],te=(0,i.useState)(""),s=(0,g.Z)(te,2),w=s[0],le=s[1],re=(0,B.tT)("currentUser"),h=re.wallet,X=(0,B.tT)("apiWs"),Y=(0,B.YB)(),ee=function(){var L=(0,m.Z)(r().mark(function c(){var p;return r().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,K.Wv)(z);case 2:p=C.sent,a({scores:(p!=null?p:[]).map(function(I){return{tag:I.name,score:-5}})});case 4:case"end":return C.stop()}},c)}));return function(){return L.apply(this,arguments)}}(),ae=function(){var L=(0,m.Z)(r().mark(function c(){var p,R,C;return r().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,y.Rh)(z,_,h==null?void 0:h.did);case 3:p=l.sent,R=p.response,C=p.data,R.ok?a(C):ee(),l.next=13;break;case 9:l.prev=9,l.t0=l.catch(0),console.log(l.t0),ee();case 13:case"end":return l.stop()}},c,null,[[0,9]])}));return function(){return L.apply(this,arguments)}}();(0,i.useEffect)(function(){X&&ae()},[X]);var N=function(){var L=(0,m.Z)(r().mark(function c(p,R){var C,I,l;return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h!=null&&h.keystore){t.next=3;break}return u.default.error({key:"accessDenied",message:Y.formatMessage({id:"error.accessDenied"}),duration:null}),t.abrupt("return");case 3:if(t.prev=3,l=((C=M.scores)!==null&&C!==void 0?C:[]).map(function(D){return[D.tag,D.score]}),!(M&&M.signature)){t.next=11;break}return t.next=8,(0,Z.nm)(z,_,h==null?void 0:h.did,l,M.referer,M.signature,M.signer_account,w,h.keystore,p,R);case 8:I=t.sent,t.next=14;break;case 11:return t.next=13,(0,Z.HS)(z,_,l,_e,w,h.keystore,p,R);case 13:I=t.sent;case 14:if(!(p&&R)){t.next=16;break}return t.abrupt("return",I);case 16:u.default.success({message:"Claim Token Success"}),oe(),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(3),console.log(t.t0),u.default.error({message:"Claim Ad Token Error",description:"".concat(t.t0)});case 24:case"end":return t.stop()}},c,null,[[3,20]])}));return function(p,R){return L.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.Z,{visable:!0,title:"Claim your token",content:(0,n.jsx)("div",{className:$().claimInfoContainer,children:(0,n.jsx)(v.Z,{spinning:!M,children:M&&M.scores&&M.scores.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"Claim now and have your score updated:"}),M.scores.map(function(L){return(0,n.jsxs)("div",{className:$().scoreChange,children:[(0,n.jsx)(W.Z,{tag:L.tag}),(0,n.jsx)(J.Z,{score:parseInt(L.score,10)})]})}),!M.signature&&(0,n.jsx)("p",{children:"Not happy with the reward? Follow the instructions before claiming."})]})})}),footer:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(E.Z,{block:!0,type:"primary",shape:"round",size:"large",disabled:!M,onClick:function(){return V(!0)},children:"Claim"})}),close:function(){return ne()}}),(0,n.jsx)(Q.Z,{visable:H,setVisable:V,passphrase:w,setPassphrase:le,func:N})]})};d.Z=se},79762:function(o,d,e){"use strict";var U=e(67294),E=e(8556),T=e.n(E),v=e(85893);function A(u){var m=u.score;return(0,v.jsxs)("span",{className:T().scoreContainer,children:[m>=0&&(0,v.jsxs)("span",{className:T().positive,children:["+",m]}),m<0&&(0,v.jsxs)("span",{className:T().negative,children:["-",Math.abs(m)]})]})}d.Z=A},11561:function(o,d,e){"use strict";var U=e(67294),E=e(28531),T=e.n(E),v=e(85893);function A(u){var m=u.tag;return(0,v.jsx)("span",{className:T().tag,children:m})}d.Z=A}}]);
